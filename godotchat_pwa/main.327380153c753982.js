(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5083:(En,qt,me)=>{"use strict";me.d(qt,{E_:()=>d,F3:()=>s,I9:()=>b});var O=me(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var v=function(j){return j.Unimplemented="UNIMPLEMENTED",j.Unavailable="UNAVAILABLE",j}(v||{});class b extends Error{constructor(N,k,J){super(N),this.message=N,this.code=k,this.data=J}}const y=j=>{var N,k,J,ne,z;const ee=j.CapacitorCustomPlatform||null,H=j.Capacitor||{},G=H.Plugins=H.Plugins||{},K=j.CapacitorPlatforms,Oe=(null===(N=null==K?void 0:K.currentPlatform)||void 0===N?void 0:N.getPlatform)||(()=>null!==ee?ee.name:(j=>{var N,k;return null!=j&&j.androidBridge?"android":null!==(k=null===(N=null==j?void 0:j.webkit)||void 0===N?void 0:N.messageHandlers)&&void 0!==k&&k.bridge?"ios":"web"})(j)),P=(null===(k=null==K?void 0:K.currentPlatform)||void 0===k?void 0:k.isNativePlatform)||(()=>"web"!==Oe()),ge=(null===(J=null==K?void 0:K.currentPlatform)||void 0===J?void 0:J.isPluginAvailable)||(Be=>{const Qe=ze.get(Be);return!!(null!=Qe&&Qe.platforms.has(Oe())||Ge(Be))}),Ge=(null===(ne=null==K?void 0:K.currentPlatform)||void 0===ne?void 0:ne.getPluginHeader)||(Be=>{var Qe;return null===(Qe=H.PluginHeaders)||void 0===Qe?void 0:Qe.find(Je=>Je.name===Be)}),ze=new Map,lt=(null===(z=null==K?void 0:K.currentPlatform)||void 0===z?void 0:z.registerPlugin)||((Be,Qe={})=>{const Je=ze.get(Be);if(Je)return console.warn(`Capacitor plugin "${Be}" already registered. Cannot register plugins twice.`),Je.proxy;const ot=Oe(),Ze=Ge(Be);let yt;const Ct=function(){var fn=(0,O.A)(function*(){return!yt&&ot in Qe?yt=yt="function"==typeof Qe[ot]?yield Qe[ot]():Qe[ot]:null!==ee&&!yt&&"web"in Qe&&(yt=yt="function"==typeof Qe.web?yield Qe.web():Qe.web),yt});return function(){return fn.apply(this,arguments)}}(),$t=fn=>{let Ot;const ln=(...Vt)=>{const Ve=Ct().then(Xe=>{const Ae=((fn,Ot)=>{var ln,Vt;if(!Ze){if(fn)return null===(Vt=fn[Ot])||void 0===Vt?void 0:Vt.bind(fn);throw new b(`"${Be}" plugin is not implemented on ${ot}`,v.Unimplemented)}{const Ve=null==Ze?void 0:Ze.methods.find(Xe=>Ot===Xe.name);if(Ve)return"promise"===Ve.rtype?Xe=>H.nativePromise(Be,Ot.toString(),Xe):(Xe,Ae)=>H.nativeCallback(Be,Ot.toString(),Xe,Ae);if(fn)return null===(ln=fn[Ot])||void 0===ln?void 0:ln.bind(fn)}})(Xe,fn);if(Ae){const Ke=Ae(...Vt);return Ot=null==Ke?void 0:Ke.remove,Ke}throw new b(`"${Be}.${fn}()" is not implemented on ${ot}`,v.Unimplemented)});return"addListener"===fn&&(Ve.remove=(0,O.A)(function*(){return Ot()})),Ve};return ln.toString=()=>`${fn.toString()}() { [capacitor code] }`,Object.defineProperty(ln,"name",{value:fn,writable:!1,configurable:!1}),ln},un=$t("addListener"),Bt=$t("removeListener"),mn=(fn,Ot)=>{const ln=un({eventName:fn},Ot),Vt=function(){var Xe=(0,O.A)(function*(){const Ae=yield ln;Bt({eventName:fn,callbackId:Ae},Ot)});return function(){return Xe.apply(this,arguments)}}(),Ve=new Promise(Xe=>ln.then(()=>Xe({remove:Vt})));return Ve.remove=(0,O.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Vt()}),Ve},Yt=new Proxy({},{get(fn,Ot){switch(Ot){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Ze?mn:un;case"removeListener":return Bt;default:return $t(Ot)}}});return G[Be]=Yt,ze.set(Be,{name:Be,proxy:Yt,platforms:new Set([...Object.keys(Qe),...Ze?[ot]:[]])}),Yt});return H.convertFileSrc||(H.convertFileSrc=Be=>Be),H.getPlatform=Oe,H.handleError=Be=>j.console.error(Be),H.isNativePlatform=P,H.isPluginAvailable=ge,H.pluginMethodNoop=(Be,Qe,Je)=>Promise.reject(`${Je} does not have an implementation of "${Qe}".`),H.registerPlugin=lt,H.Exception=b,H.DEBUG=!!H.DEBUG,H.isLoggingEnabled=!!H.isLoggingEnabled,H.platform=H.getPlatform(),H.isNative=H.isNativePlatform(),H},_=(j=>j.Capacitor=y(j))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),s=_.registerPlugin;class d{constructor(N){this.listeners={},this.retainedEventArguments={},this.windowListeners={},N&&(console.warn(`Capacitor WebPlugin "${N.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=N)}addListener(N,k){var J=this;let ne=!1;this.listeners[N]||(this.listeners[N]=[],ne=!0),this.listeners[N].push(k);const ee=this.windowListeners[N];ee&&!ee.registered&&this.addWindowListener(ee),ne&&this.sendRetainedArgumentsForEvent(N);const H=function(){var K=(0,O.A)(function*(){return J.removeListener(N,k)});return function(){return K.apply(this,arguments)}}();return Promise.resolve({remove:H})}removeAllListeners(){var N=this;return(0,O.A)(function*(){N.listeners={};for(const k in N.windowListeners)N.removeWindowListener(N.windowListeners[k]);N.windowListeners={}})()}notifyListeners(N,k,J){const ne=this.listeners[N];if(ne)ne.forEach(z=>z(k));else if(J){let z=this.retainedEventArguments[N];z||(z=[]),z.push(k),this.retainedEventArguments[N]=z}}hasListeners(N){return!!this.listeners[N].length}registerWindowListener(N,k){this.windowListeners[k]={registered:!1,windowEventName:N,pluginEventName:k,handler:J=>{this.notifyListeners(k,J)}}}unimplemented(N="not implemented"){return new _.Exception(N,v.Unimplemented)}unavailable(N="not available"){return new _.Exception(N,v.Unavailable)}removeListener(N,k){var J=this;return(0,O.A)(function*(){const ne=J.listeners[N];if(!ne)return;const z=ne.indexOf(k);J.listeners[N].splice(z,1),J.listeners[N].length||J.removeWindowListener(J.windowListeners[N])})()}addWindowListener(N){window.addEventListener(N.windowEventName,N.handler),N.registered=!0}removeWindowListener(N){N&&(window.removeEventListener(N.windowEventName,N.handler),N.registered=!1)}sendRetainedArgumentsForEvent(N){const k=this.retainedEventArguments[N];k&&(delete this.retainedEventArguments[N],k.forEach(J=>{this.notifyListeners(N,J)}))}}const u=j=>encodeURIComponent(j).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),h=j=>j.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class p extends d{getCookies(){return(0,O.A)(function*(){const N=document.cookie,k={};return N.split(";").forEach(J=>{if(J.length<=0)return;let[ne,z]=J.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");ne=h(ne).trim(),z=h(z).trim(),k[ne]=z}),k})()}setCookie(N){return(0,O.A)(function*(){try{const k=u(N.key),J=u(N.value),ne=`; expires=${(N.expires||"").replace("expires=","")}`,z=(N.path||"/").replace("path=",""),ee=null!=N.url&&N.url.length>0?`domain=${N.url}`:"";document.cookie=`${k}=${J||""}${ne}; path=${z}; ${ee};`}catch(k){return Promise.reject(k)}})()}deleteCookie(N){return(0,O.A)(function*(){try{document.cookie=`${N.key}=; Max-Age=0`}catch(k){return Promise.reject(k)}})()}clearCookies(){return(0,O.A)(function*(){try{const N=document.cookie.split(";")||[];for(const k of N)document.cookie=k.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(N){return Promise.reject(N)}})()}clearAllCookies(){var N=this;return(0,O.A)(function*(){try{yield N.clearCookies()}catch(k){return Promise.reject(k)}})()}}s("CapacitorCookies",{web:()=>new p});const w=function(){var j=(0,O.A)(function*(N){return new Promise((k,J)=>{const ne=new FileReader;ne.onload=()=>{const z=ne.result;k(z.indexOf(",")>=0?z.split(",")[1]:z)},ne.onerror=z=>J(z),ne.readAsDataURL(N)})});return function(k){return j.apply(this,arguments)}}();class A extends d{request(N){return(0,O.A)(function*(){const k=((j,N={})=>{const k=Object.assign({method:j.method||"GET",headers:j.headers},N),ne=((j={})=>{const N=Object.keys(j);return Object.keys(j).map(ne=>ne.toLocaleLowerCase()).reduce((ne,z,ee)=>(ne[z]=j[N[ee]],ne),{})})(j.headers)["content-type"]||"";if("string"==typeof j.data)k.body=j.data;else if(ne.includes("application/x-www-form-urlencoded")){const z=new URLSearchParams;for(const[ee,H]of Object.entries(j.data||{}))z.set(ee,H);k.body=z.toString()}else if(ne.includes("multipart/form-data")||j.data instanceof FormData){const z=new FormData;if(j.data instanceof FormData)j.data.forEach((H,G)=>{z.append(G,H)});else for(const H of Object.keys(j.data))z.append(H,j.data[H]);k.body=z;const ee=new Headers(k.headers);ee.delete("content-type"),k.headers=ee}else(ne.includes("application/json")||"object"==typeof j.data)&&(k.body=JSON.stringify(j.data));return k})(N,N.webFetchExtra),J=((j,N=!0)=>j?Object.entries(j).reduce((J,ne)=>{const[z,ee]=ne;let H,G;return Array.isArray(ee)?(G="",ee.forEach(K=>{H=N?encodeURIComponent(K):K,G+=`${z}=${H}&`}),G.slice(0,-1)):(H=N?encodeURIComponent(ee):ee,G=`${z}=${H}`),`${J}&${G}`},"").substr(1):null)(N.params,N.shouldEncodeUrlParams),ne=J?`${N.url}?${J}`:N.url,z=yield fetch(ne,k),ee=z.headers.get("content-type")||"";let G,K,{responseType:H="text"}=z.ok?N:{};switch(ee.includes("application/json")&&(H="json"),H){case"arraybuffer":case"blob":K=yield z.blob(),G=yield w(K);break;case"json":G=yield z.json();break;default:G=yield z.text()}const le={};return z.headers.forEach((Oe,Y)=>{le[Y]=Oe}),{data:G,headers:le,status:z.status,url:z.url}})()}get(N){var k=this;return(0,O.A)(function*(){return k.request(Object.assign(Object.assign({},N),{method:"GET"}))})()}post(N){var k=this;return(0,O.A)(function*(){return k.request(Object.assign(Object.assign({},N),{method:"POST"}))})()}put(N){var k=this;return(0,O.A)(function*(){return k.request(Object.assign(Object.assign({},N),{method:"PUT"}))})()}patch(N){var k=this;return(0,O.A)(function*(){return k.request(Object.assign(Object.assign({},N),{method:"PATCH"}))})()}delete(N){var k=this;return(0,O.A)(function*(){return k.request(Object.assign(Object.assign({},N),{method:"DELETE"}))})()}}s("CapacitorHttp",{web:()=>new A})},963:(En,qt,me)=>{"use strict";me.d(qt,{W:()=>pe});const pe=(0,me(5083).F3)("LocalNotifications",{web:()=>me.e(4224).then(me.bind(me,4224)).then(mt=>new mt.LocalNotificationsWeb)})},4442:(En,qt,me)=>{"use strict";me.d(qt,{L:()=>o,a:()=>ie,b:()=>$,c:()=>v,d:()=>b,g:()=>z}),me(5531);const o="ionViewWillEnter",ie="ionViewDidEnter",$="ionViewWillLeave",v="ionViewDidLeave",b="ionViewWillUnload",z=ee=>ee.classList.contains("ion-page")?ee:ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ee},5531:(En,qt,me)=>{"use strict";me.d(qt,{a:()=>g,c:()=>I,g:()=>b});class O{constructor(){this.m=new Map}reset(ee){this.m=new Map(Object.entries(ee))}get(ee,H){const G=this.m.get(ee);return void 0!==G?G:H}getBoolean(ee,H=!1){const G=this.m.get(ee);return void 0===G?H:"string"==typeof G?"true"===G:!!G}getNumber(ee,H){const G=parseFloat(this.m.get(ee));return isNaN(G)?void 0!==H?H:NaN:G}set(ee,H){this.m.set(ee,H)}}const I=new O,b=z=>y(z),g=(z,ee)=>("string"==typeof z&&(ee=z,z=void 0),b(z).includes(ee)),y=(z=window)=>{if(typeof z>"u")return[];z.Ionic=z.Ionic||{};let ee=z.Ionic.platforms;return null==ee&&(ee=z.Ionic.platforms=C(z),ee.forEach(H=>z.document.documentElement.classList.add(`plt-${H}`))),ee},C=z=>{const ee=I.get("platform");return Object.keys(N).filter(H=>{const G=null==ee?void 0:ee[H];return"function"==typeof G?G(z):N[H](z)})},s=z=>!!(B(z,/iPad/i)||B(z,/Macintosh/i)&&p(z)),d=z=>B(z,/android|sink/i),p=z=>j(z,"(any-pointer:coarse)"),w=z=>R(z)||E(z),R=z=>!!(z.cordova||z.phonegap||z.PhoneGap),E=z=>{const ee=z.Capacitor;return!(null==ee||!ee.isNative)},B=(z,ee)=>ee.test(z.navigator.userAgent),j=(z,ee)=>{var H;return null===(H=z.matchMedia)||void 0===H?void 0:H.call(z,ee).matches},N={ipad:s,iphone:z=>B(z,/iPhone/i),ios:z=>B(z,/iPhone|iPod/i)||s(z),android:d,phablet:z=>{const ee=z.innerWidth,H=z.innerHeight,G=Math.min(ee,H),K=Math.max(ee,H);return G>390&&G<520&&K>620&&K<800},tablet:z=>{const ee=z.innerWidth,H=z.innerHeight,G=Math.min(ee,H),K=Math.max(ee,H);return s(z)||(z=>d(z)&&!B(z,/mobile/i))(z)||G>460&&G<820&&K>780&&K<1400},cordova:R,capacitor:E,electron:z=>B(z,/electron/i),pwa:z=>{var ee;return!!(null!==(ee=z.matchMedia)&&void 0!==ee&&ee.call(z,"(display-mode: standalone)").matches||z.navigator.standalone)},mobile:p,mobileweb:z=>p(z)&&!w(z),desktop:z=>!p(z),hybrid:w}},9986:(En,qt,me)=>{"use strict";me.d(qt,{c:()=>ie});var O=me(8476);let I;const mt=($,v,b)=>{const g=v.startsWith("animation")?($=>(void 0===I&&(I=void 0===$.style.animationName&&void 0!==$.style.webkitAnimationName?"-webkit-":""),I))($):"";$.style.setProperty(g+v,b)},o=($=[],v)=>{if(void 0!==v){const b=Array.isArray(v)?v:[v];return[...$,...b]}return $},ie=$=>{let v,b,g,y,C,_,c,M,A,B,J,s=[],l=[],a=[],d=!1,u={},h=[],p=[],m={},w=0,R=!1,E=!1,j=!0,N=!1,k=!0,ne=!1;const z=$,ee=[],H=[],G=[],K=[],le=[],Oe=[],Y=[],P=[],re=[],ge=[],Te=[],Ge="function"==typeof AnimationEffect||void 0!==O.w&&"function"==typeof O.w.AnimationEffect,qe="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ge,ht=()=>Te,Qe=(Ee,Ue)=>{const at=Ue.findIndex(He=>He.c===Ee);at>-1&&Ue.splice(at,1)},ot=(Ee,Ue)=>((null!=Ue&&Ue.oneTimeCallback?H:ee).push({c:Ee,o:Ue}),J),yt=()=>{qe&&(Te.forEach(Ee=>{Ee.cancel()}),Te.length=0)},Ct=()=>{Oe.forEach(Ee=>{null!=Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee)}),Oe.length=0},Ae=()=>void 0!==C?C:c?c.getFill():"both",Ke=()=>void 0!==M?M:void 0!==_?_:c?c.getDirection():"normal",_t=()=>R?"linear":void 0!==g?g:c?c.getEasing():"linear",Ft=()=>E?0:void 0!==A?A:void 0!==b?b:c?c.getDuration():0,Wt=()=>void 0!==y?y:c?c.getIterations():1,Tt=()=>void 0!==B?B:void 0!==v?v:c?c.getDelay():0,pn=()=>{0!==w&&(w--,0===w&&((()=>{re.forEach(bt=>bt()),ge.forEach(bt=>bt());const Ee=j?1:0,Ue=h,at=p,He=m;K.forEach(bt=>{const Ut=bt.classList;Ue.forEach(an=>Ut.add(an)),at.forEach(an=>Ut.remove(an));for(const an in He)He.hasOwnProperty(an)&&mt(bt,an,He[an])}),A=void 0,M=void 0,B=void 0,ee.forEach(bt=>bt.c(Ee,J)),H.forEach(bt=>bt.c(Ee,J)),H.length=0,k=!0,j&&(N=!0),j=!0})(),c&&c.animationFinish()))},Mn=()=>{(()=>{Y.forEach(He=>He()),P.forEach(He=>He());const Ee=l,Ue=a,at=u;K.forEach(He=>{const bt=He.classList;Ee.forEach(Ut=>bt.add(Ut)),Ue.forEach(Ut=>bt.remove(Ut));for(const Ut in at)at.hasOwnProperty(Ut)&&mt(He,Ut,at[Ut])})})(),s.length>0&&qe&&(K.forEach(Ee=>{const Ue=Ee.animate(s,{id:z,delay:Tt(),duration:Ft(),easing:_t(),iterations:Wt(),fill:Ae(),direction:Ke()});Ue.pause(),Te.push(Ue)}),Te.length>0&&(Te[0].onfinish=()=>{pn()})),d=!0},In=Ee=>{Ee=Math.min(Math.max(Ee,0),.9999),qe&&Te.forEach(Ue=>{Ue.currentTime=Ue.effect.getComputedTiming().delay+Ft()*Ee,Ue.pause()})},Tn=Ee=>{Te.forEach(Ue=>{Ue.effect.updateTiming({delay:Tt(),duration:Ft(),easing:_t(),iterations:Wt(),fill:Ae(),direction:Ke()})}),void 0!==Ee&&In(Ee)},Gn=(Ee=!1,Ue=!0,at)=>(Ee&&le.forEach(He=>{He.update(Ee,Ue,at)}),qe&&Tn(at),J),D=()=>{d&&(qe?Te.forEach(Ee=>{Ee.pause()}):K.forEach(Ee=>{mt(Ee,"animation-play-state","paused")}),ne=!0)},X=Ee=>new Promise(Ue=>{null!=Ee&&Ee.sync&&(E=!0,ot(()=>E=!1,{oneTimeCallback:!0})),d||Mn(),N&&(qe&&(In(0),Tn()),N=!1),k&&(w=le.length+1,k=!1);const at=()=>{Qe(He,H),Ue()},He=()=>{Qe(at,G),Ue()};ot(He,{oneTimeCallback:!0}),((Ee,Ue)=>{G.push({c:Ee,o:{oneTimeCallback:!0}})})(at),le.forEach(bt=>{bt.play()}),qe?(Te.forEach(Ee=>{Ee.play()}),(0===s.length||0===K.length)&&pn()):pn(),ne=!1}),Pe=(Ee,Ue)=>{const at=s[0];return void 0===at||void 0!==at.offset&&0!==at.offset?s=[{offset:0,[Ee]:Ue},...s]:at[Ee]=Ue,J};return J={parentAnimation:c,elements:K,childAnimations:le,id:z,animationFinish:pn,from:Pe,to:(Ee,Ue)=>{const at=s[s.length-1];return void 0===at||void 0!==at.offset&&1!==at.offset?s=[...s,{offset:1,[Ee]:Ue}]:at[Ee]=Ue,J},fromTo:(Ee,Ue,at)=>Pe(Ee,Ue).to(Ee,at),parent:Ee=>(c=Ee,J),play:X,pause:()=>(le.forEach(Ee=>{Ee.pause()}),D(),J),stop:()=>{le.forEach(Ee=>{Ee.stop()}),d&&(yt(),d=!1),R=!1,E=!1,k=!0,M=void 0,A=void 0,B=void 0,w=0,N=!1,j=!0,ne=!1,G.forEach(Ee=>Ee.c(0,J)),G.length=0},destroy:Ee=>(le.forEach(Ue=>{Ue.destroy(Ee)}),(Ee=>{yt(),Ee&&Ct()})(Ee),K.length=0,le.length=0,s.length=0,ee.length=0,H.length=0,d=!1,k=!0,J),keyframes:Ee=>{const Ue=s!==Ee;return s=Ee,Ue&&(Ee=>{qe&&ht().forEach(Ue=>{const at=Ue.effect;if(at.setKeyframes)at.setKeyframes(Ee);else{const He=new KeyframeEffect(at.target,Ee,at.getTiming());Ue.effect=He}})})(s),J},addAnimation:Ee=>{if(null!=Ee)if(Array.isArray(Ee))for(const Ue of Ee)Ue.parent(J),le.push(Ue);else Ee.parent(J),le.push(Ee);return J},addElement:Ee=>{if(null!=Ee)if(1===Ee.nodeType)K.push(Ee);else if(Ee.length>=0)for(let Ue=0;Ue<Ee.length;Ue++)K.push(Ee[Ue]);else console.error("Invalid addElement value");return J},update:Gn,fill:Ee=>(C=Ee,Gn(!0),J),direction:Ee=>(_=Ee,Gn(!0),J),iterations:Ee=>(y=Ee,Gn(!0),J),duration:Ee=>(!qe&&0===Ee&&(Ee=1),b=Ee,Gn(!0),J),easing:Ee=>(g=Ee,Gn(!0),J),delay:Ee=>(v=Ee,Gn(!0),J),getWebAnimations:ht,getKeyframes:()=>s,getFill:Ae,getDirection:Ke,getDelay:Tt,getIterations:Wt,getEasing:_t,getDuration:Ft,afterAddRead:Ee=>(re.push(Ee),J),afterAddWrite:Ee=>(ge.push(Ee),J),afterClearStyles:(Ee=[])=>{for(const Ue of Ee)m[Ue]="";return J},afterStyles:(Ee={})=>(m=Ee,J),afterRemoveClass:Ee=>(p=o(p,Ee),J),afterAddClass:Ee=>(h=o(h,Ee),J),beforeAddRead:Ee=>(Y.push(Ee),J),beforeAddWrite:Ee=>(P.push(Ee),J),beforeClearStyles:(Ee=[])=>{for(const Ue of Ee)u[Ue]="";return J},beforeStyles:(Ee={})=>(u=Ee,J),beforeRemoveClass:Ee=>(a=o(a,Ee),J),beforeAddClass:Ee=>(l=o(l,Ee),J),onFinish:ot,isRunning:()=>0!==w&&!ne,progressStart:(Ee=!1,Ue)=>(le.forEach(at=>{at.progressStart(Ee,Ue)}),D(),R=Ee,d||Mn(),Gn(!1,!0,Ue),J),progressStep:Ee=>(le.forEach(Ue=>{Ue.progressStep(Ee)}),In(Ee),J),progressEnd:(Ee,Ue,at)=>(R=!1,le.forEach(He=>{He.progressEnd(Ee,Ue,at)}),void 0!==at&&(A=at),N=!1,j=!0,0===Ee?(M="reverse"===Ke()?"normal":"reverse","reverse"===M&&(j=!1),qe?(Gn(),In(1-Ue)):(B=(1-Ue)*Ft()*-1,Gn(!1,!1))):1===Ee&&(qe?(Gn(),In(Ue)):(B=Ue*Ft()*-1,Gn(!1,!1))),void 0!==Ee&&!c&&X(),J)}}},464:(En,qt,me)=>{"use strict";me.d(qt,{E:()=>g,I:()=>$,a:()=>O,s:()=>v});const O=y=>{try{if(y instanceof $)return y.value;if(!mt()||"string"!=typeof y||""===y)return y;if(y.includes("onload="))return"";const C=document.createDocumentFragment(),_=document.createElement("div");C.appendChild(_),_.innerHTML=y,ie.forEach(d=>{const c=C.querySelectorAll(d);for(let u=c.length-1;u>=0;u--){const h=c[u];h.parentNode?h.parentNode.removeChild(h):C.removeChild(h);const p=pe(h);for(let m=0;m<p.length;m++)I(p[m])}});const s=pe(C);for(let d=0;d<s.length;d++)I(s[d]);const l=document.createElement("div");l.appendChild(C);const a=l.querySelector("div");return null!==a?a.innerHTML:l.innerHTML}catch(C){return console.error(C),""}},I=y=>{if(y.nodeType&&1!==y.nodeType)return;if(typeof NamedNodeMap<"u"&&!(y.attributes instanceof NamedNodeMap))return void y.remove();for(let _=y.attributes.length-1;_>=0;_--){const s=y.attributes.item(_),l=s.name;if(!o.includes(l.toLowerCase())){y.removeAttribute(l);continue}const a=s.value,d=y[l];(null!=a&&a.toLowerCase().includes("javascript:")||null!=d&&d.toLowerCase().includes("javascript:"))&&y.removeAttribute(l)}const C=pe(y);for(let _=0;_<C.length;_++)I(C[_])},pe=y=>null!=y.children?y.children:y.childNodes,mt=()=>{var y;const C=window,_=null===(y=null==C?void 0:C.Ionic)||void 0===y?void 0:y.config;return!_||(_.get?_.get("sanitizerEnabled",!0):!0===_.sanitizerEnabled||void 0===_.sanitizerEnabled)},o=["class","id","href","src","name","slot"],ie=["script","style","iframe","meta","link","object","embed"];class ${constructor(C){this.value=C}}const v=y=>{const C=window,_=C.Ionic;if(!_||!_.config||"Object"===_.config.constructor.name)return C.Ionic=C.Ionic||{},C.Ionic.config=Object.assign(Object.assign({},C.Ionic.config),y),C.Ionic.config},g=!1},8621:(En,qt,me)=>{"use strict";me.d(qt,{C:()=>o,a:()=>pe,d:()=>mt});var O=me(467),I=me(4920);const pe=function(){var ie=(0,O.A)(function*($,v,b,g,y,C){var _;if($)return $.attachViewToDom(v,b,y,g);if(!(C||"string"==typeof b||b instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof b?null===(_=v.ownerDocument)||void 0===_?void 0:_.createElement(b):b;return g&&g.forEach(l=>s.classList.add(l)),y&&Object.assign(s,y),v.appendChild(s),yield new Promise(l=>(0,I.c)(s,l)),s});return function(v,b,g,y,C,_){return ie.apply(this,arguments)}}(),mt=(ie,$)=>{if($){if(ie)return ie.removeViewFromDom($.parentElement,$);$.remove()}return Promise.resolve()},o=()=>{let ie,$;return{attachViewToDom:function(){var g=(0,O.A)(function*(y,C,_={},s=[]){var l,a;let d;if(ie=y,C){const u="string"==typeof C?null===(l=ie.ownerDocument)||void 0===l?void 0:l.createElement(C):C;s.forEach(h=>u.classList.add(h)),Object.assign(u,_),ie.appendChild(u),d=u,yield new Promise(h=>(0,I.c)(u,h))}else if(ie.children.length>0&&("ION-MODAL"===ie.tagName||"ION-POPOVER"===ie.tagName)&&!(d=ie.children[0]).classList.contains("ion-delegate-host")){const h=null===(a=ie.ownerDocument)||void 0===a?void 0:a.createElement("div");h.classList.add("ion-delegate-host"),s.forEach(p=>h.classList.add(p)),h.append(...ie.children),ie.appendChild(h),d=h}const c=document.querySelector("ion-app")||document.body;return $=document.createComment("ionic teleport"),ie.parentNode.insertBefore($,ie),c.appendChild(ie),null!=d?d:ie});return function(C,_){return g.apply(this,arguments)}}(),removeViewFromDom:()=>(ie&&$&&($.parentNode.insertBefore(ie,$),$.remove()),Promise.resolve())}}},1970:(En,qt,me)=>{"use strict";me.d(qt,{B:()=>mt,G:()=>o});class I{constructor($,v,b,g,y){this.id=v,this.name=b,this.disableScroll=y,this.priority=1e6*g+v,this.ctrl=$}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const $=this.ctrl.capture(this.name,this.id,this.priority);return $&&this.disableScroll&&this.ctrl.disableScroll(this.id),$}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class pe{constructor($,v,b,g){this.id=v,this.disable=b,this.disableScroll=g,this.ctrl=$}block(){if(this.ctrl){if(this.disable)for(const $ of this.disable)this.ctrl.disableGesture($,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const $ of this.disable)this.ctrl.enableGesture($,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const mt="backdrop-no-scroll",o=new class O{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture($){var v;return new I(this,this.newID(),$.name,null!==(v=$.priority)&&void 0!==v?v:0,!!$.disableScroll)}createBlocker($={}){return new pe(this,this.newID(),$.disable,!!$.disableScroll)}start($,v,b){return this.canStart($)?(this.requestedStart.set(v,b),!0):(this.requestedStart.delete(v),!1)}capture($,v,b){if(!this.start($,v,b))return!1;const g=this.requestedStart;let y=-1e4;if(g.forEach(C=>{y=Math.max(y,C)}),y===b){this.capturedId=v,g.clear();const C=new CustomEvent("ionGestureCaptured",{detail:{gestureName:$}});return document.dispatchEvent(C),!0}return g.delete(v),!1}release($){this.requestedStart.delete($),this.capturedId===$&&(this.capturedId=void 0)}disableGesture($,v){let b=this.disabledGestures.get($);void 0===b&&(b=new Set,this.disabledGestures.set($,b)),b.add(v)}enableGesture($,v){const b=this.disabledGestures.get($);void 0!==b&&b.delete(v)}disableScroll($){this.disabledScroll.add($),1===this.disabledScroll.size&&document.body.classList.add(mt)}enableScroll($){this.disabledScroll.delete($),0===this.disabledScroll.size&&document.body.classList.remove(mt)}canStart($){return!(void 0!==this.capturedId||this.isDisabled($))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled($){const v=this.disabledGestures.get($);return!!(v&&v.size>0)}newID(){return this.gestureId++,this.gestureId}}},8669:(En,qt,me)=>{"use strict";me.r(qt),me.d(qt,{MENU_BACK_BUTTON_PRIORITY:()=>b,OVERLAY_BACK_BUTTON_PRIORITY:()=>v,blockHardwareBackButton:()=>ie,shouldUseCloseWatcher:()=>o,startHardwareBackButton:()=>$});var O=me(467),I=me(8476),pe=me(4921);me(8393);const o=()=>pe.c.get("experimentalCloseWatcher",!1)&&void 0!==I.w&&"CloseWatcher"in I.w,ie=()=>{document.addEventListener("backbutton",()=>{})},$=()=>{const g=document;let y=!1;const C=()=>{if(y)return;let _=0,s=[];const l=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(c,u){s.push({priority:c,handler:u,id:_++})}}});g.dispatchEvent(l);const a=function(){var c=(0,O.A)(function*(u){try{if(null!=u&&u.handler){const h=u.handler(d);null!=h&&(yield h)}}catch(h){console.error(h)}});return function(h){return c.apply(this,arguments)}}(),d=()=>{if(s.length>0){let c={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};s.forEach(u=>{u.priority>=c.priority&&(c=u)}),y=!0,s=s.filter(u=>u.id!==c.id),a(c).then(()=>y=!1)}};d()};if(o()){let _;const s=()=>{null==_||_.destroy(),_=new I.w.CloseWatcher,_.onclose=()=>{C(),s()}};s()}else g.addEventListener("backbutton",C)},v=100,b=99},4920:(En,qt,me)=>{"use strict";me.d(qt,{a:()=>v,b:()=>b,c:()=>pe,d:()=>s,e:()=>u,f:()=>_,g:()=>g,h:()=>o,i:()=>$,j:()=>l,k:()=>mt,l:()=>C,m:()=>a,n:()=>c,o:()=>h,p:()=>d,r:()=>y,s:()=>p,t:()=>O});const O=(m,w=0)=>new Promise(R=>{I(m,w,R)}),I=(m,w=0,R)=>{let E,M;const A={passive:!0},j=()=>{E&&E()},N=k=>{(void 0===k||m===k.target)&&(j(),R(k))};return m&&(m.addEventListener("webkitTransitionEnd",N,A),m.addEventListener("transitionend",N,A),M=setTimeout(N,w+500),E=()=>{void 0!==M&&(clearTimeout(M),M=void 0),m.removeEventListener("webkitTransitionEnd",N,A),m.removeEventListener("transitionend",N,A)}),j},pe=(m,w)=>{m.componentOnReady?m.componentOnReady().then(R=>w(R)):y(()=>w(m))},mt=m=>void 0!==m.componentOnReady,o=(m,w=[])=>{const R={};return w.forEach(E=>{m.hasAttribute(E)&&(null!==m.getAttribute(E)&&(R[E]=m.getAttribute(E)),m.removeAttribute(E))}),R},ie=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],$=(m,w)=>{let R=ie;return w&&w.length>0&&(R=R.filter(E=>!w.includes(E))),o(m,R)},v=(m,w,R,E)=>{var M;if(typeof window<"u"){const A=window,B=null===(M=null==A?void 0:A.Ionic)||void 0===M?void 0:M.config;if(B){const j=B.get("_ael");if(j)return j(m,w,R,E);if(B._ael)return B._ael(m,w,R,E)}}return m.addEventListener(w,R,E)},b=(m,w,R,E)=>{var M;if(typeof window<"u"){const A=window,B=null===(M=null==A?void 0:A.Ionic)||void 0===M?void 0:M.config;if(B){const j=B.get("_rel");if(j)return j(m,w,R,E);if(B._rel)return B._rel(m,w,R,E)}}return m.removeEventListener(w,R,E)},g=(m,w=m)=>m.shadowRoot||w,y=m=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(m):"function"==typeof requestAnimationFrame?requestAnimationFrame(m):setTimeout(m),C=m=>!!m.shadowRoot&&!!m.attachShadow,_=m=>{if(m.focus(),m.classList.contains("ion-focusable")){const w=m.closest("ion-app");w&&w.setFocus([m])}},s=(m,w,R,E,M)=>{if(m||C(w)){let A=w.querySelector("input.aux-input");A||(A=w.ownerDocument.createElement("input"),A.type="hidden",A.classList.add("aux-input"),w.appendChild(A)),A.disabled=M,A.name=R,A.value=E||""}},l=(m,w,R)=>Math.max(m,Math.min(w,R)),a=(m,w)=>{if(!m){const R="ASSERT: "+w;throw console.error(R),new Error(R)}},d=m=>{if(m){const w=m.changedTouches;if(w&&w.length>0){const R=w[0];return{x:R.clientX,y:R.clientY}}if(void 0!==m.pageX)return{x:m.pageX,y:m.pageY}}return{x:0,y:0}},c=m=>{const w="rtl"===document.dir;switch(m){case"start":return w;case"end":return!w;default:throw new Error(`"${m}" is not a valid value for [side]. Use "start" or "end" instead.`)}},u=(m,w)=>{const R=m._original||m;return{_original:m,emit:h(R.emit.bind(R),w)}},h=(m,w=0)=>{let R;return(...E)=>{clearTimeout(R),R=setTimeout(m,w,...E)}},p=(m,w)=>{if(null!=m||(m={}),null!=w||(w={}),m===w)return!0;const R=Object.keys(m);if(R.length!==Object.keys(w).length)return!1;for(const E of R)if(!(E in w)||m[E]!==w[E])return!1;return!0}},8607:(En,qt,me)=>{"use strict";me.r(qt),me.d(qt,{GESTURE_CONTROLLER:()=>O.G,createGesture:()=>b});var O=me(1970);const I=(_,s,l,a)=>{const d=pe(_)?{capture:!!a.capture,passive:!!a.passive}:!!a.capture;let c,u;return _.__zone_symbol__addEventListener?(c="__zone_symbol__addEventListener",u="__zone_symbol__removeEventListener"):(c="addEventListener",u="removeEventListener"),_[c](s,l,d),()=>{_[u](s,l,d)}},pe=_=>{if(void 0===mt)try{const s=Object.defineProperty({},"passive",{get:()=>{mt=!0}});_.addEventListener("optsTest",()=>{},s)}catch{mt=!1}return!!mt};let mt;const $=_=>_ instanceof Document?_:_.ownerDocument,b=_=>{let s=!1,l=!1,a=!0,d=!1;const c=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},_),u=c.canStart,h=c.onWillStart,p=c.onStart,m=c.onEnd,w=c.notCaptured,R=c.onMove,E=c.threshold,M=c.passive,A=c.blurOnStart,B={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},j=((_,s,l)=>{const a=l*(Math.PI/180),d="x"===_,c=Math.cos(a),u=s*s;let h=0,p=0,m=!1,w=0;return{start(R,E){h=R,p=E,w=0,m=!0},detect(R,E){if(!m)return!1;const M=R-h,A=E-p,B=M*M+A*A;if(B<u)return!1;const j=Math.sqrt(B),N=(d?M:A)/j;return w=N>c?1:N<-c?-1:0,m=!1,!0},isGesture:()=>0!==w,getDirection:()=>w}})(c.direction,c.threshold,c.maxAngle),N=O.G.createGesture({name:_.gestureName,priority:_.gesturePriority,disableScroll:_.disableScroll}),ne=()=>{s&&(d=!1,R&&R(B))},z=()=>!!N.capture()&&(s=!0,a=!1,B.startX=B.currentX,B.startY=B.currentY,B.startTime=B.currentTime,h?h(B).then(H):H(),!0),H=()=>{A&&(()=>{if(typeof document<"u"){const Y=document.activeElement;null!=Y&&Y.blur&&Y.blur()}})(),p&&p(B),a=!0},G=()=>{s=!1,l=!1,d=!1,a=!0,N.release()},K=Y=>{const P=s,re=a;if(G(),re){if(g(B,Y),P)return void(m&&m(B));w&&w(B)}},le=((_,s,l,a,d)=>{let c,u,h,p,m,w,R,E=0;const M=ee=>{E=Date.now()+2e3,s(ee)&&(!u&&l&&(u=I(_,"touchmove",l,d)),h||(h=I(ee.target,"touchend",B,d)),p||(p=I(ee.target,"touchcancel",B,d)))},A=ee=>{E>Date.now()||s(ee)&&(!w&&l&&(w=I($(_),"mousemove",l,d)),R||(R=I($(_),"mouseup",j,d)))},B=ee=>{N(),a&&a(ee)},j=ee=>{k(),a&&a(ee)},N=()=>{u&&u(),h&&h(),p&&p(),u=h=p=void 0},k=()=>{w&&w(),R&&R(),w=R=void 0},J=()=>{N(),k()},ne=(ee=!0)=>{ee?(c||(c=I(_,"touchstart",M,d)),m||(m=I(_,"mousedown",A,d))):(c&&c(),m&&m(),c=m=void 0,J())};return{enable:ne,stop:J,destroy:()=>{ne(!1),a=l=s=void 0}}})(c.el,Y=>{const P=C(Y);return!(l||!a||(y(Y,B),B.startX=B.currentX,B.startY=B.currentY,B.startTime=B.currentTime=P,B.velocityX=B.velocityY=B.deltaX=B.deltaY=0,B.event=Y,u&&!1===u(B))||(N.release(),!N.start()))&&(l=!0,0===E?z():(j.start(B.startX,B.startY),!0))},Y=>{s?!d&&a&&(d=!0,g(B,Y),requestAnimationFrame(ne)):(g(B,Y),j.detect(B.currentX,B.currentY)&&(!j.isGesture()||!z())&&Oe())},K,{capture:!1,passive:M}),Oe=()=>{G(),le.stop(),w&&w(B)};return{enable(Y=!0){Y||(s&&K(void 0),G()),le.enable(Y)},destroy(){N.destroy(),le.destroy()}}},g=(_,s)=>{if(!s)return;const l=_.currentX,a=_.currentY,d=_.currentTime;y(s,_);const c=_.currentX,u=_.currentY,p=(_.currentTime=C(s))-d;if(p>0&&p<100){const w=(u-a)/p;_.velocityX=(c-l)/p*.7+.3*_.velocityX,_.velocityY=.7*w+.3*_.velocityY}_.deltaX=c-_.startX,_.deltaY=u-_.startY,_.event=s},y=(_,s)=>{let l=0,a=0;if(_){const d=_.changedTouches;if(d&&d.length>0){const c=d[0];l=c.clientX,a=c.clientY}else void 0!==_.pageX&&(l=_.pageX,a=_.pageY)}s.currentX=l,s.currentY=a},C=_=>_.timeStamp||Date.now()},6073:(En,qt,me)=>{"use strict";me.d(qt,{m:()=>_});var O=me(467),I=me(8476),pe=me(8669),mt=me(4929),o=me(4920),ie=me(4921),$=me(9986);const v=s=>(0,$.c)().duration(s?400:300),b=s=>{let l,a;const d=s.width+8,c=(0,$.c)(),u=(0,$.c)();s.isEndSide?(l=d+"px",a="0px"):(l=-d+"px",a="0px"),c.addElement(s.menuInnerEl).fromTo("transform",`translateX(${l})`,`translateX(${a})`);const p="ios"===(0,ie.b)(s),m=p?.2:.25;return u.addElement(s.backdropEl).fromTo("opacity",.01,m),v(p).addAnimation([c,u])},g=s=>{let l,a;const d=(0,ie.b)(s),c=s.width;s.isEndSide?(l=-c+"px",a=c+"px"):(l=c+"px",a=-c+"px");const u=(0,$.c)().addElement(s.menuInnerEl).fromTo("transform",`translateX(${a})`,"translateX(0px)"),h=(0,$.c)().addElement(s.contentEl).fromTo("transform","translateX(0px)",`translateX(${l})`),p=(0,$.c)().addElement(s.backdropEl).fromTo("opacity",.01,.32);return v("ios"===d).addAnimation([u,h,p])},y=s=>{const l=(0,ie.b)(s),a=s.width*(s.isEndSide?-1:1)+"px",d=(0,$.c)().addElement(s.contentEl).fromTo("transform","translateX(0px)",`translateX(${a})`);return v("ios"===l).addAnimation(d)},_=(()=>{const s=new Map,l=[],a=function(){var G=(0,O.A)(function*(K){const le=yield w(K,!0);return!!le&&le.open()});return function(le){return G.apply(this,arguments)}}(),d=function(){var G=(0,O.A)(function*(K){const le=yield void 0!==K?w(K,!0):R();return void 0!==le&&le.close()});return function(le){return G.apply(this,arguments)}}(),c=function(){var G=(0,O.A)(function*(K){const le=yield w(K,!0);return!!le&&le.toggle()});return function(le){return G.apply(this,arguments)}}(),u=function(){var G=(0,O.A)(function*(K,le){const Oe=yield w(le);return Oe&&(Oe.disabled=!K),Oe});return function(le,Oe){return G.apply(this,arguments)}}(),h=function(){var G=(0,O.A)(function*(K,le){const Oe=yield w(le);return Oe&&(Oe.swipeGesture=K),Oe});return function(le,Oe){return G.apply(this,arguments)}}(),p=function(){var G=(0,O.A)(function*(K){if(null!=K){const le=yield w(K);return void 0!==le&&le.isOpen()}return void 0!==(yield R())});return function(le){return G.apply(this,arguments)}}(),m=function(){var G=(0,O.A)(function*(K){const le=yield w(K);return!!le&&!le.disabled});return function(le){return G.apply(this,arguments)}}(),w=function(){var G=(0,O.A)(function*(K,le=!1){if(yield H(),"start"===K||"end"===K){const Y=l.filter(re=>re.side===K&&!re.disabled);if(Y.length>=1)return Y.length>1&&le&&(0,mt.p)(`menuController queried for a menu on the "${K}" side, but ${Y.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Y.map(re=>re.el)),Y[0].el;const P=l.filter(re=>re.side===K);if(P.length>=1)return P.length>1&&le&&(0,mt.p)(`menuController queried for a menu on the "${K}" side, but ${P.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,P.map(re=>re.el)),P[0].el}else if(null!=K)return ee(Y=>Y.menuId===K);return ee(Y=>!Y.disabled)||(l.length>0?l[0].el:void 0)});return function(le){return G.apply(this,arguments)}}(),R=function(){var G=(0,O.A)(function*(){return yield H(),J()});return function(){return G.apply(this,arguments)}}(),E=function(){var G=(0,O.A)(function*(){return yield H(),ne()});return function(){return G.apply(this,arguments)}}(),M=function(){var G=(0,O.A)(function*(){return yield H(),z()});return function(){return G.apply(this,arguments)}}(),A=(G,K)=>{s.set(G,K)},N=function(){var G=(0,O.A)(function*(K,le,Oe){if(z())return!1;if(le){const Y=yield R();Y&&K.el!==Y&&(yield Y.setOpen(!1,!1))}return K._setOpen(le,Oe)});return function(le,Oe,Y){return G.apply(this,arguments)}}(),J=()=>ee(G=>G._isOpen),ne=()=>l.map(G=>G.el),z=()=>l.some(G=>G.isAnimating),ee=G=>{const K=l.find(G);if(void 0!==K)return K.el},H=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(G=>new Promise(K=>(0,o.c)(G,K))));return A("reveal",y),A("push",g),A("overlay",b),null==I.d||I.d.addEventListener("ionBackButton",G=>{const K=J();K&&G.detail.register(pe.MENU_BACK_BUTTON_PRIORITY,()=>K.close())}),{registerAnimation:A,get:w,getMenus:E,getOpen:R,isEnabled:m,swipeGesture:h,isAnimating:M,isOpen:p,enable:u,toggle:c,close:d,open:a,_getOpenSync:J,_createAnimation:(G,K)=>{const le=s.get(G);if(!le)throw new Error("animation not registered");return le(K)},_register:G=>{l.indexOf(G)<0&&l.push(G)},_unregister:G=>{const K=l.indexOf(G);K>-1&&l.splice(K,1)},_setOpen:N}})()},8393:(En,qt,me)=>{"use strict";me.d(qt,{B:()=>ie,a:()=>k,b:()=>Vi,c:()=>Ae,d:()=>Wt,e:()=>re,f:()=>Bt,g:()=>Ke,h:()=>$t,i:()=>Ft,j:()=>yr,k:()=>Te,r:()=>b,w:()=>ge});var O=me(467);var mt=Object.defineProperty,ie={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},$=new WeakMap,v=Fe=>$.get(Fe),b=(Fe,rt)=>$.set(rt.$lazyInstance$=Fe,rt),y=(Fe,rt)=>rt in Fe,C=(Fe,rt)=>(0,console.error)(Fe,rt),_=new Map,l=new Map,a=[],p="s-id",m="sty-id",w="c-id",E="slot-fb{display:contents}slot-fb[hidden]{display:none}",M="http://www.w3.org/1999/xlink",A=typeof window<"u"?window:{},B=A.document||{head:{}},N={$flags$:0,$resourcesUrl$:"",jmp:Fe=>Fe(),raf:Fe=>requestAnimationFrame(Fe),ael:(Fe,rt,Mt,kt)=>Fe.addEventListener(rt,Mt,kt),rel:(Fe,rt,Mt,kt)=>Fe.removeEventListener(rt,Mt,kt),ce:(Fe,rt)=>new CustomEvent(Fe,rt)},k=Fe=>{Object.assign(N,Fe)},J=!0,ne=(()=>{let Fe=!1;try{B.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Fe=!0}}))}catch{}return Fe})(),ee=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),H=!1,G=[],K=[],le=(Fe,rt)=>Mt=>{Fe.push(Mt),H||(H=!0,rt&&4&N.$flags$?P(Y):N.raf(Y))},Oe=Fe=>{for(let rt=0;rt<Fe.length;rt++)try{Fe[rt](performance.now())}catch(Mt){C(Mt)}Fe.length=0},Y=()=>{Oe(G),Oe(K),(H=G.length>0)&&N.raf(Y)},P=Fe=>Promise.resolve(void 0).then(Fe),re=le(G,!1),ge=le(K,!0),Te=Fe=>{const rt=new URL(Fe,N.$resourcesUrl$);return rt.origin!==A.location.origin?rt.href:rt.pathname},Ge={},st=Fe=>"object"==(Fe=typeof Fe)||"function"===Fe;function lt(Fe){var rt,Mt,kt;return null!=(kt=null==(Mt=null==(rt=Fe.head)?void 0:rt.querySelector('meta[name="csp-nonce"]'))?void 0:Mt.getAttribute("content"))?kt:void 0}((Fe,rt)=>{for(var Mt in rt)mt(Fe,Mt,{get:rt[Mt],enumerable:!0})})({},{err:()=>Je,map:()=>ot,ok:()=>Qe,unwrap:()=>Ze,unwrapErr:()=>yt});var Qe=Fe=>({isOk:!0,isErr:!1,value:Fe}),Je=Fe=>({isOk:!1,isErr:!0,value:Fe});function ot(Fe,rt){if(Fe.isOk){const Mt=rt(Fe.value);return Mt instanceof Promise?Mt.then(kt=>Qe(kt)):Qe(Mt)}if(Fe.isErr)return Je(Fe.value);throw"should never get here"}var Ze=Fe=>{if(Fe.isOk)return Fe.value;throw Fe.value},yt=Fe=>{if(Fe.isErr)return Fe.value;throw Fe.value},$t=(Fe,rt,...Mt)=>{let kt=null,Zt=null,Kt=null,yn=!1,wn=!1;const Sn=[],xn=Fn=>{for(let zn=0;zn<Fn.length;zn++)kt=Fn[zn],Array.isArray(kt)?xn(kt):null!=kt&&"boolean"!=typeof kt&&((yn="function"!=typeof Fe&&!st(kt))&&(kt=String(kt)),yn&&wn?Sn[Sn.length-1].$text$+=kt:Sn.push(yn?un(null,kt):kt),wn=yn)};if(xn(Mt),rt){rt.key&&(Zt=rt.key),rt.name&&(Kt=rt.name);{const Fn=rt.className||rt.class;Fn&&(rt.class="object"!=typeof Fn?Fn:Object.keys(Fn).filter(zn=>Fn[zn]).join(" "))}}if("function"==typeof Fe)return Fe(null===rt?{}:rt,Sn,Yt);const Un=un(Fe,null);return Un.$attrs$=rt,Sn.length>0&&(Un.$children$=Sn),Un.$key$=Zt,Un.$name$=Kt,Un},un=(Fe,rt)=>({$flags$:0,$tag$:Fe,$text$:rt,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Bt={},Yt={forEach:(Fe,rt)=>Fe.map(fn).forEach(rt),map:(Fe,rt)=>Fe.map(fn).map(rt).map(Ot)},fn=Fe=>({vattrs:Fe.$attrs$,vchildren:Fe.$children$,vkey:Fe.$key$,vname:Fe.$name$,vtag:Fe.$tag$,vtext:Fe.$text$}),Ot=Fe=>{if("function"==typeof Fe.vtag){const Mt={...Fe.vattrs};return Fe.vkey&&(Mt.key=Fe.vkey),Fe.vname&&(Mt.name=Fe.vname),$t(Fe.vtag,Mt,...Fe.vchildren||[])}const rt=un(Fe.vtag,Fe.vtext);return rt.$attrs$=Fe.vattrs,rt.$children$=Fe.vchildren,rt.$key$=Fe.vkey,rt.$name$=Fe.vname,rt},Vt=(Fe,rt,Mt,kt,Zt,Kt,yn)=>{let wn,Sn,xn,Un;if(1===Kt.nodeType){for(wn=Kt.getAttribute(w),wn&&(Sn=wn.split("."),(Sn[0]===yn||"0"===Sn[0])&&(xn={$flags$:0,$hostId$:Sn[0],$nodeId$:Sn[1],$depth$:Sn[2],$index$:Sn[3],$tag$:Kt.tagName.toLowerCase(),$elm$:Kt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},rt.push(xn),Kt.removeAttribute(w),Fe.$children$||(Fe.$children$=[]),Fe.$children$[xn.$index$]=xn,Fe=xn,kt&&"0"===xn.$depth$&&(kt[xn.$index$]=xn.$elm$))),Un=Kt.childNodes.length-1;Un>=0;Un--)Vt(Fe,rt,Mt,kt,Zt,Kt.childNodes[Un],yn);if(Kt.shadowRoot)for(Un=Kt.shadowRoot.childNodes.length-1;Un>=0;Un--)Vt(Fe,rt,Mt,kt,Zt,Kt.shadowRoot.childNodes[Un],yn)}else if(8===Kt.nodeType)Sn=Kt.nodeValue.split("."),(Sn[1]===yn||"0"===Sn[1])&&(wn=Sn[0],xn={$flags$:0,$hostId$:Sn[1],$nodeId$:Sn[2],$depth$:Sn[3],$index$:Sn[4],$elm$:Kt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===wn?(xn.$elm$=Kt.nextSibling,xn.$elm$&&3===xn.$elm$.nodeType&&(xn.$text$=xn.$elm$.textContent,rt.push(xn),Kt.remove(),Fe.$children$||(Fe.$children$=[]),Fe.$children$[xn.$index$]=xn,kt&&"0"===xn.$depth$&&(kt[xn.$index$]=xn.$elm$))):xn.$hostId$===yn&&("s"===wn?(xn.$tag$="slot",Kt["s-sn"]=Sn[5]?xn.$name$=Sn[5]:"",Kt["s-sr"]=!0,kt&&(xn.$elm$=B.createElement(xn.$tag$),xn.$name$&&xn.$elm$.setAttribute("name",xn.$name$),Kt.parentNode.insertBefore(xn.$elm$,Kt),Kt.remove(),"0"===xn.$depth$&&(kt[xn.$index$]=xn.$elm$)),Mt.push(xn),Fe.$children$||(Fe.$children$=[]),Fe.$children$[xn.$index$]=xn):"r"===wn&&(kt?Kt.remove():(Zt["s-cr"]=Kt,Kt["s-cn"]=!0))));else if(Fe&&"style"===Fe.$tag$){const Fn=un(null,Kt.textContent);Fn.$elm$=Kt,Fn.$index$="0",Fe.$children$=[Fn]}},Ve=(Fe,rt)=>{if(1===Fe.nodeType){let Mt=0;for(;Mt<Fe.childNodes.length;Mt++)Ve(Fe.childNodes[Mt],rt);if(Fe.shadowRoot)for(Mt=0;Mt<Fe.shadowRoot.childNodes.length;Mt++)Ve(Fe.shadowRoot.childNodes[Mt],rt)}else if(8===Fe.nodeType){const Mt=Fe.nodeValue.split(".");"o"===Mt[0]&&(rt.set(Mt[1]+"."+Mt[2],Fe),Fe.nodeValue="",Fe["s-en"]=Mt[3])}},Ae=Fe=>a.push(Fe),Ke=Fe=>v(Fe).$modeName$,Ft=Fe=>v(Fe).$hostElement$,Wt=(Fe,rt,Mt)=>{const kt=Ft(Fe);return{emit:Zt=>Tt(kt,rt,{bubbles:!!(4&Mt),composed:!!(2&Mt),cancelable:!!(1&Mt),detail:Zt})}},Tt=(Fe,rt,Mt)=>{const kt=N.ce(rt,Mt);return Fe.dispatchEvent(kt),kt},Gt=new WeakMap,en=(Fe,rt,Mt)=>{let kt=l.get(Fe);ee&&Mt?(kt=kt||new CSSStyleSheet,"string"==typeof kt?kt=rt:kt.replaceSync(rt)):kt=rt,l.set(Fe,kt)},tn=(Fe,rt,Mt)=>{var kt;const Zt=tt(rt,Mt),Kt=l.get(Zt);if(Fe=11===Fe.nodeType?Fe:B,Kt)if("string"==typeof Kt){let wn,yn=Gt.get(Fe=Fe.head||Fe);if(yn||Gt.set(Fe,yn=new Set),!yn.has(Zt)){if(Fe.host&&(wn=Fe.querySelector(`[${m}="${Zt}"]`)))wn.innerHTML=Kt;else{wn=B.createElement("style"),wn.innerHTML=Kt;const Sn=null!=(kt=N.$nonce$)?kt:lt(B);null!=Sn&&wn.setAttribute("nonce",Sn),Fe.insertBefore(wn,Fe.querySelector("link"))}4&rt.$flags$&&(wn.innerHTML+=E),yn&&yn.add(Zt)}}else Fe.adoptedStyleSheets.includes(Kt)||(Fe.adoptedStyleSheets=[...Fe.adoptedStyleSheets,Kt]);return Zt},tt=(Fe,rt)=>"sc-"+(rt&&32&Fe.$flags$?Fe.$tagName$+"-"+rt:Fe.$tagName$),At=Fe=>Fe.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),gt=(Fe,rt,Mt,kt,Zt,Kt)=>{if(Mt!==kt){let yn=y(Fe,rt),wn=rt.toLowerCase();if("class"===rt){const Sn=Fe.classList,xn=cn(Mt),Un=cn(kt);Sn.remove(...xn.filter(Fn=>Fn&&!Un.includes(Fn))),Sn.add(...Un.filter(Fn=>Fn&&!xn.includes(Fn)))}else if("style"===rt){for(const Sn in Mt)(!kt||null==kt[Sn])&&(Sn.includes("-")?Fe.style.removeProperty(Sn):Fe.style[Sn]="");for(const Sn in kt)(!Mt||kt[Sn]!==Mt[Sn])&&(Sn.includes("-")?Fe.style.setProperty(Sn,kt[Sn]):Fe.style[Sn]=kt[Sn])}else if("key"!==rt)if("ref"===rt)kt&&kt(Fe);else if(yn||"o"!==rt[0]||"n"!==rt[1]){const Sn=st(kt);if((yn||Sn&&null!==kt)&&!Zt)try{if(Fe.tagName.includes("-"))Fe[rt]=kt;else{const Un=null==kt?"":kt;"list"===rt?yn=!1:(null==Mt||Fe[rt]!=Un)&&(Fe[rt]=Un)}}catch{}let xn=!1;wn!==(wn=wn.replace(/^xlink\:?/,""))&&(rt=wn,xn=!0),null==kt||!1===kt?(!1!==kt||""===Fe.getAttribute(rt))&&(xn?Fe.removeAttributeNS(M,rt):Fe.removeAttribute(rt)):(!yn||4&Kt||Zt)&&!Sn&&(kt=!0===kt?"":kt,xn?Fe.setAttributeNS(M,rt,kt):Fe.setAttribute(rt,kt))}else if(rt="-"===rt[2]?rt.slice(3):y(A,wn)?wn.slice(2):wn[2]+rt.slice(3),Mt||kt){const Sn=rt.endsWith(ft);rt=rt.replace(xt,""),Mt&&N.rel(Fe,rt,Mt,Sn),kt&&N.ael(Fe,rt,kt,Sn)}}},Rt=/\s/,cn=Fe=>Fe?Fe.split(Rt):[],ft="Capture",xt=new RegExp(ft+"$"),Jt=(Fe,rt,Mt)=>{const kt=11===rt.$elm$.nodeType&&rt.$elm$.host?rt.$elm$.host:rt.$elm$,Zt=Fe&&Fe.$attrs$||Ge,Kt=rt.$attrs$||Ge;for(const yn of Nt(Object.keys(Zt)))yn in Kt||gt(kt,yn,Zt[yn],void 0,Mt,rt.$flags$);for(const yn of Nt(Object.keys(Kt)))gt(kt,yn,Zt[yn],Kt[yn],Mt,rt.$flags$)};function Nt(Fe){return Fe.includes("ref")?[...Fe.filter(rt=>"ref"!==rt),"ref"]:Fe}var rn,pn,bn,Mn=!1,In=!1,Tn=!1,Gn=!1,W=(Fe,rt,Mt,kt)=>{var Zt;const Kt=rt.$children$[Mt];let wn,Sn,xn,yn=0;if(Mn||(Tn=!0,"slot"===Kt.$tag$&&(rn&&kt.classList.add(rn+"-s"),Kt.$flags$|=Kt.$children$?2:1)),null!==Kt.$text$)wn=Kt.$elm$=B.createTextNode(Kt.$text$);else if(1&Kt.$flags$)wn=Kt.$elm$=B.createTextNode("");else{if(Gn||(Gn="svg"===Kt.$tag$),wn=Kt.$elm$=B.createElementNS(Gn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Mn&&2&Kt.$flags$?"slot-fb":Kt.$tag$),Gn&&"foreignObject"===Kt.$tag$&&(Gn=!1),Jt(null,Kt,Gn),(Fe=>null!=Fe)(rn)&&wn["s-si"]!==rn&&wn.classList.add(wn["s-si"]=rn),bt(wn,kt),Kt.$children$)for(yn=0;yn<Kt.$children$.length;++yn)Sn=W(Fe,Kt,yn,wn),Sn&&wn.appendChild(Sn);"svg"===Kt.$tag$?Gn=!1:"foreignObject"===wn.tagName&&(Gn=!0)}return wn["s-hn"]=bn,3&Kt.$flags$&&(wn["s-sr"]=!0,wn["s-cr"]=pn,wn["s-sn"]=Kt.$name$||"",wn["s-rf"]=null==(Zt=Kt.$attrs$)?void 0:Zt.ref,xn=Fe&&Fe.$children$&&Fe.$children$[Mt],xn&&xn.$tag$===Kt.$tag$&&Fe.$elm$&&ve(Fe.$elm$)),wn},ve=Fe=>{N.$flags$|=1;const rt=Fe.closest(bn.toLowerCase());if(null!=rt){const Mt=Array.from(rt.childNodes).find(Zt=>Zt["s-cr"]),kt=Array.from(Fe.childNodes);for(const Zt of Mt?kt.reverse():kt)null!=Zt["s-sh"]&&(at(rt,Zt,null!=Mt?Mt:null),Zt["s-sh"]=void 0,Tn=!0)}N.$flags$&=-2},je=(Fe,rt)=>{N.$flags$|=1;const Mt=Array.from(Fe.childNodes);if(Fe["s-sr"]){let kt=Fe;for(;kt=kt.nextSibling;)kt&&kt["s-sn"]===Fe["s-sn"]&&kt["s-sh"]===bn&&Mt.push(kt)}for(let kt=Mt.length-1;kt>=0;kt--){const Zt=Mt[kt];Zt["s-hn"]!==bn&&Zt["s-ol"]&&(at(X(Zt),Zt,Z(Zt)),Zt["s-ol"].remove(),Zt["s-ol"]=void 0,Zt["s-sh"]=void 0,Tn=!0),rt&&je(Zt,rt)}N.$flags$&=-2},D=(Fe,rt,Mt,kt,Zt,Kt)=>{let wn,yn=Fe["s-cr"]&&Fe["s-cr"].parentNode||Fe;for(yn.shadowRoot&&yn.tagName===bn&&(yn=yn.shadowRoot);Zt<=Kt;++Zt)kt[Zt]&&(wn=W(null,Mt,Zt,Fe),wn&&(kt[Zt].$elm$=wn,at(yn,wn,Z(rt))))},T=(Fe,rt,Mt)=>{for(let kt=rt;kt<=Mt;++kt){const Zt=Fe[kt];if(Zt){const Kt=Zt.$elm$;Ue(Zt),Kt&&(In=!0,Kt["s-ol"]?Kt["s-ol"].remove():je(Kt,!0),Kt.remove())}}},V=(Fe,rt,Mt=!1)=>Fe.$tag$===rt.$tag$&&("slot"===Fe.$tag$?Fe.$name$===rt.$name$:!!Mt||Fe.$key$===rt.$key$),Z=Fe=>Fe&&Fe["s-ol"]||Fe,X=Fe=>(Fe["s-ol"]?Fe["s-ol"]:Fe).parentNode,se=(Fe,rt,Mt=!1)=>{const kt=rt.$elm$=Fe.$elm$,Zt=Fe.$children$,Kt=rt.$children$,yn=rt.$tag$,wn=rt.$text$;let Sn;null===wn?(Gn="svg"===yn||"foreignObject"!==yn&&Gn,"slot"!==yn||Mn?Jt(Fe,rt,Gn):Fe.$name$!==rt.$name$&&(rt.$elm$["s-sn"]=rt.$name$||"",ve(rt.$elm$.parentElement)),null!==Zt&&null!==Kt?((Fe,rt,Mt,kt,Zt=!1)=>{let br,_r,Kt=0,yn=0,wn=0,Sn=0,xn=rt.length-1,Un=rt[0],Fn=rt[xn],zn=kt.length-1,Yn=kt[0],pr=kt[zn];for(;Kt<=xn&&yn<=zn;)if(null==Un)Un=rt[++Kt];else if(null==Fn)Fn=rt[--xn];else if(null==Yn)Yn=kt[++yn];else if(null==pr)pr=kt[--zn];else if(V(Un,Yn,Zt))se(Un,Yn,Zt),Un=rt[++Kt],Yn=kt[++yn];else if(V(Fn,pr,Zt))se(Fn,pr,Zt),Fn=rt[--xn],pr=kt[--zn];else if(V(Un,pr,Zt))("slot"===Un.$tag$||"slot"===pr.$tag$)&&je(Un.$elm$.parentNode,!1),se(Un,pr,Zt),at(Fe,Un.$elm$,Fn.$elm$.nextSibling),Un=rt[++Kt],pr=kt[--zn];else if(V(Fn,Yn,Zt))("slot"===Un.$tag$||"slot"===pr.$tag$)&&je(Fn.$elm$.parentNode,!1),se(Fn,Yn,Zt),at(Fe,Fn.$elm$,Un.$elm$),Fn=rt[--xn],Yn=kt[++yn];else{for(wn=-1,Sn=Kt;Sn<=xn;++Sn)if(rt[Sn]&&null!==rt[Sn].$key$&&rt[Sn].$key$===Yn.$key$){wn=Sn;break}wn>=0?(_r=rt[wn],_r.$tag$!==Yn.$tag$?br=W(rt&&rt[yn],Mt,wn,Fe):(se(_r,Yn,Zt),rt[wn]=void 0,br=_r.$elm$),Yn=kt[++yn]):(br=W(rt&&rt[yn],Mt,yn,Fe),Yn=kt[++yn]),br&&at(X(Un.$elm$),br,Z(Un.$elm$))}Kt>xn?D(Fe,null==kt[zn+1]?null:kt[zn+1].$elm$,Mt,kt,yn,zn):yn>zn&&T(rt,Kt,xn)})(kt,Zt,rt,Kt,Mt):null!==Kt?(null!==Fe.$text$&&(kt.textContent=""),D(kt,null,rt,Kt,0,Kt.length-1)):null!==Zt&&T(Zt,0,Zt.length-1),Gn&&"svg"===yn&&(Gn=!1)):(Sn=kt["s-cr"])?Sn.parentNode.textContent=wn:Fe.$text$!==wn&&(kt.data=wn)},Pe=Fe=>{const rt=Fe.childNodes;for(const Mt of rt)if(1===Mt.nodeType){if(Mt["s-sr"]){const kt=Mt["s-sn"];Mt.hidden=!1;for(const Zt of rt)if(Zt!==Mt)if(Zt["s-hn"]!==Mt["s-hn"]||""!==kt){if(1===Zt.nodeType&&(kt===Zt.getAttribute("slot")||kt===Zt["s-sn"])||3===Zt.nodeType&&kt===Zt["s-sn"]){Mt.hidden=!0;break}}else if(1===Zt.nodeType||3===Zt.nodeType&&""!==Zt.textContent.trim()){Mt.hidden=!0;break}}Pe(Mt)}},Ne=[],ut=Fe=>{let rt,Mt,kt;for(const Zt of Fe.childNodes){if(Zt["s-sr"]&&(rt=Zt["s-cr"])&&rt.parentNode){Mt=rt.parentNode.childNodes;const Kt=Zt["s-sn"];for(kt=Mt.length-1;kt>=0;kt--)if(rt=Mt[kt],!(rt["s-cn"]||rt["s-nr"]||rt["s-hn"]===Zt["s-hn"]||rt["s-sh"]&&rt["s-sh"]===Zt["s-hn"]))if(Ee(rt,Kt)){let yn=Ne.find(wn=>wn.$nodeToRelocate$===rt);In=!0,rt["s-sn"]=rt["s-sn"]||Kt,yn?(yn.$nodeToRelocate$["s-sh"]=Zt["s-hn"],yn.$slotRefNode$=Zt):(rt["s-sh"]=Zt["s-hn"],Ne.push({$slotRefNode$:Zt,$nodeToRelocate$:rt})),rt["s-sr"]&&Ne.map(wn=>{Ee(wn.$nodeToRelocate$,rt["s-sn"])&&(yn=Ne.find(Sn=>Sn.$nodeToRelocate$===rt),yn&&!wn.$slotRefNode$&&(wn.$slotRefNode$=yn.$slotRefNode$))})}else Ne.some(yn=>yn.$nodeToRelocate$===rt)||Ne.push({$nodeToRelocate$:rt})}1===Zt.nodeType&&ut(Zt)}},Ee=(Fe,rt)=>1===Fe.nodeType?null===Fe.getAttribute("slot")&&""===rt||Fe.getAttribute("slot")===rt:Fe["s-sn"]===rt||""===rt,Ue=Fe=>{Fe.$attrs$&&Fe.$attrs$.ref&&Fe.$attrs$.ref(null),Fe.$children$&&Fe.$children$.map(Ue)},at=(Fe,rt,Mt)=>{const kt=null==Fe?void 0:Fe.insertBefore(rt,Mt);return bt(rt,Fe),kt},He=Fe=>{const rt=[];return Fe&&rt.push(...Fe["s-scs"]||[],Fe["s-si"],Fe["s-sc"],...He(Fe.parentElement)),rt},bt=(Fe,rt,Mt=!1)=>{var kt;if(Fe&&rt&&1===Fe.nodeType){const Zt=new Set(He(rt).filter(Boolean));if(Zt.size&&(null==(kt=Fe.classList)||kt.add(...Fe["s-scs"]=[...Zt]),Fe["s-ol"]||Mt))for(const Kt of Array.from(Fe.childNodes))bt(Kt,Fe,!0)}},an=(Fe,rt)=>{rt&&!Fe.$onRenderResolve$&&rt["s-p"]&&rt["s-p"].push(new Promise(Mt=>Fe.$onRenderResolve$=Mt))},hn=(Fe,rt)=>{if(Fe.$flags$|=16,!(4&Fe.$flags$))return an(Fe,Fe.$ancestorComponent$),ge(()=>An(Fe,rt));Fe.$flags$|=512},An=(Fe,rt)=>{const Zt=Fe.$lazyInstance$;if(!Zt)throw new Error(`Can't render component <${Fe.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Kt;return rt&&(Fe.$flags$|=256,Fe.$queuedListeners$&&(Fe.$queuedListeners$.map(([yn,wn])=>Er(Zt,yn,wn)),Fe.$queuedListeners$=void 0),Kt=Er(Zt,"componentWillLoad")),Kt=Bn(Kt,()=>Er(Zt,"componentWillRender")),Bn(Kt,()=>Ar(Fe,Zt,rt))},Bn=(Fe,rt)=>Qn(Fe)?Fe.then(rt).catch(Mt=>{console.error(Mt),rt()}):rt(),Qn=Fe=>Fe instanceof Promise||Fe&&Fe.then&&"function"==typeof Fe.then,Ar=function(){var Fe=(0,O.A)(function*(rt,Mt,kt){var Zt;const Kt=rt.$hostElement$,wn=Kt["s-rc"];kt&&(Fe=>{const rt=Fe.$cmpMeta$,Mt=Fe.$hostElement$,kt=rt.$flags$,Kt=tn(Mt.shadowRoot?Mt.shadowRoot:Mt.getRootNode(),rt,Fe.$modeName$);10&kt&&(Mt["s-sc"]=Kt,Mt.classList.add(Kt+"-h"),2&kt&&Mt.classList.add(Kt+"-s"))})(rt);Dr(rt,Mt,Kt,kt),wn&&(wn.map(xn=>xn()),Kt["s-rc"]=void 0);{const xn=null!=(Zt=Kt["s-p"])?Zt:[],Un=()=>Jn(rt);0===xn.length?Un():(Promise.all(xn).then(Un),rt.$flags$|=4,xn.length=0)}});return function(Mt,kt,Zt){return Fe.apply(this,arguments)}}(),Dr=(Fe,rt,Mt,kt)=>{try{rt=rt.render&&rt.render(),Fe.$flags$&=-17,Fe.$flags$|=2,((Fe,rt,Mt=!1)=>{var kt,Zt,Kt,yn,wn;const Sn=Fe.$hostElement$,xn=Fe.$cmpMeta$,Un=Fe.$vnode$||un(null,null),Fn=(Fe=>Fe&&Fe.$tag$===Bt)(rt)?rt:$t(null,null,rt);if(bn=Sn.tagName,xn.$attrsToReflect$&&(Fn.$attrs$=Fn.$attrs$||{},xn.$attrsToReflect$.map(([zn,Yn])=>Fn.$attrs$[Yn]=Sn[zn])),Mt&&Fn.$attrs$)for(const zn of Object.keys(Fn.$attrs$))Sn.hasAttribute(zn)&&!["key","ref","style","class"].includes(zn)&&(Fn.$attrs$[zn]=Sn[zn]);if(Fn.$tag$=null,Fn.$flags$|=4,Fe.$vnode$=Fn,Fn.$elm$=Un.$elm$=Sn.shadowRoot||Sn,rn=Sn["s-sc"],Mn=!!(1&xn.$flags$),pn=Sn["s-cr"],In=!1,se(Un,Fn,Mt),N.$flags$|=1,Tn){ut(Fn.$elm$);for(const zn of Ne){const Yn=zn.$nodeToRelocate$;if(!Yn["s-ol"]){const pr=B.createTextNode("");pr["s-nr"]=Yn,at(Yn.parentNode,Yn["s-ol"]=pr,Yn)}}for(const zn of Ne){const Yn=zn.$nodeToRelocate$,pr=zn.$slotRefNode$;if(pr){const br=pr.parentNode;let _r=pr.nextSibling;if(_r&&1===_r.nodeType){let Fr=null==(kt=Yn["s-ol"])?void 0:kt.previousSibling;for(;Fr;){let Nr=null!=(Zt=Fr["s-nr"])?Zt:null;if(Nr&&Nr["s-sn"]===Yn["s-sn"]&&br===Nr.parentNode){for(Nr=Nr.nextSibling;Nr===Yn||null!=Nr&&Nr["s-sr"];)Nr=null==Nr?void 0:Nr.nextSibling;if(!Nr||!Nr["s-nr"]){_r=Nr;break}}Fr=Fr.previousSibling}}(!_r&&br!==Yn.parentNode||Yn.nextSibling!==_r)&&Yn!==_r&&(at(br,Yn,_r),1===Yn.nodeType&&(Yn.hidden=null!=(Kt=Yn["s-ih"])&&Kt)),Yn&&"function"==typeof pr["s-rf"]&&pr["s-rf"](Yn)}else 1===Yn.nodeType&&(Mt&&(Yn["s-ih"]=null!=(yn=Yn.hidden)&&yn),Yn.hidden=!0)}}if(In&&Pe(Fn.$elm$),N.$flags$&=-2,Ne.length=0,2&xn.$flags$)for(const zn of Fn.$elm$.childNodes)zn["s-hn"]!==bn&&!zn["s-sh"]&&(Mt&&null==zn["s-ih"]&&(zn["s-ih"]=null!=(wn=zn.hidden)&&wn),zn.hidden=!0);pn=void 0})(Fe,rt,kt)}catch(Zt){C(Zt,Fe.$hostElement$)}return null},Jn=Fe=>{const Mt=Fe.$hostElement$,Zt=Fe.$lazyInstance$,Kt=Fe.$ancestorComponent$;Er(Zt,"componentDidRender"),64&Fe.$flags$?Er(Zt,"componentDidUpdate"):(Fe.$flags$|=64,Lr(Mt),Er(Zt,"componentDidLoad"),Fe.$onReadyResolve$(Mt),Kt||Vr()),Fe.$onInstanceResolve$(Mt),Fe.$onRenderResolve$&&(Fe.$onRenderResolve$(),Fe.$onRenderResolve$=void 0),512&Fe.$flags$&&P(()=>hn(Fe,!1)),Fe.$flags$&=-517},yr=Fe=>{{const rt=v(Fe),Mt=rt.$hostElement$.isConnected;return Mt&&2==(18&rt.$flags$)&&hn(rt,!1),Mt}},Vr=Fe=>{Lr(B.documentElement),P(()=>Tt(A,"appload",{detail:{namespace:"ionic"}}))},Er=(Fe,rt,Mt)=>{if(Fe&&Fe[rt])try{return Fe[rt](Mt)}catch(kt){C(kt)}},Lr=Fe=>Fe.classList.add(("hydrated","hydrated")),wo=(Fe,rt,Mt)=>{var kt,Zt;const Kt=Fe.prototype;if(rt.$members$||rt.$watchers$||Fe.watchers){Fe.watchers&&!rt.$watchers$&&(rt.$watchers$=Fe.watchers);const yn=Object.entries(null!=(kt=rt.$members$)?kt:{});if(yn.map(([wn,[Sn]])=>{31&Sn||2&Mt&&32&Sn?Object.defineProperty(Kt,wn,{get(){return((Fe,rt)=>v(this).$instanceValues$.get(rt))(0,wn)},set(xn){((Fe,rt,Mt,kt)=>{const Zt=v(Fe);if(!Zt)throw new Error(`Couldn't find host element for "${kt.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Kt=Zt.$hostElement$,yn=Zt.$instanceValues$.get(rt),wn=Zt.$flags$,Sn=Zt.$lazyInstance$;Mt=((Fe,rt)=>null==Fe||st(Fe)?Fe:4&rt?"false"!==Fe&&(""===Fe||!!Fe):2&rt?parseFloat(Fe):1&rt?String(Fe):Fe)(Mt,kt.$members$[rt][0]);const xn=Number.isNaN(yn)&&Number.isNaN(Mt);if((!(8&wn)||void 0===yn)&&Mt!==yn&&!xn&&(Zt.$instanceValues$.set(rt,Mt),Sn)){if(kt.$watchers$&&128&wn){const Fn=kt.$watchers$[rt];Fn&&Fn.map(zn=>{try{Sn[zn](Mt,yn,rt)}catch(Yn){C(Yn,Kt)}})}2==(18&wn)&&hn(Zt,!1)}})(this,wn,xn,rt)},configurable:!0,enumerable:!0}):1&Mt&&64&Sn&&Object.defineProperty(Kt,wn,{value(...xn){var Un;const Fn=v(this);return null==(Un=null==Fn?void 0:Fn.$onInstancePromise$)?void 0:Un.then(()=>{var zn;return null==(zn=Fn.$lazyInstance$)?void 0:zn[wn](...xn)})}})}),1&Mt){const wn=new Map;Kt.attributeChangedCallback=function(Sn,xn,Un){N.jmp(()=>{var Fn;const zn=wn.get(Sn);if(this.hasOwnProperty(zn))Un=this[zn],delete this[zn];else{if(Kt.hasOwnProperty(zn)&&"number"==typeof this[zn]&&this[zn]==Un)return;if(null==zn){const Yn=v(this),pr=null==Yn?void 0:Yn.$flags$;if(pr&&!(8&pr)&&128&pr&&Un!==xn){const br=Yn.$lazyInstance$,_r=null==(Fn=rt.$watchers$)?void 0:Fn[Sn];null==_r||_r.forEach(Fr=>{null!=br[Fr]&&br[Fr].call(br,Un,xn,Sn)})}return}}this[zn]=(null!==Un||"boolean"!=typeof this[zn])&&Un})},Fe.observedAttributes=Array.from(new Set([...Object.keys(null!=(Zt=rt.$watchers$)?Zt:{}),...yn.filter(([Sn,xn])=>15&xn[0]).map(([Sn,xn])=>{var Un;const Fn=xn[1]||Sn;return wn.set(Fn,Sn),512&xn[0]&&(null==(Un=rt.$attrsToReflect$)||Un.push([Sn,Fn])),Fn})]))}}return Fe},ko=function(){var Fe=(0,O.A)(function*(rt,Mt,kt,Zt){let Kt;if(!(32&Mt.$flags$)){if(Mt.$flags$|=32,kt.$lazyBundleId$){const xn=((Fe,rt,Mt)=>{const kt=Fe.$tagName$.replace(/-/g,"_"),Zt=Fe.$lazyBundleId$;if(!Zt)return;const Kt=_.get(Zt);return Kt?Kt[kt]:me(8996)(`./${Zt}.entry.js`).then(yn=>(_.set(Zt,yn),yn[kt]),C)})(kt);if(xn&&"then"in xn){const Fn=()=>{};Kt=yield xn,Fn()}else Kt=xn;if(!Kt)throw new Error(`Constructor for "${kt.$tagName$}#${Mt.$modeName$}" was not found`);Kt.isProxied||(kt.$watchers$=Kt.watchers,wo(Kt,kt,2),Kt.isProxied=!0);const Un=()=>{};Mt.$flags$|=8;try{new Kt(Mt)}catch(Fn){C(Fn)}Mt.$flags$&=-9,Mt.$flags$|=128,Un(),No(Mt.$lazyInstance$)}else Kt=rt.constructor,customElements.whenDefined(rt.localName).then(()=>Mt.$flags$|=128);if(Kt&&Kt.style){let xn;"string"==typeof Kt.style?xn=Kt.style:"string"!=typeof Kt.style&&(Mt.$modeName$=(Fe=>a.map(rt=>rt(Fe)).find(rt=>!!rt))(rt),Mt.$modeName$&&(xn=Kt.style[Mt.$modeName$]));const Un=tt(kt,Mt.$modeName$);if(!l.has(Un)){const Fn=()=>{};en(Un,xn,!!(1&kt.$flags$)),Fn()}}}const yn=Mt.$ancestorComponent$,wn=()=>hn(Mt,!0);yn&&yn["s-rc"]?yn["s-rc"].push(wn):wn()});return function(Mt,kt,Zt,Kt){return Fe.apply(this,arguments)}}(),No=Fe=>{Er(Fe,"connectedCallback")},Wr=Fe=>{const rt=Fe["s-cr"]=B.createComment("");rt["s-cn"]=!0,at(Fe,rt,Fe.firstChild)},Vo=Fe=>{Er(Fe,"disconnectedCallback")},oo=function(){var Fe=(0,O.A)(function*(rt){if(!(1&N.$flags$)){const Mt=v(rt);Mt.$rmListeners$&&(Mt.$rmListeners$.map(kt=>kt()),Mt.$rmListeners$=void 0),null!=Mt&&Mt.$lazyInstance$?Vo(Mt.$lazyInstance$):null!=Mt&&Mt.$onReadyPromise$&&Mt.$onReadyPromise$.then(()=>Vo(Mt.$lazyInstance$))}});return function(Mt){return Fe.apply(this,arguments)}}(),vi=Fe=>{const rt=Fe.cloneNode;Fe.cloneNode=function(Mt){const kt=this,Zt=kt.shadowRoot&&J,Kt=rt.call(kt,!!Zt&&Mt);if(!Zt&&Mt){let wn,Sn,yn=0;const xn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;yn<kt.childNodes.length;yn++)wn=kt.childNodes[yn]["s-nr"],Sn=xn.every(Un=>!kt.childNodes[yn][Un]),wn&&(Kt.__appendChild?Kt.__appendChild(wn.cloneNode(!0)):Kt.appendChild(wn.cloneNode(!0))),Sn&&Kt.appendChild(kt.childNodes[yn].cloneNode(!0))}return Kt}},be=Fe=>{Fe.__appendChild=Fe.appendChild,Fe.appendChild=function(rt){const Mt=rt["s-sn"]=Yo(rt),kt=Ai(this.childNodes,Mt,this.tagName);if(kt){const Zt=Mi(kt,Mt),Kt=Zt[Zt.length-1],yn=at(Kt.parentNode,rt,Kt.nextSibling);return Pe(this),yn}return this.__appendChild(rt)}},We=Fe=>{Fe.__removeChild=Fe.removeChild,Fe.removeChild=function(rt){if(rt&&typeof rt["s-sn"]<"u"){const Mt=Ai(this.childNodes,rt["s-sn"],this.tagName);if(Mt){const Zt=Mi(Mt,rt["s-sn"]).find(Kt=>Kt===rt);if(Zt)return Zt.remove(),void Pe(this)}}return this.__removeChild(rt)}},dt=Fe=>{const rt=Fe.prepend;Fe.prepend=function(...Mt){Mt.forEach(kt=>{"string"==typeof kt&&(kt=this.ownerDocument.createTextNode(kt));const Zt=kt["s-sn"]=Yo(kt),Kt=Ai(this.childNodes,Zt,this.tagName);if(Kt){const yn=document.createTextNode("");yn["s-nr"]=kt,Kt["s-cr"].parentNode.__appendChild(yn),kt["s-ol"]=yn;const Sn=Mi(Kt,Zt)[0];return at(Sn.parentNode,kt,Sn.nextSibling)}return 1===kt.nodeType&&kt.getAttribute("slot")&&(kt.hidden=!0),rt.call(this,kt)})}},Se=Fe=>{Fe.append=function(...rt){rt.forEach(Mt=>{"string"==typeof Mt&&(Mt=this.ownerDocument.createTextNode(Mt)),this.appendChild(Mt)})}},vt=Fe=>{const rt=Fe.insertAdjacentHTML;Fe.insertAdjacentHTML=function(Mt,kt){if("afterbegin"!==Mt&&"beforeend"!==Mt)return rt.call(this,Mt,kt);const Zt=this.ownerDocument.createElement("_");let Kt;if(Zt.innerHTML=kt,"afterbegin"===Mt)for(;Kt=Zt.firstChild;)this.prepend(Kt);else if("beforeend"===Mt)for(;Kt=Zt.firstChild;)this.append(Kt)}},Qt=Fe=>{Fe.insertAdjacentText=function(rt,Mt){this.insertAdjacentHTML(rt,Mt)}},fr=Fe=>{const rt=Fe.insertAdjacentElement;Fe.insertAdjacentElement=function(Mt,kt){return"afterbegin"!==Mt&&"beforeend"!==Mt?rt.call(this,Mt,kt):"afterbegin"===Mt?(this.prepend(kt),kt):("beforeend"===Mt&&this.append(kt),kt)}},Gr=Fe=>{const rt=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(Fe,"__textContent",rt),Object.defineProperty(Fe,"textContent",{get(){return" "+ti(this.childNodes).map(Zt=>{var Kt,yn;const wn=[];let Sn=Zt.nextSibling;for(;Sn&&Sn["s-sn"]===Zt["s-sn"];)(3===Sn.nodeType||1===Sn.nodeType)&&wn.push(null!=(yn=null==(Kt=Sn.textContent)?void 0:Kt.trim())?yn:""),Sn=Sn.nextSibling;return wn.filter(xn=>""!==xn).join(" ")}).filter(Zt=>""!==Zt).join(" ")+" "},set(Mt){ti(this.childNodes).forEach(Zt=>{let Kt=Zt.nextSibling;for(;Kt&&Kt["s-sn"]===Zt["s-sn"];){const yn=Kt;Kt=Kt.nextSibling,yn.remove()}if(""===Zt["s-sn"]){const yn=this.ownerDocument.createTextNode(Mt);yn["s-sn"]="",at(Zt.parentElement,yn,Zt.nextSibling)}else Zt.remove()})}})},mo=(Fe,rt)=>{class Mt extends Array{item(Zt){return this[Zt]}}if(8&rt.$flags$){const kt=Fe.__lookupGetter__("childNodes");Object.defineProperty(Fe,"children",{get(){return this.childNodes.map(Zt=>1===Zt.nodeType)}}),Object.defineProperty(Fe,"childElementCount",{get:()=>Fe.children.length}),Object.defineProperty(Fe,"childNodes",{get(){const Zt=kt.call(this);if(!(1&N.$flags$)&&2&v(this).$flags$){const Kt=new Mt;for(let yn=0;yn<Zt.length;yn++){const wn=Zt[yn]["s-nr"];wn&&Kt.push(wn)}return Kt}return Mt.from(Zt)}})}},ti=Fe=>{const rt=[];for(const Mt of Array.from(Fe))Mt["s-sr"]&&rt.push(Mt),rt.push(...ti(Mt.childNodes));return rt},Yo=Fe=>Fe["s-sn"]||1===Fe.nodeType&&Fe.getAttribute("slot")||"",Ai=(Fe,rt,Mt)=>{let Zt,kt=0;for(;kt<Fe.length;kt++)if(Zt=Fe[kt],Zt["s-sr"]&&Zt["s-sn"]===rt&&Zt["s-hn"]===Mt||(Zt=Ai(Zt.childNodes,rt,Mt),Zt))return Zt;return null},Mi=(Fe,rt)=>{const Mt=[Fe];for(;(Fe=Fe.nextSibling)&&Fe["s-sn"]===rt;)Mt.push(Fe);return Mt},Vi=(Fe,rt={})=>{var Mt;const Zt=[],Kt=rt.exclude||[],yn=A.customElements,wn=B.head,Sn=wn.querySelector("meta[charset]"),xn=B.createElement("style"),Un=[],Fn=B.querySelectorAll(`[${m}]`);let zn,Yn=!0,pr=0;for(Object.assign(N,rt),N.$resourcesUrl$=new URL(rt.resourcesUrl||"./",B.baseURI).href,N.$flags$|=2;pr<Fn.length;pr++)en(Fn[pr].getAttribute(m),At(Fn[pr].innerHTML),!0);let br=!1;if(Fe.map(_r=>{_r[1].map(Fr=>{var Nr;const Rn={$flags$:Fr[0],$tagName$:Fr[1],$members$:Fr[2],$listeners$:Fr[3]};4&Rn.$flags$&&(br=!0),Rn.$members$=Fr[2],Rn.$listeners$=Fr[3],Rn.$attrsToReflect$=[],Rn.$watchers$=null!=(Nr=Fr[4])?Nr:{};const go=Rn.$tagName$,Lo=class extends HTMLElement{constructor(Rr){if(super(Rr),this.hasRegisteredEventListeners=!1,((Fe,rt)=>{const Mt={$flags$:0,$hostElement$:Fe,$cmpMeta$:rt,$instanceValues$:new Map};Mt.$onInstancePromise$=new Promise(kt=>Mt.$onInstanceResolve$=kt),Mt.$onReadyPromise$=new Promise(kt=>Mt.$onReadyResolve$=kt),Fe["s-p"]=[],Fe["s-rc"]=[],$.set(Fe,Mt)})(Rr=this,Rn),1&Rn.$flags$)if(Rr.shadowRoot){if("open"!==Rr.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Rn.$tagName$}! Mode is set to ${Rr.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Rr.attachShadow({mode:"open",delegatesFocus:!!(16&Rn.$flags$)})}connectedCallback(){const Rr=v(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Ii(this,Rr,Rn.$listeners$)),zn&&(clearTimeout(zn),zn=null),Yn?Un.push(this):N.jmp(()=>(Fe=>{if(!(1&N.$flags$)){const rt=v(Fe),Mt=rt.$cmpMeta$,kt=()=>{};if(1&rt.$flags$)Ii(Fe,rt,Mt.$listeners$),null!=rt&&rt.$lazyInstance$?No(rt.$lazyInstance$):null!=rt&&rt.$onReadyPromise$&&rt.$onReadyPromise$.then(()=>No(rt.$lazyInstance$));else{let Zt;if(rt.$flags$|=1,Zt=Fe.getAttribute(p),Zt){if(1&Mt.$flags$){const Kt=tn(Fe.shadowRoot,Mt,Fe.getAttribute("s-mode"));Fe.classList.remove(Kt+"-h",Kt+"-s")}((Fe,rt,Mt,kt)=>{const Kt=Fe.shadowRoot,yn=[],Sn=Kt?[]:null,xn=kt.$vnode$=un(rt,null);N.$orgLocNodes$||Ve(B.body,N.$orgLocNodes$=new Map),Fe[p]=Mt,Fe.removeAttribute(p),Vt(xn,yn,[],Sn,Fe,Fe,Mt),yn.map(Un=>{const Fn=Un.$hostId$+"."+Un.$nodeId$,zn=N.$orgLocNodes$.get(Fn),Yn=Un.$elm$;zn&&""===zn["s-en"]&&zn.parentNode.insertBefore(Yn,zn.nextSibling),Kt||(Yn["s-hn"]=rt,zn&&(Yn["s-ol"]=zn,Yn["s-ol"]["s-nr"]=Yn)),N.$orgLocNodes$.delete(Fn)}),Kt&&Sn.map(Un=>{Un&&Kt.appendChild(Un)})})(Fe,Mt.$tagName$,Zt,rt)}Zt||12&Mt.$flags$&&Wr(Fe);{let Kt=Fe;for(;Kt=Kt.parentNode||Kt.host;)if(1===Kt.nodeType&&Kt.hasAttribute("s-id")&&Kt["s-p"]||Kt["s-p"]){an(rt,rt.$ancestorComponent$=Kt);break}}Mt.$members$&&Object.entries(Mt.$members$).map(([Kt,[yn]])=>{if(31&yn&&Fe.hasOwnProperty(Kt)){const wn=Fe[Kt];delete Fe[Kt],Fe[Kt]=wn}}),ko(Fe,rt,Mt)}kt()}})(this))}disconnectedCallback(){N.jmp(()=>oo(this))}componentOnReady(){return v(this).$onReadyPromise$}};2&Rn.$flags$&&((Fe,rt)=>{vi(Fe),be(Fe),Se(Fe),dt(Fe),fr(Fe),vt(Fe),Qt(Fe),Gr(Fe),mo(Fe,rt),We(Fe)})(Lo.prototype,Rn),Rn.$lazyBundleId$=_r[0],!Kt.includes(go)&&!yn.get(go)&&(Zt.push(go),yn.define(go,wo(Lo,Rn,1)))})}),Zt.length>0&&(br&&(xn.textContent+=E),xn.textContent+=Zt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",xn.innerHTML.length)){xn.setAttribute("data-styles","");const _r=null!=(Mt=N.$nonce$)?Mt:lt(B);null!=_r&&xn.setAttribute("nonce",_r),wn.insertBefore(xn,Sn?Sn.nextSibling:wn.firstChild)}Yn=!1,Un.length?Un.map(_r=>_r.connectedCallback()):N.jmp(()=>zn=setTimeout(Vr,30))},Ii=(Fe,rt,Mt,kt)=>{Mt&&Mt.map(([Zt,Kt,yn])=>{const wn=Ao(Fe,Zt),Sn=Co(rt,yn),xn=Yr(Zt);N.ael(wn,Kt,Sn,xn),(rt.$rmListeners$=rt.$rmListeners$||[]).push(()=>N.rel(wn,Kt,Sn,xn))})},Co=(Fe,rt)=>Mt=>{var kt;try{256&Fe.$flags$?null==(kt=Fe.$lazyInstance$)||kt[rt](Mt):(Fe.$queuedListeners$=Fe.$queuedListeners$||[]).push([rt,Mt])}catch(Zt){C(Zt)}},Ao=(Fe,rt)=>4&rt?B:8&rt?A:16&rt?B.body:Fe,Yr=Fe=>ne?{passive:!!(1&Fe),capture:!!(2&Fe)}:!!(2&Fe)},1331:(En,qt,me)=>{"use strict";me.d(qt,{b:()=>v,c:()=>b,d:()=>g,e:()=>J,g:()=>ee,l:()=>N,s:()=>ne,t:()=>c,w:()=>k});var O=me(467),I=me(4921),pe=me(8393),mt=me(4929),o=me(4920);const v="ionViewWillLeave",b="ionViewDidLeave",g="ionViewWillUnload",y=H=>{H.tabIndex=-1,H.focus()},C=H=>null!==H.offsetParent,s="ion-last-focus",d_saveViewFocus=K=>{if(I.c.get("focusManagerPriority",!1)){const Oe=document.activeElement;null!==Oe&&null!=K&&K.contains(Oe)&&Oe.setAttribute(s,"true")}},d_setViewFocus=K=>{const le=I.c.get("focusManagerPriority",!1);if(Array.isArray(le)&&!K.contains(document.activeElement)){const Oe=K.querySelector(`[${s}]`);if(Oe&&C(Oe))return void y(Oe);for(const Y of le)switch(Y){case"content":const P=K.querySelector('main, [role="main"]');if(P&&C(P))return void y(P);break;case"heading":const re=K.querySelector('h1, [role="heading"][aria-level="1"]');if(re&&C(re))return void y(re);break;case"banner":const ge=K.querySelector('header, [role="banner"]');if(ge&&C(ge))return void y(ge);break;default:(0,mt.p)(`Unrecognized focus manager priority value ${Y}`)}y(K)}},c=H=>new Promise((G,K)=>{(0,pe.w)(()=>{u(H),h(H).then(le=>{le.animation&&le.animation.destroy(),p(H),G(le)},le=>{p(H),K(le)})})}),u=H=>{const G=H.enteringEl,K=H.leavingEl;d_saveViewFocus(K),z(G,K,H.direction),H.showGoBack?G.classList.add("can-go-back"):G.classList.remove("can-go-back"),ne(G,!1),G.style.setProperty("pointer-events","none"),K&&(ne(K,!1),K.style.setProperty("pointer-events","none"))},h=function(){var H=(0,O.A)(function*(G){const K=yield m(G);return K&&pe.B.isBrowser?w(K,G):R(G)});return function(K){return H.apply(this,arguments)}}(),p=H=>{const G=H.enteringEl,K=H.leavingEl;G.classList.remove("ion-page-invisible"),G.style.removeProperty("pointer-events"),void 0!==K&&(K.classList.remove("ion-page-invisible"),K.style.removeProperty("pointer-events")),d_setViewFocus(G)},m=function(){var H=(0,O.A)(function*(G){return G.leavingEl&&G.animated&&0!==G.duration?G.animationBuilder?G.animationBuilder:"ios"===G.mode?(yield Promise.resolve().then(me.bind(me,9856))).iosTransitionAnimation:(yield Promise.resolve().then(me.bind(me,361))).mdTransitionAnimation:void 0});return function(K){return H.apply(this,arguments)}}(),w=function(){var H=(0,O.A)(function*(G,K){yield E(K,!0);const le=G(K.baseEl,K);B(K.enteringEl,K.leavingEl);const Oe=yield A(le,K);return K.progressCallback&&K.progressCallback(void 0),Oe&&j(K.enteringEl,K.leavingEl),{hasCompleted:Oe,animation:le}});return function(K,le){return H.apply(this,arguments)}}(),R=function(){var H=(0,O.A)(function*(G){const K=G.enteringEl,le=G.leavingEl,Oe=I.c.get("focusManagerPriority",!1);return yield E(G,Oe),B(K,le),j(K,le),{hasCompleted:!0}});return function(K){return H.apply(this,arguments)}}(),E=function(){var H=(0,O.A)(function*(G,K){(void 0!==G.deepWait?G.deepWait:K)&&(yield Promise.all([J(G.enteringEl),J(G.leavingEl)])),yield M(G.viewIsReady,G.enteringEl)});return function(K,le){return H.apply(this,arguments)}}(),M=function(){var H=(0,O.A)(function*(G,K){G&&(yield G(K))});return function(K,le){return H.apply(this,arguments)}}(),A=(H,G)=>{const K=G.progressCallback,le=new Promise(Oe=>{H.onFinish(Y=>Oe(1===Y))});return K?(H.progressStart(!0),K(H)):H.play(),le},B=(H,G)=>{N(G,v),N(H,"ionViewWillEnter")},j=(H,G)=>{N(H,"ionViewDidEnter"),N(G,b)},N=(H,G)=>{if(H){const K=new CustomEvent(G,{bubbles:!1,cancelable:!1});H.dispatchEvent(K)}},k=()=>new Promise(H=>(0,o.r)(()=>(0,o.r)(()=>H()))),J=function(){var H=(0,O.A)(function*(G){const K=G;if(K){if(null!=K.componentOnReady){if(null!=(yield K.componentOnReady()))return}else if(null!=K.__registerHost)return void(yield new Promise(Oe=>(0,o.r)(Oe)));yield Promise.all(Array.from(K.children).map(J))}});return function(K){return H.apply(this,arguments)}}(),ne=(H,G)=>{G?(H.setAttribute("aria-hidden","true"),H.classList.add("ion-page-hidden")):(H.hidden=!1,H.removeAttribute("aria-hidden"),H.classList.remove("ion-page-hidden"))},z=(H,G,K)=>{void 0!==H&&(H.style.zIndex="back"===K?"99":"101"),void 0!==G&&(G.style.zIndex="100")},ee=H=>H.classList.contains("ion-page")?H:H.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||H},4929:(En,qt,me)=>{"use strict";me.d(qt,{a:()=>I,b:()=>pe,p:()=>O});const O=(mt,...o)=>console.warn(`[Ionic Warning]: ${mt}`,...o),I=(mt,...o)=>console.error(`[Ionic Error]: ${mt}`,...o),pe=(mt,...o)=>console.error(`<${mt.tagName.toLowerCase()}> must be used inside ${o.join(" or ")}.`)},8476:(En,qt,me)=>{"use strict";me.d(qt,{d:()=>I,w:()=>O});const O=typeof window<"u"?window:void 0,I=typeof document<"u"?document:void 0},617:(En,qt,me)=>{"use strict";me.d(qt,{FJ:()=>b.l,NC:()=>pe.iosTransitionAnimation,OZ:()=>b.m,QX:()=>$.s,TN:()=>b.a,V5:()=>mt.mdTransitionAnimation,Vk:()=>$.I,mF:()=>b.c}),me(9986),me(1331);var pe=me(9856),mt=me(361),$=(me(8607),me(4921),me(464)),b=(me(6073),me(1070));me(8476),me(8393),me(1970),me(8669)},4921:(En,qt,me)=>{"use strict";me.d(qt,{a:()=>y,b:()=>ne,c:()=>pe,i:()=>z});var O=me(8393);class I{constructor(){this.m=new Map}reset(H){this.m=new Map(Object.entries(H))}get(H,G){const K=this.m.get(H);return void 0!==K?K:G}getBoolean(H,G=!1){const K=this.m.get(H);return void 0===K?G:"string"==typeof K?"true"===K:!!K}getNumber(H,G){const K=parseFloat(this.m.get(H));return isNaN(K)?void 0!==G?G:NaN:K}set(H,G){this.m.set(H,G)}}const pe=new I,v="ionic:",b="ionic-persist-config",y=(ee,H)=>("string"==typeof ee&&(H=ee,ee=void 0),(ee=>C(ee))(ee).includes(H)),C=(ee=window)=>{if(typeof ee>"u")return[];ee.Ionic=ee.Ionic||{};let H=ee.Ionic.platforms;return null==H&&(H=ee.Ionic.platforms=_(ee),H.forEach(G=>ee.document.documentElement.classList.add(`plt-${G}`))),H},_=ee=>{const H=pe.get("platform");return Object.keys(k).filter(G=>{const K=null==H?void 0:H[G];return"function"==typeof K?K(ee):k[G](ee)})},l=ee=>!!(j(ee,/iPad/i)||j(ee,/Macintosh/i)&&m(ee)),c=ee=>j(ee,/android|sink/i),m=ee=>N(ee,"(any-pointer:coarse)"),R=ee=>E(ee)||M(ee),E=ee=>!!(ee.cordova||ee.phonegap||ee.PhoneGap),M=ee=>{const H=ee.Capacitor;return!(null==H||!H.isNative)},j=(ee,H)=>H.test(ee.navigator.userAgent),N=(ee,H)=>{var G;return null===(G=ee.matchMedia)||void 0===G?void 0:G.call(ee,H).matches},k={ipad:l,iphone:ee=>j(ee,/iPhone/i),ios:ee=>j(ee,/iPhone|iPod/i)||l(ee),android:c,phablet:ee=>{const H=ee.innerWidth,G=ee.innerHeight,K=Math.min(H,G),le=Math.max(H,G);return K>390&&K<520&&le>620&&le<800},tablet:ee=>{const H=ee.innerWidth,G=ee.innerHeight,K=Math.min(H,G),le=Math.max(H,G);return l(ee)||(ee=>c(ee)&&!j(ee,/mobile/i))(ee)||K>460&&K<820&&le>780&&le<1400},cordova:E,capacitor:M,electron:ee=>j(ee,/electron/i),pwa:ee=>{var H;return!!(null!==(H=ee.matchMedia)&&void 0!==H&&H.call(ee,"(display-mode: standalone)").matches||ee.navigator.standalone)},mobile:m,mobileweb:ee=>m(ee)&&!R(ee),desktop:ee=>!m(ee),hybrid:R};let J;const ne=ee=>ee&&(0,O.g)(ee)||J,z=(ee={})=>{if(typeof window>"u")return;const H=window.document,G=window,K=G.Ionic=G.Ionic||{},le={};ee._ael&&(le.ael=ee._ael),ee._rel&&(le.rel=ee._rel),ee._ce&&(le.ce=ee._ce),(0,O.a)(le);const Oe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ee=>{try{const H=ee.sessionStorage.getItem(b);return null!==H?JSON.parse(H):{}}catch{return{}}})(G)),{persistConfig:!1}),K.config),(ee=>{const H={};return ee.location.search.slice(1).split("&").map(G=>G.split("=")).map(([G,K])=>{try{return[decodeURIComponent(G),decodeURIComponent(K)]}catch{return["",""]}}).filter(([G])=>((ee,H)=>ee.substr(0,H.length)===H)(G,v)).map(([G,K])=>[G.slice(6),K]).forEach(([G,K])=>{H[G]=K}),H})(G)),ee);pe.reset(Oe),pe.getBoolean("persistConfig")&&((ee,H)=>{try{ee.sessionStorage.setItem(b,JSON.stringify(H))}catch{return}})(G,Oe),C(G),K.config=pe,K.mode=J=pe.get("mode",H.documentElement.getAttribute("mode")||(y(G,"ios")?"ios":"md")),pe.set("mode",J),H.documentElement.setAttribute("mode",J),H.documentElement.classList.add(J),pe.getBoolean("_testing")&&pe.set("animated",!1);const Y=re=>{var ge;return null===(ge=re.tagName)||void 0===ge?void 0:ge.startsWith("ION-")},P=re=>["ios","md"].includes(re);(0,O.c)(re=>{for(;re;){const ge=re.mode||re.getAttribute("mode");if(ge){if(P(ge))return ge;Y(re)&&console.warn('Invalid ionic mode: "'+ge+'", expected: "ios" or "md"')}re=re.parentElement}return J})}},9856:(En,qt,me)=>{"use strict";me.r(qt),me.d(qt,{iosTransitionAnimation:()=>s,shadow:()=>v});var O=me(9986),I=me(1331);me(8476),me(4921),me(8393);const $=a=>document.querySelector(`${a}.ion-cloned-element`),v=a=>a.shadowRoot||a,b=a=>{const d="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs"),c="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=d){const u=d.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=u?u.querySelector(c):null}return a.querySelector(c)},g=(a,d)=>{const c="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs");let u=[];if(null!=c){const h=c.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=h&&(u=h.querySelectorAll("ion-buttons"))}else u=a.querySelectorAll("ion-buttons");for(const h of u){const p=h.closest("ion-header"),m=p&&!p.classList.contains("header-collapse-condense-inactive"),w=h.querySelector("ion-back-button"),R=h.classList.contains("buttons-collapse");if(null!==w&&("start"===h.slot||""===h.slot)&&(R&&m&&d||!R))return w}return null},C=(a,d,c,u,h,p,m,w,R)=>{var E,M;const A=d?`calc(100% - ${h.right+4}px)`:h.left-4+"px",B=d?"right":"left",j=d?"left":"right",N=d?"right":"left";let k=1,J=1,ne=`scale(${J})`;const z="scale(1)";if(p&&m){const Ze=(null===(E=p.textContent)||void 0===E?void 0:E.trim())===(null===(M=w.textContent)||void 0===M?void 0:M.trim());k=R.width/m.width,J=(R.height-l)/m.height,ne=Ze?`scale(${k}, ${J})`:`scale(${J})`}const H=v(u).querySelector("ion-icon").getBoundingClientRect(),G=d?H.width/2-(H.right-h.right)+"px":h.left-H.width/2+"px",K=d?`-${window.innerWidth-h.right}px`:`${h.left}px`,le=`${R.top}px`,Oe=`${h.top}px`,re=c?[{offset:0,transform:`translate3d(${K}, ${Oe}, 0)`},{offset:1,transform:`translate3d(${G}, ${le}, 0)`}]:[{offset:0,transform:`translate3d(${G}, ${le}, 0)`},{offset:1,transform:`translate3d(${K}, ${Oe}, 0)`}],Ge=c?[{offset:0,opacity:1,transform:z},{offset:1,opacity:0,transform:ne}]:[{offset:0,opacity:0,transform:ne},{offset:1,opacity:1,transform:z}],ze=c?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],st=(0,O.c)(),lt=(0,O.c)(),Be=(0,O.c)(),Qe=$("ion-back-button"),Je=v(Qe).querySelector(".button-text"),ot=v(Qe).querySelector("ion-icon");Qe.text=u.text,Qe.mode=u.mode,Qe.icon=u.icon,Qe.color=u.color,Qe.disabled=u.disabled,Qe.style.setProperty("display","block"),Qe.style.setProperty("position","fixed"),lt.addElement(ot),st.addElement(Je),Be.addElement(Qe),Be.beforeStyles({position:"absolute",top:"0px",[N]:"0px"}).beforeAddWrite(()=>{u.style.setProperty("display","none"),Qe.style.setProperty(B,A)}).afterAddWrite(()=>{u.style.setProperty("display",""),Qe.style.setProperty("display","none"),Qe.style.removeProperty(B)}).keyframes(re),st.beforeStyles({"transform-origin":`${B} top`}).keyframes(Ge),lt.beforeStyles({"transform-origin":`${j} center`}).keyframes(ze),a.addAnimation([st,lt,Be])},_=(a,d,c,u,h,p,m,w,R)=>{var E,M;const A=d?"right":"left",B=d?`calc(100% - ${h.right}px)`:`${h.left}px`,N=`${h.top}px`;let J=d?`-${window.innerWidth-m.right-8}px`:`${m.x+8}px`,ne=.5;const z="scale(1)";let ee=`scale(${ne})`;if(w&&R){J=d?`-${window.innerWidth-R.right-8}px`:R.x-8+"px";const ge=(null===(E=w.textContent)||void 0===E?void 0:E.trim())===(null===(M=u.textContent)||void 0===M?void 0:M.trim());ne=R.height/(p.height-l),ee=ge?`scale(${R.width/p.width}, ${ne})`:`scale(${ne})`}const K=m.top+m.height/2-h.height*ne/2+"px",Y=c?[{offset:0,opacity:0,transform:`translate3d(${J}, ${K}, 0) ${ee}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${N}, 0) ${z}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${N}, 0) ${z}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${J}, ${K}, 0) ${ee}`}],P=$("ion-title"),re=(0,O.c)();P.innerText=u.innerText,P.size=u.size,P.color=u.color,re.addElement(P),re.beforeStyles({"transform-origin":`${A} top`,height:`${h.height}px`,display:"",position:"relative",[A]:B}).beforeAddWrite(()=>{u.style.setProperty("opacity","0")}).afterAddWrite(()=>{u.style.setProperty("opacity",""),P.style.setProperty("display","none")}).keyframes(Y),a.addAnimation(re)},s=(a,d)=>{var c;try{const u="cubic-bezier(0.32,0.72,0,1)",h="opacity",p="transform",m="0%",R="rtl"===a.ownerDocument.dir,E=R?"-99.5%":"99.5%",M=R?"33%":"-33%",A=d.enteringEl,B=d.leavingEl,j="back"===d.direction,N=A.querySelector(":scope > ion-content"),k=A.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),J=A.querySelectorAll(":scope > ion-header > ion-toolbar"),ne=(0,O.c)(),z=(0,O.c)();if(ne.addElement(A).duration((null!==(c=d.duration)&&void 0!==c?c:0)||540).easing(d.easing||u).fill("both").beforeRemoveClass("ion-page-invisible"),B&&null!=a){const K=(0,O.c)();K.addElement(a),ne.addAnimation(K)}if(N||0!==J.length||0!==k.length?(z.addElement(N),z.addElement(k)):z.addElement(A.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(z),j?z.beforeClearStyles([h]).fromTo("transform",`translateX(${M})`,`translateX(${m})`).fromTo(h,.8,1):z.beforeClearStyles([h]).fromTo("transform",`translateX(${E})`,`translateX(${m})`),N){const K=v(N).querySelector(".transition-effect");if(K){const le=K.querySelector(".transition-cover"),Oe=K.querySelector(".transition-shadow"),Y=(0,O.c)(),P=(0,O.c)(),re=(0,O.c)();Y.addElement(K).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),P.addElement(le).beforeClearStyles([h]).fromTo(h,0,.1),re.addElement(Oe).beforeClearStyles([h]).fromTo(h,.03,.7),Y.addAnimation([P,re]),z.addAnimation([Y])}}const ee=A.querySelector("ion-header.header-collapse-condense"),{forward:H,backward:G}=((a,d,c,u,h)=>{const p=g(u,c),m=b(h),w=b(u),R=g(h,c),E=null!==p&&null!==m&&!c,M=null!==w&&null!==R&&c;if(E){const A=m.getBoundingClientRect(),B=p.getBoundingClientRect(),j=v(p).querySelector(".button-text"),N=null==j?void 0:j.getBoundingClientRect(),J=v(m).querySelector(".toolbar-title").getBoundingClientRect();_(a,d,c,m,A,J,B,j,N),C(a,d,c,p,B,j,N,m,J)}else if(M){const A=w.getBoundingClientRect(),B=R.getBoundingClientRect(),j=v(R).querySelector(".button-text"),N=null==j?void 0:j.getBoundingClientRect(),J=v(w).querySelector(".toolbar-title").getBoundingClientRect();_(a,d,c,w,A,J,B,j,N),C(a,d,c,R,B,j,N,w,J)}return{forward:E,backward:M}})(ne,R,j,A,B);if(J.forEach(K=>{const le=(0,O.c)();le.addElement(K),ne.addAnimation(le);const Oe=(0,O.c)();Oe.addElement(K.querySelector("ion-title"));const Y=(0,O.c)(),P=Array.from(K.querySelectorAll("ion-buttons,[menuToggle]")),re=K.closest("ion-header"),ge=null==re?void 0:re.classList.contains("header-collapse-condense-inactive");let Te;Te=P.filter(j?st=>{const lt=st.classList.contains("buttons-collapse");return lt&&!ge||!lt}:st=>!st.classList.contains("buttons-collapse")),Y.addElement(Te);const Ge=(0,O.c)();Ge.addElement(K.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const qe=(0,O.c)();qe.addElement(v(K).querySelector(".toolbar-background"));const ht=(0,O.c)(),ze=K.querySelector("ion-back-button");if(ze&&ht.addElement(ze),le.addAnimation([Oe,Y,Ge,qe,ht]),Y.fromTo(h,.01,1),Ge.fromTo(h,.01,1),j)ge||Oe.fromTo("transform",`translateX(${M})`,`translateX(${m})`).fromTo(h,.01,1),Ge.fromTo("transform",`translateX(${M})`,`translateX(${m})`),ht.fromTo(h,.01,1);else if(ee||Oe.fromTo("transform",`translateX(${E})`,`translateX(${m})`).fromTo(h,.01,1),Ge.fromTo("transform",`translateX(${E})`,`translateX(${m})`),qe.beforeClearStyles([h,"transform"]),(null==re?void 0:re.translucent)?qe.fromTo("transform",R?"translateX(-100%)":"translateX(100%)","translateX(0px)"):qe.fromTo(h,.01,"var(--opacity)"),H||ht.fromTo(h,.01,1),ze&&!H){const lt=(0,O.c)();lt.addElement(v(ze).querySelector(".button-text")).fromTo("transform",R?"translateX(-100px)":"translateX(100px)","translateX(0px)"),le.addAnimation(lt)}}),B){const K=(0,O.c)(),le=B.querySelector(":scope > ion-content"),Oe=B.querySelectorAll(":scope > ion-header > ion-toolbar"),Y=B.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(le||0!==Oe.length||0!==Y.length?(K.addElement(le),K.addElement(Y)):K.addElement(B.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(K),j){K.beforeClearStyles([h]).fromTo("transform",`translateX(${m})`,R?"translateX(-100%)":"translateX(100%)");const P=(0,I.g)(B);ne.afterAddWrite(()=>{"normal"===ne.getDirection()&&P.style.setProperty("display","none")})}else K.fromTo("transform",`translateX(${m})`,`translateX(${M})`).fromTo(h,1,.8);if(le){const P=v(le).querySelector(".transition-effect");if(P){const re=P.querySelector(".transition-cover"),ge=P.querySelector(".transition-shadow"),Te=(0,O.c)(),Ge=(0,O.c)(),qe=(0,O.c)();Te.addElement(P).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ge.addElement(re).beforeClearStyles([h]).fromTo(h,.1,0),qe.addElement(ge).beforeClearStyles([h]).fromTo(h,.7,.03),Te.addAnimation([Ge,qe]),K.addAnimation([Te])}}Oe.forEach(P=>{const re=(0,O.c)();re.addElement(P);const ge=(0,O.c)();ge.addElement(P.querySelector("ion-title"));const Te=(0,O.c)(),Ge=P.querySelectorAll("ion-buttons,[menuToggle]"),qe=P.closest("ion-header"),ht=null==qe?void 0:qe.classList.contains("header-collapse-condense-inactive"),ze=Array.from(Ge).filter(ot=>{const Ze=ot.classList.contains("buttons-collapse");return Ze&&!ht||!Ze});Te.addElement(ze);const st=(0,O.c)(),lt=P.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");lt.length>0&&st.addElement(lt);const Be=(0,O.c)();Be.addElement(v(P).querySelector(".toolbar-background"));const Qe=(0,O.c)(),Je=P.querySelector("ion-back-button");if(Je&&Qe.addElement(Je),re.addAnimation([ge,Te,st,Qe,Be]),ne.addAnimation(re),Qe.fromTo(h,.99,0),Te.fromTo(h,.99,0),st.fromTo(h,.99,0),j){if(ht||ge.fromTo("transform",`translateX(${m})`,R?"translateX(-100%)":"translateX(100%)").fromTo(h,.99,0),st.fromTo("transform",`translateX(${m})`,R?"translateX(-100%)":"translateX(100%)"),Be.beforeClearStyles([h,"transform"]),(null==qe?void 0:qe.translucent)?Be.fromTo("transform","translateX(0px)",R?"translateX(-100%)":"translateX(100%)"):Be.fromTo(h,"var(--opacity)",0),Je&&!G){const Ze=(0,O.c)();Ze.addElement(v(Je).querySelector(".button-text")).fromTo("transform",`translateX(${m})`,`translateX(${(R?-124:124)+"px"})`),re.addAnimation(Ze)}}else ht||ge.fromTo("transform",`translateX(${m})`,`translateX(${M})`).fromTo(h,.99,0).afterClearStyles([p,h]),st.fromTo("transform",`translateX(${m})`,`translateX(${M})`).afterClearStyles([p,h]),Qe.afterClearStyles([h]),ge.afterClearStyles([h]),Te.afterClearStyles([h])})}return ne}catch(u){throw u}},l=10},361:(En,qt,me)=>{"use strict";me.r(qt),me.d(qt,{mdTransitionAnimation:()=>ie});var O=me(9986),I=me(1331);me(8476),me(4921),me(8393);const ie=($,v)=>{var b,g,y;const C="40px",s="back"===v.direction,a=v.leavingEl,d=(0,I.g)(v.enteringEl),c=d.querySelector("ion-toolbar"),u=(0,O.c)();if(u.addElement(d).fill("both").beforeRemoveClass("ion-page-invisible"),s?u.duration((null!==(b=v.duration)&&void 0!==b?b:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):u.duration((null!==(g=v.duration)&&void 0!==g?g:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${C})`,"translateY(0px)").fromTo("opacity",.01,1),c){const h=(0,O.c)();h.addElement(c),u.addAnimation(h)}if(a&&s){u.duration((null!==(y=v.duration)&&void 0!==y?y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const h=(0,O.c)();h.addElement((0,I.g)(a)).onFinish(p=>{1===p&&h.elements.length>0&&h.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${C})`).fromTo("opacity",1,0),u.addAnimation(h)}return u}},1070:(En,qt,me)=>{"use strict";me.d(qt,{B:()=>Ge,F:()=>Qe,G:()=>qe,O:()=>ht,a:()=>d,b:()=>c,c:()=>m,d:()=>ze,e:()=>st,f:()=>H,g:()=>K,h:()=>Y,i:()=>re,j:()=>R,k:()=>E,l:()=>u,m:()=>h,n:()=>g,o:()=>z,q:()=>y,s:()=>Te});var O=me(467),I=me(8476),pe=me(4920),mt=me(8669),o=me(4921),ie=me(8621),$=me(1970),v=me(4929);const b='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',g=(Je,ot)=>{const Ze=Je.querySelector(b);C(Ze,null!=ot?ot:Je)},y=(Je,ot)=>{const Ze=Array.from(Je.querySelectorAll(b));C(Ze.length>0?Ze[Ze.length-1]:null,null!=ot?ot:Je)},C=(Je,ot)=>{let Ze=Je;const yt=null==Je?void 0:Je.shadowRoot;yt&&(Ze=yt.querySelector(b)||Je),Ze?(0,pe.f)(Ze):ot.focus()};let _=0,s=0;const l=new WeakMap,a=Je=>({create:ot=>M(Je,ot),dismiss:(ot,Ze,yt)=>k(document,ot,Ze,Je,yt),getTop:()=>(0,O.A)(function*(){return z(document,Je)})()}),d=a("ion-alert"),c=a("ion-action-sheet"),u=a("ion-loading"),h=a("ion-modal"),m=a("ion-popover"),R=Je=>{typeof document<"u"&&N(document);const ot=_++;Je.overlayIndex=ot},E=Je=>(Je.hasAttribute("id")||(Je.id="ion-overlay-"+ ++s),Je.id),M=(Je,ot)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Je).then(()=>{const Ze=document.createElement(Je);return Ze.classList.add("overlay-hidden"),Object.assign(Ze,Object.assign(Object.assign({},ot),{hasController:!0})),le(document).appendChild(Ze),new Promise(yt=>(0,pe.c)(Ze,yt))}):Promise.resolve(),B=(Je,ot)=>{let Ze=Je;const yt=null==Je?void 0:Je.shadowRoot;yt&&(Ze=yt.querySelector(b)||Je),Ze?(0,pe.f)(Ze):ot.focus()},N=Je=>{0===_&&(_=1,Je.addEventListener("focus",ot=>{((Je,ot)=>{const Ze=z(ot,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),yt=Je.target;Ze&&yt&&!Ze.classList.contains(Qe)&&(Ze.shadowRoot?(()=>{if(Ze.contains(yt))Ze.lastFocus=yt;else if("ION-TOAST"===yt.tagName)B(Ze.lastFocus,Ze);else{const $t=Ze.lastFocus;g(Ze),$t===ot.activeElement&&y(Ze),Ze.lastFocus=ot.activeElement}})():(()=>{if(Ze===yt)Ze.lastFocus=void 0;else if("ION-TOAST"===yt.tagName)B(Ze.lastFocus,Ze);else{const $t=(0,pe.g)(Ze);if(!$t.contains(yt))return;const un=$t.querySelector(".ion-overlay-wrapper");if(!un)return;if(un.contains(yt)||yt===$t.querySelector("ion-backdrop"))Ze.lastFocus=yt;else{const Bt=Ze.lastFocus;g(un,Ze),Bt===ot.activeElement&&y(un,Ze),Ze.lastFocus=ot.activeElement}}})())})(ot,Je)},!0),Je.addEventListener("ionBackButton",ot=>{const Ze=z(Je);null!=Ze&&Ze.backdropDismiss&&ot.detail.register(mt.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ze.dismiss(void 0,Ge)})}),(0,mt.shouldUseCloseWatcher)()||Je.addEventListener("keydown",ot=>{if("Escape"===ot.key){const Ze=z(Je);null!=Ze&&Ze.backdropDismiss&&Ze.dismiss(void 0,Ge)}}))},k=(Je,ot,Ze,yt,Ct)=>{const sn=z(Je,yt,Ct);return sn?sn.dismiss(ot,Ze):Promise.reject("overlay does not exist")},ne=(Je,ot)=>((Je,ot)=>(void 0===ot&&(ot="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Je.querySelectorAll(ot)).filter(Ze=>Ze.overlayIndex>0)))(Je,ot).filter(Ze=>!(Je=>Je.classList.contains("overlay-hidden"))(Ze)),z=(Je,ot,Ze)=>{const yt=ne(Je,ot);return void 0===Ze?yt[yt.length-1]:yt.find(Ct=>Ct.id===Ze)},ee=(Je=!1)=>{const Ze=le(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ze&&(Je?Ze.setAttribute("aria-hidden","true"):Ze.removeAttribute("aria-hidden"))},H=function(){var Je=(0,O.A)(function*(ot,Ze,yt,Ct,sn){var $t,un;if(ot.presented)return;ee(!0),document.body.classList.add($.B),lt(ot.el),ot.presented=!0,ot.willPresent.emit(),null===($t=ot.willPresentShorthand)||void 0===$t||$t.emit();const Bt=(0,o.b)(ot),mn=ot.enterAnimation?ot.enterAnimation:o.c.get(Ze,"ios"===Bt?yt:Ct);(yield Oe(ot,mn,ot.el,sn))&&(ot.didPresent.emit(),null===(un=ot.didPresentShorthand)||void 0===un||un.emit()),"ION-TOAST"!==ot.el.tagName&&G(ot.el),ot.keyboardClose&&(null===document.activeElement||!ot.el.contains(document.activeElement))&&ot.el.focus(),ot.el.removeAttribute("aria-hidden")});return function(Ze,yt,Ct,sn,$t){return Je.apply(this,arguments)}}(),G=function(){var Je=(0,O.A)(function*(ot){let Ze=document.activeElement;if(!Ze)return;const yt=null==Ze?void 0:Ze.shadowRoot;yt&&(Ze=yt.querySelector(b)||Ze),yield ot.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ze.focus()});return function(Ze){return Je.apply(this,arguments)}}(),K=function(){var Je=(0,O.A)(function*(ot,Ze,yt,Ct,sn,$t,un){var Bt,mn;if(!ot.presented)return!1;void 0!==I.d&&1===ne(I.d).length&&(ee(!1),document.body.classList.remove($.B)),ot.presented=!1;try{ot.el.style.setProperty("pointer-events","none"),ot.willDismiss.emit({data:Ze,role:yt}),null===(Bt=ot.willDismissShorthand)||void 0===Bt||Bt.emit({data:Ze,role:yt});const fn=(0,o.b)(ot),Ot=ot.leaveAnimation?ot.leaveAnimation:o.c.get(Ct,"ios"===fn?sn:$t);yt!==qe&&(yield Oe(ot,Ot,ot.el,un)),ot.didDismiss.emit({data:Ze,role:yt}),null===(mn=ot.didDismissShorthand)||void 0===mn||mn.emit({data:Ze,role:yt}),(l.get(ot)||[]).forEach(Vt=>Vt.destroy()),l.delete(ot),ot.el.classList.add("overlay-hidden"),ot.el.style.removeProperty("pointer-events"),void 0!==ot.el.lastFocus&&(ot.el.lastFocus=void 0)}catch(fn){console.error(fn)}return ot.el.remove(),Be(),!0});return function(Ze,yt,Ct,sn,$t,un,Bt){return Je.apply(this,arguments)}}(),le=Je=>Je.querySelector("ion-app")||Je.body,Oe=function(){var Je=(0,O.A)(function*(ot,Ze,yt,Ct){yt.classList.remove("overlay-hidden");const $t=Ze(ot.el,Ct);(!ot.animated||!o.c.getBoolean("animated",!0))&&$t.duration(0),ot.keyboardClose&&$t.beforeAddWrite(()=>{const Bt=yt.ownerDocument.activeElement;null!=Bt&&Bt.matches("input,ion-input, ion-textarea")&&Bt.blur()});const un=l.get(ot)||[];return l.set(ot,[...un,$t]),yield $t.play(),!0});return function(Ze,yt,Ct,sn){return Je.apply(this,arguments)}}(),Y=(Je,ot)=>{let Ze;const yt=new Promise(Ct=>Ze=Ct);return P(Je,ot,Ct=>{Ze(Ct.detail)}),yt},P=(Je,ot,Ze)=>{const yt=Ct=>{(0,pe.b)(Je,ot,yt),Ze(Ct)};(0,pe.a)(Je,ot,yt)},re=Je=>"cancel"===Je||Je===Ge,ge=Je=>Je(),Te=(Je,ot)=>{if("function"==typeof Je)return o.c.get("_zoneGate",ge)(()=>{try{return Je(ot)}catch(yt){throw yt}})},Ge="backdrop",qe="gesture",ht=39,ze=Je=>{let Ze,ot=!1;const yt=(0,ie.C)(),Ct=(un=!1)=>{if(Ze&&!un)return{delegate:Ze,inline:ot};const{el:Bt,hasController:mn,delegate:Yt}=Je;return ot=null!==Bt.parentNode&&!mn,Ze=ot?Yt||yt:Yt,{inline:ot,delegate:Ze}};return{attachViewToDom:function(){var un=(0,O.A)(function*(Bt){const{delegate:mn}=Ct(!0);if(mn)return yield mn.attachViewToDom(Je.el,Bt);const{hasController:Yt}=Je;if(Yt&&void 0!==Bt)throw new Error("framework delegate is missing");return null});return function(mn){return un.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:un}=Ct();un&&void 0!==Je.el&&un.removeViewFromDom(Je.el.parentElement,Je.el)}}},st=()=>{let Je;const ot=()=>{Je&&(Je(),Je=void 0)};return{addClickListener:(yt,Ct)=>{ot();const sn=void 0!==Ct?document.getElementById(Ct):null;sn?Je=((un,Bt)=>{const mn=()=>{Bt.present()};return un.addEventListener("click",mn),()=>{un.removeEventListener("click",mn)}})(sn,yt):(0,v.p)(`A trigger element with the ID "${Ct}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,yt)},removeClickListener:ot}},lt=Je=>{var ot;if(void 0===I.d)return;const Ze=ne(I.d);for(let yt=Ze.length-1;yt>=0;yt--){const Ct=Ze[yt],sn=null!==(ot=Ze[yt+1])&&void 0!==ot?ot:Je;(sn.hasAttribute("aria-hidden")||"ION-TOAST"!==sn.tagName)&&Ct.setAttribute("aria-hidden","true")}},Be=()=>{if(void 0===I.d)return;const Je=ne(I.d);for(let ot=Je.length-1;ot>=0;ot--){const Ze=Je[ot];if(Ze.removeAttribute("aria-hidden"),"ION-TOAST"!==Ze.tagName)break}},Qe="ion-disable-focus-trap"},1288:(En,qt,me)=>{"use strict";me.d(qt,{H:()=>c,b:()=>sn,c:()=>m,f:()=>ze,g:()=>p,h:()=>a,p:()=>Gt,r:()=>ln});var O=me(467);let pe,mt,o=!1,ie=!1;const g={},s=ft=>"object"==(ft=typeof ft)||"function"===ft;function l(ft){var xt,Jt,Nt;return null!==(Nt=null===(Jt=null===(xt=ft.head)||void 0===xt?void 0:xt.querySelector('meta[name="csp-nonce"]'))||void 0===Jt?void 0:Jt.getAttribute("content"))&&void 0!==Nt?Nt:void 0}const a=(ft,xt,...Jt)=>{let Nt=null,rn=!1,pn=!1;const bn=[],Mn=Tn=>{for(let Gn=0;Gn<Tn.length;Gn++)Nt=Tn[Gn],Array.isArray(Nt)?Mn(Nt):null!=Nt&&"boolean"!=typeof Nt&&((rn="function"!=typeof ft&&!s(Nt))&&(Nt=String(Nt)),rn&&pn?bn[bn.length-1].$text$+=Nt:bn.push(rn?d(null,Nt):Nt),pn=rn)};if(Mn(Jt),xt){const Tn=xt.className||xt.class;Tn&&(xt.class="object"!=typeof Tn?Tn:Object.keys(Tn).filter(Gn=>Tn[Gn]).join(" "))}const In=d(ft,null);return In.$attrs$=xt,bn.length>0&&(In.$children$=bn),In},d=(ft,xt)=>({$flags$:0,$tag$:ft,$text$:xt,$elm$:null,$children$:null,$attrs$:null}),c={},p=ft=>Ot(ft).$hostElement$,m=(ft,xt,Jt)=>{const Nt=p(ft);return{emit:rn=>w(Nt,xt,{bubbles:!!(4&Jt),composed:!!(2&Jt),cancelable:!!(1&Jt),detail:rn})}},w=(ft,xt,Jt)=>{const Nt=Tt.ce(xt,Jt);return ft.dispatchEvent(Nt),Nt},R=new WeakMap,B=(ft,xt)=>"sc-"+ft.$tagName$,j=(ft,xt,Jt,Nt,rn,pn)=>{if(Jt!==Nt){let bn=Ve(ft,xt),Mn=xt.toLowerCase();if("class"===xt){const In=ft.classList,Tn=k(Jt),Gn=k(Nt);In.remove(...Tn.filter(W=>W&&!Gn.includes(W))),In.add(...Gn.filter(W=>W&&!Tn.includes(W)))}else if("style"===xt){for(const In in Jt)(!Nt||null==Nt[In])&&(In.includes("-")?ft.style.removeProperty(In):ft.style[In]="");for(const In in Nt)(!Jt||Nt[In]!==Jt[In])&&(In.includes("-")?ft.style.setProperty(In,Nt[In]):ft.style[In]=Nt[In])}else if("ref"===xt)Nt&&Nt(ft);else if(bn||"o"!==xt[0]||"n"!==xt[1]){const In=s(Nt);if((bn||In&&null!==Nt)&&!rn)try{if(ft.tagName.includes("-"))ft[xt]=Nt;else{const Tn=null==Nt?"":Nt;"list"===xt?bn=!1:(null==Jt||ft[xt]!=Tn)&&(ft[xt]=Tn)}}catch{}null==Nt||!1===Nt?(!1!==Nt||""===ft.getAttribute(xt))&&ft.removeAttribute(xt):(!bn||4&pn||rn)&&!In&&ft.setAttribute(xt,Nt=!0===Nt?"":Nt)}else xt="-"===xt[2]?xt.slice(3):Ve(Ft,Mn)?Mn.slice(2):Mn[2]+xt.slice(3),Jt&&Tt.rel(ft,xt,Jt,!1),Nt&&Tt.ael(ft,xt,Nt,!1)}},N=/\s/,k=ft=>ft?ft.split(N):[],J=(ft,xt,Jt,Nt)=>{const rn=11===xt.$elm$.nodeType&&xt.$elm$.host?xt.$elm$.host:xt.$elm$,pn=ft&&ft.$attrs$||g,bn=xt.$attrs$||g;for(Nt in pn)Nt in bn||j(rn,Nt,pn[Nt],void 0,Jt,xt.$flags$);for(Nt in bn)j(rn,Nt,pn[Nt],bn[Nt],Jt,xt.$flags$)},ne=(ft,xt,Jt,Nt)=>{const rn=xt.$children$[Jt];let bn,Mn,pn=0;if(null!==rn.$text$)bn=rn.$elm$=Wt.createTextNode(rn.$text$);else{if(o||(o="svg"===rn.$tag$),bn=rn.$elm$=Wt.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",rn.$tag$),o&&"foreignObject"===rn.$tag$&&(o=!1),J(null,rn,o),(ft=>null!=ft)(pe)&&bn["s-si"]!==pe&&bn.classList.add(bn["s-si"]=pe),rn.$children$)for(pn=0;pn<rn.$children$.length;++pn)Mn=ne(ft,rn,pn),Mn&&bn.appendChild(Mn);"svg"===rn.$tag$?o=!1:"foreignObject"===bn.tagName&&(o=!0)}return bn},z=(ft,xt,Jt,Nt,rn,pn)=>{let Mn,bn=ft;for(bn.shadowRoot&&bn.tagName===mt&&(bn=bn.shadowRoot);rn<=pn;++rn)Nt[rn]&&(Mn=ne(null,Jt,rn),Mn&&(Nt[rn].$elm$=Mn,bn.insertBefore(Mn,xt)))},ee=(ft,xt,Jt)=>{for(let Nt=xt;Nt<=Jt;++Nt){const rn=ft[Nt];if(rn){const pn=rn.$elm$;le(rn),pn&&pn.remove()}}},G=(ft,xt)=>ft.$tag$===xt.$tag$,K=(ft,xt)=>{const Jt=xt.$elm$=ft.$elm$,Nt=ft.$children$,rn=xt.$children$,pn=xt.$tag$,bn=xt.$text$;null===bn?(o="svg"===pn||"foreignObject"!==pn&&o,J(ft,xt,o),null!==Nt&&null!==rn?((ft,xt,Jt,Nt)=>{let ve,rn=0,pn=0,bn=xt.length-1,Mn=xt[0],In=xt[bn],Tn=Nt.length-1,Gn=Nt[0],W=Nt[Tn];for(;rn<=bn&&pn<=Tn;)null==Mn?Mn=xt[++rn]:null==In?In=xt[--bn]:null==Gn?Gn=Nt[++pn]:null==W?W=Nt[--Tn]:G(Mn,Gn)?(K(Mn,Gn),Mn=xt[++rn],Gn=Nt[++pn]):G(In,W)?(K(In,W),In=xt[--bn],W=Nt[--Tn]):G(Mn,W)?(K(Mn,W),ft.insertBefore(Mn.$elm$,In.$elm$.nextSibling),Mn=xt[++rn],W=Nt[--Tn]):G(In,Gn)?(K(In,Gn),ft.insertBefore(In.$elm$,Mn.$elm$),In=xt[--bn],Gn=Nt[++pn]):(ve=ne(xt&&xt[pn],Jt,pn),Gn=Nt[++pn],ve&&Mn.$elm$.parentNode.insertBefore(ve,Mn.$elm$));rn>bn?z(ft,null==Nt[Tn+1]?null:Nt[Tn+1].$elm$,Jt,Nt,pn,Tn):pn>Tn&&ee(xt,rn,bn)})(Jt,Nt,xt,rn):null!==rn?(null!==ft.$text$&&(Jt.textContent=""),z(Jt,null,xt,rn,0,rn.length-1)):null!==Nt&&ee(Nt,0,Nt.length-1),o&&"svg"===pn&&(o=!1)):ft.$text$!==bn&&(Jt.data=bn)},le=ft=>{ft.$attrs$&&ft.$attrs$.ref&&ft.$attrs$.ref(null),ft.$children$&&ft.$children$.map(le)},Y=(ft,xt)=>{xt&&!ft.$onRenderResolve$&&xt["s-p"]&&xt["s-p"].push(new Promise(Jt=>ft.$onRenderResolve$=Jt))},P=(ft,xt)=>{if(ft.$flags$|=16,!(4&ft.$flags$))return Y(ft,ft.$ancestorComponent$),cn(()=>re(ft,xt));ft.$flags$|=512},re=(ft,xt)=>{const Nt=ft.$lazyInstance$;return xt&&(ft.$flags$|=256,ft.$queuedListeners$&&(ft.$queuedListeners$.map(([pn,bn])=>lt(Nt,pn,bn)),ft.$queuedListeners$=void 0)),ge(void 0,()=>Ge(ft,Nt,xt))},ge=(ft,xt)=>Te(ft)?ft.then(xt):xt(),Te=ft=>ft instanceof Promise||ft&&ft.then&&"function"==typeof ft.then,Ge=function(){var ft=(0,O.A)(function*(xt,Jt,Nt){var rn;const pn=xt.$hostElement$,Mn=pn["s-rc"];Nt&&(ft=>{const xt=ft.$cmpMeta$,Jt=ft.$hostElement$,Nt=xt.$flags$,pn=((ft,xt,Jt,Nt)=>{var rn;let pn=B(xt);const bn=_t.get(pn);if(ft=11===ft.nodeType?ft:Wt,bn)if("string"==typeof bn){let In,Mn=R.get(ft=ft.head||ft);if(Mn||R.set(ft,Mn=new Set),!Mn.has(pn)){{In=Wt.createElement("style"),In.innerHTML=bn;const Tn=null!==(rn=Tt.$nonce$)&&void 0!==rn?rn:l(Wt);null!=Tn&&In.setAttribute("nonce",Tn),ft.insertBefore(In,ft.querySelector("link"))}Mn&&Mn.add(pn)}}else ft.adoptedStyleSheets.includes(bn)||(ft.adoptedStyleSheets=[...ft.adoptedStyleSheets,bn]);return pn})(Jt.shadowRoot?Jt.shadowRoot:Jt.getRootNode(),xt);10&Nt&&(Jt["s-sc"]=pn,Jt.classList.add(pn+"-h"))})(xt);qe(xt,Jt),Mn&&(Mn.map(Tn=>Tn()),pn["s-rc"]=void 0);{const Tn=null!==(rn=pn["s-p"])&&void 0!==rn?rn:[],Gn=()=>ht(xt);0===Tn.length?Gn():(Promise.all(Tn).then(Gn),xt.$flags$|=4,Tn.length=0)}});return function(Jt,Nt,rn){return ft.apply(this,arguments)}}(),qe=(ft,xt,Jt)=>{try{xt=xt.render(),ft.$flags$&=-17,ft.$flags$|=2,((ft,xt)=>{const Jt=ft.$hostElement$,Nt=ft.$vnode$||d(null,null),rn=(ft=>ft&&ft.$tag$===c)(xt)?xt:a(null,null,xt);mt=Jt.tagName,rn.$tag$=null,rn.$flags$|=4,ft.$vnode$=rn,rn.$elm$=Nt.$elm$=Jt.shadowRoot||Jt,pe=Jt["s-sc"],K(Nt,rn)})(ft,xt)}catch(Nt){Xe(Nt,ft.$hostElement$)}return null},ht=ft=>{const Jt=ft.$hostElement$,rn=ft.$lazyInstance$,pn=ft.$ancestorComponent$;64&ft.$flags$||(ft.$flags$|=64,Be(Jt),lt(rn,"componentDidLoad"),ft.$onReadyResolve$(Jt),pn||st()),ft.$onInstanceResolve$(Jt),ft.$onRenderResolve$&&(ft.$onRenderResolve$(),ft.$onRenderResolve$=void 0),512&ft.$flags$&&Rt(()=>P(ft,!1)),ft.$flags$&=-517},ze=ft=>{{const xt=Ot(ft),Jt=xt.$hostElement$.isConnected;return Jt&&2==(18&xt.$flags$)&&P(xt,!1),Jt}},st=ft=>{Be(Wt.documentElement),Rt(()=>w(Ft,"appload",{detail:{namespace:"ionicpwaelements"}}))},lt=(ft,xt,Jt)=>{if(ft&&ft[xt])try{return ft[xt](Jt)}catch(Nt){Xe(Nt)}},Be=ft=>ft.classList.add("hydrated"),ot=(ft,xt,Jt)=>{if(xt.$members$){const Nt=Object.entries(xt.$members$),rn=ft.prototype;if(Nt.map(([pn,[bn]])=>{31&bn||2&Jt&&32&bn?Object.defineProperty(rn,pn,{get(){return((ft,xt)=>Ot(this).$instanceValues$.get(xt))(0,pn)},set(Mn){((ft,xt,Jt,Nt)=>{const rn=Ot(ft),pn=rn.$instanceValues$.get(xt),bn=rn.$flags$,Mn=rn.$lazyInstance$;Jt=((ft,xt)=>null==ft||s(ft)?ft:4&xt?"false"!==ft&&(""===ft||!!ft):2&xt?parseFloat(ft):1&xt?String(ft):ft)(Jt,Nt.$members$[xt][0]);const In=Number.isNaN(pn)&&Number.isNaN(Jt);(!(8&bn)||void 0===pn)&&Jt!==pn&&!In&&(rn.$instanceValues$.set(xt,Jt),Mn&&2==(18&bn)&&P(rn,!1))})(this,pn,Mn,xt)},configurable:!0,enumerable:!0}):1&Jt&&64&bn&&Object.defineProperty(rn,pn,{value(...Mn){const In=Ot(this);return In.$onInstancePromise$.then(()=>In.$lazyInstance$[pn](...Mn))}})}),1&Jt){const pn=new Map;rn.attributeChangedCallback=function(bn,Mn,In){Tt.jmp(()=>{const Tn=pn.get(bn);if(this.hasOwnProperty(Tn))In=this[Tn],delete this[Tn];else if(rn.hasOwnProperty(Tn)&&"number"==typeof this[Tn]&&this[Tn]==In)return;this[Tn]=(null!==In||"boolean"!=typeof this[Tn])&&In})},ft.observedAttributes=Nt.filter(([bn,Mn])=>15&Mn[0]).map(([bn,Mn])=>{const In=Mn[1]||bn;return pn.set(In,bn),In})}}return ft},Ze=function(){var ft=(0,O.A)(function*(xt,Jt,Nt,rn,pn){if(!(32&Jt.$flags$)){Jt.$flags$|=32;{if((pn=Ke(Nt)).then){const Tn=()=>{};pn=yield pn,Tn()}pn.isProxied||(ot(pn,Nt,2),pn.isProxied=!0);const In=()=>{};Jt.$flags$|=8;try{new pn(Jt)}catch(Tn){Xe(Tn)}Jt.$flags$&=-9,In()}if(pn.style){let In=pn.style;const Tn=B(Nt);if(!_t.has(Tn)){const Gn=()=>{};((ft,xt,Jt)=>{let Nt=_t.get(ft);en&&Jt?(Nt=Nt||new CSSStyleSheet,"string"==typeof Nt?Nt=xt:Nt.replaceSync(xt)):Nt=xt,_t.set(ft,Nt)})(Tn,In,!!(1&Nt.$flags$)),Gn()}}}const bn=Jt.$ancestorComponent$,Mn=()=>P(Jt,!0);bn&&bn["s-rc"]?bn["s-rc"].push(Mn):Mn()});return function(Jt,Nt,rn,pn,bn){return ft.apply(this,arguments)}}(),sn=(ft,xt={})=>{var Jt;const rn=[],pn=xt.exclude||[],bn=Ft.customElements,Mn=Wt.head,In=Mn.querySelector("meta[charset]"),Tn=Wt.createElement("style"),Gn=[];let W,ve=!0;Object.assign(Tt,xt),Tt.$resourcesUrl$=new URL(xt.resourcesUrl||"./",Wt.baseURI).href,ft.map(je=>{je[1].map(D=>{const T={$flags$:D[0],$tagName$:D[1],$members$:D[2],$listeners$:D[3]};T.$members$=D[2],T.$listeners$=D[3];const L=T.$tagName$,V=class extends HTMLElement{constructor(Z){super(Z),Vt(Z=this,T),1&T.$flags$&&Z.attachShadow({mode:"open"})}connectedCallback(){W&&(clearTimeout(W),W=null),ve?Gn.push(this):Tt.jmp(()=>(ft=>{if(!(1&Tt.$flags$)){const xt=Ot(ft),Jt=xt.$cmpMeta$,Nt=()=>{};if(1&xt.$flags$)$t(ft,xt,Jt.$listeners$);else{xt.$flags$|=1;{let rn=ft;for(;rn=rn.parentNode||rn.host;)if(rn["s-p"]){Y(xt,xt.$ancestorComponent$=rn);break}}Jt.$members$&&Object.entries(Jt.$members$).map(([rn,[pn]])=>{if(31&pn&&ft.hasOwnProperty(rn)){const bn=ft[rn];delete ft[rn],ft[rn]=bn}}),Ze(ft,xt,Jt)}Nt()}})(this))}disconnectedCallback(){Tt.jmp(()=>(ft=>{if(!(1&Tt.$flags$)){const xt=Ot(this),Jt=xt.$lazyInstance$;xt.$rmListeners$&&(xt.$rmListeners$.map(Nt=>Nt()),xt.$rmListeners$=void 0),lt(Jt,"disconnectedCallback")}})())}componentOnReady(){return Ot(this).$onReadyPromise$}};T.$lazyBundleId$=je[0],!pn.includes(L)&&!bn.get(L)&&(rn.push(L),bn.define(L,ot(V,T,1)))})});{Tn.innerHTML=rn+"{visibility:hidden}.hydrated{visibility:inherit}",Tn.setAttribute("data-styles","");const je=null!==(Jt=Tt.$nonce$)&&void 0!==Jt?Jt:l(Wt);null!=je&&Tn.setAttribute("nonce",je),Mn.insertBefore(Tn,In?In.nextSibling:Mn.firstChild)}ve=!1,Gn.length?Gn.map(je=>je.connectedCallback()):Tt.jmp(()=>W=setTimeout(st,30))},$t=(ft,xt,Jt,Nt)=>{Jt&&Jt.map(([rn,pn,bn])=>{const Mn=Bt(ft,rn),In=un(xt,bn),Tn=mn(rn);Tt.ael(Mn,pn,In,Tn),(xt.$rmListeners$=xt.$rmListeners$||[]).push(()=>Tt.rel(Mn,pn,In,Tn))})},un=(ft,xt)=>Jt=>{try{256&ft.$flags$?ft.$lazyInstance$[xt](Jt):(ft.$queuedListeners$=ft.$queuedListeners$||[]).push([xt,Jt])}catch(Nt){Xe(Nt)}},Bt=(ft,xt)=>16&xt?Wt.body:ft,mn=ft=>!!(2&ft),fn=new WeakMap,Ot=ft=>fn.get(ft),ln=(ft,xt)=>fn.set(xt.$lazyInstance$=ft,xt),Vt=(ft,xt)=>{const Jt={$flags$:0,$hostElement$:ft,$cmpMeta$:xt,$instanceValues$:new Map};return Jt.$onInstancePromise$=new Promise(Nt=>Jt.$onInstanceResolve$=Nt),Jt.$onReadyPromise$=new Promise(Nt=>Jt.$onReadyResolve$=Nt),ft["s-p"]=[],ft["s-rc"]=[],$t(ft,Jt,xt.$listeners$),fn.set(ft,Jt)},Ve=(ft,xt)=>xt in ft,Xe=(ft,xt)=>(0,console.error)(ft,xt),Ae=new Map,Ke=(ft,xt,Jt)=>{const Nt=ft.$tagName$.replace(/-/g,"_"),rn=ft.$lazyBundleId$,pn=Ae.get(rn);if(pn)return pn[Nt];if(!Jt||!BUILD.hotModuleReplacement){const bn=Mn=>(Ae.set(rn,Mn),Mn[Nt]);switch(rn){case"pwa-action-sheet":return me.e(6301).then(me.bind(me,6301)).then(bn,Xe);case"pwa-camera-modal":return me.e(2982).then(me.bind(me,2982)).then(bn,Xe);case"pwa-toast":return me.e(3574).then(me.bind(me,3574)).then(bn,Xe);case"pwa-camera-modal-instance":return me.e(5640).then(me.bind(me,5640)).then(bn,Xe);case"pwa-camera":return me.e(6086).then(me.bind(me,6086)).then(bn,Xe)}}return me(5235)(`./${rn}.entry.js`).then(bn=>(Ae.set(rn,bn),bn[Nt]),Xe)},_t=new Map,Ft=typeof window<"u"?window:{},Wt=Ft.document||{head:{}},Tt={$flags$:0,$resourcesUrl$:"",jmp:ft=>ft(),raf:ft=>requestAnimationFrame(ft),ael:(ft,xt,Jt,Nt)=>ft.addEventListener(xt,Jt,Nt),rel:(ft,xt,Jt,Nt)=>ft.removeEventListener(xt,Jt,Nt),ce:(ft,xt)=>new CustomEvent(ft,xt)},Gt=ft=>Promise.resolve(ft),en=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),tn=[],pt=[],tt=(ft,xt)=>Jt=>{ft.push(Jt),ie||(ie=!0,xt&&4&Tt.$flags$?Rt(gt):Tt.raf(gt))},At=ft=>{for(let xt=0;xt<ft.length;xt++)try{ft[xt](performance.now())}catch(Jt){Xe(Jt)}ft.length=0},gt=()=>{At(tn),At(pt),(ie=tn.length>0)&&Tt.raf(gt)},Rt=ft=>Gt().then(ft),cn=tt(pt,!0)},5402:(En,qt,me)=>{"use strict";me.d(qt,{R:()=>I});const I=(0,me(5083).F3)("VoiceRecorder",{web:()=>me.e(9888).then(me.bind(me,9888)).then(pe=>new pe.VoiceRecorderWeb)})},9349:(En,qt,me)=>{"use strict";me.d(qt,{ZL:()=>u,d2:()=>c,Yl:()=>d,aH:()=>a});var O=me(467);const pe=(0,me(5083).F3)("App",{web:()=>me.e(9303).then(me.bind(me,9303)).then(h=>new h.AppWeb)});var mt=me(963),o=me(8326),ie=me(3953),$=me(3656),v=me(5374),b=me(9858),g=me(5547),y=me(4237),C=me(755),_=me(9347),s=me(4234),l=me(482),a="DesktopPWA",d=!1;const c="https://is2you2.github.io/";window.p5=o;let u=(()=>{var h;class p{constructor(w,R,E,M,A,B,j,N,k){w.is("desktop")?a="DesktopPWA":w.is("mobileweb")?a="MobilePWA":w.is("android")?a="Android":w.is("iphone")&&(a="iOS"),d=w.is("electron"),B.initialize(()=>{let J=k.CatchGETs(location.href)||{};k.initialize(),A.AddressToQRCodeAct(J),M.initialize(),"Android"==a&&mt.W.checkPermissions().then(function(){var ne=(0,O.A)(function*(z){"granted"!=z.display&&(yield mt.W.requestPermissions())});return function(z){return ne.apply(this,arguments)}}()),M.load_settings(),B.GetFileListFromDB("tmp_files",ne=>{ne.forEach(z=>B.removeFileFromUserPath(z))})}),N.Callback_nakama=()=>{A.initialize(),A.check_if_online(),N.isFirstTime=!1,j.RegisterNotificationReact(),M.RegisterNofiticationActionType()},("Android"==a||"iOS"==a)&&pe.addListener("appUrlOpen",J=>{E.run(()=>{const ne=J.url.split(".app").pop();ne&&R.navigateByUrl(ne)})}),A.on_socket_connected.connection_check=()=>{A.check_if_online()},A.on_socket_disconnected.connection_check=()=>{A.check_if_online()}}}return(h=p).\u0275fac=function(w){return new(w||h)(ie.rXU($.OD),ie.rXU(b.Ix),ie.rXU(ie.SKi),ie.rXU(g.r),ie.rXU(y.X),ie.rXU(C.n),ie.rXU(_.z),ie.rXU(s.y),ie.rXU(l.z3))},h.\u0275cmp=ie.VBU({type:h,selectors:[["app-root"]],decls:2,vars:0,template:function(w,R){1&w&&(ie.j41(0,"ion-app"),ie.nrm(1,"ion-router-outlet"),ie.k0s())},dependencies:[v.U1,v.Rg]}),p})()},482:(En,qt,me)=>{"use strict";me.d(qt,{xM:()=>h,z3:()=>p,ud:()=>u});var O=me(467),I=me(4023),pe=me(8326),mt=me(9349),o=me(5083),ie=function(m){return m.Prompt="PROMPT",m.Camera="CAMERA",m.Photos="PHOTOS",m}(ie||{}),$=function(m){return m.Rear="REAR",m.Front="FRONT",m}($||{}),v=function(m){return m.Uri="uri",m.Base64="base64",m.DataUrl="dataUrl",m}(v||{});class b extends o.E_{getPhoto(w){var R=this;return(0,O.A)(function*(){return new Promise(function(){var E=(0,O.A)(function*(M,A){if(w.webUseInput||w.source===ie.Photos)R.fileInputExperience(w,M,A);else if(w.source===ie.Prompt){let B=document.querySelector("pwa-action-sheet");B||(B=document.createElement("pwa-action-sheet"),document.body.appendChild(B)),B.header=w.promptLabelHeader||"Photo",B.cancelable=!1,B.options=[{title:w.promptLabelPhoto||"From Photos"},{title:w.promptLabelPicture||"Take Picture"}],B.addEventListener("onSelection",function(){var j=(0,O.A)(function*(N){0===N.detail?R.fileInputExperience(w,M,A):R.cameraExperience(w,M,A)});return function(N){return j.apply(this,arguments)}}())}else R.cameraExperience(w,M,A)});return function(M,A){return E.apply(this,arguments)}}())})()}pickImages(w){var R=this;return(0,O.A)(function*(){return new Promise(function(){var E=(0,O.A)(function*(M,A){R.multipleFileInputExperience(M,A)});return function(M,A){return E.apply(this,arguments)}}())})()}cameraExperience(w,R,E){var M=this;return(0,O.A)(function*(){if(customElements.get("pwa-camera-modal")){const A=document.createElement("pwa-camera-modal");A.facingMode=w.direction===$.Front?"user":"environment",document.body.appendChild(A);try{yield A.componentOnReady(),A.addEventListener("onPhoto",function(){var B=(0,O.A)(function*(j){const N=j.detail;null===N?E(new o.I9("User cancelled photos app")):N instanceof Error?E(N):R(yield M._getCameraPhoto(N,w)),A.dismiss(),document.body.removeChild(A)});return function(j){return B.apply(this,arguments)}}()),A.present()}catch{M.fileInputExperience(w,R,E)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),M.fileInputExperience(w,R,E)})()}fileInputExperience(w,R,E){let M=document.querySelector("#_capacitor-camera-input");const A=()=>{var B;null===(B=M.parentNode)||void 0===B||B.removeChild(M)};M||(M=document.createElement("input"),M.id="_capacitor-camera-input",M.type="file",M.hidden=!0,document.body.appendChild(M),M.addEventListener("change",B=>{const j=M.files[0];let N="jpeg";if("image/png"===j.type?N="png":"image/gif"===j.type&&(N="gif"),"dataUrl"===w.resultType||"base64"===w.resultType){const k=new FileReader;k.addEventListener("load",()=>{if("dataUrl"===w.resultType)R({dataUrl:k.result,format:N});else if("base64"===w.resultType){const J=k.result.split(",")[1];R({base64String:J,format:N})}A()}),k.readAsDataURL(j)}else R({webPath:URL.createObjectURL(j),format:N}),A()}),M.addEventListener("cancel",B=>{E(new o.I9("User cancelled photos app")),A()})),M.accept="image/*",M.capture=!0,w.source===ie.Photos||w.source===ie.Prompt?M.removeAttribute("capture"):w.direction===$.Front?M.capture="user":w.direction===$.Rear&&(M.capture="environment"),M.click()}multipleFileInputExperience(w,R){let E=document.querySelector("#_capacitor-camera-input-multiple");const M=()=>{var A;null===(A=E.parentNode)||void 0===A||A.removeChild(E)};E||(E=document.createElement("input"),E.id="_capacitor-camera-input-multiple",E.type="file",E.hidden=!0,E.multiple=!0,document.body.appendChild(E),E.addEventListener("change",A=>{const B=[];for(let j=0;j<E.files.length;j++){const N=E.files[j];let k="jpeg";"image/png"===N.type?k="png":"image/gif"===N.type&&(k="gif"),B.push({webPath:URL.createObjectURL(N),format:k})}w({photos:B}),M()}),E.addEventListener("cancel",A=>{R(new o.I9("User cancelled photos app")),M()})),E.accept="image/*",E.click()}_getCameraPhoto(w,R){return new Promise((E,M)=>{const A=new FileReader,B=w.type.split("/")[1];"uri"===R.resultType?E({webPath:URL.createObjectURL(w),format:B,saved:!1}):(A.readAsDataURL(w),A.onloadend=()=>{const j=A.result;E("dataUrl"===R.resultType?{dataUrl:j,format:B,saved:!1}:{base64String:j.split(",")[1],format:B,saved:!1})},A.onerror=j=>{M(j)})})}checkPermissions(){var w=this;return(0,O.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw w.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw w.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var w=this;return(0,O.A)(function*(){throw w.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var w=this;return(0,O.A)(function*(){throw w.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var w=this;return(0,O.A)(function*(){throw w.unavailable("Not implemented on web.")})()}}new b;const y=(0,o.F3)("Camera",{web:()=>new b});var C=me(5402),_=me(3953),s=me(5374),l=me(9900),a=me(4234),d=me(345),c=me(755),u=!1;const h=8e4;let p=(()=>{var m;class w{constructor(E,M,A,B,j,N){this.modalCtrl=E,this.p5toast=M,this.lang=A,this.sanitizer=B,this.indexed=j,this.loadingCtrl=N,this.FocusOnPortal=!0,this.CacheShortCut={},u=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",k=>{u=!!k.matches})}initialize(){this.p5toast.HTMLEncode||(this.p5toast.HTMLEncode=this.HTMLEncode),this.p5key=new pe(E=>{E.setup=()=>{E.noCanvas(),E.noLoop(),E.KeyShortCut={}},E.keyPressed=M=>{switch(M.code){case"Backquote":E.KeyShortCut.Backquote&&E.KeyShortCut.Backquote(M);break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":case"Numpad1":case"Numpad2":case"Numpad3":case"Numpad4":case"Numpad5":case"Numpad6":case"Numpad7":case"Numpad8":case"Numpad9":case"Numpad0":if(E.KeyShortCut.Digit){let A=(Number(M.code.slice(-1))-1+10)%10;E.KeyShortCut.Digit(A)}break;case"KeyQ":case"KeyW":case"KeyE":case"KeyR":case"KeyT":E.KeyShortCut.BottomTab&&E.KeyShortCut.BottomTab(M.code.slice(-1));break;case"KeyA":E.KeyShortCut.AddAct&&E.KeyShortCut.AddAct();break;case"KeyS":E.KeyShortCut.SKeyAct&&E.KeyShortCut.SKeyAct();break;case"KeyD":E.KeyShortCut.DeleteAct&&E.KeyShortCut.DeleteAct();break;case"KeyF":E.KeyShortCut.FKeyAct&&E.KeyShortCut.FKeyAct();break;case"Escape":E.KeyShortCut.Escape&&E.KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":E.KeyShortCut.HistoryAct&&E.KeyShortCut.HistoryAct(M.code.slice(-1))}"Enter"===M.key&&E.KeyShortCut.EnterAct&&E.KeyShortCut.EnterAct(M)}})}RemoveAllModals(E=(()=>{})){var M=this;return(0,O.A)(function*(){let A="init";for(;A;)A=yield M.modalCtrl.getTop(),A&&(yield A.dismiss());E&&E()})()}CatchGETs(E){const M=E.split("?");if(M.length>1){const A=M[1].split("&");let B={};for(let j=0,N=A.length;j<N;j++){const k=A[j].split("=");B[k[0]]||(B[k[0]]=[]),B[k[0]].push(decodeURIComponent(k[1]))}return B}}readasQRCodeFromString(E){try{let M=new I({content:E,padding:4,width:8,height:8,color:u?"#bbb":"#444",background:u?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(M)}`)}catch(M){console.log("readasQRCodeFromString: ",M),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${M}`})}}CreateGodotIFrame(E,M,A=""){var B=this;return new Promise(function(){var j=(0,O.A)(function*(N){let k=function(){var ee=(0,O.A)(function*(){try{if("godot"!=window.godot)throw"No godot";if(A&&!B.godot_window[A])throw"No act ready";yield B.indexed.GetGodotIndexedDB(),N()}catch{setTimeout(()=>{k()},1e3)}});return function(){return ee.apply(this,arguments)}}();B.godot_window&&B.godot_window.quit_godot&&B.godot_window.quit_godot(),B.godot_splash&&B.godot_splash.remove(),B.godot&&B.godot.remove(),window.godot="";let J=document.createElement("iframe");J.id="godot",J.setAttribute("src","assets/html/index.html"),J.setAttribute("frameborder","0"),J.setAttribute("class","full_screen"),J.setAttribute("allow","fullscreen; encrypted-media"),J.setAttribute("scrolling","no"),J.setAttribute("withCredentials","true"),"content_viewer_canvas"==E&&(M.create_thumbnail_p5=function(){var ee=(0,O.A)(function*(H,G=void 0){new pe(K=>{K.setup=()=>{K.noCanvas(),K.pixelDensity(1),K.loadImage("data:image/png;base64,"+H,function(){var le=(0,O.A)(function*(Oe){let Y=K.createCanvas(Oe.width,Oe.height);K.image(Oe,0,0),K.textSize(16),K.textWrap(K.CHAR);let P=K.height/24;K.push(),K.translate(P/6,P/6),K.fill(0),K.text(B.godot_window.filename,P,P,K.width-2*P,K.height-2*P),K.filter(K.BLUR,3,!1),K.pop(),K.fill(255),K.text(B.godot_window.filename,P,P,K.width-2*P,K.height-2*P);let re=Y.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{yield B.indexed.saveBase64ToUserPath(re,`${M.alt_path||M.path}_thumbnail.png`),B.modulate_thumbnail(G,"")}catch(ge){console.log("p.saveFrames: ",ge)}K.remove()});return function(Oe){return le.apply(this,arguments)}}(),le=>{console.error("create_thumbnail_load thumbnail failed: ",le),K.remove()})}})});return function(H){return ee.apply(this,arguments)}}()),document.getElementById(E).appendChild(J),B.godot_window=J.contentWindow||J.contentDocument,Object.keys(M).forEach(ee=>B.godot_window[ee]=M[ee]),B.godot=J,yield k()});return function(N){return j.apply(this,arguments)}}())}req_file_info(E){var M=this;return(0,O.A)(function*(){return new Promise(function(){var A=(0,O.A)(function*(B){B(yield M.indexed.GetFileInfoFromDB(E))});return function(B){return A.apply(this,arguments)}}())})()}req_file_part_base64(E,M,A){let B="",j=new Uint8Array(E.contents.slice(M*h,(M+1)*h));for(let k=0,J=j.byteLength;k<J;k++)B+=String.fromCharCode(j[k]);let N=btoa(B);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:M}),`${A}.history`),N}save_file_part(E,M,A){this.indexed.saveBase64ToUserPath(","+A,`${E}_part/${M}.part`),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:M}),`${E}.history`)}remove_req_file_info(E,M){delete E.content.transfer_index,this.indexed.removeFileFromUserPath(`${M}.history`)}modulate_thumbnail(E,M,A){var B=this;return(0,O.A)(function*(){try{let j=yield B.indexed.loadBlobFromUserPath(`${E.path}_thumbnail.png`,"image/png"),N=URL.createObjectURL(j);return E.thumbnail=B.sanitizer.bypassSecurityTrustUrl(N),void setTimeout(()=>{URL.revokeObjectURL(N),M&&URL.revokeObjectURL(M)},100)}catch{}switch(E.viewer){case"image":try{if(!E.url)throw"No URL";if(!(yield fetch(E.url,{signal:null==A?void 0:A.signal})).ok)throw"Not ok";E.thumbnail=E.url}catch{M&&(E.thumbnail=B.sanitizer.bypassSecurityTrustUrl(M))}break;case"text":if(E.url){let j=yield fetch(E.url,{signal:null==A?void 0:A.signal}).then(N=>N.text());E.text=j.split("\n")}else new pe(j=>{j.setup=()=>{j.noCanvas(),j.loadStrings(M,N=>{E.text=N,URL.revokeObjectURL(M),j.remove()},N=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",N),E.text=[B.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(M),j.remove()})}})}M&&setTimeout(()=>{URL.revokeObjectURL(M)},100)})()}set_viewer_category(E){try{if(this.set_viewer_category_from_ext(E),"disabled"==E.viewer)if(0==E.type.indexOf("image/"))E.viewer="image";else if(0==E.type.indexOf("audio/"))E.viewer="audio";else if(0==E.type.indexOf("video/"))E.viewer="video";else{if(0!=E.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";E.viewer="text"}}catch(M){console.log("\ubd88\ud655\uc2e4\ud55c \ud0c0\uc785 \uc9c0\uc815: ",M,"/ type: ",E.type)}}set_viewer_category_from_ext(E){switch(E.file_ext){case"blend":E.viewer="blender";break;case"pck":E.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":case"svg":E.viewer="image";break;case"wav":case"ogg":case"mp3":case"aac":E.viewer="audio";break;case"mp4":case"ogv":E.viewer="video";break;case"webm":E.viewer=0==E.type.indexOf("video/")?"video":"audio";break;case"sh":case"c":case"cs":case"ts":case"js":case"cc":case"php":case"h":case"cpp":case"rs":case"java":case"gd":case"shader":case"py":case"ino":case"pde":case"asm":case"bas":case"pas":case"asp":case"html":case"xml":case"css":case"scss":case"pl":case"md":case"prop":case"properties":case"json":case"yml":E.viewer="code";break;case"csv":case"conf":case"log":case"txt":case"gitignore":E.viewer="text";break;case"pdf":E.viewer="pdf";break;default:E.viewer="disabled"}}GetBase64ThroughFileReader(E){return new Promise((M,A)=>{var B;let j=new FileReader;j=null!==(B=j._realReader)&&void 0!==B?B:j,j.onload=N=>{j.onload=null,j.onerror=null,M(N.target.result.replace(/"|\\|=/g,""))},j.onerror=N=>{j.onload=null,j.onerror=null,A(N)},j.readAsDataURL(E)})}Base64ToBlob(E,M=""){let A=atob(E.split(",")[1]),B=new ArrayBuffer(A.length),j=new Int8Array(B);for(let k=0,J=A.length;k<J;k++)j[k]=A.charCodeAt(k);return new Blob([j],{type:M})}upload_file_to_storage(E,M,A,B,j,N){var k=this;return(0,O.A)(function*(){let J;J=N||(yield k.loadingCtrl.create({message:k.lang.text.Settings.TryToFallbackFS})),J.present();let z,ne=!1;j&&(z=yield k.try_upload_to_user_custom_fs(E,M,J)),J.message=k.lang.text.GlobalAct.CheckCdnServer;let ee,H=new AbortController;try{if(z)throw ne=!0,"\uc0ac\uc6a9\uc790 \uc9c0\uc815\uc11c\ubc84\uc5d0\uc11c \uc774\ubbf8 \uc131\uacf5\ud568";let G=(new Date).getTime(),K=E.filename.substring(0,E.filename.lastIndexOf(".")),le=`${M}_${K}_${G}.${E.file_ext}`;z=`${A}//${B}:9002/cdn/${le}`,ee=setInterval((0,O.A)(function*(){let ge=yield fetch(`${A}//${B}:9001/filesize/${le}`,{method:"POST",signal:H.signal}),Te=Number(yield ge.text()),Ge=Math.floor(Te/E.size*100);J.message=`${E.filename}: ${Ge||0}%`}),700);let Oe=new FormData,Y=new File([E.blob],le);if(Oe.append("files",Y),!(yield fetch(`${A}//${B}:9001/cdn/${le}`,{method:"POST",body:Oe})).ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";if(clearInterval(ee),H.abort(),!(yield fetch(z)).ok)throw"\uc694\uccad \uc2e4\ud328";ne=!0}catch(G){clearInterval(ee),H.abort(),J.message=k.lang.text.GlobalAct.CancelingUpload,console.warn("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",G)}return J.dismiss(),ne?z:void 0})()}remove_file_from_storage(E){return(0,O.A)(function*(){let M=E.split("/cdn/"),A=M.pop(),B=M.shift(),j=B.lastIndexOf(":");j>5&&(B=B.substring(0,j)),yield fetch(`${B}:9001/remove/${A}`,{method:"POST"})})()}remove_files_from_storage_with_key(E,M){return(0,O.A)(function*(){let A=E.lastIndexOf(":");A>5&&(E=E.substring(0,A)),yield fetch(`${E}:9001/remove_key/${M}`,{method:"POST"})})()}try_upload_to_user_custom_fs(E,M,A,B){var j=this;return(0,O.A)(function*(){let N;N=A||(yield j.loadingCtrl.create({message:j.lang.text.Settings.TryToFallbackFS}));let H,k=(new Date).getTime(),J=E.filename.substring(0,E.filename.lastIndexOf(".")),ne=`${M}_${J}_${k}.${E.file_ext}`,z=new FormData,ee=new File([E.blob],ne);z.append("files",ee),B||(B=localStorage.getItem("fallback_fs"));let G,K=new AbortController;try{if(!B)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let le=B.split("://"),Oe=le.pop().split(":"),Y=le.pop();if(Y?Y+=":":Y=j.checkProtocolFromAddress(Oe[0])?"https:":"http:",H=`${Y}//${Oe[0]}:${Oe[1]||9002}/cdn/${ne}`,G=setInterval((0,O.A)(function*(){let ge=yield fetch(`${Y}//${Oe}:9001/filesize/${ne}`,{method:"POST",signal:K.signal}),Te=Number(yield ge.text()),Ge=Math.floor(Te/E.size*100);A&&(A.message=`${E.filename}: ${Ge||0}%`)}),700),!(yield fetch(`${Y}//${Oe[0]}:9001/cdn/${ne}`,{method:"POST",body:z})).ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";clearInterval(G),K.abort();let re=yield fetch(H);if(A||N.dismiss(),re.ok)return H;throw"\uc694\uccad \uc2e4\ud328"}catch{return clearInterval(G),K.abort(),void(A||N.dismiss())}})()}checkProtocolFromAddress(E){return!!E.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")}load_blender_file(E,M,A,B,j,N){var k=this;return new pe(J=>{let G,ne=[],z=[],H={};J.setup=(0,O.A)(function*(){let le,K=J.createCanvas(E.clientWidth,E.clientHeight,J.WEBGL);K.parent(E),J.canvas=K,J.textureMode(J.NORMAL),J.textureWrap(J.REPEAT),J.clear(255,255,255,0),J.pixelDensity(1);try{le=yield k.indexed.loadBlobFromUserPath(M.path,M.type||"")}catch{try{le=yield(yield fetch(M.url,{signal:null==N?void 0:N.signal})).blob()}catch(P){console.log("\ubdf0\uc5b4\uc5d0\uc11c \ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",P),j()}}let Oe=J.createElement("iframe");Oe.elt.id="jsBlend",Oe.elt.setAttribute("src","assets/js.blend/index.html"),Oe.elt.setAttribute("frameborder","0"),Oe.elt.setAttribute("class","full_screen"),Oe.elt.setAttribute("allow","fullscreen; encrypted-media"),Oe.elt.setAttribute("scrolling","no"),Oe.elt.setAttribute("withCredentials","true"),Oe.hide(),E.appendChild(Oe.elt),Oe.elt.contentWindow.TARGET_FILE=le,Oe.elt.onload=(0,O.A)(function*(){if(!le)return k.p5toast.show({text:k.lang.text.ContentViewer.CannotOpenText}),void(A&&A.dismiss());G=J.createDiv(),G.parent(E),G.id("logDiv"),G.style("position","absolute"),G.style("top","0"),G.style("left","0"),G.style("width","100%"),G.style("height","100%"),G.style("max-height",`${E.clientHeight}px`),G.style("pointer-events","none");let Y=yield Oe.elt.contentWindow.JSBLEND(le);const P=100;let re=Y.file.AB;if(Y.file.objects.PackedFile)for(let Ze=0,yt=Y.file.objects.PackedFile.length;Ze<yt;Ze++){let Ct=Y.file.objects.PackedFile[Ze],sn=Ct.data.__data_address__,un=re.slice(sn,sn+Ct.size),Bt=new Blob([un]),mn=URL.createObjectURL(Bt);J.loadImage(mn,Yt=>{H[Ct.data.__data_address__]=Yt,URL.revokeObjectURL(mn)},Yt=>{console.log("\ud14d\uc2a4\uccd0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",Yt),URL.revokeObjectURL(mn)})}let ge=Y.file.objects.vec2f,Te=0,Ge=Y.file.objects.Mesh,qe=Y.file.objects.vec3f,ht=0,ze=Y.file.objects.vec2i,st=0;for(let Ze=0,yt=Y.file.objects.Object.length;Ze<yt;Ze++){let Ct=Y.file.objects.Object[Ze];A&&(A.message=`${k.lang.text.ContentViewer.ReadObject}: ${Ct.aname}`);let sn=J.createVector(-Ct.loc[0]*P,-Ct.loc[2]*P,Ct.loc[1]*P),$t=J.createVector(Ct.rot[0],Ct.rot[2],-Ct.rot[1]);switch(Ct.type){case 1:{{let Ae=["noimp","colonly","convcolonly","navmesh"],Ke=!1;for(let _t=0,Ft=Ae.length;_t<Ft;_t++)if(-1!==Ct.aname.indexOf(Ae[_t],Ct.aname.length-Ae[_t].length)){Ke=!0;break}if(Ke||(Ke=448==Ct.base_flag),Ke)continue}let Bt,mn,Yt,fn,un=null;for(let Ae=0,Ke=Ge.length;Ae<Ke;Ae++)if(Ge[Ae].address==Ct.data.address){un=Ae;break}try{let Ae=-1;for(let Ke=0,_t=ge.length;Ke<_t;Ke++)if(ge[Ke].address&&(Ae++,Ae==un)){Te=Ke;break}}catch{}try{let Ae=-1,Ke=!1,_t=qe.length;for(let Ft=0;Ft<_t;Ft++)if(qe[Ft].address){if(Ae++,Ke){Bt=qe.slice(ht,Ft);break}Ae==un&&(ht=Ft,Ke=!0)}Bt||(Bt=qe.slice(ht,_t))}catch{}try{let Ae=-1,Ke=!1,_t=ze.length;for(let Ft=0;Ft<_t;Ft++)if(ze[Ft].address){if(Ae++,Ke){mn=ze.slice(st,Ft);break}Ae==un&&(st=Ft,Ke=!0)}mn||(mn=ze.slice(st,_t))}catch{}if(Ct.data.ldata.layers.length)for(let Ae=0,Ke=Ct.data.ldata.layers.length;Ae<Ke;Ae++)11===Ct.data.ldata.layers[Ae].type&&(fn=Ct.data.ldata.layers[Ae].data);else fn=Ct.data.ldata.layers.data;J.beginGeometry(),J.push(),J.translate(sn),J.scale(Ct.size[0],Ct.size[2],Ct.size[1]),Ct.rot[0]+Ct.rot[1]+Ct.rot[2]&&(G.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Ct.aname}: ${k.lang.text.ContentViewer.MayGimbalLock}</div>`,J.rotate(J.HALF_PI,$t));try{let Ae=[];for(let Ke=0,_t=Bt.length;Ke<_t;Ke++)Ae.push([]);for(let Ke=0,_t=mn.length;Ke<_t;Ke++){var lt,Be;let Ft=null!==(lt=mn[Ke].x)&&void 0!==lt?lt:mn[Ke].v1,Wt=null!==(Be=mn[Ke].y)&&void 0!==Be?Be:mn[Ke].v2;Ae[Ft].push(Wt),Ae[Wt].push(Ft)}for(let Ft,Wt,_t=fn.length-1;_t>=0;_t--){var Qe,Je,ot;let Tt=fn[_t].i,Gt=null!==(Qe=Bt[Tt].x)&&void 0!==Qe?Qe:Bt[Tt].co[0],en=null!==(Je=Bt[Tt].y)&&void 0!==Je?Je:Bt[Tt].co[1],tn=null!==(ot=Bt[Tt].z)&&void 0!==ot?ot:Bt[Tt].co[2];if(void 0!==Wt){try{if(!Ae[Wt].includes(Tt))throw"\ub9c8\uc9c0\ub9c9 \uc810\uc73c\ub85c\ubd80\ud130 \uadf8\ub9b4 \uc218 \uc5c6\uc74c";J.vertex(-Gt*P,-tn*P,en*P,ge[Te+_t].x,-ge[Te+_t].y);let tt=!1;if(Wt!=Ft&&(tt=Ae[Tt].includes(Ft)),tt)throw"\ub3cc\uc544\uac08 \uc218 \uc788\ub294\ub370 \ub3cc\uc544\uac00\uc9c0 \uc54a\ub294\ub2e4\uba74 \uc0c8 \uc2dc\uc791\uc810\uc73c\ub85c \uc778\uc2dd"}catch{J.endShape(J.CLOSE),Wt=void 0;continue}Wt=Tt}else J.beginShape(),J.vertex(-Gt*P,-tn*P,en*P,ge[Te+_t].x,-ge[Te+_t].y),Ft=Tt,Wt=Tt}}catch(Ae){console.log("\uba54\uc26c \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Ae),G.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Ct.aname}: ${k.lang.text.ContentViewer.LoadMeshFailed}: ${Ae}</div>`}J.pop(),Yt=J.endGeometry();let ln,Vt,Ve,Xe=0;try{if(!Ct.data.mat.length)throw"no_mat";for(let Ae=0,Ke=Ct.data.mat.length;Ae<Ke;Ae++){try{let _t=Ct.data.mat[Ae].nodetree.nodes.first.next.inputs.first.default_value.value;Vt=J.color(255*_t[0],255*_t[1],255*_t[2],255*_t[3])}catch(_t){console.log("\ubca0\uc774\uc2a4 \uc0c9\uc0c1 \uac00\uc838\uc624\uae30 \uc2e4\ud328: ",_t),G.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Ct.aname}: ${k.lang.text.ContentViewer.FailedGetBaseColor}: ${_t}</div>`}try{let _t=Ct.data.mat[Ae].nodetree.nodes.first.next.inputs.last.prev.default_value.value;Xe=Ct.data.mat[Ae].nodetree.nodes.first.next.inputs.last.default_value.value,Ve=J.color(255*_t[0],255*_t[1],255*_t[2],255*_t[3])}catch(_t){G.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Ct.aname}: ${k.lang.text.ContentViewer.FailedGetEmitColor}: ${_t}</div>`}if(Ct.data.mat[Ae].nodetree.nodes.last.id){let _t=Ct.data.mat[Ae].nodetree.nodes.last.id.packedfile;if(!_t)throw"unpacked";ln=_t.data.__data_address__}}}catch(Ae){switch(Ae){case"unpacked":G.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Ct.aname}: ${k.lang.text.ContentViewer.LinkedTexFile}</div>`;break;case"no_mat":G.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${Ct.aname}: ${k.lang.text.ContentViewer.NoMaterial}</div>`;break;default:console.log(Ct.aname,"_\uc7ac\uc9c8 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Ae),G.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${Ct.aname}: ${Ae}</div>`}}Yt.computeNormals(),z.push({id:Ct.data.address,name:Ct.data.aname,color:Vt,emissionColor:Ve,emissionStrength:Xe,texture:ln,mesh:Yt})}break;case 10:ne.length<5?(G.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${Ct.aname}: ${k.lang.text.ContentViewer.OnWorkReadLightMode}</div>`,ne.push({type:"point",loc:sn,rot:$t,color:J.color(255,255,255)})):G.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${Ct.aname}: ${k.lang.text.ContentViewer.ReachLightLimit}</div>`}yield new Promise(un=>setTimeout(un,0))}A&&A.dismiss(),setTimeout(()=>{G.elt.remove()},8e3),B(),Oe.elt.onload=null}),J.camera(0,0,-J.height/2/J.tan(30*J.PI/180),0,0,0,0,1,0)}),J.draw=()=>{if(J.clear(255,255,255,0),J.orbitControl(),ne.length)for(let K=0,le=ne.length;K<le;K++)"point"===ne[K].type&&J.pointLight(ne[K].color,ne[K].loc);else J.directionalLight(128,128,128,-1,1,1);J.ambientLight(128);for(let K=0,le=z.length;K<le;K++)J.push(),z[K].texture?(J.noStroke(),H[z[K].texture]&&J.texture(H[z[K].texture])):z[K].color&&(J.noStroke(),J.ambientMaterial(z[K].color)),z[K].emissionStrength&&(J.noStroke(),J.emissiveMaterial(z[K].emissionColor)),J.model(z[K].mesh),J.pop()},J.windowResized=()=>{setTimeout(()=>{E.style.maxHeight=window.innerHeight-56-45+"px",G&&G.style("max-height",`${E.clientHeight}px`),J.resizeCanvas(E.clientWidth,E.clientHeight)},50)}})}StoreShortCutAct(E){this.CacheShortCut[E]=this.p5key.KeyShortCut,this.p5key.KeyShortCut={}}RestoreShortCutAct(E){this.p5key.KeyShortCut=this.CacheShortCut[E],delete this.CacheShortCut[E]}from_camera(E,M){var A=this;return(0,O.A)(function*(){let B={},j=yield A.loadingCtrl.create({message:A.lang.text.TodoDetail.WIP});try{const N=yield y.getPhoto({quality:90,resultType:v.Base64,source:ie.Camera});j.present(),B.filename=`Camera_${(new Date).toLocaleString().replace(/[:|.|\/]/g,"_")}.${N.format}`,B.file_ext=N.format,B.base64="data:image/jpeg;base64,"+N.base64String,B.thumbnail=A.sanitizer.bypassSecurityTrustUrl(B.base64),B.type=`image/${N.format}`,B.typeheader="image",B.content_related_creator=[{user_id:M.user_id,timestamp:(new Date).getTime(),display_name:M.display_name,various:"camera"}],B.content_creator={user_id:M.user_id,timestamp:(new Date).getTime(),display_name:M.display_name,various:"camera"},B.path=`${E}${B.filename}`,B.viewer="image";let J=yield A.indexed.saveBase64ToUserPath(B.base64,B.path);B.blob=new Blob([J],{type:B.type}),B.size=B.blob.size}catch(N){throw console.log("\uce74\uba54\ub77c \ud589\ub3d9 \uc2e4\ud328: ",N),N}return j.dismiss(),B})()}selected_blobFile_callback_act(E,M,A,B="loaded",j=[]){let N={};return N.filename=E.name,N.file_ext=E.name.split(".").pop()||E.type||this.lang.text.ChatRoom.unknown_ext,N.size=E.size,N.type=E.type||E.type_override,N.path=`${M}${N.filename}`,N.blob=E,N.content_related_creator=[...j,{user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:B}],N.content_creator={user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:B},this.set_viewer_category(N),N}voidDraw_fileAct_callback(E,M,A,B){var j=this;return(0,O.A)(function*(){let N={};N.filename=E.data.name,N.file_ext="png",N.type="image/png",N.viewer="image",B?(N.content_related_creator=B,N.content_creator={user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:"voidDraw"}):(N.content_related_creator=[{user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:"voidDraw"}],N.content_creator={timestamp:(new Date).getTime(),display_name:j.CallbackNakama.users.self.display_name,various:"voidDraw"}),N.typeheader="image",N.path=`${M}${N.filename}`,N.thumbnail=j.sanitizer.bypassSecurityTrustUrl(E.data.img);let k=yield j.indexed.saveBase64ToUserPath(E.data.img,N.path),J=new Blob([k],{type:N.type});return N.blob=new File([J],E.data.name),N.size=N.blob.size,E.data.loadingCtrl.dismiss(),N})()}TextEditorNewFileName(){let E=new Date;return`texteditor_${E.getUTCFullYear()}-${("0"+(E.getMonth()+1)).slice(-2)}-${("0"+E.getDate()).slice(-2)}_${("0"+E.getHours()).slice(-2)}-${("0"+E.getMinutes()).slice(-2)}-${("0"+E.getSeconds()).slice(-2)}.txt`}TextEditorAfterAct(E,M){let A={};return A.content_creator={user_id:M.user_id,timestamp:(new Date).getTime(),display_name:M.display_name,various:"textedit"},A.content_related_creator=[],A.content_related_creator.push(A.content_creator),A.blob=E.blob,A.path=E.path,A.size=E.blob.size,A.filename=E.blob.name||this.TextEditorNewFileName(),A.file_ext=A.filename.split(".").pop(),A.type="text/plain",A.typeheader="text",A.viewer="text",A}open_custom_site(E){try{let j,M=E.split("://"),B=M.pop().split(":");B.length>1&&B.pop();try{j="https"==M[0]||"wss"==M[0]}catch{j=this.checkProtocolFromAddress(B[0])}B[0]="//"+B[0],B.unshift(j?"https":"http"),("DesktopPWA"==mt.aH||"MobilePWA"==mt.aH)&&window.open(B.join(":")+":9001","_blank")}catch{}}open_link(E){E&&window.open(E,"_blank")}GetValueFromClipboard(){return(0,O.A)(function*(){const E=yield navigator.clipboard.read();let M={type:void 0,value:void 0};try{for(let A of E)for(let B of A.types){let j=yield A.getType(B);if("image/png"==B){M.type=B;let N=new File([j],"image.png");M.value=N;break}if("text/plain"==B){M.type=B,M.value=yield j.text();break}}return M}catch(A){throw console.error("\ud074\ub9bd\ubcf4\ub4dc\uc5d0\uc11c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",A),M.type="error",M.value=A,M}})()}WriteValueToClipboard(E,M,A){var B=this;return(0,O.A)(function*(){try{let j={},N=M;"text/plain"==E&&(N=new Blob([M],{type:E})),j[E]=N,yield navigator.clipboard.write([new ClipboardItem(j)]),"DesktopPWA"==mt.aH&&B.p5toast.show({text:`${B.lang.text.GlobalAct.PCClipboard}: ${A||M}`})}catch(j){throw console.log("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ud558\uae30 \uc624\ub958: ",j),B.p5toast.show({text:`${B.lang.text.GlobalAct.ClipboardFailed}: ${j}`}),j}})()}HTMLEncode(E){let M=(E=[...E]).length,A=[];for(;M--;){let B=E[M].codePointAt(0);A[M]=B<65||B>127||B>90&&B<97?"&#"+B+";":E[M]}return A.join("")}StopAndSaveVoiceRecording(){var E=this;return(0,O.A)(function*(){try{let M=yield C.R.stopRecording(),A=E.Base64ToBlob(`${M.value.mimeType},${M.value.recordDataBase64}`);return A.name=`${E.lang.text.ChatRoom.VoiceRecord}.${M.value.mimeType.split("/").pop().split(";")[0]}`,A.type_override=M.value.mimeType,A}catch(M){throw E.p5toast.show({text:`${E.lang.text.AddPost.FailedToSaveVoice}:${M}`}),M}})()}}return(m=w).\u0275fac=function(E){return new(E||m)(_.KVO(s.W3),_.KVO(l.G),_.KVO(a.y),_.KVO(d.up),_.KVO(c.n),_.KVO(s.Xi))},m.\u0275prov=_.jDH({token:m,factory:m.\u0275fac,providedIn:"root"}),w})()},755:(En,qt,me)=>{"use strict";me.d(qt,{n:()=>o});var O=me(467),I=me(3953),pe=me(9900),mt=me(4234);let o=(()=>{var ie;class ${constructor(b,g){this.p5toast=b,this.lang=g}initialize(b=(()=>{})){if(this.ionicDB)return void b();let g=indexedDB.open("/ionicfs",10),y=()=>{g.onsuccess=null,g.onupgradeneeded=null,g.onerror=null};g.onsuccess=C=>{C.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=l=>{this.ionicDB=l.target.result,b(),y()}},g.onupgradeneeded=C=>{C.target.result.createObjectStore("FILE_DATA")},g.onerror=C=>{indexedDB.open("/ionicfs",11).onsuccess=s=>{this.ionicDB=s.target.result,b(),y()}}}GetGodotIndexedDB(){var b=this;return(0,O.A)(function*(){if(!b.godotDB)return new Promise((g,y)=>{let C=indexedDB.open("/userfs",21),_=()=>{C.onsuccess=null,C.onerror=null};C.onsuccess=s=>{b.godotDB=C.result,_(),g(void 0)},C.onerror=s=>{console.error("IndexedDB initialized failed: ",s),_(),y(s)}})})()}createRecursiveDirectory(b,g=this.ionicDB){let y=b.lastIndexOf("/"),C=b.substring(0,y);C&&this.checkIfFileExist(C,_=>{let s=g.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${C}`),l=()=>{s.onsuccess=null,s.onerror=null};s.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",b),this.createRecursiveDirectory(C,g),l()},s.onerror=a=>{console.error("IndexedDB createRecursiveDirectory failed: ",a),l()}})}createDirectory(b){return new Promise((g,y)=>{this.checkIfFileExist(b,C=>{let _=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${b}`),s=()=>{_.onsuccess=null,_.onerror=null};_.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",b),s(),g(void 0)},_.onerror=l=>{console.error("IndexedDB createRecursiveDirectory failed: ",l),s(),y(l)}})})}saveTextFileToUserPath(b,g,y=(_=>{}),C=this.ionicDB){return this.createRecursiveDirectory(g,C),new Promise((_,s)=>{let l=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(b)},`/userfs/${g}`),a=()=>{l.onsuccess=null,l.onerror=null};l.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),y(d),a(),_(d)},l.onerror=d=>{a(),s(d)}})}saveBase64ToUserPath(b,g,y=(_=>{}),C=this.ionicDB){return new Promise((_,s)=>{let l=atob(b.split(",")[1]),a=new ArrayBuffer(l.length),d=new Int8Array(a);for(let u=0,h=l.length;u<h;u++)d[u]=l.charCodeAt(u);this.createRecursiveDirectory(g,C);let c=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:d},`/userfs/${g}`);c.onsuccess=u=>{"success"!=u.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),c.onsuccess=null,c.onerror=null,y(d),_(d)},c.onerror=u=>{c.onsuccess=null,c.onerror=null,s(u)}})}saveInt8ArrayToUserPath(b,g,y=this.ionicDB){return new Promise((C,_)=>{this.createRecursiveDirectory(g,y);let s=y.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:b},`/userfs/${g}`);s.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),s.onsuccess=null,s.onerror=null,C()},s.onerror=l=>{s.onsuccess=null,s.onerror=null,_(l)}})}saveBlobToUserPath(b,g,y=(_=>{}),C=this.ionicDB){var _=this;return new Promise(function(){var s=(0,O.A)(function*(l,a){let d;try{let u=yield b.arrayBuffer();d=new Int8Array(u)}catch(u){a(u)}_.createRecursiveDirectory(g,C);let c=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:d},`/userfs/${g}`);c.onsuccess=u=>{"success"!=u.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),c.onsuccess=null,c.onerror=null,y(d),l(d)},c.onerror=u=>{c.onsuccess=null,c.onerror=null,a(u)}});return function(l,a){return s.apply(this,arguments)}}())}saveFileToUserPath(b,g,y=(_=>{}),C=this.ionicDB){return this.createRecursiveDirectory(g,C),new Promise((_,s)=>{let l=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(b,`/userfs/${g}`);l.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),l.onsuccess=null,l.onerror=null,y(a),_(a)},l.onerror=a=>{l.onsuccess=null,l.onerror=null,s(a)}})}checkIfFileExist(b,g=(C=>{}),y=this.ionicDB){return new Promise((C,_)=>{let s=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${b}`);s.onsuccess=l=>{let a=l.target.result;s.onsuccess=null,s.onerror=null,g(a),C(a)},s.onerror=l=>{s.onsuccess=null,s.onerror=null,_(l)}})}GetFileListFromDB(b,g=(C=>{}),y=this.ionicDB){let C=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((_,s)=>{C.onsuccess=l=>{const a=l.target.result;for(let d=a.length-1;d>=0;d--)a[d].includes(b)?a[d]=a[d].substring(8):a.splice(d,1);C.onsuccess=null,C.onerror=null,g(a),_(a)},C.onerror=l=>{C.onsuccess=null,C.onerror=null,s(l)}})}GetFileInfoFromDB(b,g=(C=>{}),y=this.ionicDB){let C=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);return new Promise((_,s)=>{C.onsuccess=l=>{const a=l.target.result;C.onsuccess=null,C.onerror=null,g(a),_(a)},C.onerror=l=>{C.onsuccess=null,C.onerror=null,s(l)}})}loadTextFromUserPath(b,g=((C,_)=>{}),y=this.ionicDB){return new Promise(C=>{let _=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);_.onsuccess=s=>{if(s.target.result){let l=(new TextDecoder).decode(s.target.result.contents);_.onsuccess=null,_.onerror=null,g(!0,l),C(l)}else _.onsuccess=null,_.onerror=null,g(!1,`No file: , ${b}`),C(void 0)},_.onerror=s=>{console.error("IndexedDB loadTextFromUserPath failed: ",s),_.onsuccess=null,_.onerror=null,C(void 0)}})}loadBlobFromUserPath(b,g,y=(_=>{}),C=this.ionicDB){let _=C.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);return new Promise((s,l)=>{_.onsuccess=a=>{try{let d=new Blob([a.target.result.contents],{type:g});_.onsuccess=null,_.onerror=null,y(d),s(d)}catch(d){_.onsuccess=null,_.onerror=null,l(d)}},_.onerror=a=>{_.onsuccess=null,_.onerror=null,l(a)}})}DownloadFileFromUserPath(b,g,y,C=this.ionicDB){let _=C.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);_.onsuccess=s=>{try{let l=new Blob([s.target.result.contents],{type:g}),a=URL.createObjectURL(l),d=document.createElement("a");d.download=y,d.href=a,document.body.appendChild(d),d.click(),document.body.removeChild(d),d.remove(),URL.revokeObjectURL(a)}catch(l){console.error("DownloadFileFromUserPath: ",l),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${l}`})}_.onsuccess=null,_.onerror=null},_.onerror=s=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",s),_.onsuccess=null,_.onerror=null}}removeFileFromUserPath(b,g=(C=>{}),y=this.ionicDB){let C=y.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${b}`);return new Promise((_,s)=>{C.onsuccess=l=>{C.onsuccess=null,C.onerror=null,g(l),_(l)},C.onerror=l=>{C.onsuccess=null,C.onerror=null,s(l)}})}}return(ie=$).\u0275fac=function(b){return new(b||ie)(I.KVO(pe.G),I.KVO(mt.y))},ie.\u0275prov=I.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),$})()},4234:(En,qt,me)=>{"use strict";me.d(qt,{y:()=>o});var O=me(467),I=me(8326),mt=me(3953);let o=(()=>{var ie;class ${constructor(){this.text={Front:{},Portal:{},Main:{},Arcade:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{},Settings:{},Community:{},MinimalChat:{},voidDraw:{},PostViewer:{},TodoDetail:{},InstantCall:{}},this.isFirstTime=!0,this.lang=navigator.language.split("-")[0];let b=localStorage.getItem("lang");b&&(this.lang=b),setTimeout(()=>{this.load_selected_lang()},0)}load_selected_lang(){var b=this;return(0,O.A)(function*(){return yield new Promise((g,y)=>{new I(C=>{C.setup=()=>{C.noCanvas(),C.loadTable("assets/data/translate.csv","csv","header",_=>{let s;_.columns.includes(b.lang)||(b.lang="en"),localStorage.setItem("lang",b.lang);for(let l=0,a=_.rows.length;l<a;l++)"#"==_.rows[l].obj["#"].charAt(0)?(s=_.rows[l].obj["#"].substring(3),b.text[s]||(b.text[s]={})):b.text[s][_.rows[l].obj["#"]]=_.rows[l].obj[b.lang];b.isFirstTime&&b.Callback_nakama(),g(void 0),C.remove()},_=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",_),y(_),C.remove()})}})})})()}}return(ie=$).\u0275fac=function(b){return new(b||ie)},ie.\u0275prov=mt.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"}),$})()},5547:(En,qt,me)=>{"use strict";me.d(qt,{r:()=>$});var O=me(467),I=me(9349),pe=me(963),mt=me(3953),o=me(755),ie=me(4234);let $=(()=>{var v;class b{constructor(y,C){this.indexed=y,this.lang=C,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.WebNoties={}}change_silent_settings(y){this.settings.silent[y]=!this.settings.silent[y],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(y,C)=>{y&&C&&(this.settings=JSON.parse(C)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){var y=this;return(0,O.A)(function*(){y.ClearNoti(11),"serviceWorker"in navigator?(y.MobileSWReg=window.swReg,navigator.serviceWorker.addEventListener("message",C=>{if(C.data.reply){if("12"===C.data.data){let _={msg:C.data.reply};if(!_.msg.trim())return;_.name=y.Sq_client.MyUserName,y.Sq_client.send(JSON.stringify(_))}}else window.swRegListenerCallback[C.data.data]&&window.swRegListenerCallback[C.data.data](),delete window.swRegListenerCallback[C.data.data]})):console.log("Service Worker is not supported in this browser.")})()}RegisterNofiticationActionType(){"DesktopPWA"==I.aH||"MobilePWA"==I.aH||pe.W.registerActionTypes({types:[{id:"group_dedi",actions:[{id:"reply",title:this.lang.text.MinimalChat.Noti_Reply,input:!0}]},{id:"chatroom_reply",actions:[{id:"reply",title:this.lang.text.MinimalChat.Noti_Reply,input:!0}]}]})}PushLocal(y,C="favicon",_=(()=>{})){var s=this;return(0,O.A)(function*(){if("DesktopPWA"==I.aH||"MobilePWA"==I.aH){if(document.hasFocus()&&s.Current==C||!s.settings.silent[y.icon||y.smallIcon_ln||C||"icon_mono"]||y.triggerWhen_ln)return;const a={badge:`assets/badge/${y.icon||y.smallIcon_ln||C||"favicon"}.png`,body:y.body,icon:`assets/icon/${y.icon||y.smallIcon_ln||C||"favicon"}.png`,image:y.image,silent:!s.settings.silent[y.icon||y.smallIcon_ln]||!1,tag:`${y.id}`,actions:y.actions_wm,data:y.data_wm,requireInteraction:!!y.actions_wm};try{if(s.WebNoties[y.id]){try{s.WebNoties[y.id].close()}catch{}delete s.WebNoties[y.id]}yield s.MobileSWReg.showNotification(y.title,{...a});let d=yield s.MobileSWReg.getNotifications();for(let c=0,u=d.length;c<u;c++)if(d[c].tag==`${y.id}`){s.WebNoties[y.id]=d[c];break}window.swRegListenerCallback[y.id]=()=>{_(),window.focus(),s.WebNoties[y.id].close()}}catch{}}else{var l;if(s.Current==C||!s.settings.silent[y.icon||y.smallIcon_ln||C||"icon_mono"])return;let a={id:y.id,title:y.title,body:y.body,schedule:y.triggerWhen_ln,iconColor:`#${y.iconColor_ln||"ffd94e"}`,extra:y.extra_ln,autoCancel:y.autoCancel_ln,largeIcon:y.icon,smallIcon:y.smallIcon_ln||C||"icon_mono",group:y.group_ln,groupSummary:y.groupSummary_ln,summaryText:y.groupSummaryText_ln,ongoing:y.ongoing_ln,actionTypeId:null===(l=y.actions_ln)||void 0===l?void 0:l.shift()};y.image&&(a.attachments=[{id:"0",url:y.image}]);let d=Object.keys(a);for(let c=0,u=d.length;c<u;c++)void 0===a[d[c]]&&delete a[d[c]];pe.W.schedule({notifications:[a]})}})()}GetNotificationIds(y=(C=>{})){"DesktopPWA"==I.aH||"MobilePWA"==I.aH||pe.W.getPending().then(C=>{y(C.notifications)})}ClearNoti(y){"DesktopPWA"==I.aH||"MobilePWA"==I.aH?this.WebNoties[y]&&this.WebNoties[y].close():pe.W.cancel({notifications:[{id:y}]})}}return(v=b).\u0275fac=function(y){return new(y||v)(mt.KVO(o.n),mt.KVO(ie.y))},v.\u0275prov=mt.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),b})()},9347:(En,qt,me)=>{"use strict";me.d(qt,{z:()=>l});var O=me(467),I=me(617),pe=me(8326),o=me(9349),ie=me(963),$=me(3953),v=me(3656),b=me(5374),g=me(4237),y=me(9900),C=me(4234),_=me(5547),s=me(482);let l=(()=>{var a;class d{constructor(u,h,p,m,w,R,E){this.navCtrl=u,this.nakama=h,this.p5toast=p,this.lang=m,this.noti=w,this.alertCtrl=R,this.global=E,this.status="idle",this.userInput={logs:[],text:"",last_message:{}},this.ConnectedNow=0,this.funcs={onopen:M=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",M),onclose:M=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",M),onmessage:M=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",M)},this.FFS_Urls=[],this.DownloadPartManager={},this.cacheAddress="",this.IsConnected=!1}initialize(u){if(this.cacheAddress=u,"https:"==location.protocol&&0==u.indexOf("ws://"))return this.p5toast.show({text:this.lang.text.MinimalChat.cannot_join}),void this.disconnect();this.client=new WebSocket(`${u}:12013`),this.client.onopen=p=>{this.funcs.onopen(p),this.IsConnected=!0},this.client.onclose=p=>{this.funcs.onclose(p),this.IsConnected=!1,this.status="idle"},this.client.onerror=p=>{if(console.error("MiniranchatClientService \uc624\ub958 \ubc1c\uc0dd: ",p),0==u.indexOf("wss://")&&("DesktopPWA"==o.aH||"MobilePWA"==o.aH)){let m=u.split("://");window.open(`https://${m.pop()}:9001`,"_blank")}this.disconnect()},this.client.onmessage=p=>{"string"==typeof p.data?this.funcs.onmessage(p.data):p.data.text().then(m=>{this.funcs.onmessage(m)})}}RemoveListeners(){this.FFSClient&&(this.FFSClient.onopen=null),this.client&&(this.client.onopen=null,this.client.onclose=null,this.client.onerror=null,this.client.onmessage=null)}RegisterNotificationReact(){var u=this;this.noti.Sq_client=this,"DesktopPWA"!=o.aH&&"MobilePWA"!=o.aH&&ie.W.addListener("localNotificationActionPerformed",h=>{try{let p=h.notification.extra.type;switch(h.actionId){case"tap":switch(p){case"AllUserNotification":let w=`<div style="text-align: center"><img *ngIf="${h.notification.extra.image}" src="${h.notification.extra.image}" alt="mini_image" style="border-radius: 8px"></div`,R=`<div>${this.global.HTMLEncode(h.notification.extra.body)}</div>`;this.alertCtrl.create({header:h.notification.extra.title,message:new I.Vk(h.notification.extra.image?w+R:R),backdropDismiss:!1,buttons:[{text:this.lang.text.Nakama.LocalNotiOK,handler:()=>{this.nakama.servers[h.notification.extra.isOfficial][h.notification.extra.target].client.deleteNotifications(this.nakama.servers[h.notification.extra.isOfficial][h.notification.extra.target].session,[h.notification.extra.noti_id])}}]}).then(k=>k.present());break;case"MinimalChatPage":this.RejoinGroupChat();break;case"ChatRoomPage":this.nakama.go_to_chatroom_without_admob_act(this.nakama.channels_orig[h.notification.extra.isOfficial][h.notification.extra.target][h.notification.extra.id]);break;case"AddTodoMenuPage":this.nakama.open_add_todo_page(h.notification.extra.data);break;case"NakamaReqContTitle":let j=this.nakama.servers[h.notification.extra.isOfficial][h.notification.extra.Target],N="";N+=`${this.lang.text.Nakama.ReqContServer}: ${h.notification.extra.serverName}<br>`,N+=`${this.lang.text.Nakama.ReqContUserName}: ${h.notification.extra.userName}`,this.alertCtrl.create({header:this.lang.text.Nakama.ReqContTitle,message:N,buttons:[{text:this.lang.text.Nakama.ReqContAccept,handler:()=>{j.client.addGroupUsers(j.session,h.notification.extra.group_id,[h.notification.extra.user_id]).then(k=>{k||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),j.client.deleteNotifications(j.session,[h.notification.extra.noti_id]).then(J=>{J?this.nakama.update_notifications(h.notification.extra.isOfficial,h.notification.extra.Target):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",J)})})}},{text:this.lang.text.Nakama.ReqContReject,handler:()=>{j.client.kickGroupUsers(j.session,h.notification.extra.group_id,[h.notification.extra.user_id]).then(function(){var k=(0,O.A)(function*(J){J||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield j.client.deleteNotifications(j.session,[h.notification.extra.noti_id]),u.nakama.update_notifications(h.notification.extra.isOfficial,h.notification.extra.Target)});return function(J){return k.apply(this,arguments)}}())},cssClass:"redfont"}]}).then(k=>k.present())}break;case"reply":let m=h.inputValue;if("MinimalChatPage"===(this.noti.ClearNoti(h.notification.id),p)){let w={msg:m.trim()};w.name=this.MyUserName,this.send(JSON.stringify(w))}}}catch(p){console.warn("\uc54c\ub9bc \uc2e4\ud328\uc5d0 \ub300\ud574\uc11c: ",p)}})}send(u){this.client&&this.client.readyState==this.client.OPEN?this.client.send(u):this.disconnect()}CreateRejoinButton(){this.p5canvas&&this.p5canvas.remove(),this.p5canvas=new pe(u=>{u.noCanvas(),u.setup=()=>{let h=u.createDiv('<ion-icon style="width: 36px; height: 36px" name="chatbox-ellipses-outline"></ion-icon>');h.style("position: absolute; right: 0; bottom: 56px; z-index: 1"),h.style("width: 64px; height: 64px"),h.style("text-align: center; align-content: center"),h.style("cursor: pointer"),h.style("margin: 16px"),h.style("padding-top: 6px"),h.style("background-color: #8888"),h.style("border-radius: 24px"),u.OnDediMessage=p=>{h.style(`background-color: #${p}88`)},h.elt.onclick=()=>{this.RejoinGroupChat()}}})}RejoinGroupChat(){this.userInput.text="",this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("minimal-chat",{animation:I.V5,state:{address:this.cacheAddress,name:this.MyUserName}})})}disconnect(u=1e3,h="user_close"){this.FFSClient&&this.FFSClient.close(u,h),this.client&&this.client.close(u,h),this.IsConnected=!1,this.cacheAddress="",this.uuid=void 0,this.p5canvas&&this.p5canvas.remove(),this.RemoveListeners(),this.FFSClient=void 0,this.client=void 0,this.JoinedChannel=void 0,this.status="idle"}}return(a=d).\u0275fac=function(u){return new(u||a)($.KVO(v.q9),$.KVO(g.X),$.KVO(y.G),$.KVO(C.y),$.KVO(_.r),$.KVO(b.hG),$.KVO(s.z3))},a.\u0275prov=$.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),d})()},4237:(En,qt,me)=>{"use strict";me.d(qt,{I:()=>Tn,X:()=>Gn});var C,_,O=me(467),I=Object.defineProperty,pe=Object.getOwnPropertySymbols,mt=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,ie=(W,ve,je)=>ve in W?I(W,ve,{enumerable:!0,configurable:!0,writable:!0,value:je}):W[ve]=je,$=(W,ve)=>{for(var je in ve||(ve={}))mt.call(ve,je)&&ie(W,je,ve[je]);if(pe)for(var je of pe(ve))o.call(ve,je)&&ie(W,je,ve[je]);return W},v=(W,ve,je)=>new Promise((D,T)=>{var L=X=>{try{Z(je.next(X))}catch(se){T(se)}},V=X=>{try{Z(je.throw(X))}catch(se){T(se)}},Z=X=>X.done?D(X.value):Promise.resolve(X.value).then(L,V);Z((je=je.apply(W,ve)).next())}),b=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof b<"u"&&b,g_searchParams="URLSearchParams"in b,g_iterable="Symbol"in b&&"iterator"in Symbol,g_blob="FileReader"in b&&"Blob"in b&&function(){try{return new Blob,!0}catch{return!1}}(),g_formData="FormData"in b,g_arrayBuffer="ArrayBuffer"in b;function s(W){if("string"!=typeof W&&(W=String(W)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(W)||""===W)throw new TypeError('Invalid character in header field name: "'+W+'"');return W.toLowerCase()}function l(W){return"string"!=typeof W&&(W=String(W)),W}function a(W){var ve={next:function(){var je=W.shift();return{done:void 0===je,value:je}}};return g_iterable&&(ve[Symbol.iterator]=function(){return ve}),ve}function d(W){this.map={},W instanceof d?W.forEach(function(ve,je){this.append(je,ve)},this):Array.isArray(W)?W.forEach(function(ve){this.append(ve[0],ve[1])},this):W&&Object.getOwnPropertyNames(W).forEach(function(ve){this.append(ve,W[ve])},this)}function c(W){if(W.bodyUsed)return Promise.reject(new TypeError("Already read"));W.bodyUsed=!0}function u(W){return new Promise(function(ve,je){W.onload=function(){ve(W.result)},W.onerror=function(){je(W.error)}})}function h(W){var ve=new FileReader,je=u(ve);return ve.readAsArrayBuffer(W),je}function w(W){if(W.slice)return W.slice(0);var ve=new Uint8Array(W.byteLength);return ve.set(new Uint8Array(W)),ve.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(W){this.bodyUsed=this.bodyUsed,this._bodyInit=W,W?"string"==typeof W?this._bodyText=W:g_blob&&Blob.prototype.isPrototypeOf(W)?this._bodyBlob=W:g_formData&&FormData.prototype.isPrototypeOf(W)?this._bodyFormData=W:g_searchParams&&URLSearchParams.prototype.isPrototypeOf(W)?this._bodyText=W.toString():g_arrayBuffer&&g_blob&&function y(W){return W&&DataView.prototype.isPrototypeOf(W)}(W)?(this._bodyArrayBuffer=w(W.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):g_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(W)||_(W))?this._bodyArrayBuffer=w(W):this._bodyText=W=Object.prototype.toString.call(W):this._bodyText="",this.headers.get("content-type")||("string"==typeof W?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g_searchParams&&URLSearchParams.prototype.isPrototypeOf(W)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g_blob&&(this.blob=function(){var W=c(this);if(W)return W;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(h)}),this.text=function(){var W=c(this);if(W)return W;if(this._bodyBlob)return function p(W){var ve=new FileReader,je=u(ve);return ve.readAsText(W),je}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function m(W){for(var ve=new Uint8Array(W),je=new Array(ve.length),D=0;D<ve.length;D++)je[D]=String.fromCharCode(ve[D]);return je.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g_formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}g_arrayBuffer&&(C=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(W){return W&&C.indexOf(Object.prototype.toString.call(W))>-1}),d.prototype.append=function(W,ve){W=s(W),ve=l(ve);var je=this.map[W];this.map[W]=je?je+", "+ve:ve},d.prototype.delete=function(W){delete this.map[s(W)]},d.prototype.get=function(W){return W=s(W),this.has(W)?this.map[W]:null},d.prototype.has=function(W){return this.map.hasOwnProperty(s(W))},d.prototype.set=function(W,ve){this.map[s(W)]=l(ve)},d.prototype.forEach=function(W,ve){for(var je in this.map)this.map.hasOwnProperty(je)&&W.call(ve,this.map[je],je,this)},d.prototype.keys=function(){var W=[];return this.forEach(function(ve,je){W.push(je)}),a(W)},d.prototype.values=function(){var W=[];return this.forEach(function(ve){W.push(ve)}),a(W)},d.prototype.entries=function(){var W=[];return this.forEach(function(ve,je){W.push([je,ve])}),a(W)},g_iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(W,ve){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var je=(ve=ve||{}).body;if(W instanceof A){if(W.bodyUsed)throw new TypeError("Already read");this.url=W.url,this.credentials=W.credentials,ve.headers||(this.headers=new d(W.headers)),this.method=W.method,this.mode=W.mode,this.signal=W.signal,!je&&null!=W._bodyInit&&(je=W._bodyInit,W.bodyUsed=!0)}else this.url=String(W);if(this.credentials=ve.credentials||this.credentials||"same-origin",(ve.headers||!this.headers)&&(this.headers=new d(ve.headers)),this.method=function M(W){var ve=W.toUpperCase();return E.indexOf(ve)>-1?ve:W}(ve.method||this.method||"GET"),this.mode=ve.mode||this.mode||null,this.signal=ve.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&je)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(je),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==ve.cache&&"no-cache"!==ve.cache)){var D=/([?&])_=[^&]*/;D.test(this.url)?this.url=this.url.replace(D,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function B(W){var ve=new FormData;return W.trim().split("&").forEach(function(je){if(je){var D=je.split("="),T=D.shift().replace(/\+/g," "),L=D.join("=").replace(/\+/g," ");ve.append(decodeURIComponent(T),decodeURIComponent(L))}}),ve}function j(W){var ve=new d;return W.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(D){return 0===D.indexOf("\n")?D.substr(1,D.length):D}).forEach(function(D){var T=D.split(":"),L=T.shift().trim();if(L){var V=T.join(":").trim();ve.append(L,V)}}),ve}function N(W,ve){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ve||(ve={}),this.type="default",this.status=void 0===ve.status?200:ve.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===ve.statusText?"":""+ve.statusText,this.headers=new d(ve.headers),this.url=ve.url||"",this._initBody(W)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},R.call(A.prototype),R.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},N.error=function(){var W=new N(null,{status:0,statusText:""});return W.type="error",W};var k=[301,302,303,307,308];N.redirect=function(W,ve){if(-1===k.indexOf(ve))throw new RangeError("Invalid status code");return new N(null,{status:ve,headers:{location:W}})};var J=b.DOMException;try{new J}catch{(J=function(ve,je){this.message=ve,this.name=je;var D=Error(ve);this.stack=D.stack}).prototype=Object.create(Error.prototype),J.prototype.constructor=J}function ne(W,ve){return new Promise(function(je,D){var T=new A(W,ve);if(T.signal&&T.signal.aborted)return D(new J("Aborted","AbortError"));var L=new XMLHttpRequest;function V(){L.abort()}L.onload=function(){var X={status:L.status,statusText:L.statusText,headers:j(L.getAllResponseHeaders()||"")};X.url="responseURL"in L?L.responseURL:X.headers.get("X-Request-URL");var se="response"in L?L.response:L.responseText;setTimeout(function(){je(new N(se,X))},0)},L.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},L.onabort=function(){setTimeout(function(){D(new J("Aborted","AbortError"))},0)},L.open(T.method,function Z(X){try{return""===X&&b.location.href?b.location.href:X}catch{return X}}(T.url),!0),"include"===T.credentials?L.withCredentials=!0:"omit"===T.credentials&&(L.withCredentials=!1),"responseType"in L&&(g_blob?L.responseType="blob":g_arrayBuffer&&T.headers.get("Content-Type")&&-1!==T.headers.get("Content-Type").indexOf("application/octet-stream")&&(L.responseType="arraybuffer")),!ve||"object"!=typeof ve.headers||ve.headers instanceof d?T.headers.forEach(function(X,se){L.setRequestHeader(se,X)}):Object.getOwnPropertyNames(ve.headers).forEach(function(X){L.setRequestHeader(X,l(ve.headers[X]))}),T.signal&&(T.signal.addEventListener("abort",V),L.onreadystatechange=function(){4===L.readyState&&T.signal.removeEventListener("abort",V)}),L.send(typeof T._bodyInit>"u"?null:T._bodyInit)})}ne.polyfill=!0,b.fetch||(b.fetch=ne,b.Headers=d,b.Request=A,b.Response=N);var z="function"==typeof atob,ee="function"==typeof btoa,H="function"==typeof Buffer,G="function"==typeof TextDecoder?new TextDecoder:void 0,K="function"==typeof TextEncoder?new TextEncoder:void 0,Oe=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Y=(W=>{let ve={};return W.forEach((je,D)=>ve[je]=D),ve})(Oe),P=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,re=String.fromCharCode.bind(String),ge="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):W=>new Uint8Array(Array.prototype.slice.call(W,0)),Ge=W=>W.replace(/[^A-Za-z0-9\+\/]/g,""),ht=ee?W=>btoa(W):H?W=>Buffer.from(W,"binary").toString("base64"):W=>{let ve,je,D,T,L="";const V=W.length%3;for(let Z=0;Z<W.length;){if((je=W.charCodeAt(Z++))>255||(D=W.charCodeAt(Z++))>255||(T=W.charCodeAt(Z++))>255)throw new TypeError("invalid character found");ve=je<<16|D<<8|T,L+=Oe[ve>>18&63]+Oe[ve>>12&63]+Oe[ve>>6&63]+Oe[63&ve]}return V?L.slice(0,V-3)+"===".substring(V):L},ze=H?W=>Buffer.from(W).toString("base64"):W=>{let je=[];for(let D=0,T=W.length;D<T;D+=4096)je.push(re.apply(null,W.subarray(D,D+4096)));return ht(je.join(""))},st=W=>{if(W.length<2)return(ve=W.charCodeAt(0))<128?W:ve<2048?re(192|ve>>>6)+re(128|63&ve):re(224|ve>>>12&15)+re(128|ve>>>6&63)+re(128|63&ve);var ve=65536+1024*(W.charCodeAt(0)-55296)+(W.charCodeAt(1)-56320);return re(240|ve>>>18&7)+re(128|ve>>>12&63)+re(128|ve>>>6&63)+re(128|63&ve)},lt=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Qe=H?W=>Buffer.from(W,"utf8").toString("base64"):K?W=>ze(K.encode(W)):W=>ht((W=>W.replace(lt,st))(W)),Je=(W,ve=!1)=>ve?(W=>W.replace(/=/g,"").replace(/[+\/]/g,ve=>"+"==ve?"-":"_"))(Qe(W)):Qe(W),ot=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Ze=W=>{switch(W.length){case 4:var je=((7&W.charCodeAt(0))<<18|(63&W.charCodeAt(1))<<12|(63&W.charCodeAt(2))<<6|63&W.charCodeAt(3))-65536;return re(55296+(je>>>10))+re(56320+(1023&je));case 3:return re((15&W.charCodeAt(0))<<12|(63&W.charCodeAt(1))<<6|63&W.charCodeAt(2));default:return re((31&W.charCodeAt(0))<<6|63&W.charCodeAt(1))}},sn=z?W=>atob(Ge(W)):H?W=>Buffer.from(W,"base64").toString("binary"):W=>{if(W=W.replace(/\s+/g,""),!P.test(W))throw new TypeError("malformed base64.");W+="==".slice(2-(3&W.length));let ve,D,T,je="";for(let L=0;L<W.length;)ve=Y[W.charAt(L++)]<<18|Y[W.charAt(L++)]<<12|(D=Y[W.charAt(L++)])<<6|(T=Y[W.charAt(L++)]),je+=64===D?re(ve>>16&255):64===T?re(ve>>16&255,ve>>8&255):re(ve>>16&255,ve>>8&255,255&ve);return je},$t=H?W=>ge(Buffer.from(W,"base64")):W=>ge(sn(W).split("").map(ve=>ve.charCodeAt(0))),un=H?W=>Buffer.from(W,"base64").toString("utf8"):G?W=>G.decode($t(W)):W=>(W=>W.replace(ot,Ze))(sn(W)),mn=W=>un((W=>Ge(W.replace(/[-_]/g,ve=>"-"==ve?"+":"/")))(W));function Yt(W,ve,je){const D=$($({},{method:W}),ve);if(D.headers=$({},ve.headers),typeof XMLHttpRequest<"u"){const T=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=T&&T.set||(D.credentials="cocos-ignore")}return Object.keys(D.headers).includes("Accept")||(D.headers.Accept="application/json"),Object.keys(D.headers).includes("Content-Type")||(D.headers["Content-Type"]="application/json"),Object.keys(D.headers).forEach(T=>{D.headers[T]||delete D.headers[T]}),je&&(D.body=je),D}var fn=class{constructor(W,ve,je){this.serverKey=W,this.basePath=ve,this.timeoutMs=je}healthcheck(W,ve={}){const L=this.buildFullUrl(this.basePath,"/healthcheck",new Map),V=Yt("GET",ve,"");return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(L,V).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,X)=>setTimeout(X,this.timeoutMs,"Request timed out."))])}deleteAccount(W,ve={}){const L=this.buildFullUrl(this.basePath,"/v2/account",new Map),V=Yt("DELETE",ve,"");return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(L,V).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,X)=>setTimeout(X,this.timeoutMs,"Request timed out."))])}getAccount(W,ve={}){const L=this.buildFullUrl(this.basePath,"/v2/account",new Map),V=Yt("GET",ve,"");return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(L,V).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,X)=>setTimeout(X,this.timeoutMs,"Request timed out."))])}updateAccount(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account",T),Z=Yt("PUT",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}authenticateApple(W,ve,je,D,T,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const Z=new Map;Z.set("create",D),Z.set("username",T);let X="";X=JSON.stringify(je||{});const se=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",Z),Pe=Yt("POST",L,X);return W&&(Pe.headers.Authorization="Basic "+Je(W+":"+ve)),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}authenticateCustom(W,ve,je,D,T,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const Z=new Map;Z.set("create",D),Z.set("username",T);let X="";X=JSON.stringify(je||{});const se=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",Z),Pe=Yt("POST",L,X);return W&&(Pe.headers.Authorization="Basic "+Je(W+":"+ve)),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}authenticateDevice(W,ve,je,D,T,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const Z=new Map;Z.set("create",D),Z.set("username",T);let X="";X=JSON.stringify(je||{});const se=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",Z),Pe=Yt("POST",L,X);return W&&(Pe.headers.Authorization="Basic "+Je(W+":"+ve)),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}authenticateEmail(W,ve,je,D,T,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const Z=new Map;Z.set("create",D),Z.set("username",T);let X="";X=JSON.stringify(je||{});const se=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",Z),Pe=Yt("POST",L,X);return W&&(Pe.headers.Authorization="Basic "+Je(W+":"+ve)),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}authenticateFacebook(W,ve,je,D,T,L,V={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const X=new Map;X.set("create",D),X.set("username",T),X.set("sync",L);let se="";se=JSON.stringify(je||{});const Pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",X),Ne=Yt("POST",V,se);return W&&(Ne.headers.Authorization="Basic "+Je(W+":"+ve)),Promise.race([fetch(Pe,Ne).then(ut=>{if(204==ut.status)return ut;if(ut.status>=200&&ut.status<300)return ut.json();throw ut}),new Promise((ut,Ee)=>setTimeout(Ee,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(W,ve,je,D,T,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const Z=new Map;Z.set("create",D),Z.set("username",T);let X="";X=JSON.stringify(je||{});const se=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",Z),Pe=Yt("POST",L,X);return W&&(Pe.headers.Authorization="Basic "+Je(W+":"+ve)),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(W,ve,je,D,T,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const Z=new Map;Z.set("create",D),Z.set("username",T);let X="";X=JSON.stringify(je||{});const se=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",Z),Pe=Yt("POST",L,X);return W&&(Pe.headers.Authorization="Basic "+Je(W+":"+ve)),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}authenticateGoogle(W,ve,je,D,T,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const Z=new Map;Z.set("create",D),Z.set("username",T);let X="";X=JSON.stringify(je||{});const se=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",Z),Pe=Yt("POST",L,X);return W&&(Pe.headers.Authorization="Basic "+Je(W+":"+ve)),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}authenticateSteam(W,ve,je,D,T,L,V={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const X=new Map;X.set("create",D),X.set("username",T),X.set("sync",L);let se="";se=JSON.stringify(je||{});const Pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",X),Ne=Yt("POST",V,se);return W&&(Ne.headers.Authorization="Basic "+Je(W+":"+ve)),Promise.race([fetch(Pe,Ne).then(ut=>{if(204==ut.status)return ut;if(ut.status>=200&&ut.status<300)return ut.json();throw ut}),new Promise((ut,Ee)=>setTimeout(Ee,this.timeoutMs,"Request timed out."))])}linkApple(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/link/apple",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}linkCustom(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/link/custom",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}linkDevice(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/link/device",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}linkEmail(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/link/email",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}linkFacebook(W,ve,je,D={}){if(null==ve)throw new Error("'account' is a required parameter but is null or undefined.");const L=new Map;L.set("sync",je);let V="";V=JSON.stringify(ve||{});const Z=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",L),X=Yt("POST",D,V);return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}linkGameCenter(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}linkGoogle(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/link/google",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}linkSteam(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/link/steam",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}sessionRefresh(W,ve,je,D={}){if(null==je)throw new Error("'body' is a required parameter but is null or undefined.");const L=new Map;let V="";V=JSON.stringify(je||{});const Z=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",L),X=Yt("POST",D,V);return W&&(X.headers.Authorization="Basic "+Je(W+":"+ve)),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}unlinkApple(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}unlinkCustom(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}unlinkDevice(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}unlinkEmail(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}unlinkFacebook(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}unlinkGoogle(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}unlinkSteam(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}listChannelMessages(W,ve,je,D,T,L={}){if(null==ve)throw new Error("'channelId' is a required parameter but is null or undefined.");const V="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(ve))),Z=new Map;Z.set("limit",je),Z.set("forward",D),Z.set("cursor",T);const se=this.buildFullUrl(this.basePath,V,Z),Pe=Yt("GET",L,"");return W&&(Pe.headers.Authorization="Bearer "+W),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}event(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/event",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}deleteFriends(W,ve,je,D={}){const L=new Map;L.set("ids",ve),L.set("usernames",je);const Z=this.buildFullUrl(this.basePath,"/v2/friend",L),X=Yt("DELETE",D,"");return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listFriends(W,ve,je,D,T={}){const V=new Map;V.set("limit",ve),V.set("state",je),V.set("cursor",D);const X=this.buildFullUrl(this.basePath,"/v2/friend",V),se=Yt("GET",T,"");return W&&(se.headers.Authorization="Bearer "+W),Promise.race([fetch(X,se).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}addFriends(W,ve,je,D={}){const L=new Map;L.set("ids",ve),L.set("usernames",je);const Z=this.buildFullUrl(this.basePath,"/v2/friend",L),X=Yt("POST",D,"");return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}blockFriends(W,ve,je,D={}){const L=new Map;L.set("ids",ve),L.set("usernames",je);const Z=this.buildFullUrl(this.basePath,"/v2/friend/block",L),X=Yt("POST",D,"");return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}importFacebookFriends(W,ve,je,D={}){if(null==ve)throw new Error("'account' is a required parameter but is null or undefined.");const L=new Map;L.set("reset",je);let V="";V=JSON.stringify(ve||{});const Z=this.buildFullUrl(this.basePath,"/v2/friend/facebook",L),X=Yt("POST",D,V);return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listFriendsOfFriends(W,ve,je,D={}){const L=new Map;L.set("limit",ve),L.set("cursor",je);const Z=this.buildFullUrl(this.basePath,"/v2/friend/friends",L),X=Yt("GET",D,"");return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}importSteamFriends(W,ve,je,D={}){if(null==ve)throw new Error("'account' is a required parameter but is null or undefined.");const L=new Map;L.set("reset",je);let V="";V=JSON.stringify(ve||{});const Z=this.buildFullUrl(this.basePath,"/v2/friend/steam",L),X=Yt("POST",D,V);return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listGroups(W,ve,je,D,T,L,V,Z={}){const se=new Map;se.set("name",ve),se.set("cursor",je),se.set("limit",D),se.set("lang_tag",T),se.set("members",L),se.set("open",V);const Ne=this.buildFullUrl(this.basePath,"/v2/group",se),ut=Yt("GET",Z,"");return W&&(ut.headers.Authorization="Bearer "+W),Promise.race([fetch(Ne,ut).then(Ee=>{if(204==Ee.status)return Ee;if(Ee.status>=200&&Ee.status<300)return Ee.json();throw Ee}),new Promise((Ee,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}createGroup(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/group",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}deleteGroup(W,ve,je={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(ve))),V=this.buildFullUrl(this.basePath,D,new Map),Z=Yt("DELETE",je,"");return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}updateGroup(W,ve,je,D={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'body' is a required parameter but is null or undefined.");const T="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;let V="";V=JSON.stringify(je||{});const Z=this.buildFullUrl(this.basePath,T,L),X=Yt("PUT",D,V);return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}addGroupUsers(W,ve,je,D={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const T="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;L.set("user_ids",je);const Z=this.buildFullUrl(this.basePath,T,L),X=Yt("POST",D,"");return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}banGroupUsers(W,ve,je,D={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const T="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;L.set("user_ids",je);const Z=this.buildFullUrl(this.basePath,T,L),X=Yt("POST",D,"");return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(W,ve,je,D={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const T="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;L.set("user_ids",je);const Z=this.buildFullUrl(this.basePath,T,L),X=Yt("POST",D,"");return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}joinGroup(W,ve,je={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(ve))),V=this.buildFullUrl(this.basePath,D,new Map),Z=Yt("POST",je,"");return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}kickGroupUsers(W,ve,je,D={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const T="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;L.set("user_ids",je);const Z=this.buildFullUrl(this.basePath,T,L),X=Yt("POST",D,"");return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}leaveGroup(W,ve,je={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(ve))),V=this.buildFullUrl(this.basePath,D,new Map),Z=Yt("POST",je,"");return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(W,ve,je,D={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const T="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;L.set("user_ids",je);const Z=this.buildFullUrl(this.basePath,T,L),X=Yt("POST",D,"");return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listGroupUsers(W,ve,je,D,T,L={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const V="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(ve))),Z=new Map;Z.set("limit",je),Z.set("state",D),Z.set("cursor",T);const se=this.buildFullUrl(this.basePath,V,Z),Pe=Yt("GET",L,"");return W&&(Pe.headers.Authorization="Bearer "+W),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}validatePurchaseFacebookInstant(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/iap/purchase/facebookinstant",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}listSubscriptions(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/iap/subscription",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}validateSubscriptionApple(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/iap/subscription/apple",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}validateSubscriptionGoogle(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/iap/subscription/google",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}getSubscription(W,ve,je={}){if(null==ve)throw new Error("'productId' is a required parameter but is null or undefined.");const D="/v2/iap/subscription/{productId}".replace("{productId}",encodeURIComponent(String(ve))),V=this.buildFullUrl(this.basePath,D,new Map),Z=Yt("GET",je,"");return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(W,ve,je={}){if(null==ve)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const D="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ve))),V=this.buildFullUrl(this.basePath,D,new Map),Z=Yt("DELETE",je,"");return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(W,ve,je,D,T,L,V={}){if(null==ve)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const Z="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ve))),X=new Map;X.set("owner_ids",je),X.set("limit",D),X.set("cursor",T),X.set("expiry",L);const Pe=this.buildFullUrl(this.basePath,Z,X),Ne=Yt("GET",V,"");return W&&(Ne.headers.Authorization="Bearer "+W),Promise.race([fetch(Pe,Ne).then(ut=>{if(204==ut.status)return ut;if(ut.status>=200&&ut.status<300)return ut.json();throw ut}),new Promise((ut,Ee)=>setTimeout(Ee,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(W,ve,je,D={}){if(null==ve)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'record' is a required parameter but is null or undefined.");const T="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ve))),L=new Map;let V="";V=JSON.stringify(je||{});const Z=this.buildFullUrl(this.basePath,T,L),X=Yt("POST",D,V);return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(W,ve,je,D,T,L,V={}){if(null==ve)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'ownerId' is a required parameter but is null or undefined.");const Z="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(ve))).replace("{ownerId}",encodeURIComponent(String(je))),X=new Map;X.set("limit",D),X.set("expiry",T),X.set("cursor",L);const Pe=this.buildFullUrl(this.basePath,Z,X),Ne=Yt("GET",V,"");return W&&(Ne.headers.Authorization="Bearer "+W),Promise.race([fetch(Pe,Ne).then(ut=>{if(204==ut.status)return ut;if(ut.status>=200&&ut.status<300)return ut.json();throw ut}),new Promise((ut,Ee)=>setTimeout(Ee,this.timeoutMs,"Request timed out."))])}listMatches(W,ve,je,D,T,L,V,Z={}){const se=new Map;se.set("limit",ve),se.set("authoritative",je),se.set("label",D),se.set("min_size",T),se.set("max_size",L),se.set("query",V);const Ne=this.buildFullUrl(this.basePath,"/v2/match",se),ut=Yt("GET",Z,"");return W&&(ut.headers.Authorization="Bearer "+W),Promise.race([fetch(Ne,ut).then(Ee=>{if(204==Ee.status)return Ee;if(Ee.status>=200&&Ee.status<300)return Ee.json();throw Ee}),new Promise((Ee,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}deleteNotifications(W,ve,je={}){const T=new Map;T.set("ids",ve);const V=this.buildFullUrl(this.basePath,"/v2/notification",T),Z=Yt("DELETE",je,"");return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}listNotifications(W,ve,je,D={}){const L=new Map;L.set("limit",ve),L.set("cacheable_cursor",je);const Z=this.buildFullUrl(this.basePath,"/v2/notification",L),X=Yt("GET",D,"");return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}rpcFunc2(W,ve,je,D,T={}){if(null==ve)throw new Error("'id' is a required parameter but is null or undefined.");const L="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(ve))),V=new Map;V.set("payload",je),V.set("http_key",D);const X=this.buildFullUrl(this.basePath,L,V),se=Yt("GET",T,"");return W&&(se.headers.Authorization="Bearer "+W),Promise.race([fetch(X,se).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}rpcFunc(W,ve,je,D,T={}){if(null==ve)throw new Error("'id' is a required parameter but is null or undefined.");if(null==je)throw new Error("'body' is a required parameter but is null or undefined.");const L="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(ve))),V=new Map;V.set("http_key",D);let Z="";Z=JSON.stringify(je||{});const X=this.buildFullUrl(this.basePath,L,V),se=Yt("POST",T,Z);return W&&(se.headers.Authorization="Bearer "+W),Promise.race([fetch(X,se).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}sessionLogout(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/session/logout",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}readStorageObjects(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/storage",T),Z=Yt("POST",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}writeStorageObjects(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/storage",T),Z=Yt("PUT",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(W,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const T=new Map;let L="";L=JSON.stringify(ve||{});const V=this.buildFullUrl(this.basePath,"/v2/storage/delete",T),Z=Yt("PUT",je,L);return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}listStorageObjects(W,ve,je,D,T,L={}){if(null==ve)throw new Error("'collection' is a required parameter but is null or undefined.");const V="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(ve))),Z=new Map;Z.set("user_id",je),Z.set("limit",D),Z.set("cursor",T);const se=this.buildFullUrl(this.basePath,V,Z),Pe=Yt("GET",L,"");return W&&(Pe.headers.Authorization="Bearer "+W),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}listStorageObjects2(W,ve,je,D,T,L={}){if(null==ve)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==je)throw new Error("'userId' is a required parameter but is null or undefined.");const V="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(ve))).replace("{userId}",encodeURIComponent(String(je))),Z=new Map;Z.set("limit",D),Z.set("cursor",T);const se=this.buildFullUrl(this.basePath,V,Z),Pe=Yt("GET",L,"");return W&&(Pe.headers.Authorization="Bearer "+W),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}listTournaments(W,ve,je,D,T,L,V,Z={}){const se=new Map;se.set("category_start",ve),se.set("category_end",je),se.set("start_time",D),se.set("end_time",T),se.set("limit",L),se.set("cursor",V);const Ne=this.buildFullUrl(this.basePath,"/v2/tournament",se),ut=Yt("GET",Z,"");return W&&(ut.headers.Authorization="Bearer "+W),Promise.race([fetch(Ne,ut).then(Ee=>{if(204==Ee.status)return Ee;if(Ee.status>=200&&Ee.status<300)return Ee.json();throw Ee}),new Promise((Ee,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}deleteTournamentRecord(W,ve,je={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const D="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ve))),V=this.buildFullUrl(this.basePath,D,new Map),Z=Yt("DELETE",je,"");return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}listTournamentRecords(W,ve,je,D,T,L,V={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const Z="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ve))),X=new Map;X.set("owner_ids",je),X.set("limit",D),X.set("cursor",T),X.set("expiry",L);const Pe=this.buildFullUrl(this.basePath,Z,X),Ne=Yt("GET",V,"");return W&&(Ne.headers.Authorization="Bearer "+W),Promise.race([fetch(Pe,Ne).then(ut=>{if(204==ut.status)return ut;if(ut.status>=200&&ut.status<300)return ut.json();throw ut}),new Promise((ut,Ee)=>setTimeout(Ee,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(W,ve,je,D={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'record' is a required parameter but is null or undefined.");const T="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ve))),L=new Map;let V="";V=JSON.stringify(je||{});const Z=this.buildFullUrl(this.basePath,T,L),X=Yt("POST",D,V);return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(W,ve,je,D={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'record' is a required parameter but is null or undefined.");const T="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ve))),L=new Map;let V="";V=JSON.stringify(je||{});const Z=this.buildFullUrl(this.basePath,T,L),X=Yt("PUT",D,V);return W&&(X.headers.Authorization="Bearer "+W),Promise.race([fetch(Z,X).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}joinTournament(W,ve,je={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const D="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(ve))),V=this.buildFullUrl(this.basePath,D,new Map),Z=Yt("POST",je,"");return W&&(Z.headers.Authorization="Bearer "+W),Promise.race([fetch(V,Z).then(X=>{if(204==X.status)return X;if(X.status>=200&&X.status<300)return X.json();throw X}),new Promise((X,se)=>setTimeout(se,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(W,ve,je,D,T,L,V={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'ownerId' is a required parameter but is null or undefined.");const Z="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(ve))).replace("{ownerId}",encodeURIComponent(String(je))),X=new Map;X.set("limit",D),X.set("expiry",T),X.set("cursor",L);const Pe=this.buildFullUrl(this.basePath,Z,X),Ne=Yt("GET",V,"");return W&&(Ne.headers.Authorization="Bearer "+W),Promise.race([fetch(Pe,Ne).then(ut=>{if(204==ut.status)return ut;if(ut.status>=200&&ut.status<300)return ut.json();throw ut}),new Promise((ut,Ee)=>setTimeout(Ee,this.timeoutMs,"Request timed out."))])}getUsers(W,ve,je,D,T={}){const V=new Map;V.set("ids",ve),V.set("usernames",je),V.set("facebook_ids",D);const X=this.buildFullUrl(this.basePath,"/v2/user",V),se=Yt("GET",T,"");return W&&(se.headers.Authorization="Bearer "+W),Promise.race([fetch(X,se).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,Ne)=>setTimeout(Ne,this.timeoutMs,"Request timed out."))])}listUserGroups(W,ve,je,D,T,L={}){if(null==ve)throw new Error("'userId' is a required parameter but is null or undefined.");const V="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(ve))),Z=new Map;Z.set("limit",je),Z.set("state",D),Z.set("cursor",T);const se=this.buildFullUrl(this.basePath,V,Z),Pe=Yt("GET",L,"");return W&&(Pe.headers.Authorization="Bearer "+W),Promise.race([fetch(se,Pe).then(Ne=>{if(204==Ne.status)return Ne;if(Ne.status>=200&&Ne.status<300)return Ne.json();throw Ne}),new Promise((Ne,ut)=>setTimeout(ut,this.timeoutMs,"Request timed out."))])}buildFullUrl(W,ve,je){let D=W+ve+"?";for(let[T,L]of je)L instanceof Array?D+=L.reduce((V,Z)=>V+encodeURIComponent(T)+"="+encodeURIComponent(Z)+"&",""):null!=L&&(D+=encodeURIComponent(T)+"="+encodeURIComponent(L)+"&");return D}},Ot=class{constructor(W,ve,je){this.created=je,this.token=W,this.refresh_token=ve,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(W,ve)}isexpired(W){return this.expires_at-W<0}isrefreshexpired(W){return this.refresh_expires_at-W<0}update(W,ve){const je=W.split(".");if(3!=je.length)throw"jwt is not valid.";const D=JSON.parse(sn(je[1])),T=Math.floor(parseInt(D.exp));if(ve){const L=ve.split(".");if(3!=L.length)throw"refresh jwt is not valid.";const V=JSON.parse(sn(L[1])),Z=Math.floor(parseInt(V.exp));this.refresh_expires_at=Z,this.refresh_token=ve}this.token=W,this.expires_at=T,this.username=D.usn,this.user_id=D.uid,this.vars=D.vrs}static restore(W,ve){return new Ot(W,ve,!1)}},ln="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Ve=0;Ve<64;Ve++)Vt[ln.charCodeAt(Ve)]=Ve;var Ve,Xe=function(W){var je,ve=new Uint8Array(W),D=ve.length,T="";for(je=0;je<D;je+=3)T+=ln[ve[je]>>2],T+=ln[(3&ve[je])<<4|ve[je+1]>>4],T+=ln[(15&ve[je+1])<<2|ve[je+2]>>6],T+=ln[63&ve[je+2]];return D%3==2?T=T.substring(0,T.length-1)+"=":D%3==1&&(T=T.substring(0,T.length-2)+"=="),T},Ae=function(W){var D,L,V,Z,X,ve=.75*W.length,je=W.length,T=0;"="===W[W.length-1]&&(ve--,"="===W[W.length-2]&&ve--);var se=new ArrayBuffer(ve),Pe=new Uint8Array(se);for(D=0;D<je;D+=4)L=Vt[W.charCodeAt(D)],V=Vt[W.charCodeAt(D+1)],Z=Vt[W.charCodeAt(D+2)],X=Vt[W.charCodeAt(D+3)],Pe[T++]=L<<2|V>>4,Pe[T++]=(15&V)<<4|Z>>2,Pe[T++]=(3&Z)<<6|63&X;return se},Ke=class{get onClose(){return this._socket.onclose}set onClose(W){this._socket.onclose=W}get onError(){return this._socket.onerror}set onError(W){this._socket.onerror=W}get onMessage(){return this._socket.onmessage}set onMessage(W){W?this._socket.onmessage=ve=>{const je=JSON.parse(ve.data);je.match_data&&je.match_data.data?je.match_data.data=new Uint8Array(Ae(je.match_data.data)):je.party_data&&je.party_data.data&&(je.party_data.data=new Uint8Array(Ae(je.party_data.data))),W(je)}:W=null}get onOpen(){return this._socket.onopen}set onOpen(W){this._socket.onopen=W}isOpen(){var W;return(null==(W=this._socket)?void 0:W.readyState)==WebSocket.OPEN}connect(W,ve,je,D,T){const L=`${W}${ve}:${je}/ws?lang=en&status=${encodeURIComponent(D.toString())}&token=${encodeURIComponent(T)}`;this._socket=new WebSocket(L)}close(){this._socket.close(),this._socket=void 0}send(W){if(W.match_data_send){W.match_data_send.op_code=W.match_data_send.op_code.toString();let ve=W.match_data_send.data;ve&&ve instanceof Uint8Array?W.match_data_send.data=Xe(ve.buffer):ve&&(W.match_data_send.data=ht(ve))}else if(W.party_data_send){W.party_data_send.op_code=W.party_data_send.op_code.toString();let ve=W.party_data_send.data;ve&&ve instanceof Uint8Array?W.party_data_send.data=Xe(ve.buffer):ve&&(W.party_data_send.data=ht(ve))}this._socket.send(JSON.stringify(W))}},_t=class{constructor(W,ve,je=!1,D=!1,T=new Ke,L=_t.DefaultSendTimeoutMs){this.host=W,this.port=ve,this.useSSL=je,this.verbose=D,this.adapter=T,this.sendTimeoutMs=L,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=_t.DefaultHeartbeatTimeoutMs}generatecid(){const W=this.nextCid.toString();return++this.nextCid,W}connect(W,ve=!1,je=_t.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(W):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,ve,W.token),this.adapter.onClose=T=>{this.ondisconnect(T)},this.adapter.onError=T=>{this.onerror(T)},this.adapter.onMessage=T=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(T)),T.cid){const L=this.cIds[T.cid];if(!L)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",T));delete this.cIds[T.cid],T.error?L.reject(T.error):L.resolve(T)}else T.notifications?T.notifications.notifications.forEach(L=>{L.content=L.content?JSON.parse(L.content):void 0,this.onnotification(L)}):T.match_data?(T.match_data.op_code=parseInt(T.match_data.op_code),this.onmatchdata(T.match_data)):T.match_presence_event?this.onmatchpresence(T.match_presence_event):T.matchmaker_ticket?this.onmatchmakerticket(T.matchmaker_ticket):T.matchmaker_matched?this.onmatchmakermatched(T.matchmaker_matched):T.status_presence_event?this.onstatuspresence(T.status_presence_event):T.stream_presence_event?this.onstreampresence(T.stream_presence_event):T.stream_data?this.onstreamdata(T.stream_data):T.channel_message?(T.channel_message.content=JSON.parse(T.channel_message.content),this.onchannelmessage(T.channel_message)):T.channel_presence_event?this.onchannelpresence(T.channel_presence_event):T.party_data?(T.party_data.op_code=parseInt(T.party_data.op_code),this.onpartydata(T.party_data)):T.party_close?this.onpartyclose(T.party_close):T.party_join_request?this.onpartyjoinrequest(T.party_join_request):T.party_leader?this.onpartyleader(T.party_leader):T.party_matchmaker_ticket?this.onpartymatchmakerticket(T.party_matchmaker_ticket):T.party_presence_event?this.onpartypresence(T.party_presence_event):T.party?this.onparty(T.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",T)},new Promise((T,L)=>{this.adapter.onOpen=V=>{this.verbose&&window&&window.console&&console.log(V),this.pingPong(),T(W)},this.adapter.onError=V=>{L(V),this.adapter.close()},setTimeout(()=>{L("The socket timed out when trying to connect.")},je)}))}disconnect(W=!0){this.adapter.isOpen()&&this.adapter.close(),W&&this.ondisconnect({})}setHeartbeatTimeoutMs(W){this._heartbeatTimeoutMs=W}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(W){this.verbose&&window&&window.console&&console.log(W)}onerror(W){this.verbose&&window&&window.console&&console.log(W)}onchannelmessage(W){this.verbose&&window&&window.console&&console.log(W)}onchannelpresence(W){this.verbose&&window&&window.console&&console.log(W)}onnotification(W){this.verbose&&window&&window.console&&console.log(W)}onmatchdata(W){this.verbose&&window&&window.console&&console.log(W)}onmatchpresence(W){this.verbose&&window&&window.console&&console.log(W)}onmatchmakerticket(W){this.verbose&&window&&window.console&&console.log(W)}onmatchmakermatched(W){this.verbose&&window&&window.console&&console.log(W)}onparty(W){this.verbose&&window&&window.console&&console.log(W)}onpartyclose(W){this.verbose&&window&&window.console&&console.log("Party closed: "+W)}onpartyjoinrequest(W){this.verbose&&window&&window.console&&console.log(W)}onpartydata(W){this.verbose&&window&&window.console&&console.log(W)}onpartyleader(W){this.verbose&&window&&window.console&&console.log(W)}onpartymatchmakerticket(W){this.verbose&&window&&window.console&&console.log(W)}onpartypresence(W){this.verbose&&window&&window.console&&console.log(W)}onstatuspresence(W){this.verbose&&window&&window.console&&console.log(W)}onstreampresence(W){this.verbose&&window&&window.console&&console.log(W)}onstreamdata(W){this.verbose&&window&&window.console&&console.log(W)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(W,ve=_t.DefaultSendTimeoutMs){const je=W;return new Promise((D,T)=>{if(this.adapter.isOpen())if(je.match_data_send)this.adapter.send(je),D();else if(je.party_data_send)this.adapter.send(je),D();else{je.channel_message_send?je.channel_message_send.content=JSON.stringify(je.channel_message_send.content):je.channel_message_update&&(je.channel_message_update.content=JSON.stringify(je.channel_message_update.content));const L=this.generatecid();this.cIds[L]={resolve:D,reject:T},setTimeout(()=>{T("The socket timed out while waiting for a response.")},ve),je.cid=L,this.adapter.send(je)}else T("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const L=$({},je);L.match_data_send&&L.match_data_send.data?L.match_data_send.data=mn(L.match_data_send.data):L.party_data_send&&L.party_data_send.data&&(L.party_data_send.data=mn(L.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(L))}})}acceptPartyMember(W,ve){return this.send({party_accept:{party_id:W,presence:ve}})}addMatchmaker(W,ve,je,D,T){return v(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:ve,max_count:je,query:W,string_properties:D,numeric_properties:T}})).matchmaker_ticket})}addMatchmakerParty(W,ve,je,D,T,L){return v(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:W,min_count:je,max_count:D,query:ve,string_properties:T,numeric_properties:L}})).party_matchmaker_ticket})}closeParty(W){return v(this,null,function*(){return yield this.send({party_close:{party_id:W}})})}createMatch(W){return v(this,null,function*(){return(yield this.send({match_create:{name:W}})).match})}createParty(W,ve){return v(this,null,function*(){return(yield this.send({party_create:{open:W,max_size:ve}})).party})}followUsers(W){return v(this,null,function*(){return(yield this.send({status_follow:{user_ids:W}})).status})}joinChat(W,ve,je,D){return v(this,null,function*(){return(yield this.send({channel_join:{target:W,type:ve,persistence:je,hidden:D}})).channel})}joinMatch(W,ve,je){return v(this,null,function*(){const D={match_join:{metadata:je}};return ve?D.match_join.token=ve:D.match_join.match_id=W,(yield this.send(D)).match})}joinParty(W){return v(this,null,function*(){return yield this.send({party_join:{party_id:W}})})}leaveChat(W){return this.send({channel_leave:{channel_id:W}})}leaveMatch(W){return this.send({match_leave:{match_id:W}})}leaveParty(W){return this.send({party_leave:{party_id:W}})}listPartyJoinRequests(W){return v(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:W}})).party_join_request})}promotePartyMember(W,ve){return v(this,null,function*(){return(yield this.send({party_promote:{party_id:W,presence:ve}})).party_leader})}removeChatMessage(W,ve){return v(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:W,message_id:ve}})).channel_message_ack})}removeMatchmaker(W){return this.send({matchmaker_remove:{ticket:W}})}removeMatchmakerParty(W,ve){return this.send({party_matchmaker_remove:{party_id:W,ticket:ve}})}removePartyMember(W,ve){return v(this,null,function*(){return this.send({party_remove:{party_id:W,presence:ve}})})}rpc(W,ve,je){return v(this,null,function*(){return(yield this.send({rpc:{id:W,payload:ve,http_key:je}})).rpc})}sendMatchState(W,ve,je,D,T){return v(this,null,function*(){return this.send({match_data_send:{match_id:W,op_code:ve,data:je,presences:null!=D?D:[],reliable:T}})})}sendPartyData(W,ve,je){return this.send({party_data_send:{party_id:W,op_code:ve,data:je}})}unfollowUsers(W){return this.send({status_unfollow:{user_ids:W}})}updateChatMessage(W,ve,je){return v(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:W,message_id:ve,content:je}})).channel_message_ack})}updateStatus(W){return this.send({status_update:{status:W}})}writeChatMessage(W,ve){return v(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:W,content:ve}})).channel_message_ack})}pingPong(){return v(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},Ft=_t;Ft.DefaultHeartbeatTimeoutMs=1e4,Ft.DefaultSendTimeoutMs=1e4,Ft.DefaultConnectTimeoutMs=3e4;var pt=class{constructor(W="defaultkey",ve="127.0.0.1",je="7350",D=!1,T=7e3,L=!0){this.serverkey=W,this.host=ve,this.port=je,this.useSSL=D,this.timeout=T,this.autoRefreshSession=L,this.expiredTimespanMs=3e5,this.apiClient=new fn(W,`${D?"https://":"http://"}${ve}:${je}`,T)}addGroupUsers(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.addGroupUsers(W.token,ve,je).then(D=>void 0!==D)})}addFriends(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.addFriends(W.token,ve,je).then(D=>void 0!==D)})}authenticateApple(W,ve,je){return v(this,arguments,function*(D,T,L,V={},Z={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:D,vars:V},T,L,Z).then(se=>new Ot(se.token||"",se.refresh_token||"",se.created||!1))})}authenticateCustom(W,ve,je,D={},T={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:W,vars:D},ve,je,T).then(V=>new Ot(V.token||"",V.refresh_token||"",V.created||!1))}authenticateDevice(W,ve,je,D){return this.apiClient.authenticateDevice(this.serverkey,"",{id:W,vars:D},ve,je).then(L=>new Ot(L.token||"",L.refresh_token||"",L.created||!1))}authenticateEmail(W,ve,je,D,T){return this.apiClient.authenticateEmail(this.serverkey,"",{email:W,password:ve,vars:T},je,D).then(V=>new Ot(V.token||"",V.refresh_token||"",V.created||!1))}authenticateFacebookInstantGame(W,ve,je,D,T={}){const L={signed_player_info:W,vars:D};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:L.signed_player_info,vars:L.vars},ve,je,T).then(V=>new Ot(V.token||"",V.refresh_token||"",V.created||!1))}authenticateFacebook(W,ve,je,D,T,L={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:W,vars:T},ve,je,D,L).then(Z=>new Ot(Z.token||"",Z.refresh_token||"",Z.created||!1))}authenticateGoogle(W,ve,je,D){return v(this,arguments,function*(T,L,V,Z,X={}){const se={token:T,vars:Z},Pe=yield this.apiClient.authenticateGoogle(this.serverkey,"",se,L,V,X);return new Ot(Pe.token||"",Pe.refresh_token||"",Pe.created||!1)})}authenticateGameCenter(W,ve,je,D,T,L,V,Z,X){return v(this,arguments,function*(se,Pe,Ne,ut,Ee,Ue,at,He,bt,Ut={}){const an={bundle_id:se,player_id:Pe,public_key_url:Ne,salt:ut,signature:Ee,timestamp_seconds:Ue,vars:bt},hn=yield this.apiClient.authenticateGameCenter(this.serverkey,"",an,He,at,Ut);return new Ot(hn.token||"",hn.refresh_token||"",hn.created||!1)})}authenticateSteam(W,ve,je,D,T){return v(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:W,vars:T,sync:D},ve,je).then(V=>new Ot(V.token||"",V.refresh_token||"",V.created||!1))})}banGroupUsers(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.banGroupUsers(W.token,ve,je).then(D=>void 0!==D)})}blockFriends(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.blockFriends(W.token,ve,je).then(D=>Promise.resolve(null!=D))})}createGroup(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.createGroup(W.token,ve).then(je=>Promise.resolve({avatar_url:je.avatar_url,create_time:je.create_time,creator_id:je.creator_id,description:je.description,edge_count:je.edge_count?Number(je.edge_count):0,id:je.id,lang_tag:je.lang_tag,max_count:je.max_count?Number(je.max_count):0,metadata:je.metadata?JSON.parse(je.metadata):void 0,name:je.name,open:je.open,update_time:je.update_time}))})}createSocket(W=!1,ve=!1,je=new Ke,D=Ft.DefaultSendTimeoutMs){return new Ft(this.host,this.port,W,ve,je,D)}deleteAccount(W){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteAccount(W.token).then(ve=>void 0!==ve)})}deleteFriends(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteFriends(W.token,ve,je).then(D=>void 0!==D)})}deleteGroup(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteGroup(W.token,ve).then(je=>void 0!==je)})}deleteNotifications(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteNotifications(W.token,ve).then(je=>Promise.resolve(null!=je))})}deleteStorageObjects(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteStorageObjects(W.token,ve).then(je=>Promise.resolve(null!=je))})}deleteTournamentRecord(W,ve){return v(this,null,function*(){return this.apiClient.deleteTournamentRecord(W.token,ve)})}demoteGroupUsers(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.demoteGroupUsers(W.token,ve,je).then(D=>Promise.resolve(null!=D))})}emitEvent(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.event(W.token,ve).then(je=>Promise.resolve(null!=je))})}getAccount(W){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.getAccount(W.token)})}getSubscription(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.getSubscription(W.token,ve)})}importFacebookFriends(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.importFacebookFriends(W.token,ve).then(je=>void 0!==je)})}importSteamFriends(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.importSteamFriends(W.token,ve,je).then(D=>void 0!==D)})}getUsers(W,ve,je,D){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.getUsers(W.token,ve,je,D).then(T=>{var L={users:[]};return null==T.users||T.users.forEach(V=>{L.users.push({avatar_url:V.avatar_url,create_time:V.create_time,display_name:V.display_name,edge_count:V.edge_count?Number(V.edge_count):0,facebook_id:V.facebook_id,gamecenter_id:V.gamecenter_id,google_id:V.google_id,id:V.id,lang_tag:V.lang_tag,location:V.location,online:V.online,steam_id:V.steam_id,timezone:V.timezone,update_time:V.update_time,username:V.username,metadata:V.metadata?JSON.parse(V.metadata):void 0})}),Promise.resolve(L)})})}joinGroup(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.joinGroup(W.token,ve,{}).then(je=>void 0!==je)})}joinTournament(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.joinTournament(W.token,ve,{}).then(je=>void 0!==je)})}kickGroupUsers(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.kickGroupUsers(W.token,ve,je).then(D=>Promise.resolve(null!=D))})}leaveGroup(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.leaveGroup(W.token,ve,{}).then(je=>void 0!==je)})}listChannelMessages(W,ve,je,D,T){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listChannelMessages(W.token,ve,je,D,T).then(L=>{var V={messages:[],next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,cacheable_cursor:L.cacheable_cursor};return null==L.messages||L.messages.forEach(Z=>{V.messages.push({channel_id:Z.channel_id,code:Z.code?Number(Z.code):0,create_time:Z.create_time,message_id:Z.message_id,persistent:Z.persistent,sender_id:Z.sender_id,update_time:Z.update_time,username:Z.username,content:Z.content?JSON.parse(Z.content):void 0,group_id:Z.group_id,room_name:Z.room_name,user_id_one:Z.user_id_one,user_id_two:Z.user_id_two})}),Promise.resolve(V)})})}listGroupUsers(W,ve,je,D,T){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listGroupUsers(W.token,ve,D,je,T).then(L=>{var V={group_users:[],cursor:L.cursor};return null==L.group_users||L.group_users.forEach(Z=>{V.group_users.push({user:{avatar_url:Z.user.avatar_url,create_time:Z.user.create_time,display_name:Z.user.display_name,edge_count:Z.user.edge_count?Number(Z.user.edge_count):0,facebook_id:Z.user.facebook_id,gamecenter_id:Z.user.gamecenter_id,google_id:Z.user.google_id,id:Z.user.id,lang_tag:Z.user.lang_tag,location:Z.user.location,online:Z.user.online,steam_id:Z.user.steam_id,timezone:Z.user.timezone,update_time:Z.user.update_time,username:Z.user.username,metadata:Z.user.metadata?JSON.parse(Z.user.metadata):void 0},state:Z.state?Number(Z.state):0})}),Promise.resolve(V)})})}listUserGroups(W,ve,je,D,T){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listUserGroups(W.token,ve,je,D,T).then(L=>{var V={user_groups:[],cursor:L.cursor};return null==L.user_groups||L.user_groups.forEach(Z=>{V.user_groups.push({group:{avatar_url:Z.group.avatar_url,create_time:Z.group.create_time,creator_id:Z.group.creator_id,description:Z.group.description,edge_count:Z.group.edge_count?Number(Z.group.edge_count):0,id:Z.group.id,lang_tag:Z.group.lang_tag,max_count:Z.group.max_count,metadata:Z.group.metadata?JSON.parse(Z.group.metadata):void 0,name:Z.group.name,open:Z.group.open,update_time:Z.group.update_time},state:Z.state?Number(Z.state):0})}),Promise.resolve(V)})})}listGroups(W,ve,je,D){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listGroups(W.token,ve,je,D).then(T=>{var L={groups:[]};return null==T.groups||(L.cursor=T.cursor,T.groups.forEach(V=>{L.groups.push({avatar_url:V.avatar_url,create_time:V.create_time,creator_id:V.creator_id,description:V.description,edge_count:V.edge_count?Number(V.edge_count):0,id:V.id,lang_tag:V.lang_tag,max_count:V.max_count,metadata:V.metadata?JSON.parse(V.metadata):void 0,name:V.name,open:V.open,update_time:V.update_time})})),Promise.resolve(L)})})}linkApple(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkApple(W.token,ve).then(je=>void 0!==je)})}linkCustom(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkCustom(W.token,ve).then(je=>void 0!==je)})}linkDevice(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkDevice(W.token,ve).then(je=>void 0!==je)})}linkEmail(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkEmail(W.token,ve).then(je=>void 0!==je)})}linkFacebook(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkFacebook(W.token,ve).then(je=>void 0!==je)})}linkFacebookInstantGame(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkFacebookInstantGame(W.token,ve).then(je=>void 0!==je)})}linkGoogle(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkGoogle(W.token,ve).then(je=>void 0!==je)})}linkGameCenter(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkGameCenter(W.token,ve).then(je=>void 0!==je)})}linkSteam(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkSteam(W.token,ve).then(je=>void 0!==je)})}listFriends(W,ve,je,D){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listFriends(W.token,je,ve,D).then(T=>{var L={friends:[],cursor:T.cursor};return null==T.friends||T.friends.forEach(V=>{L.friends.push({user:{avatar_url:V.user.avatar_url,create_time:V.user.create_time,display_name:V.user.display_name,edge_count:V.user.edge_count?Number(V.user.edge_count):0,facebook_id:V.user.facebook_id,gamecenter_id:V.user.gamecenter_id,google_id:V.user.google_id,id:V.user.id,lang_tag:V.user.lang_tag,location:V.user.location,online:V.user.online,steam_id:V.user.steam_id,timezone:V.user.timezone,update_time:V.user.update_time,username:V.user.username,metadata:V.user.metadata?JSON.parse(V.user.metadata):void 0,facebook_instant_game_id:V.user.facebook_instant_game_id},state:V.state})}),Promise.resolve(L)})})}listFriendsOfFriends(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listFriendsOfFriends(W.token,ve,je).then(D=>{var T={friends_of_friends:[],cursor:D.cursor};return null==D.friends_of_friends||D.friends_of_friends.forEach(L=>{T.friends_of_friends.push({referrer:L.referrer,user:{avatar_url:L.user.avatar_url,create_time:L.user.create_time,display_name:L.user.display_name,edge_count:L.user.edge_count?Number(L.user.edge_count):0,facebook_id:L.user.facebook_id,gamecenter_id:L.user.gamecenter_id,google_id:L.user.google_id,id:L.user.id,lang_tag:L.user.lang_tag,location:L.user.location,online:L.user.online,steam_id:L.user.steam_id,timezone:L.user.timezone,update_time:L.user.update_time,username:L.user.username,metadata:L.user.metadata?JSON.parse(L.user.metadata):void 0,facebook_instant_game_id:L.user.facebook_instant_game_id}})}),Promise.resolve(T)})})}listLeaderboardRecords(W,ve,je,D,T,L){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listLeaderboardRecords(W.token,ve,je,D,T,L).then(V=>{var Z={next_cursor:V.next_cursor,prev_cursor:V.prev_cursor,rank_count:V.rank_count?Number(V.rank_count):0,owner_records:[],records:[]};return null!=V.owner_records&&V.owner_records.forEach(X=>{Z.owner_records.push({expiry_time:X.expiry_time,leaderboard_id:X.leaderboard_id,metadata:X.metadata?JSON.parse(X.metadata):void 0,num_score:X.num_score?Number(X.num_score):0,owner_id:X.owner_id,rank:X.rank?Number(X.rank):0,score:X.score?Number(X.score):0,subscore:X.subscore?Number(X.subscore):0,update_time:X.update_time,username:X.username,max_num_score:X.max_num_score?Number(X.max_num_score):0})}),null!=V.records&&V.records.forEach(X=>{Z.records.push({expiry_time:X.expiry_time,leaderboard_id:X.leaderboard_id,metadata:X.metadata?JSON.parse(X.metadata):void 0,num_score:X.num_score?Number(X.num_score):0,owner_id:X.owner_id,rank:X.rank?Number(X.rank):0,score:X.score?Number(X.score):0,subscore:X.subscore?Number(X.subscore):0,update_time:X.update_time,username:X.username,max_num_score:X.max_num_score?Number(X.max_num_score):0})}),Promise.resolve(Z)})})}listLeaderboardRecordsAroundOwner(W,ve,je,D,T,L){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listLeaderboardRecordsAroundOwner(W.token,ve,je,D,T,L).then(V=>{var Z={next_cursor:V.next_cursor,prev_cursor:V.prev_cursor,rank_count:V.rank_count?Number(V.rank_count):0,owner_records:[],records:[]};return null!=V.owner_records&&V.owner_records.forEach(X=>{Z.owner_records.push({expiry_time:X.expiry_time,leaderboard_id:X.leaderboard_id,metadata:X.metadata?JSON.parse(X.metadata):void 0,num_score:X.num_score?Number(X.num_score):0,owner_id:X.owner_id,rank:X.rank?Number(X.rank):0,score:X.score?Number(X.score):0,subscore:X.subscore?Number(X.subscore):0,update_time:X.update_time,username:X.username,max_num_score:X.max_num_score?Number(X.max_num_score):0})}),null!=V.records&&V.records.forEach(X=>{Z.records.push({expiry_time:X.expiry_time,leaderboard_id:X.leaderboard_id,metadata:X.metadata?JSON.parse(X.metadata):void 0,num_score:X.num_score?Number(X.num_score):0,owner_id:X.owner_id,rank:X.rank?Number(X.rank):0,score:X.score?Number(X.score):0,subscore:X.subscore?Number(X.subscore):0,update_time:X.update_time,username:X.username,max_num_score:X.max_num_score?Number(X.max_num_score):0})}),Promise.resolve(Z)})})}listMatches(W,ve,je,D,T,L,V){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listMatches(W.token,ve,je,D,T,L,V)})}listNotifications(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listNotifications(W.token,ve,je).then(D=>{var T={cacheable_cursor:D.cacheable_cursor,notifications:[]};return null==D.notifications||D.notifications.forEach(L=>{T.notifications.push({code:L.code?Number(L.code):0,create_time:L.create_time,id:L.id,persistent:L.persistent,sender_id:L.sender_id,subject:L.subject,content:L.content?JSON.parse(L.content):void 0})}),Promise.resolve(T)})})}listStorageObjects(W,ve,je,D,T){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listStorageObjects(W.token,ve,je,D,T).then(L=>{var V={objects:[],cursor:L.cursor};return null==L.objects||L.objects.forEach(Z=>{V.objects.push({collection:Z.collection,key:Z.key,permission_read:Z.permission_read?Number(Z.permission_read):0,permission_write:Z.permission_write?Number(Z.permission_write):0,value:Z.value?JSON.parse(Z.value):void 0,version:Z.version,user_id:Z.user_id,create_time:Z.create_time,update_time:Z.update_time})}),Promise.resolve(V)})})}listTournaments(W,ve,je,D,T,L,V){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournaments(W.token,ve,je,D,T,L,V).then(Z=>{var X={cursor:Z.cursor,tournaments:[]};return null!=Z.tournaments&&Z.tournaments.forEach(se=>{X.tournaments.push({id:se.id,title:se.title,description:se.description,duration:se.duration?Number(se.duration):0,category:se.category?Number(se.category):0,sort_order:se.sort_order?Number(se.sort_order):0,size:se.size?Number(se.size):0,max_size:se.max_size?Number(se.max_size):0,max_num_score:se.max_num_score?Number(se.max_num_score):0,can_enter:se.can_enter,end_active:se.end_active?Number(se.end_active):0,next_reset:se.next_reset?Number(se.next_reset):0,metadata:se.metadata?JSON.parse(se.metadata):void 0,create_time:se.create_time,start_time:se.start_time,end_time:se.end_time,start_active:se.start_active,authoritative:se.authoritative})}),Promise.resolve(X)})})}listSubscriptions(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listSubscriptions(W.token,{cursor:ve,limit:je})})}listTournamentRecords(W,ve,je,D,T,L){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournamentRecords(W.token,ve,je,D,T,L).then(V=>{var Z={next_cursor:V.next_cursor,prev_cursor:V.prev_cursor,owner_records:[],records:[]};return null!=V.owner_records&&V.owner_records.forEach(X=>{Z.owner_records.push({expiry_time:X.expiry_time,leaderboard_id:X.leaderboard_id,metadata:X.metadata?JSON.parse(X.metadata):void 0,num_score:X.num_score?Number(X.num_score):0,owner_id:X.owner_id,rank:X.rank?Number(X.rank):0,score:X.score?Number(X.score):0,subscore:X.subscore?Number(X.subscore):0,update_time:X.update_time,username:X.username,max_num_score:X.max_num_score?Number(X.max_num_score):0})}),null!=V.records&&V.records.forEach(X=>{Z.records.push({expiry_time:X.expiry_time,leaderboard_id:X.leaderboard_id,metadata:X.metadata?JSON.parse(X.metadata):void 0,num_score:X.num_score?Number(X.num_score):0,owner_id:X.owner_id,rank:X.rank?Number(X.rank):0,score:X.score?Number(X.score):0,subscore:X.subscore?Number(X.subscore):0,update_time:X.update_time,username:X.username,max_num_score:X.max_num_score?Number(X.max_num_score):0})}),Promise.resolve(Z)})})}listTournamentRecordsAroundOwner(W,ve,je,D,T,L){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournamentRecordsAroundOwner(W.token,ve,je,D,T,L).then(V=>{var Z={next_cursor:V.next_cursor,prev_cursor:V.prev_cursor,owner_records:[],records:[]};return null!=V.owner_records&&V.owner_records.forEach(X=>{Z.owner_records.push({expiry_time:X.expiry_time,leaderboard_id:X.leaderboard_id,metadata:X.metadata?JSON.parse(X.metadata):void 0,num_score:X.num_score?Number(X.num_score):0,owner_id:X.owner_id,rank:X.rank?Number(X.rank):0,score:X.score?Number(X.score):0,subscore:X.subscore?Number(X.subscore):0,update_time:X.update_time,username:X.username,max_num_score:X.max_num_score?Number(X.max_num_score):0})}),null!=V.records&&V.records.forEach(X=>{Z.records.push({expiry_time:X.expiry_time,leaderboard_id:X.leaderboard_id,metadata:X.metadata?JSON.parse(X.metadata):void 0,num_score:X.num_score?Number(X.num_score):0,owner_id:X.owner_id,rank:X.rank?Number(X.rank):0,score:X.score?Number(X.score):0,subscore:X.subscore?Number(X.subscore):0,update_time:X.update_time,username:X.username,max_num_score:X.max_num_score?Number(X.max_num_score):0})}),Promise.resolve(Z)})})}promoteGroupUsers(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.promoteGroupUsers(W.token,ve,je)})}readStorageObjects(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.readStorageObjects(W.token,ve).then(je=>{var D={objects:[]};return null==je.objects||je.objects.forEach(T=>{D.objects.push({collection:T.collection,key:T.key,permission_read:T.permission_read?Number(T.permission_read):0,permission_write:T.permission_write?Number(T.permission_write):0,value:T.value?JSON.parse(T.value):void 0,version:T.version,user_id:T.user_id,create_time:T.create_time,update_time:T.update_time})}),Promise.resolve(D)})})}rpc(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.rpcFunc(W.token,ve,JSON.stringify(je)).then(D=>Promise.resolve({id:D.id,payload:D.payload?JSON.parse(D.payload):void 0}))})}rpcHttpKey(W,ve,je){return v(this,null,function*(){return this.apiClient.rpcFunc2("",ve,je&&JSON.stringify(je)||"",W).then(D=>Promise.resolve({id:D.id,payload:D.payload?JSON.parse(D.payload):void 0})).catch(D=>{throw D})})}sessionLogout(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.sessionLogout(W.token,{refresh_token:je,token:ve}).then(D=>void 0!==D)})}sessionRefresh(W){return v(this,arguments,function*(ve,je={}){if(!ve)return console.error("Cannot refresh a null session."),ve;ve.created&&ve.expires_at-ve.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),ve.created&&ve.refresh_expires_at-ve.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const D=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:ve.refresh_token,vars:je});return ve.update(D.token,D.refresh_token),ve})}unlinkApple(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkApple(W.token,ve).then(je=>void 0!==je)})}unlinkCustom(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkCustom(W.token,ve).then(je=>void 0!==je)})}unlinkDevice(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkDevice(W.token,ve).then(je=>void 0!==je)})}unlinkEmail(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkEmail(W.token,ve).then(je=>void 0!==je)})}unlinkFacebook(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkFacebook(W.token,ve).then(je=>void 0!==je)})}unlinkFacebookInstantGame(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkFacebookInstantGame(W.token,ve).then(je=>void 0!==je)})}unlinkGoogle(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkGoogle(W.token,ve).then(je=>void 0!==je)})}unlinkGameCenter(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkGameCenter(W.token,ve).then(je=>void 0!==je)})}unlinkSteam(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkSteam(W.token,ve).then(je=>void 0!==je)})}updateAccount(W,ve){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.updateAccount(W.token,ve).then(je=>void 0!==je)})}updateGroup(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.updateGroup(W.token,ve,je).then(D=>void 0!==D)})}validatePurchaseApple(W,ve,je=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseApple(W.token,{receipt:ve,persist:je})})}validatePurchaseFacebookInstant(W,ve,je=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseFacebookInstant(W.token,{signed_request:ve,persist:je})})}validatePurchaseGoogle(W,ve,je=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseGoogle(W.token,{purchase:ve,persist:je})})}validatePurchaseHuawei(W,ve,je,D=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseHuawei(W.token,{purchase:ve,signature:je,persist:D})})}validateSubscriptionApple(W,ve,je=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validateSubscriptionApple(W.token,{receipt:ve,persist:je})})}validateSubscriptionGoogle(W,ve,je=!0){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validateSubscriptionGoogle(W.token,{receipt:ve,persist:je})})}writeLeaderboardRecord(W,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.writeLeaderboardRecord(W.token,ve,{metadata:je.metadata?JSON.stringify(je.metadata):void 0,score:je.score,subscore:je.subscore}).then(D=>Promise.resolve({expiry_time:D.expiry_time,leaderboard_id:D.leaderboard_id,metadata:D.metadata?JSON.parse(D.metadata):void 0,num_score:D.num_score?Number(D.num_score):0,owner_id:D.owner_id,score:D.score?Number(D.score):0,subscore:D.subscore?Number(D.subscore):0,update_time:D.update_time,username:D.username,max_num_score:D.max_num_score?Number(D.max_num_score):0,rank:D.rank?Number(D.rank):0}))})}writeStorageObjects(W,ve){return v(this,null,function*(){this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W));var je={objects:[]};return ve.forEach(D=>{je.objects.push({collection:D.collection,key:D.key,permission_read:D.permission_read,permission_write:D.permission_write,value:JSON.stringify(D.value),version:D.version})}),this.apiClient.writeStorageObjects(W.token,je)})}writeTournamentRecord(W,ve,je){return v(this,null,function*(){return this.apiClient.writeTournamentRecord(W.token,ve,{metadata:je.metadata?JSON.stringify(je.metadata):void 0,score:je.score,subscore:je.subscore}).then(D=>Promise.resolve({expiry_time:D.expiry_time,leaderboard_id:D.leaderboard_id,metadata:D.metadata?JSON.parse(D.metadata):void 0,num_score:D.num_score?Number(D.num_score):0,owner_id:D.owner_id,score:D.score?Number(D.score):0,subscore:D.subscore?Number(D.subscore):0,update_time:D.update_time,username:D.username,max_num_score:D.max_num_score?Number(D.max_num_score):0,rank:D.rank?Number(D.rank):0}))})}},tt=me(9349),At=me(8326),gt=me(617),Rt=me(482),cn=me(4437),ft=me(736),xt=me(3953),Jt=me(9900),Nt=me(8065),rn=me(755),pn=me(5547),bn=me(5374),Mn=me(3656),In=me(4234),Tn=function(W){return W[W.MANAGE_TODO=10]="MANAGE_TODO",W[W.EDIT_PROFILE=11]="EDIT_PROFILE",W[W.MANAGE_POST=12]="MANAGE_POST",W[W.ADD_CHANNEL=14]="ADD_CHANNEL",W[W.NAME_OVERRIDED=15]="NAME_OVERRIDED",W[W.WEBRTC_INIT_REQ_SIGNAL=20]="WEBRTC_INIT_REQ_SIGNAL",W[W.WEBRTC_REPLY_INIT_SIGNAL=21]="WEBRTC_REPLY_INIT_SIGNAL",W[W.WEBRTC_RECEIVE_ANSWER=22]="WEBRTC_RECEIVE_ANSWER",W[W.WEBRTC_ICE_CANDIDATES=23]="WEBRTC_ICE_CANDIDATES",W[W.WEBRTC_NEGOCIATENEEDED=24]="WEBRTC_NEGOCIATENEEDED",W[W.WEBRTC_RECEIVED_CALL_SELF=25]="WEBRTC_RECEIVED_CALL_SELF",W[W.WEBRTC_HANGUP=30]="WEBRTC_HANGUP",W[W.VOIDDRAW_INIT=40]="VOIDDRAW_INIT",W[W.USER_PROFILE_CHANGED=100]="USER_PROFILE_CHANGED",W[W.USER_PROFILE_IMAGE_CHANGED=101]="USER_PROFILE_IMAGE_CHANGED",W[W.GROUP_DATA_CHANGED=200]="GROUP_DATA_CHANGED",W[W.GROUP_IMAGE_CHANGED=201]="GROUP_IMAGE_CHANGED",W}(Tn||{});let Gn=(()=>{var W;class ve{constructor(D,T,L,V,Z,X,se,Pe,Ne,ut){this.p5toast=D,this.statusBar=T,this.indexed=L,this.noti=V,this.modalCtrl=Z,this.alertCtrl=X,this.lang=se,this.global=Pe,this.navCtrl=Ne,this.loadingCtrl=ut,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.showServer=!1,this.TogglingSession=!1,this.isRewardAdsUsed=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.self_match={},this.RemoteTodoCounter={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={official:{},unofficial:{}},this.noti_id=2e3,this.web_noti_id={},this.registered_id=[],this.channels=[],this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.is_post_lock=!1,this.has_new_post=!1,this.posts_orig={local:{target:{me:{}}},official:{},unofficial:{}},this.posts=[],this.OnTransfer={},this.OnTransferMessage={},this.usernameOverride={local:{target:{}}},this.post_counter={local:{target:{me:0}},official:{},unofficial:{}},Pe.CallbackNakama=this}initialize(){var D=this;return(0,O.A)(function*(){D.noti.GetNotificationIds(Pe=>{let Ne=[];for(let ut=0,Ee=Pe.length;ut<Ee;ut++)Ne.push(Pe[ut].id);D.registered_id=Ne}),yield D.set_all_todo_notification();let T=yield D.indexed.loadTextFromUserPath("servers/self/profile.json");T&&(D.users.self=JSON.parse(T));try{let Pe=(yield D.indexed.loadTextFromUserPath("servers/self/profile.img")).replace(/"|\\|=/g,"");Pe&&(D.users.self.img=Pe)}catch{}let L=yield D.indexed.loadTextFromUserPath("servers/list_detail.csv");if(L)L.split("\n").forEach(Ne=>{let ut=Ne.split(","),Ee={isOfficial:ut[1],name:ut[2],target:ut[3],address:ut[4],port:+ut[5],useSSL:"true"==ut[6]};D.servers[Ee.isOfficial][Ee.target]={},D.servers[Ee.isOfficial][Ee.target].info=Ee,D.init_server(Ee)});else{let Pe=location.href.split("?").length>1;(D.users.self.online||Pe)&&D.toggle_all_session()}yield D.LoadOverridesOffline(),D.catch_group_server_header("offline");let V=yield D.indexed.loadTextFromUserPath("servers/groups.json");V&&(D.groups=JSON.parse(V)),D.rearrange_group_list().forEach(function(){var Pe=(0,O.A)(function*(Ne){let ut=yield D.indexed.loadTextFromUserPath(`servers/${Ne.server.isOfficial}/${Ne.server.target}/groups/${Ne.id}.img`);if(ut&&(Ne.img=ut.replace(/"|=|\\/g,"")),"missing"!=Ne.status){delete Ne.status;let Ee=Ne.server.isOfficial,Ue=Ne.server.target;if(Ne.users)for(let at=0,He=Ne.users.length;at<He;at++)Ne.users[at].is_me||(Ne.users[at].user=D.load_other_user(Ne.users[at].user.id,Ee,Ue))}});return function(Ne){return Pe.apply(this,arguments)}}()),yield D.load_channel_list();let X=yield D.indexed.loadTextFromUserPath("servers/list.json");X&&(D.statusBar.groupServer=JSON.parse(X)),Object.keys(D.statusBar.groupServer).forEach(Pe=>{D.servers[Pe]?Object.keys(D.statusBar.groupServer[Pe]).forEach(ut=>{D.servers[Pe][ut]||delete D.statusBar.groupServer[Pe][ut]}):delete D.statusBar.groupServer[Pe]}),D.showServer=!!localStorage.getItem("showServer")})()}set_all_todo_notification(){var D=this;return(0,O.A)(function*(){let T=yield D.indexed.GetFileListFromDB("info.todo");for(let L=0,V=T.length;L<V;L++){let Z=yield D.indexed.loadTextFromUserPath(T[L]);if(Z){let X=JSON.parse(Z);D.registered_id.push(X.noti_id),D.set_todo_notification(X)}}})()}getGodotDBRecursive(){var D=this;return(0,O.A)(function*(){try{if(void 0===D.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(L=>{setTimeout(()=>{L(void 0)},100)}),yield D.getGodotDBRecursive()}})()}open_add_todo_page(D=""){this.AddTodoLinkAct?this.AddTodoLinkAct(D):this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("add-todo-menu",{animation:gt.V5,state:{data:D}})})}open_group_detail(D){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("group-detail",{animation:gt.V5,state:D})})}open_others_profile(D){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("others-profile",{animation:gt.V5,state:D})})}set_todo_notification(D){var T=this;return(0,O.A)(function*(){let L=D.startFrom||D.limit;if("DesktopPWA"==tt.aH||"MobilePWA"==tt.aH){let V=new Date(L).getTime()-(new Date).getTime();if(V>0&&V<2e9){let Z=setTimeout((0,O.A)(function*(){let X;for(let se of D.attach)if("image"==se.viewer){if(se.url)X=se.url;else{let Pe=yield T.indexed.loadBlobFromUserPath(se.path,se.type);X=URL.createObjectURL(Pe)}break}yield T.noti.PushLocal({id:D.noti_id,title:D.title,body:D.description,image:X,icon:"todo"},void 0,se=>{T.open_add_todo_page(JSON.stringify(D))}),setTimeout(()=>{try{URL.revokeObjectURL(X)}catch{}},1e3)}),V);T.web_noti_id[D.noti_id]=Z}}else{let V=new Date(L).getTime();for(let Z=0,X=T.registered_id.length;Z<X;Z++)if(T.registered_id[Z]==D.id){if(T.registered_id.splice(Z,1),D.id=T.get_noti_id(),!D.done&&D.remote){let se=D.remote.isOfficial,Pe=D.remote.target;try{yield T.servers[se][Pe].client.writeStorageObjects(T.servers[se][Pe].session,[{collection:"server_todo",key:D.id,permission_read:2,permission_write:1,value:D}]).then(function(){var Ne=(0,O.A)(function*(ut){yield T.servers[se][Pe].socket.sendMatchState(T.self_match[se][Pe].match_id,Tn.MANAGE_TODO,encodeURIComponent(`add,${ut.acks[0].collection},${ut.acks[0].key}`))});return function(ut){return Ne.apply(this,arguments)}}())}catch(Ne){console.log("\uc11c\ubc84 \uc54c\ub9bc \uc7ac\ub4f1\ub85d \uc2e4\ud328: ",Ne)}}break}if(!D.done&&V>(new Date).getTime()){let Z="58a192";switch(D.importance){case"1":Z="ddbb41";break;case"2":Z="b95437"}D.custom_color&&(Z=D.custom_color.replace("#","")),T.noti.PushLocal({id:D.noti_id,title:D.title,body:D.description,smallIcon_ln:"todo",iconColor_ln:Z,group_ln:"todo",triggerWhen_ln:{at:new Date(L)},extra_ln:{type:"AddTodoMenuPage",data:JSON.stringify(D)}})}}})()}init_server(D){this.servers[D.isOfficial][D.target]||(this.servers[D.isOfficial][D.target]={}),this.servers[D.isOfficial][D.target].client=new pt(D.key||"defaultkey",D.address,(D.port||7350).toString(),D.useSSL||!1)}go_to_chatroom_without_admob_act(D,T){this.has_new_channel_msg=!1,this.ChatroomLinkAct?this.ChatroomLinkAct(D,T):this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("chat-room",{animation:gt.V5,state:{info:D,file:T}})})}add_new_group(){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("add-group",{animation:gt.V5})})}open_profile_page(D){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("group-server",{animation:gt.V5,state:D})})}open_post(D,T){this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("post-viewer",{animation:gt.V5,state:{data:D,index:T+1}})})}init_all_sessions(){var D=this;return(0,O.A)(function*(){let T=Object.keys(D.servers.official);for(let V=0,Z=T.length;V<Z;V++)yield D.init_session(D.servers.official[T[V]].info);let L=Object.keys(D.servers.unofficial);for(let V=0,Z=L.length;V<Z;V++)yield D.init_session(D.servers.unofficial[L[V]].info);return T.length+L.length})()}logout_all_server(){let D=Object.keys(this.statusBar.groupServer);for(let T=0,L=D.length;T<L;T++){let V=Object.keys(this.statusBar.groupServer[D[T]]);for(let Z=0,X=V.length;Z<X;Z++)"online"==this.statusBar.groupServer[D[T]][V[Z]]&&(this.servers[D[T]][V[Z]].socket?this.servers[D[T]][V[Z]].socket.disconnect(!0):this.link_group(D[T],V[Z],!1))}}toggle_all_session(){var D=this;return(0,O.A)(function*(){if(!D.TogglingSession){if(D.TogglingSession=!0,"online"==D.statusBar.settings.groupServer)D.logout_all_server(),D.p5toast.show({text:D.lang.text.Nakama.SessionLogout});else{D.p5toast.show({text:D.lang.text.Nakama.PendingLogin});try{(yield D.init_all_sessions())||D.AccessToOfficialTestServer()}catch{}}D.TogglingSession=!1}})()}WatchAdsAndGetDevServerInfo(D=!1){var T=this;return(0,O.A)(function*(){if(!T.isRewardAdsUsed||D){let L=yield T.loadingCtrl.create({message:T.lang.text.TodoDetail.WIP});return L.present(),yield T.AccessToOfficialTestServer(),L.dismiss(),!0}return!1})()}AccessToOfficialTestServer(){var D=this;return(0,O.A)(function*(){try{let L=(yield(yield fetch(`${tt.d2}assets/data/WSAddress.txt`)).text()).split("\n")[0];yield D.add_group_server({isOfficial:"official",address:L,name:D.lang.text.Nakama.DevTestServer,target:"DevTestServer",useSSL:!0}),D.isRewardAdsUsed=!0;let V=Object.keys(D.servers.official);for(let Z=0,X=V.length;Z<X;Z++)yield D.init_session(D.servers.official[V[Z]].info);"online"==D.statusBar.settings.groupServer&&D.p5toast.show({text:D.lang.text.Nakama.AccessTestServer})}catch(T){console.log("\uc8fc\uc18c\ubc1b\uae30 \uc2e4\ud328: ",T)}})()}link_group(D,T,L="offline"==this.statusBar.groupServer[D][T]){var V=this;return(0,O.A)(function*(){if(L)V.statusBar.groupServer[D][T]="pending",V.catch_group_server_header("pending"),V.users.self.online&&(yield V.init_session(V.servers[D][T].info));else{V.channels_orig[D]&&V.channels_orig[D][T]&&Object.keys(V.channels_orig[D][T]).forEach(X=>{"missing"!=V.channels_orig[D][T][X].status&&delete V.channels_orig[D][T][X].status}),V.groups[D]&&V.groups[D][T]&&Object.keys(V.groups[D][T]).forEach(X=>{"missing"!=V.groups[D][T][X].status&&(V.groups[D][T][X].status="offline")}),V.set_group_statusBar("offline",D,T),V.statusBar.groupServer[D][T]="offline",V.catch_group_server_header("offline");try{yield V.servers[D][T].client.sessionLogout(V.servers[D][T].session,V.servers[D][T].session.token,V.servers[D][T].session.refresh_token)}catch{}V.noti_origin[D]&&V.noti_origin[D][T]&&delete V.noti_origin[D][T],V.rearrange_notifications(),V.channels_orig[D]&&V.channels_orig[D][T]&&Object.keys(V.channels_orig[D][T]).forEach(X=>{"missing"!=V.channels_orig[D][T][X].status&&delete V.channels_orig[D][T][X].status})}V.indexed.saveTextFileToUserPath(JSON.stringify(V.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let D=[];return Object.keys(this.servers.official).forEach(V=>{"online"==this.statusBar.groupServer.official[V]&&D.push(this.servers.official[V])}),Object.keys(this.servers.unofficial).forEach(V=>{"online"==this.statusBar.groupServer.unofficial[V]&&D.push(this.servers.unofficial[V])}),D}get_all_server_info(D=!1,T=!1){let L=[],V=Object.keys(this.servers.official);return D&&V.forEach(X=>{T?("online"==this.statusBar.groupServer.official[X]||"pending"==this.statusBar.groupServer.official[X])&&L.push(this.servers.official[X].info):this.servers.official[X]&&L.push(this.servers.official[X].info)}),Object.keys(this.servers.unofficial).forEach(X=>{T?("online"==this.statusBar.groupServer.unofficial[X]||"pending"==this.statusBar.groupServer.unofficial[X])&&L.push(this.servers.unofficial[X].info):this.servers.unofficial[X]&&L.push(this.servers.unofficial[X].info)}),L}add_group_server(D,T=(()=>{})){var L=this;if(this.statusBar.groupServer.unofficial[D.target||D.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${D.target||D.name}`});D.target=D.target||D.name,D.address=D.address||"192.168.0.1",D.port=D.port||7350,D.useSSL=D.useSSL||!1,D.isOfficial=D.isOfficial||"unofficial",D.key=D.key||"defaultkey";let V=(new Date).getTime().toString();return V+=`,${D.isOfficial}`,V+=`,${D.name}`,V+=`,${D.target}`,V+=`,${D.address}`,V+=`,${D.port}`,V+=`,${D.useSSL}`,new Promise(function(){var Z=(0,O.A)(function*(X){{let se={urls:[`stun:${D.address}:3478`,`turn:${D.address}:3478`],username:"username",credential:"password"};yield L.SaveWebRTCServer(se)}"official"!=D.isOfficial?L.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var se=(0,O.A)(function*(Pe,Ne){let ut=[];Pe&&Ne&&(ut=Ne.split("\n")),ut.push(V),L.indexed.saveTextFileToUserPath(ut.join("\n"),"servers/list_detail.csv",Ee=>{L.init_server(D),L.servers[D.isOfficial][D.target].info={...D},T()}),L.statusBar.groupServer[D.isOfficial][D.target]="offline",yield L.indexed.saveTextFileToUserPath(JSON.stringify(L.statusBar.groupServer),"servers/list.json"),X()});return function(Pe,Ne){return se.apply(this,arguments)}}()):(L.init_server(D),L.servers[D.isOfficial][D.target].info={...D},L.statusBar.groupServer[D.isOfficial][D.target]="offline",X())});return function(X){return Z.apply(this,arguments)}}())}SaveWebRTCServer(D){var T=this;return(0,O.A)(function*(){let L=(yield T.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",V=JSON.parse(L),Z=!1;for(let se=0,Pe=Object.keys(V).length;se<Pe;se++)if(T.catch_address_from_rtc_server_address(D)==T.catch_address_from_rtc_server_address(V[se])){Z=!0;break}Z||V.push(D),yield T.indexed.saveTextFileToUserPath(JSON.stringify(V),"servers/webrtc_server.json")})()}RemoveWebRTCServer(D){var T=this;return(0,O.A)(function*(){let L=(yield T.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",V=JSON.parse(L);for(let X=0,se=Object.keys(V).length;X<se;X++){let Pe=T.catch_address_from_rtc_server_address(V[X]);D==Pe&&V.splice(X,1)}yield T.indexed.saveTextFileToUserPath(JSON.stringify(V),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(D){let T;try{let L=D.urls[0];(L.indexOf("stun:")>=0||L.indexOf("turn:")>=0)&&(L=L.substring(5));let V=L.lastIndexOf(":");T=L.substring(0,V)}catch(L){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",L)}return T}catch_group_server_header(D){let T=D;this.statusBar.settings.groupServer=D,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(V=>{switch(this.statusBar.groupServer.official[V]){case"online":T="online";break;case"pending":"online"!=T&&(T="pending");break;case"missing":case"offline":"online"!=T&&"pending"!=T&&(T="offline")}}),"online"!=T&&Object.keys(this.statusBar.groupServer.unofficial).forEach(Z=>{switch(this.statusBar.groupServer.unofficial[Z]){case"online":T="online";break;case"pending":"online"!=T&&(T="pending");break;case"missing":case"offline":"online"!=T&&"pending"!=T&&(T="offline")}}),this.statusBar.settings.groupServer=T},1500)}init_session(D){var T=this;return(0,O.A)(function*(){T.groups[D.isOfficial]||(T.groups[D.isOfficial]={}),T.groups[D.isOfficial][D.target]||(T.groups[D.isOfficial][D.target]={}),T.channels_orig[D.isOfficial]||(T.channels_orig[D.isOfficial]={}),T.channels_orig[D.isOfficial][D.target]||(T.channels_orig[D.isOfficial][D.target]={}),T.usernameOverride[D.isOfficial]||(T.usernameOverride[D.isOfficial]={}),T.usernameOverride[D.isOfficial][D.target]||(T.usernameOverride[D.isOfficial][D.target]={}),T.OnTransfer[D.isOfficial]||(T.OnTransfer[D.isOfficial]={}),T.OnTransfer[D.isOfficial][D.target]||(T.OnTransfer[D.isOfficial][D.target]={}),T.self_match[D.isOfficial]||(T.self_match[D.isOfficial]={}),T.self_match[D.isOfficial][D.target]||(T.self_match[D.isOfficial][D.target]=void 0),T.noti_origin[D.isOfficial]||(T.noti_origin[D.isOfficial]={}),T.noti_origin[D.isOfficial][D.target]||(T.noti_origin[D.isOfficial][D.target]={}),T.RemoteTodoCounter[D.isOfficial]||(T.RemoteTodoCounter[D.isOfficial]={}),T.RemoteTodoCounter[D.isOfficial][D.target]||(T.RemoteTodoCounter[D.isOfficial][D.target]=[]),T.TogglingSession=!0;try{T.servers[D.isOfficial][D.target].session=yield T.servers[D.isOfficial][D.target].client.authenticateEmail(T.users.self.email,T.users.self.password,!1),yield T.after_login(D.isOfficial,D.target,D.useSSL)}catch(L){switch(L.status){case 400:T.p5toast.show({text:T.lang.text.Nakama.NeedLoginInfo}),T.open_profile_page(),T.users.self.online=!1,delete T.users.self.password,T.set_group_statusBar("offline",D.isOfficial,D.target);break;case 401:T.p5toast.show({text:T.lang.text.Nakama.NeedAccountReset}),T.users.self.online=!1,delete T.users.self.password,T.set_group_statusBar("offline",D.isOfficial,D.target);break;case 404:if(T.servers[D.isOfficial][D.target].session=yield T.servers[D.isOfficial][D.target].client.authenticateEmail(T.users.self.email,T.users.self.password,!0),T.users.self.display_name&&T.servers[D.isOfficial][D.target].client.updateAccount(T.servers[D.isOfficial][D.target].session,{display_name:T.users.self.display_name,lang_tag:navigator.language.split("-")[0]||T.lang.lang}),T.p5toast.show({text:`${T.lang.text.Nakama.RegisterUserSucc}: ${D.name}`,lateable:!0}),T.users.self.img)try{yield T.servers[D.isOfficial][D.target].client.writeStorageObjects(T.servers[D.isOfficial][D.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:T.users.self.img}}])}catch(Z){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Z)}(yield T.indexed.checkIfFileExist("servers/self/content.pck"))&&T.sync_save_file({path:"servers/self/content.pck"},D.isOfficial,D.target,"user_public","main_content"),yield T.after_login(D.isOfficial,D.target,D.useSSL);break;default:T.p5toast.show({text:`(${D.name}) ${T.lang.text.Nakama.UnexpectedLoginErr}: ${L}`}),T.set_group_statusBar("offline",D.isOfficial,D.target)}}T.TogglingSession=!1})()}after_login(D,T,L){var V=this;return(0,O.A)(function*(){V.set_group_statusBar("pending",D,T),V.servers[D][T].socket=V.servers[D][T].client.createSocket(L),V.servers[D][T].client.getAccount(V.servers[D][T].session).then(Z=>{let X=JSON.parse(Z.user.metadata);V.servers[D][T].info.is_admin=X.is_admin,Object.keys(Z.user).forEach(Pe=>{"display_name"==Pe?V.users.self[Pe]=Z.user[Pe]:V.users.self.display_name||(V.users.self[Pe]=Z.user[Pe])}),V.save_self_profile()}),V.servers[D][T].client.readStorageObjects(V.servers[D][T].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:V.servers[D][T].session.user_id}]}).then(Z=>{Z.objects.length?V.socket_reactive.profile?(V.users.self.img=Z.objects[0].value.img,V.socket_reactive.profile(Z.objects[0].value.img)):(V.users.self.img=Z.objects[0].value.img,V.indexed.saveTextFileToUserPath(JSON.stringify(V.users.self.img),"servers/self/profile.img")):V.socket_reactive.profile&&V.socket_reactive.profile("")}),V.LoadOverrideName(D,T),V.connect_to(D,T,Z=>{V.servers[D][T].client.readStorageObjects(V.servers[D][T].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:V.servers[D][T].session.user_id}]}).then(function(){var se=(0,O.A)(function*(Pe){try{V.self_match[D][T]=yield Z.joinMatch(Pe.objects[0].value.match_id)}catch{let ut=yield Z.createMatch();V.self_match[D][T]=ut,V.servers[D][T].client.writeStorageObjects(V.servers[D][T].session,[{collection:"self_share",key:"private_match",permission_read:2,permission_write:1,value:{match_id:ut.match_id}}])}for(let Ne=0,ut=V.AfterLoginAct.length;Ne<ut;Ne++)try{yield V.AfterLoginAct[Ne]()}catch(Ee){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",Ee)}V.AfterLoginAct.length=0,V.AfterLoginActDone=!0});return function(Pe){return se.apply(this,arguments)}}());let X=Object.keys(V.users[D][T]||{});V.servers[D][T].client.getUsers(V.servers[D][T].session,X).then(se=>{for(let Pe=0,Ne=se.users.length;Pe<Ne;Pe++)V.save_other_user(se.users[Pe],D,T);V.get_group_list_from_server(D,T),V.redirect_channel(D,T)})}),yield V.SyncTodoCounter(D,T),V.load_server_todo(D,T),V.RemoteTodoSelfCheck(D,T),V.load_posts_counter(),V.update_notifications(D,T),V.rearrange_channels(),V.rearrange_group_list(),V.set_group_statusBar("online",D,T)})()}load_server_todo(D,T){var L=this;try{let V=this.RemoteTodoCounter[D][T];for(let Z=V.length-1;Z>=0;Z--){let X=`RemoteTodo_${V[Z]}`;this.servers[D][T].client.readStorageObjects(this.servers[D][T].session,{object_ids:[{collection:"server_todo",key:X,user_id:this.servers[D][T].session.user_id}]}).then(function(){var se=(0,O.A)(function*(Pe){if(Pe.objects.length)yield L.modify_remote_info_as_local(Pe.objects[0].value,D,T);else try{let Ne;L.RemoteTodoCounter[D][T].splice(Z,1);try{Ne=`todo/${X}_${D}_${T}/info.todo`}catch{Ne=`todo/${X}/info.todo`}let ut=yield L.indexed.loadTextFromUserPath(Ne),Ee=JSON.parse(ut);L.deleteTodoFromStorage(!0,Ee,!0)}catch{}});return function(Pe){return se.apply(this,arguments)}}()).catch(se=>{console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",se)})}}catch{}}RemoteTodoSelfCheck(D,T){var L=this;this.indexed.GetFileListFromDB("todo/RemoteTodo_").then(function(){var V=(0,O.A)(function*(Z){for(let X=0,se=Z.length;X<se;X++)try{if(Z[X].indexOf("info.todo")>=0){let Pe=yield L.indexed.loadTextFromUserPath(Z[X]),Ne=JSON.parse(Pe);Ne.remote.isOfficial==D&&Ne.remote.target==T&&((yield L.servers[D][T].client.readStorageObjects(L.servers[D][T].session,{object_ids:[{collection:"server_todo",key:Ne.id,user_id:L.servers[D][T].session.user_id}]})).objects.length||((yield L.indexed.GetFileListFromDB(`todo/${Ne.id}_${D}_${T}`)).forEach(Ue=>L.indexed.removeFileFromUserPath(Ue)),Ne.noti_id&&("DesktopPWA"==tt.aH||"MobilePWA"==tt.aH)&&(clearTimeout(L.web_noti_id[Ne.noti_id]),delete L.web_noti_id[Ne.noti_id]),L.noti.ClearNoti(Ne.id),L.global.p5todo&&L.global.p5todo.remove_todo&&L.global.p5todo.remove_todo(Pe)))}}catch{}});return function(Z){return V.apply(this,arguments)}}())}getRemoteTodoCounter(D,T){var L=this;return(0,O.A)(function*(){try{L.RemoteTodoCounter[D][T].sort((X,se)=>X-se);let V=L.RemoteTodoCounter[D][T].length;if(!V)throw"\uc815\ud574\uc9c4 \uac12\uc774 \uc5c6\uc5b4?";let Z=L.RemoteTodoCounter[D][T][V-1]+1;return L.RemoteTodoCounter[D][T].push(Z),Z}catch{let Z=yield L.SyncTodoCounter(D,T),X=0;return Z&&Z.objects.length&&Z.objects[0].value.data.length?X=Z.objects[0].value.data.pop()+1:L.RemoteTodoCounter[D][T]=[0],X}})()}SyncTodoCounter(D,T){var L=this;return(0,O.A)(function*(){try{let V=yield L.servers[D][T].client.readStorageObjects(L.servers[D][T].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:L.servers[D][T].session.user_id}]});return L.RemoteTodoCounter[D][T]=V.objects[0].value.data,V}catch{}})()}removeRemoteTodoCounter(D,T,L){var V=this;return(0,O.A)(function*(){try{let Z=V.RemoteTodoCounter[D][T].indexOf(L);Z>=0&&V.RemoteTodoCounter[D][T].splice(Z,1)}catch{}yield V.updateRemoteCounter(D,T)})()}updateRemoteCounter(D,T){var L=this;return(0,O.A)(function*(){if(L.RemoteTodoCounter[D][T].length){for(let V=L.RemoteTodoCounter[D][T].length-1;V>=0;V--)(void 0===L.RemoteTodoCounter[D][T][V]||null==L.RemoteTodoCounter[D][T][V])&&L.RemoteTodoCounter[D][T].splice(V,1);L.RemoteTodoCounter[D][T].sort((V,Z)=>V-Z);for(let V=L.RemoteTodoCounter[D][T].length-2;V>=0;V--)L.RemoteTodoCounter[D][T][V+1]==L.RemoteTodoCounter[D][T][V]&&L.RemoteTodoCounter[D][T].splice(V,1)}yield L.servers[D][T].client.writeStorageObjects(L.servers[D][T].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:L.RemoteTodoCounter[D][T]}}])})()}modify_remote_info_as_local(D,T,L){var V=this;return(0,O.A)(function*(){D.remote.name=V.servers[T][L].info.name,D.remote.isOfficial=T,D.remote.target=L,D.remote.type=`${T}/${L}`,V.set_todo_notification(D);try{D.is_me=D.remote.creator_id==V.servers[T][L].session.user_id}catch{}V.global.p5todo&&V.global.p5todo.add_todo&&V.global.p5todo.add_todo(JSON.stringify(D));let Z=yield V.indexed.loadTextFromUserPath(`todo/${D.id}_${T}_${L}/info.todo`);if(Z){let X=JSON.parse(Z);if(D.create_at<=X.create_at&&X.modified){if(X.done)return void V.doneTodo(D,!0);if(X.removed)return void V.deleteTodoFromStorage(!0,X,!0);delete X.modified,yield V.indexed.saveTextFileToUserPath(JSON.stringify(X),`todo/${X.id}_${T}_${L}/info.todo`),yield V.servers[X.remote.isOfficial][X.remote.target].client.writeStorageObjects(V.servers[X.remote.isOfficial][X.remote.target].session,[{collection:"server_todo",key:X.id,permission_read:2,permission_write:1,value:X}]).then(function(){var se=(0,O.A)(function*(Pe){yield V.servers[X.remote.isOfficial][X.remote.target].socket.sendMatchState(V.self_match[X.remote.isOfficial][X.remote.target].match_id,Tn.MANAGE_TODO,encodeURIComponent(`add,${Pe.acks[0].collection},${Pe.acks[0].key}`))});return function(Pe){return se.apply(this,arguments)}}())}else V.indexed.saveTextFileToUserPath(JSON.stringify(D),`todo/${D.id}_${T}_${L}/info.todo`)}else V.indexed.saveTextFileToUserPath(JSON.stringify(D),`todo/${D.id}_${T}_${L}/info.todo`)})()}doneTodo(D,T=!1){var L=this;return(0,O.A)(function*(){if(D.done=!0,L.global.p5todo&&L.global.p5todo.add_todo&&L.global.p5todo.add_todo(JSON.stringify(D)),D.remote){let V;T||(V=yield L.loadingCtrl.create({message:L.lang.text.TodoDetail.WIP}),V.present());try{L.servers[D.remote.isOfficial][D.remote.target]&&L.self_match[D.remote.isOfficial][D.remote.target]&&(yield L.servers[D.remote.isOfficial][D.remote.target].socket.sendMatchState(L.self_match[D.remote.isOfficial][D.remote.target].match_id,Tn.MANAGE_TODO,encodeURIComponent(`done,${D.id}`))),T||V.dismiss()}catch{let X;D.modified=!0;try{X=`todo/${D.id}_${D.remote.isOfficial}_${D.remote.target}/info.todo`}catch{X=`todo/${D.id}/info.todo`}return yield L.indexed.saveTextFileToUserPath(JSON.stringify(D),X),T||V.dismiss(),void L.navCtrl.pop()}}yield L.deleteTodoFromStorage(!1,D,T),L.navCtrl.pop()})()}deleteTodoFromStorage(D,T,L=!1){var V=this;return(0,O.A)(function*(){let Z,X;if(L||(Z=yield V.loadingCtrl.create({message:V.lang.text.TodoDetail.WIP}),Z.present()),T.attach&&T.attach.length)for(let Pe=0,Ne=T.attach.length;Pe<Ne;Pe++)T.attach[Pe].url&&(yield V.global.remove_file_from_storage(T.attach[Pe].url));if(T.remote)try{if(!V.servers[T.remote.isOfficial][T.remote.target])throw"Server deleted.";try{let Pe=T.remote.isOfficial,Ne=T.remote.target;if(yield V.servers[Pe][Ne].client.deleteStorageObjects(V.servers[Pe][Ne].session,{object_ids:[{collection:"server_todo",key:T.id}]}),T.attach)for(let ut=0,Ee=T.attach.length;ut<Ee;ut++)T.attach[ut].url?yield V.global.remove_file_from_storage(T.attach[ut].url):yield V.sync_remove_file(T.attach[ut].path,Pe,Ne,"todo_attach");D&&(yield V.servers[Pe][Ne].socket.sendMatchState(V.self_match[Pe][Ne].match_id,Tn.MANAGE_TODO,encodeURIComponent(`delete,${T.id}`)))}catch(Pe){console.error("\ud574\uc57c\ud560 \uc77c \uc0ad\uc81c \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",Pe)}try{if(T.remote.creator_id!=V.servers[T.remote.isOfficial][T.remote.target].session.user_id){let Pe=(new Date).getTime();try{yield V.servers[T.remote.isOfficial][T.remote.target].client.rpc(V.servers[T.remote.isOfficial][T.remote.target].session,"manage_todo_done_fn",{id:T.id,creator_id:T.remote.creator_id,user_id:V.servers[T.remote.isOfficial][T.remote.target].session.user_id,timestamp:Pe,isDelete:D})}catch{}try{let Ne=yield V.servers[T.remote.isOfficial][T.remote.target].client.readStorageObjects(V.servers[T.remote.isOfficial][T.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:T.remote.creator_id}]});Ne.objects.length&&(yield V.servers[T.remote.isOfficial][T.remote.target].socket.joinMatch(Ne.objects[0].value.match_id),yield V.servers[T.remote.isOfficial][T.remote.target].socket.sendMatchState(Ne.objects[0].value.match_id,Tn.MANAGE_TODO,encodeURIComponent(`worker,${T.id},${V.servers[T.remote.isOfficial][T.remote.target].session.user_id},${D},${Pe}`)),yield V.servers[T.remote.isOfficial][T.remote.target].socket.leaveMatch(Ne.objects[0].value.match_id))}catch{}}}catch{}if(T.workers){try{yield V.servers[T.remote.isOfficial][T.remote.target].client.rpc(V.servers[T.remote.isOfficial][T.remote.target].session,"manage_todo_delete_fn",{id:T.id,workers:T.workers})}catch{}for(let Pe=0,Ne=T.workers.length;Pe<Ne;Pe++)try{let ut=yield V.servers[T.remote.isOfficial][T.remote.target].client.readStorageObjects(V.servers[T.remote.isOfficial][T.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:T.workers[Pe].id}]});ut.objects.length&&(yield V.servers[T.remote.isOfficial][T.remote.target].socket.joinMatch(ut.objects[0].value.match_id),yield V.servers[T.remote.isOfficial][T.remote.target].socket.sendMatchState(ut.objects[0].value.match_id,Tn.MANAGE_TODO,encodeURIComponent(D?`delete,${T.id}`:`done,${T.id}`)),yield V.servers[T.remote.isOfficial][T.remote.target].socket.leaveMatch(ut.objects[0].value.match_id))}catch{}}yield V.removeRemoteTodoCounter(T.remote.isOfficial,T.remote.target,Number(T.id.split("_").pop()))}catch{let Ne;T.modified=!0,T.removed=!0;try{Ne=`todo/${T.id}_${T.remote.isOfficial}_${T.remote.target}/info.todo`}catch{Ne=`todo/${T.id}/info.todo`}return yield V.indexed.saveTextFileToUserPath(JSON.stringify(T),Ne),V.removeRegisteredId(T.noti_id),V.noti.ClearNoti(T.noti_id),D&&V.global.p5todo&&V.global.p5todo.remove_todo(JSON.stringify(T)),void(L||Z.dismiss())}try{X=`todo/${T.id}_${T.remote.isOfficial}_${T.remote.target}`}catch{X=`todo/${T.id}`}(yield V.indexed.GetFileListFromDB(X)).forEach(Pe=>V.indexed.removeFileFromUserPath(Pe)),T.noti_id&&("Android"==tt.aH||"iOS"==tt.aH||(clearTimeout(V.web_noti_id[T.noti_id]),delete V.web_noti_id[T.noti_id])),V.removeRegisteredId(T.noti_id),V.noti.ClearNoti(T.noti_id),D&&V.global.p5todo&&V.global.p5todo.remove_todo(JSON.stringify(T)),L||Z.dismiss()})()}load_groups(D,T,L,V=!1){var Z=this;return(0,O.A)(function*(){let X=Z.groups[D][T][L].channel_id;try{if("missing"!=Z.groups[D][T][L].status){let se=yield Z.servers[D][T].client.listGroupUsers(Z.servers[D][T].session,L);if(se.group_users.length){let Pe=!0;for(let Ne=0,ut=se.group_users.length;Ne<ut;Ne++)if(se.group_users[Ne].user.id==Z.servers[D][T].session.user_id){switch(se.group_users[Ne].state){case 0:case 1:case 2:Z.groups[D][T][L].status="online";break;case 3:Z.groups[D][T][L].status="pending";break;default:console.log("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",se.group_users[Ne].state),Z.groups[D][T][L].status="missing"}Pe=!1,se.group_users[Ne].is_me=!0;break}Pe&&(Z.groups[D][T][L].status="missing",X&&(Z.channels_orig[D][T][X].status="missing"),Z.save_channels_with_less_info())}else Z.groups[D][T][L].status="missing",Z.channels_orig[D][T][X].status="missing",Z.save_channels_with_less_info();se.group_users.length&&(Z.groups[D][T][L].users=se.group_users);for(let Pe=0,Ne=se.group_users.length;Pe<Ne;Pe++)if(se.group_users[Pe].is_me)se.group_users[Pe].user=Z.users.self;else try{if(V)throw"\uc0ac\uc6a9\uc790 \ub370\uc774\ud130\ub9cc \ubc1b\uc74c";let ut=yield Z.servers[D][T].client.readStorageObjects(Z.servers[D][T].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:se.group_users[Pe].user.id}]});ut.objects.length?se.group_users[Pe].user.img=ut.objects[0].value.img:delete se.group_users[Pe].user.img,Z.save_other_user(se.group_users[Pe].user,D,T)}catch(ut){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",ut),Z.save_other_user(se.group_users[Pe].user,D,T)}Z.save_groups_with_less_info()}}catch(se){console.log("load_groups_error: ",se)}})()}save_self_profile(){let D={...this.users.self};delete D.img,this.indexed.saveTextFileToUserPath(JSON.stringify(D),"servers/self/profile.json")}rearrange_all_user(){let D=[];return Object.keys(this.users).forEach(L=>{"self"!=L&&Object.keys(this.users[L]).forEach(Z=>{Object.keys(this.users[L][Z]).forEach(se=>{D.push(this.users[L][Z][se])})})}),D}load_other_user(D,T,L,V=(Z=>{})){try{if(this.servers[T][L].session.user_id==D)return V(this.users.self),this.users.self}catch{}this.users[T][L]||(this.users[T][L]={}),this.users[T][L][D]||(this.users[T][L][D]={});let Z=()=>{this.indexed.loadTextFromUserPath(`servers/${T}/${L}/users/${D}/profile.json`,(se,Pe)=>{if(se&&Pe){let Ne=JSON.parse(Pe);Object.keys(Ne).forEach(Ee=>this.users[T][L][D][Ee]=Ne[Ee])}})};try{this.servers[T][L].client.getUsers(this.servers[T][L].session,[D]).then(se=>{se.users.length?(Object.keys(se.users[0]).forEach(Ne=>this.users[T][L][D][Ne]=se.users[0][Ne]),this.users[T][L][D].img||(this.users[T][L][D].img=null),this.save_other_user(this.users[T][L][D],T,L)):(this.indexed.removeFileFromUserPath(`${T}/${L}/users/${D}`),this.indexed.removeFileFromUserPath(`${T}/${L}/users/${D}/profile.json`),this.indexed.removeFileFromUserPath(`${T}/${L}/users/${D}/profile.img`))}).catch(se=>{Z()})}catch{Z()}let X=()=>{this.users[T][L][D].img&&(delete this.users[T][L][D].img,V(this.users[T][L][D]),this.save_other_user(this.users[T][L][D],T,L)),this.indexed.loadTextFromUserPath(`servers/${T}/${L}/users/${D}/profile.img`,(se,Pe)=>{se&&Pe&&(this.users[T][L][D].img=Pe.replace(/"|=|\\/g,""))})};try{this.servers[T][L].client.readStorageObjects(this.servers[T][L].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:D}]}).then(se=>{se.objects.length&&(this.users[T][L][D].img=se.objects[0].value.img),V(this.users[T][L][D]),this.save_other_user(this.users[T][L][D],T,L)}).catch(se=>{X()})}catch{X()}return this.users[T][L][D]}save_other_user(D,T,L){if(this.servers[T][L].session.user_id==D.id)return;let V=JSON.parse(JSON.stringify(D));D.id!=this.servers[T][L].session.user_id&&(delete V.img,delete V.online,delete V.todo_checked,delete V.todo_done,this.users[T][L]||(this.users[T][L]={}),this.users[T][L][D.id]||(this.users[T][L][D.id]={}),Object.keys(D).forEach(X=>this.users[T][L][D.id][X]=D[X]),this.indexed.saveTextFileToUserPath(JSON.stringify(V),`servers/${T}/${L}/users/${V.id}/profile.json`),D.img?this.indexed.saveTextFileToUserPath(D.img,`servers/${T}/${L}/users/${D.id}/profile.img`):void 0===D.img&&this.indexed.removeFileFromUserPath(`servers/${T}/${L}/users/${D.id}/profile.img`))}update_notifications(D,T){var L=this;return(0,O.A)(function*(){let V=yield L.servers[D][T].client.listNotifications(L.servers[D][T].session,1);L.noti_origin[D][T]={};for(let Z=0,X=V.notifications.length;Z<X;Z++)L.act_on_notification(V.notifications[Z],D,T);L.rearrange_notifications()})()}rearrange_notifications(){let D=[];return Object.keys(this.noti_origin).forEach(L=>{Object.keys(this.noti_origin[L]).forEach(Z=>{Object.keys(this.noti_origin[L][Z]).forEach(se=>{D.push(this.noti_origin[L][Z][se])})})}),D.sort((L,V)=>L.create_time<V.create_time?1:L.create_time>V.create_time?-1:0),this.notifications_rearrange=D,D}add_channel(D,T,L){var V=this;return(0,O.A)(function*(){if(!V.channels_orig[T][L][D.id]){V.channels_orig[T][L][D.id]={};try{V.servers[T][L].socket.sendMatchState(V.self_match[T][L].match_id,Tn.ADD_CHANNEL,encodeURIComponent(""))}catch{}}switch(Object.keys(D).forEach(X=>V.channels_orig[T][L][D.id][X]=D[X]),V.channels_orig[T][L][D.id].cnoti_id||(V.channels_orig[T][L][D.id].cnoti_id=V.get_noti_id()),V.channels_orig[T][L][D.id].redirect.type){case 2:let X=V.channels_orig[T][L][D.id].redirect.id;V.channels_orig[T][L][D.id].color=(X.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let se=V.load_other_user(X,T,L).online?"online":"pending";V.channels_orig[T][L][D.id].status=se;break;case 3:try{let Pe=V.channels_orig[T][L][D.id].redirect.id;V.channels_orig[T][L][D.id].color=(Pe.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),"missing"==V.channels_orig[T][L][D.id].status&&delete V.channels_orig[T][L][D.id].status,V.load_groups(T,L,Pe,!0)}catch(Pe){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",Pe)}break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",V.channels_orig[T][L][D.id])}})()}add_group_user_without_duplicate(D,T,L,V){let Z=!1;this.groups[L][V][T].users||(this.groups[L][V][T].users=[]);for(let X=0,se=this.groups[L][V][T].users.length;X<se;X++)if(this.groups[L][V][T].users[X].user.id==D.user.id){Z=!0;break}Z||this.groups[L][V][T].users.push(D)}load_channel_list(){var D=this;return(0,O.A)(function*(){let T=yield D.indexed.loadTextFromUserPath("servers/channels.json");T&&(D.channels_orig=JSON.parse(T),Object.keys(D.channels_orig).forEach(V=>{Object.keys(D.channels_orig[V]).forEach(X=>{Object.keys(D.channels_orig[V][X]).forEach(Pe=>{try{if(Pe.indexOf("tmp_files")>=0)throw delete D.channels_orig[V][X][Pe],"\ud718\ubc1c\uc131 \ucc44\ub110 \ubb34\uc2dc";2==D.channels_orig[V][X][Pe].redirect.type&&(D.channels_orig[V][X][Pe].info=D.load_other_user(D.channels_orig[V][X][Pe].redirect.id,V,X)),"missing"!=D.channels_orig[V][X][Pe].status&&delete D.channels_orig[V][X][Pe].status,0==D.channels_orig[V][X][Pe].redirect.type&&(D.channels_orig[V][X][Pe].status="online"),D.channels_orig[V][X][Pe].is_new&&!D.subscribe_lock&&(D.has_new_channel_msg=!0)}catch{}})})})),D.rearrange_channels()})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.registered_id.push(this.noti_id),this.noti_id}check_If_RegisteredId(D){let T=!1;for(let L=0,V=this.registered_id.length;L<V;L++)if(this.registered_id[L]==D){T=!0;break}return T?this.check_If_RegisteredId(D+1):D}removeRegisteredId(D){for(let T=0,L=this.registered_id.length;T<L;T++)if(this.registered_id[T]==D){this.registered_id.splice(T,1);break}}redirect_channel(D,T){if(this.channels_orig[D][T]){let L=Object.keys(this.channels_orig[D][T]);for(let V=0,Z=L.length;V<Z;V++)try{"missing"!=this.channels_orig[D][T][L[V]].status&&this.servers[D][T].socket.joinChat(this.channels_orig[D][T][L[V]].redirect.id,this.channels_orig[D][T][L[V]].redirect.type,this.channels_orig[D][T][L[V]].redirect.persistence,!1).then(X=>{2===(this.channels_orig[D][T][L[V]].cnoti_id||(this.channels_orig[D][T][L[V]].cnoti_id=this.get_noti_id()),this.channels_orig[D][T][L[V]].color=(this.channels_orig[D][T][L[V]].info.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),this.channels_orig[D][T][L[V]].redirect.type)&&(this.servers[D][T].client.readStorageObjects(this.servers[D][T].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:this.channels_orig[D][T][L[V]].redirect.id}]}).then(se=>{let Pe=this.load_other_user(this.channels_orig[D][T][L[V]].redirect.id,D,T);Pe.img=se.objects.length?se.objects[0].value.img:void 0,this.save_other_user(Pe,D,T)}),this.channels_orig[D][T][L[V]].update||this.servers[D][T].client.listChannelMessages(this.servers[D][T].session,L[V],1,!1).then(se=>{se.messages.length&&this.update_from_channel_msg(se.messages[0],D,T)}))}).catch(X=>{this.channels_orig[D][T][L[V]].status="missing"})}catch{}this.rearrange_channels()}}rearrange_channels(){let D=[];return Object.keys(this.channels_orig).forEach(L=>{Object.keys(this.channels_orig[L]).forEach(Z=>{Object.keys(this.channels_orig[L][Z]).forEach(se=>{this.channels_orig[L][Z][se].server={isOfficial:L,target:Z};try{this.channels_orig[L][Z][se].server.name=this.servers[L][Z].info.name}catch{this.channels_orig[L][Z][se].server.name=this.lang.text.Nakama.DeletedServer}try{switch(this.channels_orig[L][Z][se].info||(this.channels_orig[L][Z][se].info={}),this.channels_orig[L][Z][se].info.isOfficial=L,this.channels_orig[L][Z][se].info.target=Z,this.channels_orig[L][Z][se].redirect.type){case 1:break;case 2:this.channels_orig[L][Z][se].info=this.load_other_user(this.channels_orig[L][Z][se].redirect.id,L,Z),this.channels_orig[L][Z][se].title=this.channels_orig[L][Z][se].info.display_name;break;case 3:"missing"!=this.channels_orig[L][Z][se].status&&(this.groups[L][Z]&&this.groups[L][Z][this.channels_orig[L][Z][se].redirect.id]?(this.channels_orig[L][Z][se].info=this.groups[L][Z][this.channels_orig[L][Z][se].redirect.id],this.channels_orig[L][Z][se].title=this.groups[L][Z][this.channels_orig[L][Z][se].redirect.id].name,"missing"==this.groups[L][Z][this.channels_orig[L][Z][se].redirect.id].status&&(this.channels_orig[L][Z][se].status=this.groups[L][Z][this.channels_orig[L][Z][se].redirect.id].status)):this.channels_orig[L][Z][se].status="missing");break;case 0:this.channels_orig[L][Z][se].info||(this.channels_orig[L][Z][se].info={}),this.channels_orig[L][Z][se].info.name=this.channels_orig[L][Z][se].title,this.channels_orig[L][Z][se].info.img||this.indexed.loadTextFromUserPath(`servers/${L}/${Z}/groups/${se}.img`,(Pe,Ne)=>{Pe&&Ne&&(this.channels_orig[L][Z][se].info.img=Ne)})}}catch{}this.channels_orig[L][Z][se].last_comment_time||(this.channels_orig[L][Z][se].last_comment_time=Date.now()),D.push(this.channels_orig[L][Z][se])})})}),D.sort((L,V)=>{let Z=new Date(L.last_comment_time||0).getTime(),X=new Date(V.last_comment_time||0).getTime();return Z<X?1:Z>X?-1:0}),D.sort((L,V)=>L.is_new?V.is_new?0:-1:V.is_new?1:0),this.channels=D,this.save_channels_with_less_info(),D}save_channels_with_less_info(){let D=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(D).forEach(L=>{Object.keys(D[L]).forEach(Z=>{let X=Object.keys(D[L][Z]);X.forEach(se=>{delete D[L][Z][se].img,delete D[L][Z][se].group,delete D[L][Z][se].info,delete D[L][Z][se].update,delete D[L][Z][se].presences,delete D[L][Z][se].cnoti_id,delete D[L][Z][se].status,delete D[L][Z][se].color,delete D[L][Z][se].isOfficial,delete D[L][Z][se].target,D[L][Z][se].is_new||delete D[L][Z][se].is_new}),X.length||delete D[L][Z]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(D),"servers/channels.json")}limit_image_size(D,T=(L=>{})){new At(V=>{V.setup=()=>{V.noCanvas(),V.loadImage(D,X=>{X.resize(window.innerWidth,window.innerWidth*X.height/X.width),X.canvas.toDataURL().length>245e3&&Z(X),T(X),V.remove()},X=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),V.remove()})};let Z=X=>{X.resize(.95*X.width,.95*X.height),X.canvas.toDataURL().length>245e3&&Z(X)}})}try_add_group(D){var T=this;return new Promise(function(){var L=(0,O.A)(function*(V,Z){let X=T.get_all_online_server();for(let se=0,Pe=X.length;se<Pe;se++)try{let Ne=yield X[se].client.joinGroup(X[se].session,D.id);if(!Ne)return void console.log("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");Ne=yield X[se].client.listGroups(X[se].session,decodeURIComponent(D.name));for(let ut=0,Ee=Ne.groups.length;ut<Ee;ut++)if(Ne.groups[ut].id==D.id){let Ue=Ne.groups[ut];Ue.status=Ue.open?"online":"pending",Ue.server=T.servers[X[se].info.isOfficial][X[se].info.target].info;try{yield T.load_groups(X[se].info.isOfficial,X[se].info.target,Ne.groups[ut].id,!0)}catch(at){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",at)}try{let at=yield T.servers[X[se].info.isOfficial][X[se].info.target].client.readStorageObjects(T.servers[X[se].info.isOfficial][X[se].info.target].session,{object_ids:[{collection:"group_public",key:`group_${Ne.groups[ut].id}`,user_id:Ne.groups[ut].creator_id}]});at.objects.length?Ue.img=at.objects[0].value.img:delete Ue.img}catch(at){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",at)}if(T.save_group_info(Ue,X[se].info.isOfficial,X[se].info.target),yield X[se].socket.sendMatchState(T.self_match[X[se].info.isOfficial][X[se].info.target].match_id,Tn.ADD_CHANNEL,encodeURIComponent("")),Ue.open){let at=yield T.join_chat_with_modulation(Ue.id,3,X[se].info.isOfficial,X[se].info.target);(!T.opened_page_info.channel||T.opened_page_info.channel.isOfficial!=X[se].info.isOfficial||T.opened_page_info.channel.target!=X[se].info.target||T.opened_page_info.channel.id!=at.id)&&T.servers[X[se].info.isOfficial][X[se].info.target].client.listChannelMessages(T.servers[X[se].info.isOfficial][X[se].info.target].session,at.id,1,!1).then(He=>{He.messages.length&&T.update_from_channel_msg(He.messages[0],X[se].info.isOfficial,X[se].info.target),T.save_group_info(Ue,X[se].info.isOfficial,X[se].info.target),T.go_to_chatroom_without_admob_act(at)}).catch(He=>{console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",He)})}V();break}}catch(Ne){switch(Ne.status){case 400:console.log("\uc774\ubbf8 \uadf8\ub8f9\uc5d0 \uac00\uc785\ub418\uc5b4 \uc788\uc74c: 400");let ut=yield T.join_chat_with_modulation(D.id,3,X[se].info.isOfficial,X[se].info.target);T.servers[X[se].info.isOfficial][X[se].info.target].client.listChannelMessages(T.servers[X[se].info.isOfficial][X[se].info.target].session,ut.id,1,!1).then(Ee=>{Ee.messages.length&&T.update_from_channel_msg(Ee.messages[0],X[se].info.isOfficial,X[se].info.target),T.go_to_chatroom_without_admob_act(ut)}).catch(Ee=>{console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",Ee)}),V();break;case 404:console.log("\uc774 \uc11c\ubc84\uc5d0 \uc5c6\ub294 \uadf8\ub8f9: 404");break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",Ne)}}Z(T.lang.text.Nakama.GroupAllListDone)});return function(V,Z){return L.apply(this,arguments)}}())}save_group_info(D,T,L){this.groups[T][L]||(this.groups[T][L]={}),this.groups[T][L][D.id]=D,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(D.img,`servers/${T}/${L}/groups/${D.id}.img`),D.owner==this.servers[T][L].session.user_id&&D.img&&this.servers[T][L].client.writeStorageObjects(this.servers[T][L].session,[{collection:"group_public",key:`group_${D.id}`,value:{img:D.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(D=(()=>{})){let T=JSON.parse(JSON.stringify(this.groups));Object.keys(T).forEach(V=>{Object.keys(T[V]).forEach(X=>{let se=Object.keys(T[V][X]);se.forEach(Pe=>{if(delete T[V][X][Pe].server,delete T[V][X][Pe].img,T[V][X][Pe].users)for(let Ne=0,ut=T[V][X][Pe].users.length;Ne<ut;Ne++)if(T[V][X][Pe].users[Ne]){delete T[V][X][Pe].users[Ne].state;try{T[V][X][Pe].users[Ne].user.id?(T[V][X][Pe].users[Ne].user={id:T[V][X][Pe].users[Ne].user.id},this.servers[V][X]&&this.servers[V][X].session&&T[V][X][Pe].users[Ne].user.id==this.servers[V][X].session.user_id&&(T[V][X][Pe].users[Ne].is_me=!0)):T[V][X][Pe].users[Ne].is_me||T[V][X][Pe].users.splice(Ne,1)}catch{}}}),se.length||delete T[V][X]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(T),"servers/groups.json",()=>{D()})}remove_group_list(D,T,L,V=!1){var Z=this;return(0,O.A)(function*(){try{let X=D.creator_id==Z.servers[T][L].session.user_id;if(!Z.servers[T][L]||!X)throw"not a group creator";try{let Pe=`${D.server.useSSL?"https":"http"}://${D.server.address}`;yield Z.global.remove_files_from_storage_with_key(Pe,D.id)}catch{}(yield Z.servers[T][L].client.deleteGroup(Z.servers[T][L].session,D.id))||console.log("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),Z.remove_channel_files(T,L,D.channel_id,X);try{throw yield Z.servers[T][L].client.deleteStorageObjects(Z.servers[T][L].session,{object_ids:[{collection:"group_public",key:`group_${D.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{try{delete Z.groups[T][L][D.id],Z.save_groups_with_less_info()}catch{}try{let se=localStorage.getItem("fallback_fs");if(!se)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Pe=se.split("://"),Ne=Pe.pop().split(":"),ut=Pe.pop();ut?ut+=":":ut=Z.global.checkProtocolFromAddress(Ne[0])?"https:":"http:";let Ee=`${ut}//${Ne[0]}:${Ne[1]||9002}/`;yield Z.global.remove_files_from_storage_with_key(Ee,`${D.id}_${Z.servers[T][L].session.user_id}`)}catch{}try{let se=`${D.server.useSSL?"https":"http"}://${D.server.address}`;yield Z.global.remove_files_from_storage_with_key(se,`${D.id}_${Z.servers[T][L].session.user_id}`)}catch{}}try{V&&(yield Z.indexed.removeFileFromUserPath(`servers/${T}/${L}/groups/${D.id}.img`))}catch{}})()}remove_channel_files(D,T,L,V){try{this.servers[D][T].client.rpc(this.servers[D][T].session,"remove_channel_file",{collection:`file_${L.replace(/[.]/g,"_")}`,is_creator:V}).catch(Z=>{})}catch{}}get_group_list_from_server(D,T,L){this.servers[D][T].client.listUserGroups(this.servers[D][T].session,this.servers[D][T].session.user_id).then(V=>{for(let Z=0,X=V.user_groups.length;Z<X;Z++)(void 0===L||L==V.user_groups[Z].group.id)&&(this.groups[D][T][V.user_groups[Z].group.id]||(this.groups[D][T][V.user_groups[Z].group.id]={}),this.servers[D][T].client.readStorageObjects(this.servers[D][T].session,{object_ids:[{collection:"group_public",key:`group_${V.user_groups[Z].group.id}`,user_id:V.user_groups[Z].group.creator_id}]}).then(se=>{se.objects.length?(this.groups[D][T][V.user_groups[Z].group.id].img=se.objects[0].value.img,this.indexed.saveTextFileToUserPath(se.objects[0].value.img,`servers/${D}/${T}/groups/${V.user_groups[Z].group.id}.img`)):(delete this.groups[D][T][V.user_groups[Z].group.id].img,this.indexed.removeFileFromUserPath(`servers/${D}/${T}/groups/${V.user_groups[Z].group.id}.img`))}).catch(se=>{console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",se)}),this.groups[D][T][V.user_groups[Z].group.id]={...this.groups[D][T][V.user_groups[Z].group.id],...V.user_groups[Z].group},L&&"missing"==this.groups[D][T][V.user_groups[Z].group.id].status&&(this.groups[D][T][V.user_groups[Z].group.id].status="online"),this.load_groups(D,T,V.user_groups[Z].group.id,!0),this.join_chat_with_modulation(V.user_groups[Z].group.id,3,D,T,void 0,!1).then(se=>{X-Z-1<=0&&this.rearrange_channels()}));this.save_groups_with_less_info()}).catch(V=>{console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",V)})}rearrange_group_list(D=!0){let T=[];return Object.keys(this.groups).forEach(V=>{Object.keys(this.groups[V]).forEach(X=>{Object.keys(this.groups[V][X]).forEach(Pe=>{try{this.groups[V][X][Pe].server=this.servers[V][X].info,T.push(this.groups[V][X][Pe])}catch{this.groups[V][X][Pe].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:V,target:X},D&&T.push(this.groups[V][X][Pe])}})})}),T}set_group_statusBar(D,T,L){this.statusBar.groupServer[T][L]&&(this.statusBar.groupServer[T][L]=D),this.catch_group_server_header(D),this.StatusBarChangedCallback&&this.StatusBarChangedCallback()}count_channel_online_member(D,T,L){var V=this;return(0,O.A)(function*(){let Z="pending";try{if("offline"==V.statusBar.groupServer[T][L])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(D.group_id){if(V.groups[T][L][D.group_id]&&V.groups[T][L][D.group_id].users){let X=V.groups[T][L][D.group_id].users.length;if(V.groups[T][L][D.group_id].max_count<=1)return Z=V.users.self.online?"online":"offline",void("missing"!=V.channels_orig[T][L][D.channel_id||D.id].status&&(V.channels_orig[T][L][D.channel_id||D.id].status=Z));for(let se=0;se<X;se++){let Pe=V.groups[T][L][D.group_id].users[se].user.id||V.servers[T][L].session.user_id;if(Pe!=V.servers[T][L].session.user_id&&V.load_other_user(Pe,T,L).online){Z="online";break}}}}else if(D.user_id_one)if(V.channels_orig[T][L][D.channel_id||D.id]){let X=V.channels_orig[T][L][D.channel_id||D.id].redirect.id,se=yield V.servers[T][L].client.getUsers(V.servers[T][L].session,[X]);Object.keys(se.users[0]).forEach(Ne=>{V.users[T][L][X][Ne]=se.users[0][Ne]}),Z=V.load_other_user(X,T,L).online?"online":"pending"}else try{let X=yield V.join_chat_with_modulation(D.user_id_one!=V.servers[T][L].session.user_id?D.user_id_one:D.user_id_two,2,T,L);Z=V.load_other_user(V.channels_orig[T][L][X.id].redirect.id,T,L).online?"online":"pending"}catch(X){console.error(X)}}catch{Z="offline"==V.statusBar.groupServer[T][L]?"offline":"missing"}V.channels_orig[T][L][D.channel_id||D.id]||(V.channels_orig[T][L][D.channel_id||D.id]={}),"missing"!=V.channels_orig[T][L][D.channel_id||D.id].status&&(V.channels_orig[T][L][D.channel_id||D.id].status=Z)})()}remove_server(D,T){var L=this;return(0,O.A)(function*(){let V=yield L.loadingCtrl.create({message:L.lang.text.TodoDetail.WIP});V.present(),V.message=L.lang.text.Nakama.RemovingAccount;let Z=L.servers[D][T].info;try{let Pe=L.servers[D][T].session.user_id,Ne=`${Z.useSSL?"https":"http"}://${Z.address}`;try{yield L.global.remove_files_from_storage_with_key(Ne,Pe)}catch{}try{let ut=localStorage.getItem("fallback_fs");if(!ut)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Ee=ut.split("://"),Ue=Ee.pop().split(":"),at=Ee.pop();at?at+=":":at=L.global.checkProtocolFromAddress(Ue[0])?"https:":"http:";let He=`${at}//${Ue[0]}:${Ue[1]||9002}/`;yield L.global.remove_files_from_storage_with_key(He,Pe)}catch{}L.servers[D][T].client.rpc(L.servers[D][T].session,"remove_account_fn",{user_id:Pe}).catch(ut=>{})}catch{}if(V.message=L.lang.text.Nakama.LogoutAccount,"online"==L.statusBar.groupServer[D][T])try{L.servers[D][T].socket.disconnect(!0)}catch{L.link_group(D,T,!1)}V.message=L.lang.text.Nakama.RemovingNotification;try{delete L.noti_origin[D][T]}catch{}L.rearrange_notifications(),V.message=L.lang.text.Nakama.MissingChannels;try{let Pe=Object.keys(L.channels_orig[D][T]);L.channels_orig.deleted||(L.channels_orig.deleted={}),L.channels_orig.deleted[T]||(L.channels_orig.deleted[T]={}),Pe.forEach(Ne=>{L.channels_orig[D][T][Ne].info.status="missing",L.channels_orig[D][T][Ne].status="missing",L.channels_orig.deleted[T][Ne]=JSON.parse(JSON.stringify(L.channels_orig[D][T][Ne]))}),delete L.channels_orig[D][T]}catch{}let X=yield L.indexed.GetFileListFromDB(`servers/${D}/${T}`);for(let Pe=0,Ne=X.length;Pe<Ne;Pe++){let ut=yield L.indexed.GetFileInfoFromDB(X[Pe]),Ee=X[Pe].replace("/official/","/deleted/").replace(`/${D}/`,"/deleted/");yield L.indexed.saveFileToUserPath(ut,Ee),yield L.indexed.removeFileFromUserPath(X[Pe]),V.message=`${L.lang.text.Nakama.MissingChannelFiles}: ${X[Pe]}`}V.message=L.lang.text.Nakama.MissingGroups;try{L.groups.deleted||(L.groups.deleted={}),L.groups.deleted[T]||(L.groups.deleted[T]={}),L.groups.deleted[T]=JSON.parse(JSON.stringify(L.groups[D][T])),Object.keys(L.groups.deleted[T]).forEach(Ne=>{L.groups.deleted[T][Ne].server.name=L.lang.text.Nakama.DeletedServer,L.groups.deleted[T][Ne].server.isOfficial="deleted",L.groups.deleted[T][Ne].status="missing",L.groups.deleted[T][Ne]=JSON.parse(JSON.stringify(L.groups[D][T][Ne]))}),delete L.groups[D][T]}catch{}V.message=L.lang.text.Nakama.DeletingServerInfo,L.set_group_statusBar("offline",D,T),delete L.statusBar.groupServer[D][T],yield L.RemoveWebRTCServer(L.servers[D][T].info.address),delete L.servers[D][T],L.save_groups_with_less_info(),L.indexed.saveTextFileToUserPath(JSON.stringify(L.statusBar.groupServer),"servers/list.json");let se=yield L.indexed.loadTextFromUserPath("servers/list_detail.csv");if(se){let Pe=se.split("\n");for(let Ne=0,ut=Pe.length;Ne<ut;Ne++)if(Pe[Ne].split(",")[3]==T){Pe.splice(Ne,1);break}L.indexed.saveTextFileToUserPath(Pe.join("\n"),"servers/list_detail.csv")}L.noti.ClearNoti(9),V.dismiss()})()}check_if_online(){this.get_all_server_info(!0,!0)}connect_to(D="official",T="default",L){var V=this;this.servers[D][T].socket.connect(this.servers[D][T].session,!0).then(Z=>{let X=this.servers[D][T].socket;Object.keys(this.on_socket_connected).forEach(Pe=>this.on_socket_connected[Pe]()),X.onnotification=Pe=>{this.act_on_notification(Pe,D,T),this.rearrange_notifications()},X.onmatchpresence=Pe=>{void 0!==Pe.joins?Pe.joins.forEach(Ne=>{}):void 0!==Pe.leaves&&Pe.leaves.forEach(Ne=>{this.servers[D][T].session.user_id==Ne.user_id&&this.WebRTCService&&"data"==this.WebRTCService.TypeIn&&this.WebRTCService.close_webrtc(!1,!0)})},X.onchannelpresence=Pe=>{if(void 0!==Pe.joins)Pe.joins.forEach(Ne=>{this.servers[D][T].session.user_id!=Ne.user_id&&(this.load_other_user(Ne.user_id,D,T).online=!0)}),this.count_channel_online_member(Pe,D,T);else if(void 0!==Pe.leaves){let Ne=[];Pe.leaves.forEach(ut=>{this.servers[D][T].session.user_id!=ut.user_id&&this.servers[D][T].client.getUsers(this.servers[D][T].session,[ut.user_id]).then(Ee=>{let Ue=Object.keys(Ee.users[0]);delete this.load_other_user(ut.user_id,D,T).online,Ue.forEach(at=>{this.users[D][T][ut.user_id][at]=Ee.users[0][at]}),Ne.push(ut.user_id),Ne.forEach(at=>this.load_other_user(at,D,T)),this.count_channel_online_member(Pe,D,T),this.socket_reactive.WEBRTC_CHECK_ONLINE&&this.socket_reactive.WEBRTC_CHECK_ONLINE(ut)})})}this.socket_reactive["others-online"]&&this.socket_reactive["others-online"]()},X.onmatchdata=function(){var Pe=(0,O.A)(function*(Ne){Ne.data_str=decodeURIComponent((new TextDecoder).decode(Ne.data));let ut=V.servers[D][T].session.user_id==Ne.presence.user_id;switch(Ne.op_code){case Tn.MANAGE_TODO:{let Ee=Ne.data_str.split(",");switch(Ee[0]){case"add":V.servers[D][T].client.readStorageObjects(V.servers[D][T].session,{object_ids:[{collection:Ee[1],key:Ee[2],user_id:V.servers[D][T].session.user_id}]}).then(function(){var He=(0,O.A)(function*(bt){if(bt.objects.length){try{let hn,an=bt.objects[0].value;try{if(hn=yield V.indexed.loadTextFromUserPath(`todo/${an.id}_${D}_${T}/info.todo`),!hn)throw"empty"}catch{hn=yield V.indexed.loadTextFromUserPath(`todo/${an.id}/info.todo`)}let An=JSON.parse(hn);V.removeRegisteredId(An.noti_id),V.noti.ClearNoti(An.noti_id)}catch{}yield V.modify_remote_info_as_local(bt.objects[0].value,D,T);let Ut=bt.objects[0].value;V.noti.ClearNoti(Ut.noti_id),V.set_todo_notification(Ut),V.p5toast.show({text:`${V.lang.text.Main.RequestTodo}: ${Ut.title}`})}});return function(bt){return He.apply(this,arguments)}}());break;case"done":V.indexed.loadTextFromUserPath(`todo/${Ee[1]}_${D}_${T}/info.todo`,function(){var He=(0,O.A)(function*(bt,Ut){if(bt&&Ut){let an=JSON.parse(Ut);an.done=!0,yield V.modify_remote_info_as_local(an,D,T),V.indexed.GetFileListFromDB(`todo/${an.id}`,hn=>{hn.forEach(An=>V.indexed.removeFileFromUserPath(An)),an.noti_id&&("DesktopPWA"==tt.aH||"MobilePWA"==tt.aH)&&(clearTimeout(V.web_noti_id[an.noti_id]),delete V.web_noti_id[an.noti_id]),V.removeRegisteredId(an.noti_id),V.noti.ClearNoti(an.noti_id),V.SyncTodoCounter(D,T)})}else V.indexed.loadTextFromUserPath(`todo/${Ee[1]}/info.todo`,function(){var an=(0,O.A)(function*(hn,An){if(hn&&An){let Bn=JSON.parse(An);Bn.done=!0,yield V.modify_remote_info_as_local(Bn,D,T),V.indexed.GetFileListFromDB(`todo/${Bn.id}`,Qn=>{Qn.forEach(Ar=>V.indexed.removeFileFromUserPath(Ar)),Bn.noti_id&&("DesktopPWA"==tt.aH||"MobilePWA"==tt.aH)&&(clearTimeout(V.web_noti_id[Bn.noti_id]),delete V.web_noti_id[Bn.noti_id]),V.removeRegisteredId(Bn.noti_id),V.noti.ClearNoti(Bn.noti_id),V.SyncTodoCounter(D,T)})}});return function(hn,An){return an.apply(this,arguments)}}())});return function(bt,Ut){return He.apply(this,arguments)}}());break;case"delete":V.indexed.loadTextFromUserPath(`todo/${Ee[1]}_${D}_${T}/info.todo`,(He,bt)=>{if(He&&bt){let Ut=JSON.parse(bt);V.indexed.GetFileListFromDB(`todo/${Ut.id}`,an=>{an.forEach(hn=>V.indexed.removeFileFromUserPath(hn)),Ut.noti_id&&("DesktopPWA"==tt.aH||"MobilePWA"==tt.aH)&&(clearTimeout(V.web_noti_id[Ut.noti_id]),delete V.web_noti_id[Ut.noti_id]),V.removeRegisteredId(Ut.noti_id),V.noti.ClearNoti(Ut.noti_id),V.global.p5todo&&V.global.p5todo.remove_todo&&V.global.p5todo.remove_todo(JSON.stringify(Ut))}),V.SyncTodoCounter(D,T)}else V.indexed.loadTextFromUserPath(`todo/${Ee[1]}/info.todo`,(Ut,an)=>{if(Ut&&an){let hn=JSON.parse(an);V.indexed.GetFileListFromDB(`todo/${hn.id}`,An=>{An.forEach(Bn=>V.indexed.removeFileFromUserPath(Bn)),hn.noti_id&&("DesktopPWA"==tt.aH||"MobilePWA"==tt.aH)&&(clearTimeout(V.web_noti_id[hn.noti_id]),delete V.web_noti_id[hn.noti_id]),V.removeRegisteredId(hn.noti_id),V.noti.ClearNoti(hn.noti_id),V.global.p5todo&&V.global.p5todo.remove_todo&&V.global.p5todo.remove_todo(JSON.stringify(hn))}),V.SyncTodoCounter(D,T)}})});break;case"worker":let Ue="true"==Ee[3];V.AddTodoManageUpdateAct&&V.AddTodoManageUpdateAct(Ee[1],Ee[2],Ue,Number(Ee[4])),V.p5toast.show({text:`${Ue?V.lang.text.Main.WorkerAbandon:V.lang.text.Main.WorkerDone}: ${V.GetOverrideName(Ee[2],D,T)||V.users[D][T][Ee[2]].display_name}`}),V.indexed.loadTextFromUserPath(`todo/${Ee[1]}_${D}_${T}/info.todo`,function(){var He=(0,O.A)(function*(bt,Ut){if(bt&&Ut){let an=JSON.parse(Ut);for(let hn=0,An=an.workers.length;hn<An;hn++)if((an.workers[hn].user_id||an.workers[hn].id)==Ee[2]){an.workers[hn].isDelete="true"==Ee[3],an.workers[hn].timestamp=Number(Ee[4]);break}yield V.modify_remote_info_as_local(an,D,T),V.SyncTodoCounter(D,T)}else V.indexed.loadTextFromUserPath(`todo/${Ee[1]}/info.todo`,function(){var an=(0,O.A)(function*(hn,An){if(hn&&An){let Bn=JSON.parse(An);for(let Qn=0,Ar=Bn.workers.length;Qn<Ar;Qn++)if((Bn.workers[Qn].user_id||Bn.workers[Qn].id)==Ee[2]){Bn.workers[Qn].isDelete="true"==Ee[3],Bn.workers[Qn].timestamp=Number(Ee[4]);break}yield V.modify_remote_info_as_local(Bn,D,T),V.SyncTodoCounter(D,T)}});return function(hn,An){return an.apply(this,arguments)}}())});return function(bt,Ut){return He.apply(this,arguments)}}());break;default:console.log("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",Ne)}V.SyncTodoCounter(D,T)}break;case Tn.EDIT_PROFILE:switch(Ne.data_str){case"info":V.servers[D][T].client.getAccount(V.servers[D][T].session).then(Ee=>{Object.keys(Ee.user).forEach(at=>V.users.self[at]=Ee.user[at]),V.save_self_profile()});break;case"image":V.servers[D][T].client.readStorageObjects(V.servers[D][T].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:V.servers[D][T].session.user_id}]}).then(Ee=>{Ee.objects.length?(V.indexed.saveTextFileToUserPath(JSON.stringify(Ee.objects[0].value.img),"servers/self/profile.img"),V.users.self.img=Ee.objects[0].value.img.replace(/"|=|\\/g,"")):V.indexed.removeFileFromUserPath("servers/self/profile.img")});break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",Ne)}break;case Tn.ADD_CHANNEL:V.get_group_list_from_server(D,T);break;case Tn.NAME_OVERRIDED:ut&&V.LoadOverrideName(D,T);break;case Tn.WEBRTC_INIT_REQ_SIGNAL:(V.WebRTCService&&"data"==V.WebRTCService.TypeIn||!ut)&&V.socket_reactive.WEBRTC_INIT_REQ_SIGNAL&&V.socket_reactive.WEBRTC_INIT_REQ_SIGNAL();break;case Tn.WEBRTC_REPLY_INIT_SIGNAL:(V.WebRTCService&&"data"==V.WebRTCService.TypeIn||!ut)&&V.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL&&V.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL(Ne.data_str);break;case Tn.WEBRTC_RECEIVE_ANSWER:(V.WebRTCService&&"data"==V.WebRTCService.TypeIn||!ut)&&V.socket_reactive.WEBRTC_RECEIVE_ANSWER&&V.socket_reactive.WEBRTC_RECEIVE_ANSWER(Ne.data_str);break;case Tn.WEBRTC_ICE_CANDIDATES:(V.WebRTCService&&"data"==V.WebRTCService.TypeIn||!ut)&&V.socket_reactive.WEBRTC_ICE_CANDIDATES&&V.socket_reactive.WEBRTC_ICE_CANDIDATES(Ne.data_str);break;case Tn.WEBRTC_NEGOCIATENEEDED:(V.WebRTCService&&"data"==V.WebRTCService.TypeIn||!ut)&&V.socket_reactive.WEBRTC_NEGOCIATENEEDED&&V.socket_reactive.WEBRTC_NEGOCIATENEEDED(Ne.data_str);break;case Tn.WEBRTC_RECEIVED_CALL_SELF:V.WebRTCService&&"data"!=V.WebRTCService.TypeIn&&V.socket_reactive.WEBRTC_RECEIVED_CALL_SELF&&V.socket_reactive.WEBRTC_RECEIVED_CALL_SELF();break;case Tn.WEBRTC_HANGUP:(V.WebRTCService&&"data"==V.WebRTCService.TypeIn||V.servers[D][T].session.user_id!=Ne.presence.user_id)&&V.WebRTCService&&(yield V.WebRTCService.close_webrtc(),V.VoidDrawInitCallBack=void 0);break;case Tn.VOIDDRAW_INIT:(V.WebRTCService&&"data"==V.WebRTCService.TypeIn||V.servers[D][T].session.user_id!=Ne.presence.user_id)&&V.WebRTCService&&V.VoidDrawInitCallBack&&V.VoidDrawInitCallBack(JSON.parse(Ne.data_str));break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",Ne)}});return function(Ne){return Pe.apply(this,arguments)}}(),X.onchannelmessage=Pe=>{this.channels_orig[D][T][Pe.channel_id]?(this.update_from_channel_msg(Pe,D,T),this.rearrange_channels(),Pe.content.match&&Pe.sender_id!=this.servers[D][T].session.user_id&&this.JoinWebRTCMatch(Pe,D,T,this.channels_orig[D][T][Pe.channel_id])):Pe.user_id_one?this.join_chat_with_modulation(Pe.sender_id,2,D,T):Pe.group_id&&this.join_chat_with_modulation(Pe.group_id,3,D,T)},X.ondisconnect=Pe=>{this.OnSocketDisconnect(D,T)},L(X)})}OnSocketDisconnect(D,T){this.link_group(D,T,!1),Object.keys(this.on_socket_disconnected).forEach(V=>this.on_socket_disconnected[V]())}saveListedMessage(D,T,L,V){let Z={},X=JSON.parse(JSON.stringify(D));for(;X.length;){Z.target!=X[0].msgDate&&(Z.msg&&this.saveMessageByDate(Z,T,L,V),Z.target=X[0].msgDate,Z.msg=[]);let se=X.shift();delete se.content.text,delete se.content.img,delete se.content.local_comp,delete se.content.path,delete se.msgDate,delete se.displayDate,delete se.msgTime,delete se.isLastRead,delete se.showInfo,Z.msg.push(se)}this.saveMessageByDate(Z,T,L,V)}saveMessageByDate(D,T,L,V){if(!D.msg||!D.msg.length)return;let Z=JSON.parse(JSON.stringify(D)),X=Z.target.split("-");this.indexed.loadTextFromUserPath(`servers/${L}/${V}/channels/${T.id}/chats/${X[0]}/${X[1]}/${X[2]}`,(se,Pe)=>{let Ne=[],ut=[];se&&Pe&&(Ne=JSON.parse(Pe)),Z.msg.forEach(Ue=>{let at=!1;for(let He=0,bt=Ne.length;He<bt;He++)if(Ne[He].message_id==Ue.message_id){at=!0,Ne[He]=Ue;break}at||ut.push(Ue)});let Ee=[...Ne,...ut];Ee.sort((Ue,at)=>Ue.create_time<at.create_time?-1:Ue.create_time>at.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(Ee),`servers/${L}/${V}/channels/${T.id}/chats/${X[0]}/${X[1]}/${X[2]}`)})}CatchQouteMsgUserName(D,T,L){if(D.content.qoute)try{if("local"==D.content.qoute.user_id)throw"\ub85c\uceec \uba54\uc2dc\uc9c0";D.content.qoute.username=this.users[T][L][D.content.qoute.user_id].display_name}catch{D.content.qoute.username=this.users.self.display_name}}ModulateTimeDate(D){let T=new Date(D.create_time),L=T.toLocaleDateString(this.lang.lang);D.displayDate=L,D.msgDate=`${T.getFullYear()}-${("00"+(T.getMonth()+1)).slice(-2)}-${("00"+T.getDate()).slice(-2)}`,D.msgTime=`${("00"+T.getHours()).slice(-2)}:${("00"+T.getMinutes()).slice(-2)}`}join_chat_with_modulation(D,T,L,V,Z=!1,X=!0){var se=this;return(0,O.A)(function*(){se.channels_orig[L][V]||(se.channels_orig[L][V]={});let Pe=yield se.servers[L][V].socket.joinChat(D,T,!0,!1);try{switch(Pe.redirect={id:D,type:T,persistence:!0},Pe.server={isOfficial:L,target:V},T){case 2:Pe.title=se.GetOverrideName(D,L,V)||se.load_other_user(D,L,V).display_name,Pe.info=se.load_other_user(D,L,V);break;case 3:Pe.title=se.groups[L][V][D].name,Pe.info=se.groups[L][V][D],se.groups[L][V][D].channel_id=Pe.id,se.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",T)}return yield se.add_channel(Pe,L,V),X&&se.rearrange_channels(),(!se.opened_page_info.channel||se.opened_page_info.channel.isOfficial!=L||se.opened_page_info.channel.target!=V||se.opened_page_info.channel.id!=Pe.id)&&se.servers[L][V].client.listChannelMessages(se.servers[L][V].session,Pe.id,1,!1).then(Ne=>{Ne.messages.length&&se.update_from_channel_msg(Ne.messages[0],L,V,Z)}).catch(Ne=>{console.error("\ub9c8\uc9c0\ub9c9 \uba54\uc2dc\uc9c0 \ubc1b\uc544\uc11c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Ne)}),se.save_groups_with_less_info(),Pe}catch(Ne){let ut="";throw ut=3===Ne.code?se.lang.text.Nakama.AddChannelFailed_Code3:Ne.message,se.p5toast.show({text:`${se.lang.text.Nakama.AddChannelFailed}: ${ut}`}),`${se.lang.text.Nakama.AddChannelFailed}: ${ut}`}})()}update_from_channel_msg(D,T,L,V=!1){var Z=this;return(0,O.A)(function*(){let X=D.sender_id==Z.servers[T][L].session.user_id,se=D.message_id!=Z.channels_orig[T][L][D.channel_id].last_comment_id,Pe=Z.modulation_channel_message(D,T,L),Ne=!1;switch(Pe.code){case 0:Pe.content.gupdate&&(Z.update_group_info(Pe,T,L),Ne=!0),Pe.content.user_update&&(Z.update_group_user_info(Pe,T,L),Ne=!0),se&&!Ne&&(Z.channels_orig[T][L][D.channel_id].is_new=!X,Z.subscribe_lock||(Z.has_new_channel_msg=!X));break;case 1:case 2:break;case 3:case 4:case 5:case 6:if(Z.socket_reactive.group_detail&&Z.socket_reactive.group_detail.update_GroupUsersList(T,L),3==Pe.code||4==Pe.code)break;if(Z.noti_origin[T]&&Z.noti_origin[T][L]){let Ee=Object.keys(Z.noti_origin[T][L]),Ue=[];Ee.forEach(at=>{-5==Z.noti_origin[T][L][at].code&&Z.noti_origin[T][L][at].sender_id==Pe.sender_id&&Ue.push(at)});try{(yield Z.servers[T][L].client.deleteNotifications(Z.servers[T][L].session,Ue))||console.log("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),Z.update_notifications(T,L)}catch(at){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",at)}}X&&(Z.channels_orig[T][L][Pe.channel_id].status="missing");break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",Pe)}if(!X&&se&&!Ne){let Ee={id:Z.channels_orig[T][L][D.channel_id].cnoti_id,title:Z.channels_orig[T][L][D.channel_id].info.name||Z.GetOverrideName(Z.channels_orig[T][L][D.channel_id].info.id,T,L)||Z.channels_orig[T][L][D.channel_id].info.display_name||Z.channels_orig[T][L][D.channel_id].title||Z.lang.text.Subscribes.noTitiedChat,body:Pe.content.msg||Pe.content.noti||(Pe.content.match?Z.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||`(${Z.lang.text.ChatRoom.attachments})`,extra_ln:{type:"ChatRoomPage",id:D.channel_id,isOfficial:T,target:L},group_ln:"diychat",smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"};Pe.content.url&&Pe.content.type&&0==Pe.content.type.indexOf("image/")&&(Ee.image=Pe.content.url),Z.noti.PushLocal(Ee,Z.channels_orig[T][L][D.channel_id].cnoti_id,Ue=>{Z.go_to_chatroom_without_admob_act(Z.channels_orig[T][L][D.channel_id])})}X&&Z.noti.ClearNoti(Z.channels_orig[T][L][D.channel_id].cnoti_id),Z.ModulateTimeDate(Pe),Z.check_sender_and_show_name(Pe,T,L);let ut=D.content.msg;Z.content_to_hyperlink(Pe),!V&&Z.channels_orig[T][L][Pe.channel_id].update&&Z.channels_orig[T][L][Pe.channel_id].update(Pe),Ne||(Z.channels_orig[T][L][D.channel_id].last_comment_time=D.update_time,Z.channels_orig[T][L][Pe.channel_id].last_comment_id=Pe.message_id),Z.saveListedMessage([Pe],Z.channels_orig[T][L][Pe.channel_id],T,L),Ne||2!=Pe.code&&(Z.channels_orig[T][L][Pe.channel_id].last_comment=(Pe.content.filename?`(${Z.lang.text.ChatRoom.attachments}) `:"")+(ut||Pe.content.noti||(Pe.content.match?Z.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||""))})()}rearrange_posts(){this.posts.length=0;let D=Object.keys(this.posts_orig);for(let T=0,L=D.length;T<L;T++){let V=Object.keys(this.posts_orig[D[T]]);for(let Z=0,X=V.length;Z<X;Z++){let se=Object.keys(this.posts_orig[D[T]][V[Z]]);for(let Pe=0,Ne=se.length;Pe<Ne;Pe++){let ut=Object.keys(this.posts_orig[D[T]][V[Z]][se[Pe]]);for(let Ee=0,Ue=ut.length;Ee<Ue;Ee++)this.posts.push(this.posts_orig[D[T]][V[Z]][se[Pe]][ut[Ee]])}}}this.posts.sort((T,L)=>T.create_time<L.create_time?1:T.create_time>L.create_time?-1:0)}EditPost(D){this.CommunityGoToEditPost&&this.CommunityGoToEditPost(D),this.socket_reactive.try_load_post&&this.socket_reactive.try_load_post()}RemovePost(D,T=!1){var L=this;return(0,O.A)(function*(){let V,Z=D.server.isOfficial,X=D.server.target;T||(V=yield L.loadingCtrl.create({message:L.lang.text.PostViewer.RemovePost}));let se=yield L.indexed.GetFileListFromDB(`servers/${Z}/${X}/posts/${D.creator_id}/${D.id}`);V&&V.present();for(let Pe=0,Ne=se.length;Pe<Ne;Pe++)V&&(V.message=`${L.lang.text.PostViewer.RemovePost}: ${se[Pe]}`),yield L.indexed.removeFileFromUserPath(se[Pe]);if(D.OutSource&&(yield L.global.remove_file_from_storage(D.OutSource)),D.attachments)for(let Pe=0,Ne=D.attachments.length;Pe<Ne;Pe++)try{if(V&&(V.message=`${L.lang.text.PostViewer.RemovePost}: ${D.attachments[Pe].filename}`),D.attachments[Pe].url)yield L.global.remove_file_from_storage(D.attachments[Pe].url);else try{D.server.local||(yield L.sync_remove_file(`${D.id}_attach_${Pe}`,Z,X,"server_post","",`${D.id}_attach_${Pe}`))}catch{}}catch{}if(D.mainImage)try{if(D.mainImage.url)yield L.global.remove_file_from_storage(D.mainImage.url);else try{D.server.local||(yield L.sync_remove_file(`${D.id}_mainImage`,Z,X,"server_post","",`${D.id}_mainImage`))}catch{}}catch{}try{D.server.local||(yield L.sync_remove_file(D.id,Z,X,"server_post","",`${D.id}`))}catch{}V&&V.dismiss();try{delete L.posts_orig[Z][X][D.creator_id][D.id]}catch{}if(L.rearrange_posts(),L.socket_reactive.try_load_post&&L.socket_reactive.try_load_post(),!T)try{yield L.servers[Z][X].client.rpc(L.servers[Z][X].session,"send_noti_all_fn",{noti_id:Tn.MANAGE_POST,type:"remove",user_id:D.creator_id,post_id:D.id,persistent:!1})}catch{}})()}JoinWebRTCMatch(D,T,L,V){var Z=this;return(0,O.A)(function*(){try{try{Z.WebRTCService.CurrentMatch=yield Z.servers[T][L].socket.joinMatch(D.content.match)}catch(X){throw X}Z.WebRTCService&&(yield Z.WebRTCService.initialize("audio",void 0,{isOfficial:T,target:L,channel_id:V.id,user_id:V.info.id||V.info.user_id},!1)),yield Z.servers[T][L].socket.sendMatchState(D.content.match,Tn.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}catch(X){4===X.code?Z.p5toast.show({text:Z.lang.text.ChatRoom.MatchExpiration}):(console.log("\ucc38\uc5ec \uc2e4\ud328: ",X),Z.p5toast.show({text:`${Z.lang.text.ChatRoom.JoinMatchFailed}: ${X}`}))}})()}content_to_hyperlink(D){if(!D.content.msg||"object"==typeof D.content.msg)return;let T=D.content.msg.split("\n");D.content.msg=[],T.forEach(L=>{let V={text:L};L&&D.content.msg.push([V]);try{let Z=V.text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");V.text.length==Z.length&&(V.size=48)}catch{}});for(let L=0,V=D.content.msg.length;L<V;L++)if(D.content.msg[L][0].text){let Z=D.content.msg[L][0].text.indexOf("http://");if(Z<0&&(Z=D.content.msg[L][0].text.indexOf("https://")),Z>=0){let se,X=[];0!=Z&&(se=D.content.msg[L][0].text.substring(0,Z),X.push({text:se}));let ut,Ee,Pe=D.content.msg[L][0].text.substring(Z),Ne=Pe.indexOf(" ");Ne<0?(ut=Pe,X.push({text:ut,href:!0})):(ut=Pe.substring(0,Ne),X.push({text:ut,href:!0}),Ee=Pe.substring(Ne),X.push({text:Ee})),D.content.msg[L]=X}}}check_sender_and_show_name(D,T,L){try{D.color=(D.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),D.sender_id==this.servers[T][L].session.user_id?(D.user_display_name=this.users.self.display_name,D.is_me=!0):D.user_display_name=this.load_other_user(D.sender_id,T,L).display_name,D.user_display_name=D.user_display_name||this.lang.text.Profile.noname_user}catch(V){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",V)}}modulation_channel_message(D,T,L){this.translate_updates(D);let Z,V=!1;try{V=D.sender_id==this.servers[T][L].session.user_id}catch{V=D.content.user_update}try{Z=V?this.users.self:this.load_other_user(D.sender_id,T,L)}catch{Z=this.users.self}switch(D.code){case 0:if(D.content.filename){try{D.content.transfer_index=this.OnTransfer[T][L][D.channel_id][D.message_id]}catch{}try{this.OnTransferMessage[D.message_id]=D}catch{}}break;case 1:case 2:break;case 3:case 4:D.content.user_update=Z,D.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${Z.display_name}`;break;case 5:D.content.user_update=Z,D.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${Z.display_name}`;break;case 6:D.content.user_update=Z,D.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${Z.display_name}`;break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",D)}return D}update_group_info(D,T,L){switch(this.translate_updates(D),D.content.gupdate){case"remove":case"force_remove":this.groups[T][L][D.group_id].status="missing",this.save_groups_with_less_info(),this.channels_orig[T][L][D.channel_id].status="missing",this.servers[T][L].socket.leaveChat(D.channel_id);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",D)}}translate_updates(D){if(D.content.user_update)switch(D.content.user_update){case"modify_data":D.content.noti=`${this.lang.text.Profile.user_profile_changed}${D.content.noti_form}`;break;case"modify_img":D.content.noti=`${this.lang.text.Profile.user_image_changed}${D.content.noti_form}`}if(D.content.gupdate)switch(D.content.gupdate){case"remove":D.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":D.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(D,T,L){var V=this;return(0,O.A)(function*(){if(V.translate_updates(D),V.servers[T][L].session.user_id!=D.sender_id)switch(D.content.user_update){case"modify_data":try{let Z=yield V.servers[T][L].client.getUsers(V.servers[T][L].session,[D.sender_id]);Z.users.length?V.save_other_user(Z.users[0],T,L):(delete V.users[T][L][D.sender_id],V.indexed.removeFileFromUserPath(`servers/${T}/${L}/users/${D.sender_id}/profile.json`))}catch(Z){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 \ubcc0\uacbd \uc624\ub958: ",Z)}break;case"modify_img":try{let Z=yield V.servers[T][L].client.readStorageObjects(V.servers[T][L].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:D.sender_id}]});if(Z.objects.length)try{if(V.servers[T][L].session.user_id==D.sender_id)throw"me";V.load_other_user(D.sender_id,T,L).img=Z.objects[0].value.img.replace(/"|\\|=/g,""),V.indexed.saveTextFileToUserPath(V.users[T][L][D.sender_id].img,`servers/${T}/${L}/users/${D.sender_id}/profile.img`)}catch{V.users.self.img=Z.objects[0].value.img.replace(/"|\\|=/g,""),yield V.indexed.saveTextFileToUserPath(V.users.self.img,"servers/self/profile.img")}else try{if(V.servers[T][L].session.user_id==D.sender_id)throw"me";delete V.users[T][L][D.sender_id].img,V.indexed.removeFileFromUserPath(`servers/${T}/${L}/users/${D.sender_id}/profile.img`)}catch{delete V.users.self.img}}catch(Z){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",Z)}break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",D)}})()}check_notifications(D,T,L){var V=this;return(0,O.A)(function*(){let Z=V.servers[T][L];switch(D.code){case 0:case-2:break;case 1:let X=`<div style="text-align: center"><img src="${decodeURIComponent(D.content.uri)}" alt="noti_image" style="border-radius: 2px"></div>`,se=`<div>${decodeURIComponent(V.global.HTMLEncode(D.content.msg))}</div>`;V.alertCtrl.create({header:V.servers[T][L].info.name,message:new gt.Vk(D.content.uri?X+se:se),buttons:[{text:V.lang.text.Nakama.LocalNotiOK,handler:(Ne=(0,O.A)(function*(){try{yield V.servers[T][L].client.deleteNotifications(V.servers[T][L].session,[D.id])}catch{}V.noti.ClearNoti(D.code),V.update_notifications(T,L)}),function(){return Ne.apply(this,arguments)})}]}).then(Ne=>Ne.present());break;case-1:case-3:case-4:case-6:V.noti.ClearNoti(D.code);try{(yield Z.client.deleteNotifications(Z.session,[D.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),V.update_notifications(T,L)}catch(Ne){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Ne)}break;case-5:try{let Ne=yield Z.client.getUsers(Z.session,[D.sender_id]);if(Ne.users.length){let ut="";ut+=`${V.lang.text.Nakama.ReqContServer}: ${D.server.name}<br>`,ut+=`${V.lang.text.Nakama.ReqContUserName}: ${Ne.users[0].display_name}`,V.alertCtrl.create({header:V.lang.text.Nakama.ReqContTitle,message:ut,buttons:[{text:V.lang.text.Nakama.ReqContAccept,handler:(Ee=(0,O.A)(function*(){try{(yield Z.client.addGroupUsers(Z.session,D.content.group_id,[Ne.users[0].id]))||console.log("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),V.noti.ClearNoti(D.code);try{let at=yield Z.client.deleteNotifications(Z.session,[D.id]);at?V.update_notifications(T,L):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",at)}catch(at){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",at)}}catch(Ue){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",Ue)}}),function(){return Ee.apply(this,arguments)})},{text:V.lang.text.Nakama.ReqContReject,handler:function(){var Ee=(0,O.A)(function*(){try{(yield Z.client.kickGroupUsers(Z.session,D.content.group_id,[Ne.users[0].id]))||console.log("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield Z.client.deleteNotifications(Z.session,[D.id]),V.update_notifications(T,L)}catch(Ue){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",Ue)}});return function(){return Ee.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(Ee=>Ee.present())}else try{(yield Z.client.deleteNotifications(Z.session,[D.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),V.p5toast.show({text:V.lang.text.Nakama.UserNotFound}),V.update_notifications(T,L)}catch(ut){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ut)}}catch(Ne){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",Ne)}break;case-7:V.LoginAgain(V.noti_origin,T,L);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",D.code);try{yield V.servers[T][L].client.deleteNotifications(V.servers[T][L].session,[D.id])}catch{}V.update_notifications(T,L)}var Ee,Ne})()}act_on_notification(D,T,L){var V=this;return(0,O.A)(function*(){let Z=!1;switch(D.server=V.servers[T][L].info,D.code){case 404:V.remove_server(T,L);break;case Tn.USER_PROFILE_CHANGED:break;case Tn.USER_PROFILE_IMAGE_CHANGED:try{if(!V.users[T][L][D.content.user_id])throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let ut=yield V.servers[T][L].client.readStorageObjects(V.servers[T][L].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:D.content.user_id}]});if(ut.objects.length)try{if(V.servers[T][L].session.user_id==D.content.user_id)throw"me";V.load_other_user(D.content.user_id,T,L).img=ut.objects[0].value.img.replace(/"|\\|=/g,""),V.indexed.saveTextFileToUserPath(V.users[T][L][D.content.user_id].img,`servers/${T}/${L}/users/${D.content.user_id}/profile.img`)}catch{V.users.self.img=ut.objects[0].value.img.replace(/"|\\|=/g,""),yield V.indexed.saveTextFileToUserPath(V.users.self.img,"servers/self/profile.img")}else try{if(V.servers[T][L].session.user_id==D.content.user_id)throw"me";delete V.users[T][L][D.content.user_id].img,V.indexed.removeFileFromUserPath(`servers/${T}/${L}/users/${D.content.user_id}/profile.img`)}catch{delete V.users.self.img}}catch(ut){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",ut)}return;case Tn.MANAGE_POST:switch(D.content.type){case"add":try{let Ee=D.content.user_id==V.servers[T][L].session.user_id;if(!V.users[T][L][D.content.user_id]&&!Ee)throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let Ue=yield V.load_server_post_with_id(D.content.post_id,T,L,D.content.user_id,Ee);V.rearrange_posts(),Ee||(V.p5toast.show({text:`${V.lang.text.AddPost.Title}: ${Ue.title}`}),V.has_new_post=!0)}catch{}break;case"remove":V.RemovePost({id:D.content.post_id,creator_id:D.content.user_id,attachments:[],server:{isOfficial:T,target:L}},!0)}return;case Tn.GROUP_DATA_CHANGED:case Tn.GROUP_IMAGE_CHANGED:break;case 1:D.request=`${V.lang.text.Nakama.ServerNoti}: ${decodeURIComponent(D.content.msg)}`;let X=decodeURIComponent(D.content.msg),se=decodeURIComponent(D.content.uri);V.noti.PushLocal({id:D.code,title:V.servers[T][L].info.name,body:X,image:se,extra_ln:{type:"AllUserNotification",title:V.servers[T][L].info.name,body:X,image:se,isOfficial:T,target:L},smallIcon_ln:"diychat",group_ln:"all_user_noti",iconColor_ln:"b95437"},"global_noti_all",ut=>{let Ee=`<div style="text-align: center"><img src="${se}" alt="noti_image" style="border-radius: 2px"></div>`,Ue=`<div>${V.global.HTMLEncode(X)}</div>`;var He;V.alertCtrl.create({header:V.servers[T][L].info.name,message:new gt.Vk(se?Ee+Ue:Ue),buttons:[{text:V.lang.text.Nakama.LocalNotiOK,handler:(He=(0,O.A)(function*(){try{yield V.servers[T][L].client.deleteNotifications(V.servers[T][L].session,[D.id])}catch{}V.noti.ClearNoti(D.code),V.update_notifications(T,L)}),function(){return He.apply(this,arguments)})}]}).then(He=>He.present())});break;case 0:D.request=`${D.code}-${D.subject}`;break;case-1:let Pe;D.request=`${D.code}-${D.subject}`,2===(D.content&&D.content.username&&(Pe=2),Pe)?V.join_chat_with_modulation(D.sender_id,Pe,T,L):(console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",D,Pe),D.request=`${D.code}-${D.subject}`),Z=!0;try{(yield V.servers[T][L].client.deleteNotifications(V.servers[T][L].session,[D.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),V.update_notifications(T,L)}catch(ut){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ut)}break;case-2:case-3:D.request=`${D.code}-${D.subject}`;break;case-4:V.socket_reactive.group_detail&&V.socket_reactive.group_detail.info.id==D.content.group_id&&V.socket_reactive.group_detail.update_from_notification(D),V.groups[T][L][D.content.group_id].status="online",D.request=`${D.code}-${D.subject}`;try{let ut=yield V.servers[T][L].client.readStorageObjects(V.servers[T][L].session,{object_ids:[{collection:"group_public",key:`group_${D.content.group_id}`,user_id:V.groups[T][L][D.content.group_id].creator_id}]});ut.objects.length&&(V.groups[T][L][D.content.group_id].img=ut.objects[0].value.img,V.indexed.saveTextFileToUserPath(ut.objects[0].value.img,`servers/${T}/${L}/groups/${D.content.group_id}.img`))}catch(ut){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ut)}try{yield V.load_groups(T,L,D.content.group_id,!0)}catch(ut){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ut)}V.join_chat_with_modulation(D.content.group_id,3,T,L),V.noti.PushLocal({id:D.code,title:`${V.groups[T][L][D.content.group_id].name}: ${V.lang.text.Nakama.LocalNotiTitle}`,body:D.subject,group_ln:"diychat",icon:V.groups[T][L][D.content.group_id.img],smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,ut=>{V.check_notifications(D,T,L)});break;case-5:let Ne=V.groups[T][L][D.content.group_id];if(Ne)D.request=`${V.lang.text.Nakama.ReqContTitle}: ${Ne.name}`;else{Z=!0;try{let ut=yield V.servers[T][L].client.deleteNotifications(V.servers[T][L].session,[D.id]);ut?V.update_notifications(T,L):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",ut)}catch(ut){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",ut)}}V.socket_reactive.group_detail&&V.socket_reactive.group_detail.info.id==D.content.group_id&&V.socket_reactive.group_detail.update_from_notification(D),V.noti.PushLocal({id:D.code,title:`${V.groups[T][L][D.content.group_id].name}: ${V.lang.text.Nakama.ReqContTitle}`,group_ln:"diychat",icon:V.groups[T][L][D.content.group_id].img,extra_ln:{type:"NakamaReqContTitle",serverName:V.servers[T][L].info.name,userName:V.load_other_user(D.sender_id,T,L).display_name,group_id:D.content.group_id,user_id:D.sender_id,isOfficial:T,Target:L},smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,ut=>{V.socket_reactive.group_detail.info.id!=D.content.group_id&&V.open_group_detail({info:V.groups[T][L][D.content.group_id]})});break;case-6:D.request=`${D.code}-${D.subject}`;break;case-7:D.request=`${V.servers[T][L].info.name}: ${V.lang.text.Nakama.SessionLogout}`,V.LoginAgain(D,T,L);break;default:console.log("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",D),D.request=`${D.code}-${D.subject}`}Z||(V.noti_origin[T][L][D.id]=D)})()}LoginAgain(D,T,L){this.alertCtrl.create({header:this.servers[T][L].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[T][L][D.id]}catch{}this.rearrange_notifications(),this.link_group(T,L,!0)}}]}).then(V=>V.present())}WriteStorage_From_channel(D,T,L,V,Z=0){var X=this;return(0,O.A)(function*(){let se=JSON.parse(JSON.stringify(D)),Pe=yield X.global.req_file_info(T),Ne=Math.ceil(Pe.contents.length/Rt.xM);if(X.OnTransfer[L][V][D.channel_id]||(X.OnTransfer[L][V][D.channel_id]={}),X.OnTransfer[L][V][D.channel_id][D.message_id]||(X.OnTransfer[L][V][D.channel_id][D.message_id]={index:Ne}),!X.OnTransfer[L][V][D.channel_id][D.message_id].OnTransfer){D.content.transfer_index||(D.content.transfer_index=X.OnTransfer[L][V][D.channel_id][D.message_id]);for(let ut=Z;ut<Ne;ut++)try{let Ee=X.global.req_file_part_base64(Pe,ut,T);yield X.servers[L][V].client.writeStorageObjects(X.servers[L][V].session,[{collection:`file_${se.channel_id.replace(/[.]/g,"_")}`,key:`msg_${se.message_id}_${ut}`,permission_read:2,permission_write:1,value:{data:Ee}}]),X.OnTransfer[L][V][D.channel_id][D.message_id].index=Ne-1-ut,X.OnTransfer[L][V][D.channel_id][D.message_id].OnTransfer="upload"}catch(Ee){console.log("WriteStorage_From_channel: ",Ee),X.p5toast.show({text:`${X.lang.text.Nakama.FailedUpload}: ${Ee}`});break}setTimeout(()=>{delete X.OnTransfer[L][V][D.channel_id][D.message_id],X.global.remove_req_file_info(D,T),X.p5toast.show({text:`${X.lang.text.ChatRoom.forceSQL}: ${X.lang.text.ChatRoom.SendFile}: ${se.content.filename}`})},100)}})()}ReadStorage_From_channel(D,T,L,V,Z=0){var X=this;return(0,O.A)(function*(){let se=JSON.parse(JSON.stringify(D));if(X.OnTransfer[L][V][D.channel_id]||(X.OnTransfer[L][V][D.channel_id]={}),X.OnTransfer[L][V][D.channel_id][D.message_id]||(X.OnTransfer[L][V][D.channel_id][D.message_id]={index:se.content.partsize}),X.OnTransfer[L][V][D.channel_id][D.message_id].OnTransfer)return;D.content.transfer_index||(D.content.transfer_index=X.OnTransfer[L][V][D.channel_id][D.message_id]);let Pe=!0;for(let Ne=Z,ut=se.content.partsize;Ne<ut;Ne++)try{let Ee=yield X.servers[L][V].client.readStorageObjects(X.servers[L][V].session,{object_ids:[{collection:`file_${se.channel_id.replace(/[.]/g,"_")}`,key:`msg_${se.message_id}_${Ne}`,user_id:se.sender_id}]});X.global.save_file_part(T,Ne,Ee.objects[0].value.data),X.OnTransfer[L][V][D.channel_id][D.message_id].index=ut-1-Ne,X.OnTransfer[L][V][D.channel_id][D.message_id].OnTransfer="download"}catch(Ee){console.log("ReadStorage_From_channel: ",Ee),Pe=!1,X.p5toast.show({text:`${X.lang.text.Nakama.FailedDownload}: ${Ee}`});break}if(Pe){if(D.content.url)D.content.thumbnail=D.content.url;else{D.content.text=[X.lang.text.ChatRoom.SavingFile],delete D.content.transfer_index,delete X.OnTransfer[L][V][se.channel_id][se.message_id].index,X.p5toast.show({text:`${X.lang.text.ChatRoom.forceSQL}: ${X.lang.text.ChatRoom.SavingFile}: ${se.content.filename}`});let ut=[],Ee=0;yield new Promise(function(){var Ue=(0,O.A)(function*(at){for(let He=0,bt=se.content.partsize;He<bt;He++)try{let Ut=yield X.indexed.GetFileInfoFromDB(`${T}_part/${He}.part`);Ee+=Ut.contents.length,ut[He]=Ut}catch(Ut){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",Ut);break}try{let He=new Int8Array(Ee),bt=0;for(let Ut=0,an=ut.length;Ut<an;Ut++)He.set(ut[Ut].contents,bt),bt+=ut[Ut].contents.length;yield X.indexed.saveInt8ArrayToUserPath(He,T);for(let Ut=0,an=se.content.partsize;Ut<an;Ut++)X.indexed.removeFileFromUserPath(`${T}_part/${Ut}.part`);yield X.indexed.removeFileFromUserPath(`${T}_part`),X.global.remove_req_file_info(se,T),D.content.text=[X.lang.text.ChatRoom.FileSaved]}catch(He){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",He)}at(void 0)});return function(at){return Ue.apply(this,arguments)}}()),X.noti.ClearNoti(8)}let Ne;if(se.content.path=T,"godot"!=se.content.viewer){let ut=yield X.indexed.loadBlobFromUserPath(T,D.content.type||"");Ne=URL.createObjectURL(ut)}yield X.global.modulate_thumbnail((X.OnTransferMessage[se.message_id]||D).content,Ne),delete X.OnTransfer[L][V][se.channel_id][se.message_id],delete X.OnTransferMessage[se.message_id]}return Pe})()}sync_save_file(D,T,L,V,Z=""){var X=this;return(0,O.A)(function*(){try{D.blob.size&&(yield X.indexed.saveBlobToUserPath(D.blob,D.path));let se=yield X.global.req_file_info(D.path);D.partsize=Math.ceil((D.filesize||se.contents.length)/Rt.xM),delete D.blob,yield X.servers[T][L].client.writeStorageObjects(X.servers[T][L].session,[{collection:V,key:Z||D.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:D}]);for(let Pe=0;Pe<D.partsize;Pe++){let Ne=X.global.req_file_part_base64(se,Pe,D.path);yield X.servers[T][L].client.writeStorageObjects(X.servers[T][L].session,[{collection:V,key:Z?`${Z}_${Pe}`:D.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Pe}`,permission_read:2,permission_write:1,value:{data:Ne}}])}X.indexed.removeFileFromUserPath(`${D.path}.history`)}catch(se){throw console.log("SyncSaveFailed: ",se),se}})()}sync_load_file(D,T,L,V,Z="",X="",se=!0){var Pe=this;return(0,O.A)(function*(){try{return{from:"local",value:yield Pe.indexed.loadBlobFromUserPath(D.alt_path||D.path,D.type||"")}}catch{try{let Ee=(yield Pe.servers[T][L].client.readStorageObjects(Pe.servers[T][L].session,{object_ids:[{collection:V,key:X||D.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:Z||Pe.servers[T][L].session.user_id}]})).objects[0].value,Ue=!0;for(let at=0;at<Ee.partsize;at++)try{let He=yield Pe.servers[T][L].client.readStorageObjects(Pe.servers[T][L].session,{object_ids:[{collection:V,key:X?`${X}_${at}`:D.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${at}`,user_id:Z||Pe.servers[T][L].session.user_id}]});Pe.global.save_file_part(D.alt_path||D.path,at,He.objects[0].value.data)}catch(He){console.log("ReadStorage_From_channel: ",He),Ue=!1,se&&Pe.p5toast.show({text:`${Pe.lang.text.Nakama.FailedDownload}: ${He}`}),D.url&&(D.thumbnail=D.url);break}if(Ue){delete D.url,D.text=[Pe.lang.text.ChatRoom.SavingFile],se&&Pe.p5toast.show({text:`${Pe.lang.text.ChatRoom.forceSQL}: ${Pe.lang.text.ChatRoom.SavingFile}: ${Ee.filename}`});let at=[],He=0;yield new Promise(function(){var bt=(0,O.A)(function*(Ut,an){for(let hn=0,An=Ee.partsize;hn<An;hn++)try{let Bn=yield Pe.indexed.GetFileInfoFromDB(`${D.alt_path||D.path}_part/${hn}.part`);He+=Bn.contents.length,at[hn]=Bn}catch(Bn){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",Bn);break}try{let hn=new Int8Array(He),An=0;for(let Bn=0,Qn=at.length;Bn<Qn;Bn++)hn.set(at[Bn].contents,An),An+=at[Bn].contents.length;yield Pe.indexed.saveInt8ArrayToUserPath(hn,D.alt_path||D.path);for(let Bn=0,Qn=Ee.partsize;Bn<Qn;Bn++)Pe.indexed.removeFileFromUserPath(`${D.alt_path||D.path}_part/${Bn}.part`);yield Pe.indexed.removeFileFromUserPath(`${D.alt_path||D.path}_part`)}catch(hn){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",hn),an()}Ut(void 0)});return function(Ut,an){return bt.apply(this,arguments)}}()),Pe.noti.ClearNoti(8),Pe.indexed.removeFileFromUserPath(`${D.alt_path||D.path}.history`)}return{from:"remote",value:yield Pe.indexed.loadBlobFromUserPath(D.alt_path||D.path,Ee.type||"")}}catch(ut){return{from:"failed",value:null,error:ut}}}})()}sync_remove_file(D,T,L,V,Z="",X=""){var se=this;return(0,O.A)(function*(){try{yield se.indexed.removeFileFromUserPath(D)}catch{}try{let Ne=(yield se.servers[T][L].client.readStorageObjects(se.servers[T][L].session,{object_ids:[{collection:V,key:D.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:Z||se.servers[T][L].session.user_id}]})).objects[0].value;try{se.servers[T][L].client.rpc(se.servers[T][L].session,"remove_channel_file",{collection:V,key:(X||Ne.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120))+"_"})}catch{}yield se.servers[T][L].client.deleteStorageObjects(se.servers[T][L].session,{object_ids:[{collection:V,key:X||Ne.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch{}})()}AddressToQRCodeAct(D,T=!1){var L=this;return(0,O.A)(function*(){let V=[];if(D.open_profile&&V.push({type:"open_profile"}),D.tmp_user){let Z=D.tmp_user[0].split(",");L.users.self.email=Z[0],L.users.self.password=Z[1],L.users.self.display_name=Z[2],L.users.self.online=!0,L.save_self_profile()}if(D.server)for(let Z=0,X=D.server.length;Z<X;Z++){let se=D.server[Z].split(",");V.push({type:"server",value:{name:se[0]||"No named server",target:se[0]||"No named server",address:se[1]||"192.168.0.1",useSSL:se[2]||!1,port:se[3]||7350,key:se[4]||"defaultkey",isOfficial:"unofficial"}})}if(D.group)for(let Z=0,X=D.group.length;Z<X;Z++){let se=D.group[Z].split(",");V.push({type:"group",name:se[0],id:se[1]})}if(D.group_dedi){let Z=D.group_dedi[0].split(",");V.push({type:"group_dedi",value:{address:Z[0],channel:Z[1]}})}if(D.open_prv_channel){let Z=D.open_prv_channel[0].split(",");V.push({type:"open_prv_channel",user_id:Z[0],isOfficial:Z[1]||"official",target:Z[2]||"DevTestServer"})}if(D.open_channel){let Z=D.open_channel[0].split(",");V.push({type:"open_channel",group_id:Z[0],isOfficial:Z[1],target:Z[2]})}if(D.rtcserver)for(let Z=0,X=D.rtcserver.length;Z<X;Z++){let se=D.rtcserver[Z].split("]"),Pe=se[0].split("[")[1],Ne=se[1].split(",");V.push({type:"rtcserver",value:{urls:Pe.split(","),username:Ne[1],credential:Ne[2]}})}if(D.voidDraw&&"http:"==window.location.protocol){let Z=D.voidDraw[0].split(",");V.push({type:"voidDraw",address:Z[0],channel:Z[1]})}if(D.postViewer&&V.push({type:"postViewer",address:D.postViewer[0]}),D.instc){let Z=D.instc[0].split(",");V.push({type:"instc",address:Z[0],channel:Z[1],port:Z[2],username:Z[3],password:Z[4]})}if(T)return V;yield L.act_from_QRInfo(V)})()}act_from_QRInfo(D){var T=this;return(0,O.A)(function*(){for(let L=0,V=D.length;L<V;L++)switch(D[L].type){case"open_profile":T.open_profile_page();break;case"tmp_user":break;case"server":if(T.statusBar.groupServer.unofficial[D[L].value.name])T.p5toast.show({text:`${T.lang.text.Nakama.AlreadyHaveTargetName}: ${D[L].value.name}`}),delete D[L].value.name,yield T.modalCtrl.create({component:cn.K,componentProps:{data:D[L].value}}).then(Ne=>{Ne.present()});else{let Ne={name:decodeURIComponent(D[L].value.name),target:decodeURIComponent(D[L].value.target),address:decodeURIComponent(D[L].value.address),port:D[L].value.port,useSSL:D[L].value.useSSL,isOfficial:D[L].value.isOfficial,key:decodeURIComponent(D[L].value.key)};yield T.add_group_server(Ne),yield T.init_session(Ne)}break;case"group_dedi":for(let Ne=0,ut=20;Ne<ut&&!T.lang.text.MinimalChat.leave_chat_group;Ne++)yield new Promise(Ee=>setTimeout(Ee,1e3));yield T.global.RemoveAllModals(),T.navCtrl.navigateForward("minimal-chat",{animation:gt.V5,state:{address:D[L].value.address,channel:D[L].value.channel}});break;case"group":T.AfterLoginActDone?yield T.try_add_group(D[L]):T.AfterLoginAct.push((0,O.A)(function*(){yield T.try_add_group(D[L])}));break;case"open_prv_channel":if(T.AfterLoginActDone){let Ne=yield T.join_chat_with_modulation(D[L].user_id,2,D[L].isOfficial,D[L].target,!0);T.go_to_chatroom_without_admob_act(Ne)}else T.AfterLoginAct.push((0,O.A)(function*(){let Ne=yield T.join_chat_with_modulation(D[L].user_id,2,D[L].isOfficial,D[L].target,!0);T.go_to_chatroom_without_admob_act(Ne)}));break;case"open_channel":if(T.AfterLoginActDone){let Ne=yield T.join_chat_with_modulation(D[L].group_id,3,D[L].isOfficial,D[L].target,!0);T.go_to_chatroom_without_admob_act(Ne)}else T.AfterLoginAct.push((0,O.A)(function*(){let Ne=yield T.join_chat_with_modulation(D[L].group_id,3,D[L].isOfficial,D[L].target,!0);T.go_to_chatroom_without_admob_act(Ne)}));break;case"rtcserver":let X=[];for(let Ne=0,ut=20;Ne<ut&&!T.lang.text.WebRTCDevManager.NoRegServer;Ne++)yield new Promise(Ee=>setTimeout(Ee,1e3));let se=yield T.indexed.loadTextFromUserPath("servers/webrtc_server.json");X=JSON.parse(se),X.push(D[L].value),yield T.indexed.saveTextFileToUserPath(JSON.stringify(X),"servers/webrtc_server.json");break;case"voidDraw":T.modalCtrl.create({component:ft.c,componentProps:{remote:{address:D[L].address,channel:D[L].channel}}}).then(Ne=>Ne.present());break;case"postViewer":for(let Ne=0,ut=20;Ne<ut&&!T.lang.text.PostViewer.OpenFromViewer;Ne++)yield new Promise(Ee=>setTimeout(Ee,1e3));let Pe=yield fetch(D[L].address);if(Pe.ok){let Ne=yield Pe.text(),ut=JSON.parse(Ne);T.open_post(ut,-2)}else T.p5toast.show({text:`${T.lang.text.AddPost.NoPostOutLink}: ${Pe.statusText}`});break;case"instc":for(let Ne=0,ut=20;Ne<ut&&!T.lang.text.InstantCall.CallEnd;Ne++)yield new Promise(Ee=>setTimeout(Ee,1e3));T.global.RemoveAllModals(()=>{T.navCtrl.navigateForward("instant-call",{animation:gt.NC,state:{address:D[L].address,channel:D[L].channel,port:D[L].port,username:D[L].username,password:D[L].password}})});break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}load_local_post_with_id(D,T,L,V){var Z=this;return(0,O.A)(function*(){let X=yield Z.indexed.loadTextFromUserPath(`servers/${T}/${L}/posts/${V}/${D}/info.json`);try{try{if(Z.posts_orig[T][L][V][D])throw"exist"}catch(Pe){if("exist"==Pe)throw"\uc774\ubbf8 \uc788\ub294 \uac8c\uc2dc\ubb3c"}let se=JSON.parse(X);if(se.server={name:Z.lang.text.AddGroup.UseLocalStorage,isOfficial:"local",target:"target",local:!0},se.mainImage)try{if(se.mainImage.url)se.mainImage.thumbnail=se.mainImage.url;else{let Pe=yield Z.indexed.loadBlobFromUserPath(se.mainImage.path,se.mainImage.type);se.mainImage.blob=Pe;let Ne=URL.createObjectURL(Pe);se.mainImage.thumbnail=Ne,setTimeout(()=>{URL.revokeObjectURL(Ne)},5e3)}}catch{}return Z.posts_orig[T][L][V][D]=se,!0}catch{return!1}})()}GetOverrideName(D,T,L){let V;try{V=this.usernameOverride[T][L][D]}catch{}return V}SaveOverrideName(D,T,L,V){var Z=this;return(0,O.A)(function*(){T?Z.usernameOverride[L][V][D]=T:delete Z.usernameOverride[L][V][D];let X=Object.keys(Z.usernameOverride[L][V]);for(let ut of X)Z.users[L][V][ut]||delete Z.usernameOverride[L][V][ut];let se=JSON.stringify(Z.usernameOverride[L][V]),Ne={blob:new Blob([se],{type:"application/json"}),path:`servers/${L}/${V}/users/override_name.json`};yield Z.sync_save_file(Ne,L,V,"usernameOverride","override");try{Z.servers[L][V].socket.sendMatchState(Z.self_match[L][V].match_id,Tn.NAME_OVERRIDED,encodeURIComponent(""))}catch{}})()}LoadOverrideName(D,T){var L=this;return(0,O.A)(function*(){let V={path:`servers/${D}/${T}/users/override_name.json`},Z=yield L.sync_load_file(V,D,T,"usernameOverride",void 0,"override",!1);if(Z.value){let X=yield Z.value.text(),se=JSON.parse(X),Pe=Object.keys(se);for(let Ne of Pe)L.usernameOverride[D][T][Ne]=se[Ne]}})()}LoadOverridesOffline(){var D=this;return(0,O.A)(function*(){let T=yield D.indexed.GetFileListFromDB("override_name.json");for(let L of T){let V=L.split("/");D.usernameOverride[V[1]]||(D.usernameOverride[V[1]]={}),D.usernameOverride[V[1]][V[2]]||(D.usernameOverride[V[1]][V[2]]={});let X=yield(yield D.indexed.loadBlobFromUserPath(L,"")).text(),se=JSON.parse(X);D.usernameOverride[V[1]][V[2]]=se}})()}load_server_post_with_id(D,T,L,V,Z){var X=this;return(0,O.A)(function*(){try{let se={path:`servers/${T}/${L}/posts/${V}/${D}/info.json`,type:"application/json"},Pe=yield X.sync_load_file(se,T,L,"server_post",V,D,!1),Ne=yield Pe.value.text(),ut=JSON.parse(Ne);Z&&(ut.is_me=!0);let Ee=new Blob([JSON.stringify(ut)],{type:"application/json"});X.indexed.saveBlobToUserPath(Ee,se.path),ut.server={isOfficial:T,target:L};try{ut.server.name=X.servers[T][L].info.name}catch{ut.server.name=X.lang.text.Nakama.DeletedServer}if(ut.mainImage)if(ut.mainImage.url)ut.mainImage.thumbnail=ut.mainImage.url;else{let Ue={path:ut.mainImage.path,alt_path:`servers/${T}/${L}/posts/${V}/${D}/mainImage.png`,type:"image/png"},at=(yield X.sync_load_file(Ue,T,L,"server_post",V,`${D}_mainImage`,!1)).value;ut.mainImage.blob=at;let He=URL.createObjectURL(at);ut.mainImage.thumbnail=He,setTimeout(()=>{URL.revokeObjectURL(He)},5e3)}try{ut.creator_name=X.load_other_user(V,T,L).display_name||ut.creator_name}catch{}if(X.posts_orig[T][L]||(X.posts_orig[T][L]={}),X.posts_orig[T][L][V]||(X.posts_orig[T][L][V]={}),X.posts_orig[T][L][V][D]=ut,"local"==Pe.from)try{if(!(yield X.servers[T][L].client.readStorageObjects(X.servers[T][L].session,{object_ids:[{collection:"server_post",key:D,user_id:V}]})).objects.length)throw"Not RemoteExist"}catch(Ue){if("Not RemoteExist"==Ue)throw"RemoveSelf"}return ut}catch(se){return"RemoveSelf"==se&&X.RemovePost(X.posts_orig[T][L][V][D],!0),!1}})()}load_posts_counter(){var D=this;return(0,O.A)(function*(){let T={};try{let Z=yield D.indexed.loadTextFromUserPath("servers/post_counter.json"),X=JSON.parse(Z);T=Z,D.post_counter=X}catch{}let L=Number(yield D.indexed.loadTextFromUserPath("servers/local/target/posts/me/counter.txt"))||0;D.post_counter.local.target.me=L;let V=D.get_all_server_info(!0,!0);for(let Z=0,X=V.length;Z<X;Z++){let se=V[Z].isOfficial,Pe=V[Z].target;D.post_counter[se][Pe]||(D.post_counter[se][Pe]={});try{let Ne=yield D.servers[se][Pe].client.readStorageObjects(D.servers[se][Pe].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:D.servers[se][Pe].session.user_id}]}),ut=0;Ne.objects.length&&(ut=Ne.objects[0].value.counter),D.post_counter[se][Pe][D.servers[se][Pe].session.user_id]=ut}catch(Ne){console.log("\ub0b4 \uc11c\ubc84 \uac8c\uc2dc\ubb3c \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Ne)}if(D.users[se][Pe]){let Ne=Object.keys(D.users[se][Pe]);for(let ut=0,Ee=Ne.length;ut<Ee;ut++)try{let Ue=yield D.servers[se][Pe].client.readStorageObjects(D.servers[se][Pe].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:Ne[ut]}]}),at=0;Ue.objects.length&&(at=Ue.objects[0].value.counter),D.post_counter[se][Pe][Ne[ut]]=at}catch{delete D.post_counter[se][Pe][Ne[ut]]}}T!=JSON.stringify(D.post_counter)&&(yield D.indexed.saveTextFileToUserPath(JSON.stringify(D.post_counter),"servers/post_counter.json"),D.has_new_post=!0)}})()}}return(W=ve).\u0275fac=function(D){return new(D||W)(xt.KVO(Jt.G),xt.KVO(Nt.j),xt.KVO(rn.n),xt.KVO(pn.r),xt.KVO(bn.W3),xt.KVO(bn.hG),xt.KVO(In.y),xt.KVO(Rt.z3),xt.KVO(Mn.q9),xt.KVO(bn.Xi))},W.\u0275prov=xt.jDH({token:W,factory:W.\u0275fac,providedIn:"root"}),ve})()},9900:(En,qt,me)=>{"use strict";me.d(qt,{G:()=>ie});var O=me(8326),pe=me(482),mt=me(3953),o=function($){return $[$.Idle=0]="Idle",$[$.DivFadeIn=1]="DivFadeIn",$[$.BorderAlert=2]="BorderAlert",$[$.Reading=3]="Reading",$[$.FadeOut=4]="FadeOut",$}(o||{});let ie=(()=>{var $;class v{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=o.Idle}show(g){let y;g.time=(new Date).getTime(),g.lateable||(this.AlertNow=g,this.status=o.DivFadeIn),this.alert.length&&(y=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==g.text?this.status=o.DivFadeIn:y&&y.text==g.text||this.alert.push(g),this.isShowing?this.status==o.FadeOut&&(this.status=o.DivFadeIn):(this.CurrentToast=new O(_=>{let s,l,a,d=0,c=0,u=0;_.setup=()=>{_.noCanvas(),s=_.createDiv(),s.style("position: absolute; left: 0; top: 0; z-index: 1"),s.style("width: 100%; height: fit-content"),s.style("padding: 32px;"),s.style("display: flex; justify-content: center;"),s.style("pointer-events: none"),h(),a=_.createDiv(),a.parent(s),a.style("display: flex; justify-content: center;"),a.style("width: fit-content; height: fit-content"),a.style("border-radius: 24px"),a.style("background: #"+(pe.ud?"30564e88":"b9543788")),a.style("padding: 4px"),l=_.createDiv(),l.parent(a),l.style("display: flex; justify-content: center;"),l.style("width: fit-content; height: fit-content"),l.style("word-break: break-all"),l.style("background: #"+(pe.ud?"30564e88":"b9543788")),l.style("border-radius: 20px"),l.style("padding: 12px"),l.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),l.html(this.HTMLEncode(this.AlertNow.text)),p(),this.status=o.DivFadeIn},_.draw=()=>{switch(this.status){case o.DivFadeIn:d<1?d+=1:(d=1,c=1,this.status=o.BorderAlert,l.html(this.HTMLEncode(this.AlertNow.text)));break;case o.BorderAlert:if(c>0)c-=.03;else{let w;c=0,w=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,u=_.millis()+w+960,this.status=o.Reading}break;case o.Reading:_.millis()>u&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),l.html(this.HTMLEncode(this.AlertNow.text)),this.status=o.DivFadeIn):this.status=o.FadeOut);break;case o.FadeOut:d>0?d-=.04:m()}h(),p()};let h=()=>{s.style(`opacity: ${d}`)},p=()=>{let w=_.lerpColor(_.color("#"+(pe.ud?"30564e88":"b9543788")),_.color("#ffd94ebb"),c).levels;a.style(`padding: ${4*c}px`),l.style(`padding: ${_.lerp(16,12,c)}px`),l.style(`border-radius: ${_.lerp(24,20,c)}px`),a.style(`background: rgba(${w[0]}, ${w[1]}, ${w[2]}, ${w[3]/255})`)},m=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=void 0,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=o.FadeOut}}return($=v).\u0275fac=function(g){return new(g||$)},$.\u0275prov=mt.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),v})()},4437:(En,qt,me)=>{"use strict";me.d(qt,{K:()=>a});var O=me(467),I=me(9349),pe=me(3953),mt=me(5374),o=me(3656),ie=me(4234),$=me(9900),v=me(8065),b=me(755),g=me(4237),y=me(482),C=me(177),_=me(4341);const s=["ServerDetailuseSSL"];function l(d,c){if(1&d){const u=pe.RV6();pe.j41(0,"img",14),pe.bIt("click",function(){pe.eBV(u);const p=pe.XpG();return pe.Njj(p.copy_startup_address())}),pe.k0s()}if(2&d){const u=pe.XpG();pe.Y8G("src",u.QRCodeSRC,pe.B4B)}}let a=(()=>{var d;class c{constructor(h,p,m,w,R,E,M,A){this.modalCtrl=h,this.navParams=p,this.lang=m,this.p5toast=w,this.statusBar=R,this.indexed=E,this.nakama=M,this.global=A,this.isTargetAlreadyExist=!0,this.index=0}ngOnInit(){this.dedicated_info=this.navParams.get("data");let h={name:this.dedicated_info.name,address:this.dedicated_info.address,port:this.dedicated_info.port,key:this.dedicated_info.key,useSSL:this.dedicated_info.useSSL};"192.168.0.1"==this.dedicated_info.address&&delete h.address,"defaultkey"==this.dedicated_info.key&&delete h.key,7350==this.dedicated_info.port&&delete h.port,this.dedicated_info.useSSL||delete h.useSSL,this.QRCodeSRC=this.global.readasQRCodeFromString(`${I.d2}godotchat_pwa/?server=${h.name||""},${h.address||""},${h.useSSL?"true":""},${h.port||7350},${h.key||""}`),this.isTargetAlreadyExist=!!this.statusBar.groupServer.unofficial[this.dedicated_info.target]}ionViewDidEnter(){this.ServerDetailuseSSL.checked=this.dedicated_info.useSSL}copy_startup_address(){this.global.WriteValueToClipboard("text/plain",`https://is2you2.github.io/godotchat_pwa/?server=${this.dedicated_info.name||""},${this.dedicated_info.address||""},${this.dedicated_info.useSSL||""},${this.dedicated_info.port||""},${this.dedicated_info.key||""}&open_profile=true`)}apply_changed_info(){var h=this;return(0,O.A)(function*(){if(!h.dedicated_info.name)return void h.p5toast.show({text:h.lang.text.GroupServer.NeedSetDIsplayName});h.dedicated_info.target=h.dedicated_info.target||h.dedicated_info.name,h.dedicated_info.address=h.dedicated_info.address||"192.168.0.1",h.dedicated_info.port=h.dedicated_info.port||7350,h.dedicated_info.useSSL=h.ServerDetailuseSSL.checked||!1,h.dedicated_info.isOfficial=h.dedicated_info.isOfficial||"unofficial",h.dedicated_info.key=h.dedicated_info.key||"defaultkey";let p=(new Date).getTime().toString();p+=`,${h.dedicated_info.isOfficial}`,p+=`,${h.dedicated_info.name}`,p+=`,${h.dedicated_info.target}`,p+=`,${h.dedicated_info.address}`,p+=`,${h.dedicated_info.port}`,p+=`,${h.dedicated_info.useSSL}`;let m=yield h.indexed.loadTextFromUserPath("servers/list_detail.csv"),w=[];if(m&&(w=m.split("\n")),h.isTargetAlreadyExist)for(let R=0,E=w.length;R<E;R++)if(w[R].split(",")[3]==h.dedicated_info.target){w.splice(R,1);break}w.push(p),yield h.indexed.saveTextFileToUserPath(w.join("\n"),"servers/list_detail.csv"),h.nakama.init_server(h.dedicated_info),h.nakama.servers[h.dedicated_info.isOfficial][h.dedicated_info.target].info={...h.dedicated_info};try{h.nakama.servers[h.dedicated_info.isOfficial][h.dedicated_info.target].socket.disconnect(!0)}catch{}h.modalCtrl.dismiss()})()}}return(d=c).\u0275fac=function(h){return new(h||d)(pe.rXU(mt.W3),pe.rXU(o.y8),pe.rXU(ie.y),pe.rXU($.G),pe.rXU(v.j),pe.rXU(b.n),pe.rXU(g.X),pe.rXU(y.z3))},d.\u0275cmp=pe.VBU({type:d,selectors:[["app-server-detail"]],viewQuery:function(h,p){if(1&h&&pe.GBs(s,5),2&h){let m;pe.mGM(m=pe.lsd())&&(p.ServerDetailuseSSL=m.first)}},decls:31,vars:19,consts:[["ServerDetailuseSSL",""],[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click",4,"ngIf"],["button",""],[1,"ion-text-right",3,"ngModelChange","label","ngModel","placeholder"],["button","",3,"disabled"],["placeholder","192.168.0.1",1,"ion-text-right",3,"ngModelChange","label","ngModel"],["placeholder","defaultkey",1,"ion-text-right",3,"ngModelChange","label","ngModel"],["type","number","placeholder","7350",1,"ion-text-right",3,"ngModelChange","label","ngModel"],["button","",3,"click"],[2,"pointer-events","none",3,"ngModelChange","ngModel"],[1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"click","src"]],template:function(h,p){if(1&h){const m=pe.RV6();pe.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),pe.EFF(3),pe.k0s(),pe.j41(4,"ion-buttons",2),pe.bIt("click",function(){return pe.eBV(m),pe.Njj(p.modalCtrl.dismiss())}),pe.nrm(5,"ion-back-button",3),pe.k0s()()(),pe.j41(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),pe.EFF(9),pe.k0s()(),pe.DNE(10,l,1,1,"img",4),pe.j41(11,"ion-item-divider")(12,"ion-label"),pe.EFF(13,"\uc11c\ubc84 \uc124\uc815"),pe.k0s()(),pe.j41(14,"ion-item",5)(15,"ion-input",6),pe.mxI("ngModelChange",function(R){return pe.eBV(m),pe.DH7(p.dedicated_info.name,R)||(p.dedicated_info.name=R),pe.Njj(R)}),pe.k0s()(),pe.j41(16,"ion-item",7)(17,"ion-input",6),pe.mxI("ngModelChange",function(R){return pe.eBV(m),pe.DH7(p.dedicated_info.target,R)||(p.dedicated_info.target=R),pe.Njj(R)}),pe.k0s()(),pe.j41(18,"ion-item",5)(19,"ion-input",8),pe.mxI("ngModelChange",function(R){return pe.eBV(m),pe.DH7(p.dedicated_info.address,R)||(p.dedicated_info.address=R),pe.Njj(R)}),pe.k0s()(),pe.j41(20,"ion-item",5)(21,"ion-input",9),pe.mxI("ngModelChange",function(R){return pe.eBV(m),pe.DH7(p.dedicated_info.key,R)||(p.dedicated_info.key=R),pe.Njj(R)}),pe.k0s()(),pe.j41(22,"ion-item",5)(23,"ion-input",10),pe.mxI("ngModelChange",function(R){return pe.eBV(m),pe.DH7(p.dedicated_info.port,R)||(p.dedicated_info.port=R),pe.Njj(R)}),pe.k0s()(),pe.j41(24,"ion-item",11),pe.bIt("click",function(){return pe.eBV(m),pe.Njj(p.dedicated_info.useSSL=!p.dedicated_info.useSSL)}),pe.j41(25,"ion-toggle",12,0),pe.mxI("ngModelChange",function(R){return pe.eBV(m),pe.DH7(p.dedicated_info.useSSL,R)||(p.dedicated_info.useSSL=R),pe.Njj(R)}),pe.EFF(27),pe.k0s()(),pe.j41(28,"ion-item",11),pe.bIt("click",function(){return pe.eBV(m),pe.Njj(p.apply_changed_info())}),pe.j41(29,"ion-label",13),pe.EFF(30),pe.k0s()()()}2&h&&(pe.R7$(3),pe.JRh(p.lang.text.GroupServer.ServerDetail),pe.R7$(6),pe.JRh(p.lang.text.ServerDetail.copy_scan_below),pe.R7$(),pe.Y8G("ngIf",p.QRCodeSRC),pe.R7$(5),pe.Y8G("label",p.lang.text.GroupServer.DisplayName),pe.R50("ngModel",p.dedicated_info.name),pe.Y8G("placeholder",p.lang.text.GroupServer.DisplayName_placeholder),pe.R7$(),pe.Y8G("disabled",p.isTargetAlreadyExist),pe.R7$(),pe.Y8G("label",p.lang.text.GroupServer.DivisionName),pe.R50("ngModel",p.dedicated_info.target),pe.Y8G("placeholder",p.dedicated_info.name||p.lang.text.GroupServer.DivisionName_placeholder),pe.R7$(2),pe.Y8G("label",p.lang.text.GroupServer.Address),pe.R50("ngModel",p.dedicated_info.address),pe.R7$(2),pe.Y8G("label",p.lang.text.GroupServer.Key),pe.R50("ngModel",p.dedicated_info.key),pe.R7$(2),pe.Y8G("label",p.lang.text.GroupServer.Port),pe.R50("ngModel",p.dedicated_info.port),pe.R7$(2),pe.R50("ngModel",p.dedicated_info.useSSL),pe.R7$(2),pe.JRh(p.lang.text.GroupServer.isSSL),pe.R7$(3),pe.JRh(p.lang.text.ServerDetail.ApplyChangeServerInfo))},dependencies:[C.bT,_.BC,_.vS,mt.QW,mt.W9,mt.eU,mt.$w,mt.uz,mt.Dg,mt.he,mt.BC,mt.BY,mt.ai,mt.hB,mt.su,mt.Gw,mt.el],styles:[".icon_style[_ngcontent-%COMP%]{width:22px;height:22px;transform:translateY(2px);margin-left:4px;margin-right:4px}"]}),c})()},6608:(En,qt,me)=>{"use strict";me.d(qt,{n:()=>g});var O=me(467),I=me(9349),pe=me(3953),mt=me(482),o=me(3656),ie=me(5374),$=me(4234),v=me(177);function b(y,C){if(1&y){const _=pe.RV6();pe.j41(0,"img",5),pe.bIt("click",function(){pe.eBV(_);const l=pe.XpG();return pe.Njj(l.copy_address(l.SelectedAddress))}),pe.k0s()}if(2&y){const _=pe.XpG();pe.Y8G("src",_.QRCodeSRC,pe.B4B)}}let g=(()=>{var y;class C{constructor(s,l,a){this.global=s,this.navParams=l,this.lang=a}ngOnInit(){}ionViewWillEnter(){var s=this;return(0,O.A)(function*(){let l=s.navParams.data.address;try{let a=l.split("://"),d=a.pop(),c="wss"==a.pop()||s.global.checkProtocolFromAddress(d),u=`${c?"https:":"http:"}//${d}:${c?8443:8080}/`;const h=new AbortController,p=setTimeout(()=>{h.abort()},500);let m=yield fetch(u,{signal:h.signal});if(clearTimeout(p),!m.ok)throw"\uc8fc\uc18c \uc5c6\uc74c";s.SelectedAddress=`${c?"https:":"http:"}//${d}:${c?8443:8080}${window.sub_path}?voidDraw=${l},${s.navParams.data.channel}`}catch{s.SelectedAddress=`${I.d2}?voidDraw=${l},${s.navParams.data.channel}`}s.QRCodeSRC=s.global.readasQRCodeFromString(s.SelectedAddress)})()}copy_address(s){this.global.WriteValueToClipboard("text/plain",s)}}return(y=C).\u0275fac=function(s){return new(s||y)(pe.rXU(mt.z3),pe.rXU(o.y8),pe.rXU($.y))},y.\u0275cmp=pe.VBU({type:y,selectors:[["app-link-qr"]],decls:7,vars:2,consts:[[2,"display","flex","justify-content","center","align-items","center","height","100%"],[2,"width","400px","height","455px","background-color","var(--chatroom-background)","text-align","center","padding","16px"],["style","width: 100%; height: auto; cursor: copy;","alt","QuickLink",3,"src","click",4,"ngIf"],["button","",3,"click"],[1,"ion-text-center"],["alt","QuickLink",2,"width","100%","height","auto","cursor","copy",3,"click","src"]],template:function(s,l){1&s&&(pe.j41(0,"ion-content")(1,"div",0)(2,"div",1),pe.DNE(3,b,1,1,"img",2),pe.j41(4,"ion-item",3),pe.bIt("click",function(){return l.copy_address(l.navParams.data.channel)}),pe.j41(5,"ion-label",4),pe.EFF(6),pe.k0s()()()()()),2&s&&(pe.R7$(3),pe.Y8G("ngIf",l.QRCodeSRC),pe.R7$(3),pe.JRh(l.navParams.data.channel))},dependencies:[v.bT,ie.W9,ie.uz,ie.he],styles:["ion-content[_ngcontent-%COMP%]{--background: transparent}"]}),C})()},736:(En,qt,me)=>{"use strict";me.d(qt,{c:()=>c});var O=me(467),I=me(8326),mt=me(9349),o=me(4237),ie=me(6608),$=me(3953),v=me(4234),b=me(5374),g=me(3656),y=me(482),C=me(755),_=me(9900),s=me(4020),l=me(177);const a=["RemoteDraw"];function d(u,h){if(1&u&&($.j41(0,"ion-select-option",10),$.EFF(1),$.k0s()),2&u){const p=h.$implicit;$.Y8G("value",p),$.R7$(),$.JRh(p.info.name)}}let c=(()=>{var u;class h{constructor(m,w,R,E,M,A,B,j,N,k){this.lang=m,this.modalCtrl=w,this.alertCtrl=R,this.loadingCtrl=E,this.global=M,this.navParams=A,this.indexed=B,this.nakama=j,this.p5toast=N,this.webrtc=k,this.isMobile=!1,this.isCropMode=!1,this.ServerList=[],this.isDrawServerCreated=!1,this.ReadyToShareAct=!1,this.RemoteBackgroundImage="",this.WillLeaveHere=!1,this.WithoutSave=!0}ngOnInit(){}ionViewDidEnter(){var m=this;return(0,O.A)(function*(){m.AddShortCut(),m.mainLoading=yield m.loadingCtrl.create({message:m.lang.text.voidDraw.UseThisImage}),m.isMobile="DesktopPWA"!=mt.aH,m.create_new_canvas({width:m.navParams.data.width,height:m.navParams.data.height,path:m.navParams.data.path}),m.navParams.data.remote&&setTimeout(()=>{m.CreateRemoteLocalClient(m.navParams.data.remote.address,m.navParams.data.remote.channel)},1e3)})()}AddShortCut(){delete this.global.p5key.KeyShortCut.Digit,this.global.p5key.KeyShortCut.HistoryAct=m=>{switch(m){case"Z":this.p5voidDraw.history_act(-1);break;case"X":this.p5voidDraw.history_act(1);break;case"C":this.isCropMode?this.p5voidDraw.apply_crop():this.p5voidDraw.change_color();break;case"V":this.p5voidDraw.set_line_weight()}},this.global.p5key.KeyShortCut.AddAct=()=>{this.ClickRemoteAddButton()},this.global.p5key.KeyShortCut.SKeyAct=()=>{this.open_crop_tool()},this.global.p5key.KeyShortCut.DeleteAct=()=>{this.isCropMode?this.p5voidDraw.apply_crop():this.dismiss_draw()},this.global.p5key.KeyShortCut.FKeyAct=()=>{},this.global.p5key.KeyShortCut.Escape=()=>{this.isDrawServerCreated&&this.CancelRemoteAct()}}CancelRemoteAct(){this.ReadyToShareAct=!1,this.RemoteLoadingCtrl&&this.RemoteLoadingCtrl.dismiss(),this.isDrawServerCreated=!1,this.p5voidDraw.SetDrawable(!0),this.webrtc.close_webrtc(!1)}create_new_canvas(m){m.width=m.width||432,m.height=m.height||432,this.p5voidDraw&&this.p5voidDraw.remove(),this.create_p5voidDraw(m)}create_p5voidDraw(m){var w=this;let R=document.getElementById("voidDraw");this.isCropMode=!1,this.p5voidDraw=new I(E=>{let M,A,B,j,N,k,J,ne,z=E.createColorPicker("#000"),ee=Math.min(m.width,m.height)/100,H=1;E.setup=(0,O.A)(function*(){E.pixelDensity(1),E.noLoop(),E.noFill(),E.imageMode(E.CENTER),j=E.createCanvas(R.clientWidth,R.clientHeight),j.parent(R),K.x=E.width/2,K.y=E.height/2,E.set_line_weight=()=>{w.alertCtrl.create({header:w.lang.text.voidDraw.changeWeight,inputs:[{label:w.lang.text.voidDraw.weight,name:"weight",placeholder:`${H}`,type:"number"}],buttons:[{text:w.lang.text.voidDraw.apply,handler:Nt=>{Nt.weight&&(H=Number(Nt.weight))}}]}).then(Nt=>{Wt=!1,Nt.onWillDismiss().then(()=>{Wt=!0}),Nt.present()})},E.change_color=()=>{z.elt.click()},E.save_image=()=>{new I(Nt=>{Nt.setup=()=>{let rn=Nt.createCanvas(M.width,M.height);Nt.pixelDensity(1),B&&Nt.image(B,0,0),M&&Nt.image(M,0,0);let pn=rn.elt.toDataURL("image/png").replace("image/png","image/octet-stream");w.modalCtrl.dismiss({name:`voidDraw_${Nt.year()}-${Nt.nf(Nt.month(),2)}-${Nt.nf(Nt.day(),2)}_${Nt.nf(Nt.hour(),2)}-${Nt.nf(Nt.minute(),2)}-${Nt.nf(Nt.second(),2)}.png`,img:pn,loadingCtrl:w.mainLoading}),Nt.remove()}})},E.history_act=(Nt,rn=!1)=>{switch(ze=E.min(E.max(0,ze+Nt),E.DrawingStack.length),Nt){case 1:E.DrawingStack.length&&(J.style.fill="var(--ion-color-dark)"),ze==E.DrawingStack.length&&(ne.style.fill="var(--ion-color-medium)"),lt(M,E.DrawingStack[ze-1]);break;case-1:E.DrawingStack.length&&(ne.style.fill="var(--ion-color-dark)"),ze<1?(J.style.fill="var(--ion-color-medium)",M.clear(255,255,255,255),E.redraw()):st()}!rn&&w.ReadyToShareAct&&w.webrtc.dataChannel.send(JSON.stringify({type:"same",act:"history_act",data:Nt}))},E.open_crop_tool=()=>{w.isCropMode?(w.isCropMode=!1,E.redraw()):(w.isCropMode=!0,re.x=M.width,re.y=M.height,P.x=0,P.y=0,E.redraw()),E.change_checkmark()},E.apply_crop=(Nt=!0)=>{if(Nt&&w.isMobile&&P.div(le),M.resizeCanvas(re.x,re.y),A=E.createVector(M.width/2,M.height/2),Nt&&Y.sub(P),st(),B.resizeCanvas(re.x,re.y),B.push(),B.background(w.navParams.data.isDarkMode?26:255),B.translate(Y),E.BaseImage&&B.image(E.BaseImage,0,0),B.pop(),B.redraw(),w.isCropMode=!1,E.change_checkmark(),E.SetCanvasViewportInit(),Nt&&w.ReadyToShareAct){let rn=w.p5voidDraw.getCropPos(),pn=w.p5voidDraw.getCropSize();w.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"crop",cropPX:rn.x,cropPY:rn.y,cropSX:pn.x,cropSY:pn.y}))}},E.SetDrawable=Tt,N=E.createElement("table"),N.style("position: absolute; top: 0px;"),N.style(`width: 100%; height: ${Ct}px;`),N.style("background-color: var(--voidDraw-menu-background);"),N.parent(R);let pt=N.elt.insertRow(0),tt=pt.insertCell(0);tt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="wifi-outline"></ion-icon>',tt.style.textAlign="center",tt.style.cursor="pointer",tt.onclick=()=>{w.ClickRemoteAddButton()};let At=pt.insertCell(1);At.innerHTML='<ion-icon style="width: 27px; height: 27px" name="crop"></ion-icon>',At.style.textAlign="center",At.style.cursor="pointer",At.onclick=()=>{w.open_crop_tool()};let gt=pt.insertCell(2);gt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="checkmark"></ion-icon>',gt.style.textAlign="center",gt.style.cursor="pointer",gt.onclick=()=>{w.dismiss_draw()},E.change_checkmark=()=>{gt.innerHTML=w.isCropMode?'<ion-icon style="width: 27px; height: 27px" name="cut-sharp"></ion-icon>':'<ion-icon style="width: 27px; height: 27px" name="checkmark"></ion-icon>'},k=E.createElement("table"),k.style("position: absolute; bottom: 0px;"),k.style(`width: 100%; height: ${Ct}px;`),k.style("background-color: var(--voidDraw-menu-background);"),k.parent(R);let Rt=k.elt.insertRow(0),cn=Rt.insertCell(0);cn.innerHTML='<ion-icon id="undoIcon" style="width: 27px; height: 27px" name="arrow-undo"></ion-icon>',J=document.getElementById("undoIcon"),J.style.fill="var(--ion-color-medium)",cn.style.textAlign="center",cn.style.cursor="pointer",cn.onclick=()=>{w.p5voidDraw.history_act(-1)};let ft=Rt.insertCell(1);ft.innerHTML='<ion-icon id="redoIcon" style="width: 27px; height: 27px" name="arrow-redo"></ion-icon>',ne=document.getElementById("redoIcon"),ne.style.fill="var(--ion-color-medium)",ft.style.textAlign="center",ft.style.cursor="pointer",ft.onclick=()=>{w.p5voidDraw.history_act(1)};let xt=Rt.insertCell(2);xt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="color-palette"></ion-icon>',z.style("width: 0px; height: 0px; opacity: 0;"),z.parent(xt),z.elt.oninput=()=>{let Nt=z.color().levels,rn=`#${E.hex(Nt[0],2)}${E.hex(Nt[1],2)}${E.hex(Nt[2],2)}`;xt.childNodes[0].style.color=rn},m.path&&(z.value("#ff0000"),z.elt.oninput()),xt.style.textAlign="center",xt.style.cursor="pointer",xt.onclick=()=>{z.elt.click()};let Jt=Rt.insertCell(3);if(Jt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="pencil"></ion-icon>',Jt.style.textAlign="center",Jt.style.cursor="pointer",Jt.onclick=()=>{w.change_line_weight()},E.SetCanvasViewportInit=()=>{j.hide(),E.resizeCanvas(R.clientWidth,R.clientHeight),Oe.x=E.width/2,Oe.y=E.height/2,K.x=0,K.y=0;let Nt=R.clientHeight-112;le=R.clientWidth/Nt<M.width/M.height?R.clientWidth/M.width:Nt/M.height,j.show(),E.redraw()},M=E.createGraphics(m.width,m.height),A=E.createVector(M.width/2,M.height/2),M.pixelDensity(1),M.noLoop(),M.noFill(),E.ActualCanvas=M,B=E.createGraphics(m.width,m.height),B.pixelDensity(1),B.noLoop(),B.noFill(),B.background(w.navParams.data.isDarkMode?26:255),E.ImageCanvas=B,m.path){let Nt=yield w.indexed.loadBlobFromUserPath(m.path,""),rn=URL.createObjectURL(Nt);E.loadImage(rn,pn=>{E.BaseImage=pn,B.image(E.BaseImage,0,0),B.redraw(),URL.revokeObjectURL(rn),E.SetCanvasViewportInit()},pn=>{console.error("\uadf8\ub9bc\ud310 \ubc30\uacbd \uc774\ubbf8\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",pn),B.redraw(),URL.revokeObjectURL(rn),E.SetCanvasViewportInit()})}else B.redraw(),E.SetCanvasViewportInit();m.width<m.height&&(ee/=le),E.getCropPos=ge,E.setCropPos=Ge,E.getCropSize=Te,E.setCropSize=qe,E.RemoteDrawStart=ot,E.RemoteDrawing=Ze,E.RemoteDrawingEnd=yt,E.updateRemoteCurve=Be,E.CancelCurrentDraw=()=>{Je=void 0,E.redraw()},w.navParams.data.scrollHeight&&Ge(0,-w.navParams.data.scrollHeight)});let K=E.createVector(),le=1,Oe=E.createVector(0,0),Y=E.createVector(),P=E.createVector(),re=E.createVector(),ge=()=>Y,Te=()=>re,Ge=(pt,tt)=>{Y.x=pt,Y.y=tt,B.translate(pt,tt),E.redraw()},qe=(pt,tt)=>{re.x=pt,re.y=tt,B.translate(pt,tt),E.redraw()};E.draw=()=>{if(E.clear(255,255,255,255),E.push(),E.translate(Oe),E.scale(le),E.translate(K),E.image(B,0,0),M&&E.image(M,0,0),this.isCropMode)E.push(),E.translate(-M.width/2,-M.height/2),E.translate(P),E.noStroke(),E.fill(0,100),E.rect(0,0,re.x,re.y),E.stroke(255,0,0),E.strokeWeight(8),E.beginShape(E.LINES),E.vertex(0,0),E.vertex(re.x,0),E.vertex(re.x,0),E.vertex(re.x,.8*re.y),E.vertex(0,0),E.vertex(0,re.y),E.vertex(0,re.y),E.vertex(.8*re.x,re.y),E.stroke(255,255,0),E.vertex(.8*re.x,re.y),E.vertex(re.x,re.y),E.vertex(re.x,.8*re.y),E.vertex(re.x,re.y),E.endShape(),E.pop();else{if(Qe&&Qe.pos&&Qe.pos.length){E.push(),E.translate(Y),E.stroke(Qe.color),E.strokeWeight(Qe.weight),E.beginShape();for(let pt=0,tt=Qe.pos.length;pt<tt;pt++)E.curveVertex(Qe.pos[pt].x-A.x,Qe.pos[pt].y-A.y);E.endShape(),E.pop()}if(this.ReadyToShareAct&&Je&&Je.pos&&Je.pos.length){E.push(),E.translate(Y),E.stroke(Je.color),E.strokeWeight(Je.weight),E.beginShape();for(let pt=0,tt=Je.pos.length;pt<tt;pt++)E.curveVertex(Je.pos[pt].x-A.x,Je.pos[pt].y-A.y);E.endShape(),E.pop()}}E.pop()},E.DrawingStack=[],E.ClearCurrentDraw=()=>{Qe={},E.DrawingStack.length=0,ze=0,st(),E.redraw()};let ze=0,st=()=>{M.clear(255,255,255,255);for(let pt=0;pt<ze;pt++)lt(M,E.DrawingStack[pt])},lt=(pt,tt=Qe)=>{if(tt.color){pt.push(),pt.translate(Y),pt.stroke(tt.color),pt.strokeWeight(tt.weight),pt.beginShape();for(let At=0,gt=tt.pos.length;At<gt;At++)pt.curveVertex(tt.pos[At].x,tt.pos[At].y);pt.endShape(),pt.pop(),pt.redraw(),E.redraw()}},Be=pt=>{for(let tt=0,At=pt.length;tt<At;tt++)lt(M,pt[tt]);ze=E.DrawingStack.length};E.windowResized=()=>{setTimeout(()=>{E.SetCanvasViewportInit()},0)};let Qe={},Je={},ot=pt=>{Je=pt,E.redraw()},Ze=pt=>{Je&&Je.pos&&Je.pos.push(pt),E.redraw()},yt=pt=>{Je.pos.push(pt),Je.pos.push(pt),E.DrawingStack.length=ze,Je&&(E.DrawingStack.push(Je),lt(M,Je)),ze=E.DrawingStack.length,Je=void 0,E.redraw()};const Ct=56;let sn,$t,un,Bt,Yt,fn,ln,mn=0,Ot=!1,Vt=!1;E.mousePressed=pt=>{if(Wt){if(E.mouseY<Ct||E.mouseY>E.height-Ct)return void(Vt=!0);switch(pt.which){case 1:this.isCropMode?Ve():Xe();break;case 3:$t=E.createVector(E.mouseX,E.mouseY),fn=K.copy(),sn=E.createVector(E.mouseX,E.mouseY);break;case 2:E.SetCanvasViewportInit()}}};let Ve=(pt,tt)=>{let At=Ke(pt,tt),gt=P.copy().add(re).sub(E.createVector(M.width/2,M.height/2)),Rt=At.dist(gt),cn=.2*E.max(re.x,re.y);Ot=Rt<cn,Ot?(Bt=E.createVector(E.mouseX,E.mouseY),ln=re.copy()):un=E.createVector(E.mouseX,E.mouseY).sub(P.mult(le))},Xe=(pt,tt)=>{J.style.fill="var(--ion-color-dark)",ne.style.fill="var(--ion-color-medium)";let At=Ke(pt,tt);At.sub(Y),At.add(A);let gt={x:At.x,y:At.y},Rt=z.color().levels,cn=`#${E.hex(Rt[0],2)}${E.hex(Rt[1],2)}${E.hex(Rt[2],2)}`;Qe={pos:[],color:cn,weight:ee*H},Qe.pos.push(gt),Qe.pos.push(gt),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"start",data:Qe})),E.redraw()};E.mouseDragged=pt=>{if(Wt)switch(pt.which){case 1:if(this.isCropMode&&!Vt){let tt=E.createVector(E.mouseX,E.mouseY);Ot?re=ln.copy().add(Bt.copy().sub(tt).div(-le)):P=un.copy().sub(tt).div(-le),E.redraw()}else{let tt=Ke();tt.sub(Y),tt.add(A);let At={x:tt.x,y:tt.y};Qe&&Qe.pos&&Qe.pos.push(At),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"moved",data:At})),E.redraw()}break;case 3:sn=E.createVector(E.mouseX,E.mouseY),K=fn.copy().add(sn.sub($t).div(le)),E.redraw()}},E.mouseWheel=pt=>{Wt&&(E.mouseY<Ct||E.mouseY>E.height-Ct?Vt=!0:(Ae(Ke()),le*=pt.deltaY<0?1.1:.9,E.redraw()))},E.mouseReleased=pt=>{if(Wt){if(1===pt.which&&!this.isCropMode&&!Vt){let tt=Ke();tt.sub(Y),tt.add(A);let At={x:tt.x,y:tt.y};if(Qe)try{Qe.pos.push(At),Qe.pos.push(At),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"end",data:At}))}catch{}tn()}Vt=!1}};let Ae=pt=>{Oe=E.createVector(E.mouseX,E.mouseY),K=pt.mult(-1)},Ke=(pt,tt)=>{let At=E.createVector(pt||E.mouseX,tt||E.mouseY);return At.sub(Oe),At.div(le),At.sub(K),At},_t=[],Ft=!1,Wt=!0,Tt=pt=>{Wt=pt};E.touchStarted=pt=>{if(Wt){if(_t=pt.touches,pt.changedTouches[0].clientY<Ct||pt.changedTouches[0].clientY>E.height-Ct)return void(Vt=!0);switch(Ft=!0,_t.length){case 1:this.isCropMode?Ve(pt.changedTouches[0].clientX,pt.changedTouches[0].clientY-Ct):Xe(pt.changedTouches[0].clientX,pt.changedTouches[0].clientY-Ct);break;case 2:let tt=E.createVector(_t[0].clientX,_t[0].clientY-56),At=E.createVector(_t[1].clientX,_t[1].clientY-56);mn=tt.dist(At),$t=tt.copy().add(At).div(2),fn=K.copy(),Yt=le,Qe=void 0,this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"cancel"}));break;default:Ft=!1,E.SetCanvasViewportInit()}}},E.touchMoved=pt=>{if(Wt&&Ft){switch(_t=pt.touches,_t.length){case 1:if(this.isCropMode&&!Vt){let tt=E.createVector(pt.changedTouches[0].clientX,pt.changedTouches[0].clientY-Ct);Ot?re=ln.copy().add(Bt.copy().sub(tt).div(-le)):P=un.copy().sub(tt).div(-le),E.redraw()}else{let tt=Ke(pt.changedTouches[0].clientX,pt.changedTouches[0].clientY-Ct);tt.sub(Y),tt.add(A);let At={x:tt.x,y:tt.y};Qe&&Qe.pos&&Qe.pos.push(At),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"moved",data:At})),E.redraw()}break;case 2:{let tt=E.createVector(_t[0].clientX,_t[0].clientY-56),At=E.createVector(_t[1].clientX,_t[1].clientY-56),gt=tt.copy().add(At).div(2);le=tt.dist(At)/mn*Yt,K=fn.copy().add(gt.sub($t).div(le)),E.redraw()}}return!1}},E.touchEnded=pt=>{if(Wt&&pt.changedTouches){switch(_t=pt.touches,Ft=!1,_t.length){case 0:if(!this.isCropMode&&!Vt&&Qe){let tt=Ke(pt.changedTouches[0].clientX,pt.changedTouches[0].clientY-Ct);tt.sub(Y),tt.add(A);let At={x:tt.x,y:tt.y};Qe.pos.push(At),Qe.pos.push(At),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"end",data:At})),tn()}break;case 1:if(!Ft)return;en(),mn=0,Qe=void 0}Vt=!1}};let en=()=>{$t=E.createVector(_t[0].clientX,_t[0].clientY-56),fn=K.copy()},tn=()=>{E.DrawingStack.length=ze,Qe&&(E.DrawingStack.push(Qe),lt(M,Qe)),ze=E.DrawingStack.length,$t=void 0,Vt=!1,Qe=void 0,E.redraw()}})}ClickRemoteAddButton(){this.isDrawServerCreated||(this.ServerList=this.nakama.get_all_online_server(),this.ServerList.length?(this.p5voidDraw.SetDrawable(!1),this.RemoteDraw.open()):this.RemoteBridgeServerSelected({detail:{value:"local"}}))}RemoteBridgeServerSelected(m){var w=this;return(0,O.A)(function*(){if(w.isDrawServerCreated)return;let R=m.detail.value;if("local"===R){let E;w.alertCtrl.create({header:w.lang.text.voidDraw.LocalAddrInput,inputs:[{type:"text",placeholder:"(wss://)0.0.0.0"},{type:"text",placeholder:w.lang.text.voidDraw.CreateChannel}],buttons:[{text:w.lang.text.voidDraw.Confirm,handler:B=>{B[0]?(w.InputCustomAddress=B[0],w.p5voidDraw.SetDrawable(!1),E=!0,w.isDrawServerCreated=!0,w.CreateOnMessageLink(),w.CreateOnOpenAct(!1,(0,O.A)(function*(){let j=w.p5voidDraw.getCropPos();w.nakama.VoidDrawInitCallBack=void 0,yield new Promise(N=>setTimeout(N,40)),w.IceWebRTCWsClient.send(JSON.stringify({type:"size",width:w.p5voidDraw.ActualCanvas.width,height:w.p5voidDraw.ActualCanvas.height,cropX:j.x,cropY:j.y}))})),w.CreateRemoteLocalClient(B[0],B[1])):w.p5toast.show({text:w.lang.text.voidDraw.InputAddress})}}]}).then(B=>{B.onWillDismiss().then(()=>{w.p5voidDraw.SetDrawable(!0)}),B.onDidDismiss().then(()=>{!E&&!w.WillLeaveHere&&w.global.RestoreShortCutAct("voiddraw-remote-bridge")}),w.global.StoreShortCutAct("voiddraw-remote-bridge"),B.present()})}else{w.RemoteLoadingCtrl=yield w.loadingCtrl.create({message:w.lang.text.voidDraw.WaitingConnection}),w.RemoteLoadingCtrl.present();let M=R.info.isOfficial,A=R.info.target;w.webrtc.CurrentMatch=w.nakama.self_match[M][A],w.isDrawServerCreated=!0,w.RemoteLoadingCtrl.message=w.lang.text.voidDraw.WebRTC_Init,w.webrtc.initialize("data",void 0,{isOfficial:M,target:A}).then((0,O.A)(function*(){w.CreateOnMessageLink(),w.CreateOnOpenAct(!1,(0,O.A)(function*(){let B=w.p5voidDraw.getCropPos();w.nakama.VoidDrawInitCallBack=void 0,yield w.nakama.servers[M][A].socket.sendMatchState(w.nakama.self_match[M][A].match_id,o.I.VOIDDRAW_INIT,encodeURIComponent(JSON.stringify({type:"size",width:w.p5voidDraw.ActualCanvas.width,height:w.p5voidDraw.ActualCanvas.height,cropX:B.x,cropY:B.y})))})),w.webrtc.CreateOffer(),w.nakama.VoidDrawInitCallBack=B=>{w.create_new_canvas({width:B.width,height:B.height}),w.p5voidDraw.setCropPos(B.cropX,B.cropY),w.p5voidDraw.SetDrawable(!1),w.p5voidDraw.redraw()},w.webrtc.InitReplyCallback=(0,O.A)(function*(){w.CreateOnOpenAct(!0),w.webrtc.CreateAnswer()}),yield w.nakama.servers[M][A].socket.sendMatchState(w.nakama.self_match[M][A].match_id,o.I.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}))}})()}CreateRemoteLocalClient(m,w){var R=this;let B,j,E=m.split("://"),M=E.pop().split(":"),A=E.pop();A?A+=":":A=this.global.checkProtocolFromAddress(M[0])?"wss:":"ws:",this.IceWebRTCWsClient=new WebSocket(`${A}//${M[0]}:12013/`),this.AddShortCut(),this.isDrawServerCreated=!0,this.IceWebRTCWsClient.onopen=(0,O.A)(function*(){R.p5toast.show({text:`${R.lang.text.voidDraw.Connected}: ${M[0]}`}),w?(R.IceWebRTCWsClient.send(JSON.stringify({type:"join",channel:w})),yield new Promise(N=>setTimeout(N,40)),R.IceWebRTCWsClient.send(JSON.stringify({type:"size_req",channel:w})),R.RemoteLoadingCtrl=yield R.loadingCtrl.create({message:R.lang.text.voidDraw.WaitingConnection}),R.RemoteLoadingCtrl.present(),R.p5voidDraw.SetDrawable(!1)):R.IceWebRTCWsClient.send(JSON.stringify({type:"init"}))}),this.IceWebRTCWsClient.onmessage=function(){var N=(0,O.A)(function*(k){let J,ne=JSON.parse(k.data);if(void 0===j)j=ne.uid;else if(j==ne.uid)return;switch(ne.type){case"init_id":B=yield R.modalCtrl.create({component:ie.n,componentProps:{address:m,channel:ne.id},cssClass:"transparent-modal"}),B.onWillDismiss().then(()=>{R.global.RestoreShortCutAct("voiddraw-remote"),R.p5voidDraw.SetDrawable(!0)}),R.global.StoreShortCutAct("voiddraw-remote"),R.p5voidDraw.SetDrawable(!1),B.present(),R.IceWebRTCWsClient.send(JSON.stringify({type:"join",channel:ne.id})),J=ne.id;break;case"init_req":R.p5voidDraw.SetDrawable(!1),R.RemoteLoadingCtrl.message=R.lang.text.voidDraw.WebRTC_Init,R.webrtc.initialize("data").then((0,O.A)(function*(){R.CreateOnMessageLink(),R.CreateOnOpenAct(!1,(0,O.A)(function*(){R.nakama.VoidDrawInitCallBack=void 0})),R.webrtc.CreateOffer(),yield new Promise(ee=>setTimeout(ee,40)),R.IceWebRTCWsClient.send(JSON.stringify({type:"socket_react",channel:J,act:"WEBRTC_INIT_REQ_SIGNAL"}))}));break;case"size_req":B&&B.dismiss(),R.RemoteLoadingCtrl=yield R.loadingCtrl.create({message:R.lang.text.voidDraw.WaitingConnection}),R.RemoteLoadingCtrl.present();let z=R.p5voidDraw.getCropPos();R.IceWebRTCWsClient.send(JSON.stringify({type:"size",width:R.p5voidDraw.ActualCanvas.width,height:R.p5voidDraw.ActualCanvas.height,cropX:z.x,cropY:z.y,channel:J}));break;case"socket_react":switch(ne.act){case"WEBRTC_REPLY_INIT_SIGNAL":R.RemoteLoadingCtrl.message=R.lang.text.voidDraw.WebRTC_Reply,R.nakama.socket_reactive[ne.act](ne.data_str),"EOL"==ne.data_str&&R.webrtc.CreateAnswer({client:R.IceWebRTCWsClient,channel:J}),R.RemoteLoadingCtrl.message=R.lang.text.voidDraw.WebRTC_Ice;break;case"WEBRTC_ICE_CANDIDATES":R.nakama.socket_reactive[ne.act](ne.data_str,{client:R.IceWebRTCWsClient,channel:J}),R.RemoteLoadingCtrl.dismiss(),R.p5voidDraw.SetDrawable(!0),R.IceWebRTCWsClient.send(JSON.stringify({type:"init_end",channel:J}));break;case"WEBRTC_INIT_REQ_SIGNAL":R.nakama.socket_reactive[ne.act]({client:R.IceWebRTCWsClient,channel:J});break;case"WEBRTC_RECEIVE_ANSWER":R.nakama.socket_reactive[ne.act](ne.data_str,{client:R.IceWebRTCWsClient,channel:J})}break;case"size":R.create_new_canvas({width:ne.width,height:ne.height}),R.p5voidDraw.setCropPos(ne.cropX,ne.cropY),R.p5voidDraw.SetDrawable(!1),R.p5voidDraw.redraw(),R.webrtc.initialize("data").then(()=>{R.CreateOnOpenAct(!0),R.CreateOnMessageLink(),R.webrtc.CreateOffer(),R.IceWebRTCWsClient.send(JSON.stringify({type:"init_req"}))});break;case"init_end":R.p5voidDraw.SetDrawable(!0)}});return function(k){return N.apply(this,arguments)}}(),this.IceWebRTCWsClient.onerror=N=>{if(console.log("\uadf8\ub9bc\ud310 \uae30\ub2a5 \uacf5\uc720 \uc5f0\uacb0 \uc624\ub958: ",N),0==this.InputCustomAddress.indexOf("wss://")&&("DesktopPWA"==mt.aH||"MobilePWA"==mt.aH)){let k=this.InputCustomAddress.split("://");this.global.open_link(`https://${k.pop()}:9001`),this.InputCustomAddress=void 0}this.IceWebRTCWsClient.close(),this.p5toast.show({text:`${this.lang.text.TodoDetail.Disconnected}: ${N}`})},this.IceWebRTCWsClient.onclose=()=>{B&&B.dismiss(),this.isDrawServerCreated=!1,this.webrtc.close_webrtc(!1),this.IceWebRTCWsClient.onopen=null,this.IceWebRTCWsClient.onclose=null,this.IceWebRTCWsClient.onmessage=null,this.IceWebRTCWsClient.onerror=null}}CreateOnOpenAct(m=!1,w=(0,O.A)(function*(){})){var R=this;this.webrtc.dataChannelOpenAct=(0,O.A)(function*(){if(R.p5voidDraw.SetDrawable(!0),R.ReadyToShareAct=!0,R.RemoteLoadingCtrl&&R.RemoteLoadingCtrl.dismiss(),R.p5voidDraw.ClearCurrentDraw(),!m&&(w&&(yield w()),R.navParams.data.path))try{let E=yield R.indexed.loadBlobFromUserPath(R.navParams.data.path,""),A=(yield R.global.GetBase64ThroughFileReader(E)).match(/(.{1,64})/g);for(let B=0,j=A.length;B<j;B++)yield R.webrtc.dataChannel.send(JSON.stringify({type:"background",act:"part",data:A[B]}));yield R.webrtc.dataChannel.send(JSON.stringify({type:"background",act:"EOF"}))}catch(E){console.log("\ubc30\uacbd \uadf8\ub9bc \uacf5\uc720\ud558\uae30 \uc624\ub958: ",E)}})}CreateOnMessageLink(){this.webrtc.dataChannelOnMsgAct=m=>{let w=JSON.parse(m);switch(w.type){case"drawline":this.p5voidDraw.DrawingStack=w.data,this.p5voidDraw.updateRemoteCurve(w.data),this.p5voidDraw.redraw();break;case"background":switch(w.act){case"part":this.RemoteBackgroundImage+=w.data;break;case"EOF":this.p5voidDraw.loadImage(this.RemoteBackgroundImage,R=>{this.p5voidDraw.BaseImage=R,this.p5voidDraw.ImageCanvas.image(this.p5voidDraw.BaseImage,0,0),this.p5voidDraw.ImageCanvas.redraw(),this.p5voidDraw.SetCanvasViewportInit(),this.RemoteBackgroundImage=""},R=>{console.error("\uadf8\ub9bc\ud310 \ubc30\uacbd \uc774\ubbf8\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",R),this.p5voidDraw.ImageCanvas.redraw(),this.p5voidDraw.SetCanvasViewportInit(),this.RemoteBackgroundImage=""})}break;case"draw":switch(w.act){case"start":this.p5voidDraw.RemoteDrawStart(w.data);break;case"moved":this.p5voidDraw.RemoteDrawing(w.data);break;case"cancel":this.p5voidDraw.CancelCurrentDraw();break;case"crop":this.p5voidDraw.setCropPos(w.cropPX,w.cropPY),this.p5voidDraw.setCropSize(w.cropSX,w.cropSY),this.isCropMode=!0,this.p5voidDraw.apply_crop(!1);break;case"end":this.p5voidDraw.RemoteDrawingEnd(w.data)}break;case"same":"history_act"===w.act&&this.p5voidDraw.history_act(w.data,!0)}},this.webrtc.dataChannelOnCloseAct=()=>{this.ReadyToShareAct=!1,this.isDrawServerCreated=!1,this.RemoteLoadingCtrl&&this.RemoteLoadingCtrl.dismiss(),this.p5voidDraw.SetDrawable(!0),this.p5toast.show({text:this.lang.text.TodoDetail.Disconnected}),this.nakama.VoidDrawInitCallBack=void 0}}change_line_weight(){this.p5voidDraw.set_line_weight()}open_crop_tool(){this.p5voidDraw.open_crop_tool()}dismiss_draw(){this.isCropMode?this.p5voidDraw.apply_crop():(this.mainLoading.present(),this.WithoutSave=!1,this.p5voidDraw.save_image())}ionSelectCancel(){this.p5voidDraw&&this.p5voidDraw.SetDrawable&&!this.isDrawServerCreated&&this.p5voidDraw.SetDrawable(!0)}RemoveShortCut(){this.p5voidDraw&&this.p5voidDraw.SetDrawable&&this.p5voidDraw.SetDrawable(!1),delete this.global.p5key.KeyShortCut.HistoryAct,delete this.global.p5key.KeyShortCut.AddAct,delete this.global.p5key.KeyShortCut.DeleteAct,delete this.global.p5key.KeyShortCut.SKeyAct,delete this.global.p5key.KeyShortCut.FKeyAct,delete this.global.p5key.KeyShortCut.Escape}ionViewWillLeave(){this.WillLeaveHere=!0,this.RemoveShortCut(),this.p5voidDraw&&this.p5voidDraw.remove(),this.IceWebRTCWsClient&&this.IceWebRTCWsClient.close(),this.CancelRemoteAct()}ionViewDidLeave(){this.WithoutSave&&this.mainLoading.remove()}}return(u=h).\u0275fac=function(m){return new(m||u)($.rXU(v.y),$.rXU(b.W3),$.rXU(b.hG),$.rXU(b.Xi),$.rXU(y.z3),$.rXU(g.y8),$.rXU(C.n),$.rXU(o.X),$.rXU(_.G),$.rXU(s.j))},u.\u0275cmp=$.VBU({type:u,selectors:[["app-void-draw"]],viewQuery:function(m,w){if(1&m&&$.GBs(a,5),2&m){let R;$.mGM(R=$.lsd())&&(w.RemoteDraw=R.first)}},decls:14,vars:4,consts:[["RemoteDraw",""],[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["oncontextmenu","return false;"],["hidden",""],["value","local",3,"ionChange","ionCancel","label"],["value","local"],[3,"value",4,"ngFor","ngForOf"],["id","voidDraw",1,"full_screen",2,"display","flex","overflow","hidden","background-color","black"],[3,"value"]],template:function(m,w){if(1&m){const R=$.RV6();$.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),$.EFF(3),$.k0s(),$.j41(4,"ion-buttons",2),$.bIt("click",function(){return $.eBV(R),$.Njj(w.modalCtrl.dismiss())}),$.nrm(5,"ion-back-button",3),$.k0s()()(),$.j41(6,"ion-content",4)(7,"div",5)(8,"ion-select",6,0),$.bIt("ionChange",function(M){return $.eBV(R),$.Njj(w.RemoteBridgeServerSelected(M))})("ionCancel",function(){return $.eBV(R),$.Njj(w.ionSelectCancel())}),$.j41(10,"ion-select-option",7),$.EFF(11),$.k0s(),$.DNE(12,d,2,2,"ion-select-option",8),$.k0s()(),$.nrm(13,"div",9),$.k0s()}2&m&&($.R7$(3),$.JRh(w.lang.text.ChatRoom.voidDraw),$.R7$(5),$.Y8G("label",w.lang.text.voidDraw.ConnectToAddress),$.R7$(3),$.JRh(w.lang.text.voidDraw.InternalConn),$.R7$(),$.Y8G("ngForOf",w.ServerList))},dependencies:[l.Sq,b.QW,b.W9,b.eU,b.Nm,b.Ip,b.BC,b.ai,b.Je,b.el]}),h})()},8065:(En,qt,me)=>{"use strict";me.d(qt,{j:()=>I});var O=me(3953);let I=(()=>{var pe;class mt{constructor(){this.colors={offline:"#888888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(pe=mt).\u0275fac=function(ie){return new(ie||pe)},pe.\u0275prov=O.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"}),mt})()},2506:(En,qt,me)=>{"use strict";me.d(qt,{f:()=>j});var O=me(467),I=me(9349),pe=me(3953),mt=me(3656),o=me(5374),ie=me(4234),$=me(755),v=me(482),b=me(9900),g=me(4237),y=me(177),C=me(4341);const _=["VideoIn"],s=["AudioIn"],l=["AudioOut"],a=["RegisterNewWebRTCServer"],d=()=>[.5,.6,.7,.8,.9,1];function c(N,k){if(1&N&&(pe.j41(0,"ion-item")(1,"ion-label"),pe.EFF(2),pe.k0s(),pe.nrm(3,"ion-radio",15),pe.k0s()),2&N){const J=k.$implicit,ne=k.index;pe.R7$(2),pe.JRh(J.label||J.deviceId),pe.R7$(),pe.Y8G("value",ne)}}function u(N,k){if(1&N&&(pe.j41(0,"div")(1,"ion-item-divider")(2,"ion-label"),pe.EFF(3),pe.k0s()(),pe.j41(4,"ion-radio-group",13,2),pe.DNE(6,c,4,2,"ion-item",14),pe.k0s()()),2&N){const J=pe.XpG();pe.R7$(3),pe.JRh(J.lang.text.WebRTCDevManager.VideoIn),pe.R7$(3),pe.Y8G("ngForOf",J.VideoInputs)}}function h(N,k){if(1&N&&(pe.j41(0,"ion-item")(1,"ion-label"),pe.EFF(2),pe.k0s(),pe.nrm(3,"ion-radio",15),pe.k0s()),2&N){const J=k.$implicit,ne=k.index;pe.R7$(2),pe.JRh(J.label||J.deviceId),pe.R7$(),pe.Y8G("value",ne)}}function p(N,k){if(1&N&&(pe.j41(0,"div")(1,"ion-item-divider")(2,"ion-label"),pe.EFF(3),pe.k0s()(),pe.j41(4,"ion-radio-group",16,3),pe.DNE(6,h,4,2,"ion-item",14),pe.k0s()()),2&N){const J=pe.XpG();pe.R7$(3),pe.JRh(J.lang.text.WebRTCDevManager.AudioIn),pe.R7$(3),pe.Y8G("ngForOf",J.AudioInputs)}}function m(N,k){if(1&N){const J=pe.RV6();pe.j41(0,"ion-item",10),pe.bIt("click",function(){pe.eBV(J);const z=pe.XpG();return pe.Njj(z.saveSetup())}),pe.j41(1,"ion-label",11),pe.EFF(2),pe.k0s()()}if(2&N){const J=pe.XpG();pe.R7$(2),pe.JRh(J.lang.text.WebRTCDevManager.saveSetup)}}function w(N,k){if(1&N){const J=pe.RV6();pe.j41(0,"img",21),pe.bIt("click",function(){pe.eBV(J);const z=pe.XpG().index,ee=pe.XpG();return pe.Njj(ee.copy_info(z))}),pe.k0s()}if(2&N){const J=pe.XpG().index,ne=pe.XpG();pe.Y8G("src",ne.QRCodes[J],pe.B4B)}}function R(N,k){if(1&N){const J=pe.RV6();pe.j41(0,"ion-accordion",15)(1,"ion-item",17)(2,"ion-label"),pe.EFF(3),pe.k0s()(),pe.j41(4,"div",18),pe.DNE(5,w,1,1,"img",19),pe.j41(6,"ion-item",10),pe.bIt("click",function(){const z=pe.eBV(J).index,ee=pe.XpG();return pe.Njj(ee.RemoveServer(z))}),pe.j41(7,"ion-label",20),pe.EFF(8),pe.k0s()()()()}if(2&N){const J=k.$implicit,ne=k.index,z=pe.XpG();pe.Y8G("value",ne),pe.R7$(3),pe.JRh(J.urls[0]),pe.R7$(2),pe.Y8G("ngIf",z.QRCodes[ne]),pe.R7$(3),pe.JRh(z.lang.text.WebRTCDevManager.Remove)}}function E(N,k){if(1&N){const J=pe.RV6();pe.j41(0,"ion-icon",27),pe.bIt("click",function(){pe.eBV(J);const z=pe.XpG(3);return pe.Njj(z.AddServerUrl())}),pe.k0s()}}function M(N,k){if(1&N){const J=pe.RV6();pe.j41(0,"ion-icon",28),pe.bIt("click",function(){pe.eBV(J);const z=pe.XpG().$implicit,ee=pe.XpG(2);return pe.Njj(ee.SubtractServerUrl(z))}),pe.k0s()}}function A(N,k){if(1&N){const J=pe.RV6();pe.j41(0,"ion-item")(1,"ion-input",24),pe.mxI("ngModelChange",function(z){const ee=pe.eBV(J).$implicit,H=pe.XpG(2);return pe.DH7(H.userInput.urls[ee],z)||(H.userInput.urls[ee]=z),pe.Njj(z)}),pe.k0s(),pe.DNE(2,E,1,0,"ion-icon",25)(3,M,1,0,"ion-icon",26),pe.k0s()}if(2&N){const J=k.$implicit,ne=pe.XpG(2);pe.R7$(),pe.Y8G("label",0==J?ne.lang.text.WebRTCDevManager.Urls:""),pe.R50("ngModel",ne.userInput.urls[J]),pe.R7$(),pe.Y8G("ngIf",0==J),pe.R7$(),pe.Y8G("ngIf",0!=J)}}function B(N,k){if(1&N){const J=pe.RV6();pe.j41(0,"ion-content")(1,"ion-item-divider")(2,"ion-label"),pe.EFF(3),pe.k0s()(),pe.DNE(4,A,4,4,"ion-item",14),pe.j41(5,"ion-item")(6,"ion-input",22),pe.mxI("ngModelChange",function(z){pe.eBV(J);const ee=pe.XpG();return pe.DH7(ee.userInput.username,z)||(ee.userInput.username=z),pe.Njj(z)}),pe.k0s()(),pe.j41(7,"ion-item")(8,"ion-input",23),pe.mxI("ngModelChange",function(z){pe.eBV(J);const ee=pe.XpG();return pe.DH7(ee.userInput.credential,z)||(ee.userInput.credential=z),pe.Njj(z)}),pe.k0s()(),pe.j41(9,"ion-item",10),pe.bIt("click",function(){pe.eBV(J);const z=pe.XpG();return pe.Njj(z.SaveServer())}),pe.j41(10,"ion-label",11),pe.EFF(11),pe.k0s()()()}if(2&N){const J=pe.XpG();pe.R7$(3),pe.JRh(J.lang.text.WebRTCDevManager.ServerInfo),pe.R7$(),pe.Y8G("ngForOf",J.UserInputUrlsLength),pe.R7$(2),pe.Y8G("label",J.lang.text.WebRTCDevManager.Username),pe.R50("ngModel",J.userInput.username),pe.R7$(2),pe.Y8G("label",J.lang.text.WebRTCDevManager.Credential),pe.R50("ngModel",J.userInput.credential),pe.R7$(3),pe.JRh(J.lang.text.WebRTCDevManager.Save)}}let j=(()=>{var N;class k{constructor(ne,z,ee,H,G,K,le){this.navParams=ne,this.modalCtrl=z,this.lang=ee,this.indexed=H,this.global=G,this.p5toast=K,this.nakama=le,this.InOut=[],this.VideoInputs=[],this.AudioInputs=[],this.AudioOutputs=[],this.ServerInfos=[],this.QRCodes=[],this.userInput={urls:[""],username:"",credential:""},this.UserInputUrlsLength=[0]}ngOnInit(){this.InOut=this.navParams.get("list")||[];for(let ne=0,z=this.InOut.length;ne<z;ne++)this.InOut[ne].kind.indexOf("videoinput")>=0&&this.VideoInputs.push(this.InOut[ne]),this.InOut[ne].kind.indexOf("audioinput")>=0&&this.AudioInputs.push(this.InOut[ne]),this.InOut[ne].kind.indexOf("audiooutput")>=0&&this.AudioOutputs.push(this.InOut[ne])}ionViewWillEnter(){var ne=this;return(0,O.A)(function*(){try{let z=yield ne.indexed.loadTextFromUserPath("servers/webrtc_server.json");ne.ServerInfos=JSON.parse(z);for(let ee=0,H=ne.ServerInfos.length;ee<H;ee++){let K=ne.global.readasQRCodeFromString(`${I.d2}godotchat_pwa/?rtcserver=[${ne.ServerInfos[ee].urls}],${ne.ServerInfos[ee].username},${ne.ServerInfos[ee].credential}`);ne.QRCodes[ee]=K}}catch{}try{let z=localStorage.getItem("VideoInputDev");ne.VideoInput.value=Number(z)||0}catch{}try{let z=localStorage.getItem("AudioInputDev");ne.AudioInput.value=Number(z)||0}catch{}})()}ionViewDidEnter(){this.global.p5key.KeyShortCut.AddAct=()=>{this.OpenNewWebRTCServerForm()}}saveSetup(){let ne={};this.VideoInput&&void 0!==this.VideoInput.value&&(ne.videoinput=this.VideoInputs[this.VideoInput.value],localStorage.setItem("VideoInputDev",this.VideoInput.value)),this.AudioInput&&void 0!==this.AudioInput.value&&(ne.audioinput=this.AudioInputs[this.AudioInput.value],localStorage.setItem("AudioInputDev",this.AudioInput.value)),this.AudioOutput&&void 0!==this.AudioOutput.value&&(ne.audiooutput=this.AudioOutputs[this.AudioOutput.value]),this.modalCtrl.dismiss(ne)}AddServerUrl(){this.userInput.urls.push(""),this.UserInputUrlsLength.push(this.UserInputUrlsLength.length)}SubtractServerUrl(ne){this.userInput.urls.splice(ne,1),this.UserInputUrlsLength.pop()}OpenNewWebRTCServerForm(){this.RegisterServer.present()}SaveServer(){var ne=this;return(0,O.A)(function*(){ne.userInput.urls.filter(H=>H);for(let H=ne.userInput.urls.length-1;H>=0;H--)ne.userInput.urls[H].trim()||ne.userInput.urls.splice(H,1);if(!ne.userInput.urls.length)return void ne.p5toast.show({text:ne.lang.text.WebRTCDevManager.IgnoreSave});yield ne.nakama.SaveWebRTCServer(ne.userInput);let ee=ne.global.readasQRCodeFromString(`${I.d2}godotchat_pwa/?rtcserver=[${ne.userInput.urls}],${ne.userInput.username},${ne.userInput.credential}`);ne.QRCodes.push(ee),ne.ServerInfos.push(ne.userInput),ne.userInput={urls:[""],username:"",credential:""},ne.UserInputUrlsLength.length=0,ne.UserInputUrlsLength.push(0),ne.RegisterServer.dismiss()})()}copy_info(ne){this.global.WriteValueToClipboard("text/plain",`${I.d2}godotchat_pwa/?rtcserver=[${this.ServerInfos[ne].urls}],${this.ServerInfos[ne].username},${this.ServerInfos[ne].credential}`)}RemoveServer(ne){var z=this;return(0,O.A)(function*(){z.ServerInfos.splice(ne,1),yield z.indexed.saveTextFileToUserPath(JSON.stringify(z.ServerInfos),"servers/webrtc_server.json")})()}ionViewWillLeave(){delete this.global.p5key.KeyShortCut.AddAct}}return(N=k).\u0275fac=function(ne){return new(ne||N)(pe.rXU(mt.y8),pe.rXU(o.W3),pe.rXU(ie.y),pe.rXU($.n),pe.rXU(v.z3),pe.rXU(b.G),pe.rXU(g.X))},N.\u0275cmp=pe.VBU({type:N,selectors:[["app-webrtc-manage-io-dev"]],viewQuery:function(ne,z){if(1&ne&&(pe.GBs(_,5),pe.GBs(s,5),pe.GBs(l,5),pe.GBs(a,5)),2&ne){let ee;pe.mGM(ee=pe.lsd())&&(z.VideoInput=ee.first),pe.mGM(ee=pe.lsd())&&(z.AudioInput=ee.first),pe.mGM(ee=pe.lsd())&&(z.AudioOutput=ee.first),pe.mGM(ee=pe.lsd())&&(z.RegisterServer=ee.first)}},decls:22,vars:10,consts:[["WebRTCServers",""],["RegisterNewWebRTCServer",""],["VideoIn",""],["AudioIn",""],[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],[4,"ngIf"],["button","",3,"click",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"ion-text-center"],[3,"initialBreakpoint","breakpoints"],["name","videoinput"],[4,"ngFor","ngForOf"],[3,"value"],["name","audioinput"],["button","","slot","header"],["slot","content"],["style","width: 100%; height: auto;","alt","Loading",3,"src","click",4,"ngIf"],["color","danger",1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto",3,"click","src"],["placeholder","username",1,"ion-text-end",3,"ngModelChange","label","ngModel"],["placeholder","credential",1,"ion-text-end",3,"ngModelChange","label","ngModel"],["placeholder","stun:stun.l.google.com:19302",1,"ion-text-end",3,"ngModelChange","label","ngModel"],["slot","end","color","success","name","add-circle-outline",3,"click",4,"ngIf"],["slot","end","color","danger","name","remove-circle-outline",3,"click",4,"ngIf"],["slot","end","color","success","name","add-circle-outline",3,"click"],["slot","end","color","danger","name","remove-circle-outline",3,"click"]],template:function(ne,z){if(1&ne){const ee=pe.RV6();pe.j41(0,"ion-header",4)(1,"ion-toolbar")(2,"ion-title"),pe.EFF(3),pe.k0s(),pe.j41(4,"ion-buttons",5),pe.bIt("click",function(){return pe.eBV(ee),pe.Njj(z.modalCtrl.dismiss())}),pe.nrm(5,"ion-back-button",6),pe.k0s()()(),pe.j41(6,"ion-content"),pe.DNE(7,u,7,2,"div",7)(8,p,7,2,"div",7)(9,m,3,1,"ion-item",8),pe.j41(10,"ion-item-divider")(11,"ion-label"),pe.EFF(12),pe.k0s()(),pe.j41(13,"ion-accordion-group",null,0),pe.DNE(15,R,9,4,"ion-accordion",9),pe.k0s(),pe.j41(16,"ion-item",10),pe.bIt("click",function(){return pe.eBV(ee),pe.Njj(z.OpenNewWebRTCServerForm())}),pe.j41(17,"ion-label",11),pe.EFF(18),pe.k0s()(),pe.j41(19,"ion-modal",12,1),pe.DNE(21,B,12,7,"ng-template"),pe.k0s()()}2&ne&&(pe.R7$(3),pe.JRh(z.lang.text.WebRTCDevManager.Title),pe.R7$(4),pe.Y8G("ngIf",z.VideoInputs.length),pe.R7$(),pe.Y8G("ngIf",z.AudioInputs.length),pe.R7$(),pe.Y8G("ngIf",z.InOut.length),pe.R7$(3),pe.JRh(z.lang.text.WebRTCDevManager.ManageServer),pe.R7$(3),pe.Y8G("ngForOf",z.ServerInfos),pe.R7$(3),pe.JRh(z.lang.text.WebRTCDevManager.AddServer),pe.R7$(),pe.Y8G("initialBreakpoint",.5)("breakpoints",pe.lJ4(9,d)))},dependencies:[y.Sq,y.bT,C.BC,C.vS,o.xk,o.YH,o.QW,o.W9,o.eU,o.iq,o.$w,o.uz,o.Dg,o.he,o.KO,o.f0,o.BC,o.ai,o.Sb,o.Je,o.Gw,o.el]}),k})()},4020:(En,qt,me)=>{"use strict";me.d(qt,{j:()=>s});var O=me(467),I=me(8326),mt=me(2506),o=me(4237),ie=me(5402),$=me(482),v=me(3953),b=me(5374),g=me(9900),y=me(755),C=me(4234);!function _(){("http:"!=window.location.protocol||0==window.location.host.indexOf("localhost"))&&me.e(925).then(me.t.bind(me,925,23)).then(l=>{})}();let s=(()=>{var l;class a{constructor(c,u,h,p,m){this.modalCtrl=c,this.p5toast=u,this.indexed=h,this.lang=p,this.nakama=m,this.OnUse=!1,this.isCallable=!1,this.isConnected=!1,this.JoinInited=!1,this.ReceivedOfferPart="",this.ReceivedAnswerPart="",this.IceCandidates=[],this.nakama.WebRTCService=this}initialize(c,u,h,p){var m=this;return(0,O.A)(function*(){if("data"!=c&&"http:"==window.location.protocol&&0!=window.location.host.indexOf("localhost")){let E=m.nakama.get_all_online_server(),M="https://is2you2.github.io/godotchat_pwa/";M+=`?tmp_user=${m.nakama.users.self.email},${m.nakama.users.self.password},${m.nakama.users.self.display_name}`;for(let A=0,B=E.length;A<B;A++)M+=`&server=${E[A].info.name||""},${E[A].info.address||""},${E[A].info.useSSL||""},${E[A].info.port||""},${E[A].info.key||""}`;M+=`&open_prv_channel=${h.user_id},${h.isOfficial||"official"},${h.target||"DevTestServer"}`;try{let A=yield m.indexed.loadTextFromUserPath("servers/webrtc_server.json"),B=JSON.parse(A);for(let j=0,N=B.length;j<N;j++)M+=`&rtcserver=[${B[j].urls}],${B[j].username},${B[j].credential}`}catch{}throw window.open(M,"_blank"),m.lang.text.WebRTCDevManager.SecurityError}if("data"!=c&&!(yield ie.R.requestAudioRecordingPermission()).value)throw m.lang.text.WebRTCDevManager.SecurityError;if(m.OnUse)throw m.p5toast.show({text:m.lang.text.WebRTCDevManager.AlreadyCalling}),m.lang.text.WebRTCDevManager.AlreadyCalling;if(yield m.close_webrtc(p),m.TypeIn=c,m.nakama.socket_reactive.WEBRTC_CHECK_ONLINE=E=>{m.user_id==E.user_id&&(m.nakama.load_other_user(m.user_id,m.isOfficial,m.target).online||m.close_webrtc())},m.nakama.socket_reactive.WEBRTC_INIT_REQ_SIGNAL=function(){var E=(0,O.A)(function*(M){let B=JSON.stringify(m.LocalOffer).match(/(.{1,64})/g);if(M){for(let j=0,N=B.length;j<N;j++)M.client.send(JSON.stringify({type:"socket_react",channel:M.channel,act:"WEBRTC_REPLY_INIT_SIGNAL",data_str:B[j]})),yield new Promise(k=>setTimeout(k,40));M.client.send(JSON.stringify({type:"socket_react",channel:M.channel,act:"WEBRTC_REPLY_INIT_SIGNAL",data_str:"EOL"}))}else{for(let j=0,N=B.length;j<N;j++)yield m.nakama.servers[m.isOfficial][m.target].socket.sendMatchState(m.CurrentMatch.match_id,o.I.WEBRTC_REPLY_INIT_SIGNAL,encodeURIComponent(B[j]));yield m.nakama.servers[m.isOfficial][m.target].socket.sendMatchState(m.CurrentMatch.match_id,o.I.WEBRTC_REPLY_INIT_SIGNAL,encodeURIComponent("EOL"))}});return function(M){return E.apply(this,arguments)}}(),m.nakama.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL=E=>{"EOL"==E?(m.createRemoteOfferFromAnswer(JSON.parse(m.ReceivedOfferPart)),m.ReceivedOfferPart="",m.InitReplyCallback&&m.InitReplyCallback()):m.ReceivedOfferPart+=E},m.nakama.socket_reactive.WEBRTC_RECEIVE_ANSWER=(E,M)=>{"EOL"==E?(m.ReceiveRemoteAnswer(JSON.parse(m.ReceivedAnswerPart),M),m.ReceivedAnswerPart=""):m.ReceivedAnswerPart+=E},m.nakama.socket_reactive.WEBRTC_ICE_CANDIDATES=(E,M)=>{m.ReceiveIceCandidate(JSON.parse(E),M)},m.nakama.socket_reactive.WEBRTC_NEGOCIATENEEDED=E=>{"EOL"==E?(m.createRemoteOfferFromAnswer(JSON.parse(m.ReceivedOfferPart)),m.ReceivedOfferPart="",m.CreateAnswer()):m.ReceivedOfferPart+=E},m.nakama.socket_reactive.WEBRTC_RECEIVED_CALL_SELF=()=>{m.close_webrtc(!1)},h&&(m.isOfficial=h.isOfficial,m.target=h.target,m.user_id=h.user_id,m.channel_id=h.channel_id),"data"!=c){m.createP5_panel();try{var w,R;m.localMedia=document.createElement(c),m.localMedia.id="webrtc_video",m.localMedia.style.width="100%",m.localMedia.style.height="fit-content",m.localMedia.autoplay=!0,"video"==c&&(m.localMedia.playsInline=!0),m.localMedia.muted=!0,document.body.appendChild(m.localMedia),m.remoteMedia=document.createElement(c),m.remoteMedia.id="webrtc_video_remote",m.remoteMedia.style.width="100%",m.remoteMedia.style.height="fit-content",m.remoteMedia.autoplay=!0,"video"==c&&(m.remoteMedia.playsInline=!0),document.body.appendChild(m.remoteMedia);let M,A,E=yield m.getDeviceList(),B=Number(null!==(w=localStorage.getItem("VideoInputDev"))&&void 0!==w?w:NaN),j=Number(null!==(R=localStorage.getItem("AudioInputDev"))&&void 0!==R?R:NaN);for(let N=0,k=E.length,J=0,ne=0;N<k&&(!M||!A);N++)!M&&"audioinput"==E[N].kind&&(Number.isNaN(j)?(M=E[N].deviceId,localStorage.setItem("AudioInputDev",`${ne}`)):ne==j&&(M=E[N].deviceId),ne++),!A&&"videoinput"==E[N].kind&&(Number.isNaN(B)?(A=E[N].deviceId,localStorage.setItem("AudioInputDev",`${J}`)):J==B&&(A=E[N].deviceId),J++);u||(u={},"video"==c?(u.video=!0,A&&(u.video={deviceId:A})):u.video=!1,u.audio=!0,M&&(u.audio={deviceId:M})),m.localStream=yield navigator.mediaDevices.getUserMedia(u),m.localMedia.srcObject=m.localStream,m.isCallable=!0}catch(E){console.log("navigator.getUserMedia error: ",E),yield m.close_webrtc(),m.p5toast.show({text:`${m.lang.text.WebRTCDevManager.InitErr}: ${E}`})}}else m.isCallable=!0;yield m.createCall(),m.p5canvas&&(m.p5canvas.call_button.elt.disabled=!1)})()}createP5_panel(){var c=this;this.OnUse=!0,this.p5canvas&&(clearTimeout(this.p5canvas.waiting_act),this.p5canvas.remove()),this.p5canvas=new I(u=>{let h,p,m,w,R,E,M,A,B,j,N=1;u.setup=()=>{let z,ee=()=>{this.JoinInited?(z.stop(.1),clearTimeout(u.waiting_act)):(z&&z.stop(.1),z=new I.Oscillator(380,"sine"),z.start(),z.amp(1,.15),z.amp(0,.75),u.waiting_act=setTimeout(()=>{ee()},1200))};u.waiting_act=setTimeout(()=>{ee()},0),u.hangup=(H=!1)=>{!this.isConnected&&!H||(z.stop(.1),clearTimeout(u.waiting_act),z=new I.Oscillator(380,"sine"),z.start(),z.freq(250,.35),z.amp(1,.15),z.amp(0,.25),z.amp(1,.35),z.amp(0,.45))},u.noCanvas(),h=u.createDiv(),h.id("outterDiv"),h.style("position: absolute; left: 50%; top: 0px; z-index: 1"),h.style("transform: translateX(-50%)"),h.style("width: fit-content; height: fit-content"),h.style("padding: 8px 16px;"),h.style("display: flex; justify-content: center;"),w=u.createDiv(),w.parent(h),w.style("display: flex; justify-content: center;"),w.style("width: fit-content; height: fit-content"),w.style("border-radius: 32px"),w.style("background: #"+($.ud?"30564e88":"b9543788")),w.style("padding: 6px 12px"),p=u.createDiv(),p.parent(w),p.id("webrtc_content"),p.style("display: flex; justify-content: center;"),p.style("flex-direction","column"),p.style("width: fit-content; height: fit-content"),p.style("word-break: break-all"),p.style("background: #"+($.ud?"30564e88":"b9543788")),p.style("border-radius: 32px"),p.style("padding: 6px 12px"),p.style("color: "+($.ud?"white":"black")),ne(),this.isOfficial&&this.target&&(this.user_id&&(m=u.createDiv(this.nakama.users[this.isOfficial][this.target][this.user_id].display_name)),m.parent(p),m.style("text-align","center"),m.style("align-self","center"),m.style("width","100%"),m.style("height","fit-content"),m.style("pointer-events","none")),R=u.createDiv(),R.parent(p),R.id("webrtc_content"),R.style("display: flex; justify-content: center;"),R.style("align-self","center"),R.style("width: fit-content; height: fit-content"),E=u.createButton('<ion-icon style="width: 32px; height: 32px;" name="call-outline"></ion-icon>'),E.parent(R),E.style("padding","0px"),E.style("margin","4px"),E.style("border-radius","16px"),E.style("width","40px"),E.style("height","40px"),E.mouseClicked(()=>{this.CreateAnswer()}),E.elt.disabled=!0,u.call_button=E,M=u.createButton('<ion-icon style="width: 32px; height: 32px;" name="mic-outline"></ion-icon>'),M.parent(R),M.style("padding","0px"),M.style("margin","4px"),M.style("border-radius","16px"),M.style("width","40px"),M.style("height","40px"),M.mouseClicked(()=>{const H=this.localStream.getAudioTracks();for(let G=0,K=H.length;G<K;G++)H[G].enabled=!1;A.show(),M.hide()}),A=u.createButton('<ion-icon style="width: 32px; height: 32px;" name="mic-off-outline"></ion-icon>'),A.parent(R),A.style("background-color","grey"),A.style("padding","0px"),A.style("margin","4px"),A.style("border-radius","16px"),A.style("width","40px"),A.style("height","40px"),A.mouseClicked(()=>{const H=this.localStream.getAudioTracks();for(let G=0,K=H.length;G<K;G++)H[G].enabled=!0;M.show(),A.hide()}),A.hide(),B=u.createButton('<ion-icon style="width: 32px; height: 32px;" name="settings-outline"></ion-icon>'),B.parent(R),B.style("padding","0px"),B.style("margin","4px"),B.style("border-radius","16px"),B.style("width","40px"),B.style("height","40px"),B.mouseClicked((0,O.A)(function*(){B.elt.disabled=!0;let H=yield c.getDeviceList();c.modalCtrl.create({component:mt.f,componentProps:{list:H}}).then(G=>{G.onDidDismiss().then(function(){var K=(0,O.A)(function*(le){B.elt.disabled=!1;try{let Oe={};le.data.videoinput&&(Oe.video={deviceId:le.data.videoinput.deviceId}),le.data.audioinput&&(Oe.audio={deviceId:le.data.audioinput.deviceId}),c.PeerConnection.removeStream(c.localStream),c.localStream=yield navigator.mediaDevices.getUserMedia(Oe),c.localMedia.srcObject=c.localStream,c.localStream.getTracks().forEach(Y=>c.PeerConnection.addTrack(Y,c.localStream))}catch{}});return function(le){return K.apply(this,arguments)}}()),G.present()})})),j=u.createButton('<ion-icon style="width: 32px; height: 32px;" name="close-circle-outline"></ion-icon>'),j.parent(R),j.style("background-color","red"),j.style("padding","0px"),j.style("margin","4px"),j.style("border-radius","16px"),j.style("width","40px"),j.style("height","40px"),j.mouseClicked((0,O.A)(function*(){yield c.close_webrtc()}))};let J=!1;u.draw=()=>{N>0&&(N-=.03),ne(),this.OnUse||this.p5canvas&&!J&&(this.p5canvas.hangup(),h.hide(),setTimeout(()=>{this.OnUse||this.p5canvas.remove()},1e3),J=!0)};let ne=()=>{let z=u.lerpColor(u.color("#"+($.ud?"30564e88":"b9543788")),u.color("#ffd94ebb"),N).levels,ee=4*N;w.style(`padding: ${ee}px ${ee}px`),p.style(`padding: ${u.lerp(6,2,N)}px ${u.lerp(12,8,N)}px`),w.style(`background: rgba(${z[0]}, ${z[1]}, ${z[2]}, ${z[3]/255})`)}})}getDeviceList(){return(0,O.A)(function*(){return yield navigator.mediaDevices.enumerateDevices()})()}createCall(){var c=this;return(0,O.A)(function*(){let u;c.isCallable=!1,c.isConnected=!0,c.startTime=window.performance.now();try{let h=yield c.indexed.loadTextFromUserPath("servers/webrtc_server.json");u={},u.iceServers=JSON.parse(h)}catch{}"data"!=c.TypeIn&&(!u||!u.iceServers||!u.iceServers.length)&&(c.p5toast.show({text:c.lang.text.WebRTCDevManager.NoRegServer}),u=void 0),c.PeerConnection=new RTCPeerConnection(u),c.PeerConnection.onicecandidate=h=>c.handleConnection(h),c.PeerConnection.onconnectionstatechange=function(){var h=(0,O.A)(function*(p){switch(p.target.connectionState){case"failed":case"disconnected":yield c.close_webrtc();break;case"connected":c.p5canvas&&clearTimeout(c.p5canvas.waiting_act);break;default:console.log("\uc5f0\uacb0 \uc0c1\ud0dc \ubcc0\uacbd\ub428: ",p.target.connectionState)}});return function(p){return h.apply(this,arguments)}}(),"data"!=c.TypeIn?(c.localStream.getTracks().forEach(h=>c.PeerConnection.addTrack(h,c.localStream)),c.PeerConnection.onaddstream=h=>{c.remoteMedia.srcObject=h.stream}):c.createDataChannel(),c.PeerConnection.ondatachannel=h=>{c.dataChannel=h.channel,c.createDataChannelListener()},c.PeerConnection.onnegotiationneeded=function(){var h=(0,O.A)(function*(p){if(c.JoinInited){yield c.PeerConnection.createOffer({offerToReceiveVideo:1}).then(R=>c.createdOffer(R)).catch(R=>c.setSessionDescriptionError(R));let w=JSON.stringify(c.LocalOffer).match(/(.{1,64})/g);if(c.isOfficial&&c.target){for(let R=0,E=w.length;R<E;R++)yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,o.I.WEBRTC_NEGOCIATENEEDED,encodeURIComponent(w[R]));yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,o.I.WEBRTC_NEGOCIATENEEDED,encodeURIComponent("EOL"))}else console.log("\uc11c\ubc84\uc815\ubcf4 \uc5c6\uc74c: \ub204\uad6c \ud1b5\ud574\uc11c \ubcf4\ub0c4?")}});return function(p){return h.apply(this,arguments)}}()})()}createDataChannel(c){this.dataChannel=this.PeerConnection.createDataChannel(c),this.createDataChannelListener()}createDataChannelListener(){this.dataChannel.onopen=c=>{this.dataChannelOpenAct&&this.dataChannelOpenAct()},this.dataChannel.onclose=c=>{this.dataChannelOnCloseAct&&this.dataChannelOnCloseAct(),this.dataChannelOpenAct=void 0,this.dataChannelOnMsgAct=void 0,this.dataChannelOnCloseAct=void 0},this.dataChannel.onmessage=c=>{this.dataChannelOnMsgAct&&this.dataChannelOnMsgAct(c.data)}}send(c){try{this.dataChannel.send(c)}catch(u){console.log("WebRTC \uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \uc2e4\ud328: ",u)}}CreateOffer(){this.p5canvas&&this.p5canvas.call_button.hide(),this.PeerConnection.createOffer({offerToReceiveVideo:1}).then(c=>this.createdOffer(c)).catch(c=>this.setSessionDescriptionError(c))}handleConnection(c){let u=c.candidate;u&&this.IceCandidates.push(new RTCIceCandidate(u))}ReceiveIceCandidate(c,u){var h=this;this.ReplyIceCandidate&&clearTimeout(this.ReplyIceCandidate),this.ReplyIceCandidate=setTimeout((0,O.A)(function*(){if(u)for(let p=0,m=h.IceCandidates.length;p<m;p++)u.client.send(JSON.stringify({type:"socket_react",act:"WEBRTC_ICE_CANDIDATES",channel:u.channel,data_str:JSON.stringify(h.IceCandidates[p])})),yield new Promise(w=>setTimeout(w,40));else for(let p=0,m=h.IceCandidates.length;p<m;p++)yield h.nakama.servers[h.isOfficial][h.target].socket.sendMatchState(h.CurrentMatch.match_id,o.I.WEBRTC_ICE_CANDIDATES,encodeURIComponent(JSON.stringify(h.IceCandidates[p])));h.IceCandidates.length=0}),800),this.PeerConnection.addIceCandidate(c).then(()=>{console.log("Success to add new ice candidate")}).catch(p=>{console.error("failed to add ice candidate: ",p)})}createdOffer(c){this.LocalOffer=c,this.PeerConnection.setLocalDescription(c).then(()=>{this.setLocalDescriptionSuccess(this.PeerConnection)}).catch(u=>this.setSessionDescriptionError(u))}createRemoteOfferFromAnswer(c){this.PeerConnection.setRemoteDescription(c).then(()=>{this.setRemoteDescriptionSuccess(this.PeerConnection)}).catch(u=>this.setSessionDescriptionError(u))}CreateAnswer(c){this.PeerConnection.createAnswer().then(u=>this.createdAnswer(u,c)).catch(u=>this.setSessionDescriptionError(u))}setLocalDescriptionSuccess(c){this.setDescriptionSuccess(c,"setLocalDescription")}setRemoteDescriptionSuccess(c){this.setDescriptionSuccess(c,"setRemoteDescription")}createdAnswer(c,u){var h=this;return(0,O.A)(function*(){h.p5canvas&&h.p5canvas.call_button.hide(),h.LocalAnswer=c,h.PeerConnection.setLocalDescription(c).then(()=>{h.setLocalDescriptionSuccess(h.PeerConnection)}).catch(w=>h.setSessionDescriptionError(w));let m=JSON.stringify(c).match(/(.{1,64})/g);if(u){for(let w=0,R=m.length;w<R;w++)u.client.send(JSON.stringify({type:"socket_react",act:"WEBRTC_RECEIVE_ANSWER",channel:u.channel,data_str:m[w]})),yield new Promise(E=>setTimeout(E,40));u.client.send(JSON.stringify({type:"socket_react",act:"WEBRTC_RECEIVE_ANSWER",channel:u.channel,data_str:"EOL"}))}else{for(let w=0,R=m.length;w<R;w++)yield h.nakama.servers[h.isOfficial][h.target].socket.sendMatchState(h.CurrentMatch.match_id,o.I.WEBRTC_RECEIVE_ANSWER,encodeURIComponent(m[w]));yield h.nakama.servers[h.isOfficial][h.target].socket.sendMatchState(h.CurrentMatch.match_id,o.I.WEBRTC_RECEIVE_ANSWER,encodeURIComponent("EOL")),yield h.nakama.servers[h.isOfficial][h.target].socket.sendMatchState(h.nakama.self_match[h.isOfficial][h.target].match_id,o.I.WEBRTC_RECEIVED_CALL_SELF,encodeURIComponent(""))}h.JoinInited=!0})()}ReceiveRemoteAnswer(c,u){var h=this;return(0,O.A)(function*(){if(h.PeerConnection.setRemoteDescription(c).then(()=>{h.setRemoteDescriptionSuccess(h.PeerConnection)}).catch(p=>h.setSessionDescriptionError(p)),u)for(let p=0,m=h.IceCandidates.length;p<m;p++)u.client.send(JSON.stringify({type:"socket_react",channel:u.channel,act:"WEBRTC_ICE_CANDIDATES",data_str:JSON.stringify(h.IceCandidates[p])})),yield new Promise(w=>setTimeout(w,40));else for(let p=0,m=h.IceCandidates.length;p<m;p++)yield h.nakama.servers[h.isOfficial][h.target].socket.sendMatchState(h.CurrentMatch.match_id,o.I.WEBRTC_ICE_CANDIDATES,encodeURIComponent(JSON.stringify(h.IceCandidates[p])));h.IceCandidates.length=0})()}setSessionDescriptionError(c){console.error(`Failed to create session description: ${c}.`)}setDescriptionSuccess(c,u){console.log(`Local ${u} complete.`)}HangUpCall(c){var u=this;return(0,O.A)(function*(){u.p5canvas&&u.p5canvas.hangup(),u.isCallable=!0,u.isConnected=!1,u.PeerConnection&&(u.PeerConnection.close(),u.PeerConnection.onicecandidate=null,u.PeerConnection.onconnectionstatechange=null,u.PeerConnection.onaddstream=null,u.PeerConnection.ondatachannel=null,u.PeerConnection.onnegotiationneeded=null),u.PeerConnection=void 0;try{c&&u.CurrentMatch.match_id!=u.nakama.self_match[u.isOfficial][u.target].match_id&&(yield u.nakama.servers[u.isOfficial][u.target].socket.sendMatchState(u.CurrentMatch.match_id,o.I.WEBRTC_HANGUP,""),yield u.nakama.servers[u.isOfficial][u.target].socket.leaveMatch(u.CurrentMatch.match_id))}catch{}})()}close_webrtc(c=!0,u=!1){var h=this;return(0,O.A)(function*(){if(!u||"data"==h.TypeIn){if(h.InitReplyCallback=void 0,yield h.HangUpCall(c),h.localMedia&&h.localMedia.remove(),h.remoteMedia&&h.remoteMedia.remove(),h.OnUse=!1,h.isCallable=!1,h.isConnected=!1,h.localStream&&(h.localStream.getVideoTracks().forEach(p=>p.stop()),h.localStream.getAudioTracks().forEach(p=>p.stop())),h.HangUpCallBack){try{yield h.HangUpCallBack()}catch(p){console.log("\uc804\ud654 \ub04a\uae30 \ucd94\uac00\ub3d9\uc791 \uc624\ub958: ",p)}h.HangUpCallBack=void 0}h.localMedia=void 0,h.localStream=void 0,h.remoteMedia=void 0,h.isOfficial=void 0,h.target=void 0,h.user_id=void 0,h.channel_id=void 0,h.LocalOffer=void 0,h.LocalAnswer=void 0,h.dataChannel&&(h.dataChannel.onopen=null,h.dataChannel.onclose=null,h.dataChannel.onmessage=null),h.dataChannel=void 0,h.ReceivedOfferPart="",h.ReceivedAnswerPart="",h.JoinInited=!1,delete h.nakama.socket_reactive.WEBRTC_INIT_REQ_SIGNAL,delete h.nakama.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL,delete h.nakama.socket_reactive.WEBRTC_RECEIVE_ANSWER,delete h.nakama.socket_reactive.WEBRTC_ICE_CANDIDATES,delete h.nakama.socket_reactive.WEBRTC_NEGOCIATENEEDED,delete h.nakama.socket_reactive.WEBRTC_RECEIVED_CALL_SELF,delete h.nakama.socket_reactive.WEBRTC_CHECK_ONLINE,h.IceCandidates.length=0}})()}}return(l=a).\u0275fac=function(c){return new(c||l)(v.KVO(b.W3),v.KVO(g.G),v.KVO(y.n),v.KVO(C.y),v.KVO(o.X))},l.\u0275prov=v.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),a})()},3419:(En,qt,me)=>{"use strict";var O=me(345),I=me(3953),pe=me(9858),mt=me(3656),o=me(5374),ie=me(9349);const $=[{path:"",loadChildren:()=>me.e(6035).then(me.bind(me,6035)).then(Tt=>Tt.FrontPageModule)},{path:"minimal-chat",loadChildren:()=>Promise.all([me.e(7892),me.e(5502)]).then(me.bind(me,5502)).then(Tt=>Tt.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>me.e(4722).then(me.bind(me,4722)).then(Tt=>Tt.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>Promise.all([me.e(7892),me.e(7920),me.e(9903)]).then(me.bind(me,9903)).then(Tt=>Tt.UserFsDirPageModule)},{path:"group-server",loadChildren:()=>me.e(36).then(me.bind(me,36)).then(Tt=>Tt.GroupServerPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([me.e(7892),me.e(7920),me.e(2076),me.e(8163)]).then(me.bind(me,8163)).then(Tt=>Tt.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([me.e(7892),me.e(2076),me.e(6134)]).then(me.bind(me,6134)).then(Tt=>Tt.ChatRoomPageModule)},{path:"post-viewer",loadChildren:()=>Promise.all([me.e(7892),me.e(526)]).then(me.bind(me,526)).then(Tt=>Tt.PostViewerPageModule)},{path:"share-content-to-other",loadChildren:()=>me.e(4911).then(me.bind(me,4911)).then(Tt=>Tt.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>me.e(30).then(me.bind(me,30)).then(Tt=>Tt.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>me.e(8180).then(me.bind(me,8180)).then(Tt=>Tt.PortalPageModule)},{path:"group-detail",loadChildren:()=>me.e(3267).then(me.bind(me,3267)).then(Tt=>Tt.GroupDetailPageModule)},{path:"instant-call",loadChildren:()=>me.e(8413).then(me.bind(me,794)).then(Tt=>Tt.InstantCallPageModule)},{path:"add-group",loadChildren:()=>me.e(7601).then(me.bind(me,7601)).then(Tt=>Tt.AddGroupPageModule)}];let v=(()=>{var Tt;class Gt{}return(Tt=Gt).\u0275fac=function(tn){return new(tn||Tt)},Tt.\u0275mod=I.$C({type:Tt}),Tt.\u0275inj=I.G2t({imports:[pe.iI.forRoot($,{preloadingStrategy:pe.Kp}),pe.iI]}),Gt})();var b=me(177),g=me(9030),y=me(8810),C=me(3726),_=me(7673),s=me(8793),l=me(1413),a=me(1985),d=me(5343);const c=new a.c(d.l);var h=me(6365),p=me(8750),m=me(983),w=me(9326),R=me(6648);function E(...Tt){const Gt=(0,w.lI)(Tt),en=(0,w.R0)(Tt,1/0),tn=Tt;return tn.length?1===tn.length?(0,p.Tg)(tn[0]):(0,h.U)(en)((0,R.H)(tn,Gt)):m.w}var M=me(6354),A=me(5964),B=me(5558),j=me(17),N=me(8071),k=me(9974);const ne={connector:()=>new l.B};function z(Tt,Gt=ne){const{connector:en}=Gt;return(0,k.N)((tn,pt)=>{const tt=en();(0,p.Tg)(Tt(function J(Tt){return new a.c(Gt=>Tt.subscribe(Gt))}(tt))).subscribe(pt),pt.add(tn.subscribe(tt))})}var G=me(6697),K=me(8141),le=me(8359);class Oe extends le.yU{constructor(Gt,en){super()}schedule(Gt,en=0){return this}}const Y={setInterval(Tt,Gt,...en){const{delegate:tn}=Y;return null!=tn&&tn.setInterval?tn.setInterval(Tt,Gt,...en):setInterval(Tt,Gt,...en)},clearInterval(Tt){const{delegate:Gt}=Y;return((null==Gt?void 0:Gt.clearInterval)||clearInterval)(Tt)},delegate:void 0};var P=me(7908);const ge={now:()=>(ge.delegate||Date).now(),delegate:void 0};class Te{constructor(Gt,en=Te.now){this.schedulerActionCtor=Gt,this.now=en}schedule(Gt,en=0,tn){return new this.schedulerActionCtor(this,Gt).schedule(tn,en)}}Te.now=ge.now;const qe=new class Ge extends Te{constructor(Gt,en=Te.now){super(Gt,en),this.actions=[],this._active=!1}flush(Gt){const{actions:en}=this;if(this._active)return void en.push(Gt);let tn;this._active=!0;do{if(tn=Gt.execute(Gt.state,Gt.delay))break}while(Gt=en.shift());if(this._active=!1,tn){for(;Gt=en.shift();)Gt.unsubscribe();throw tn}}}(class re extends Oe{constructor(Gt,en){super(Gt,en),this.scheduler=Gt,this.work=en,this.pending=!1}schedule(Gt,en=0){var tn;if(this.closed)return this;this.state=Gt;const pt=this.id,tt=this.scheduler;return null!=pt&&(this.id=this.recycleAsyncId(tt,pt,en)),this.pending=!0,this.delay=en,this.id=null!==(tn=this.id)&&void 0!==tn?tn:this.requestAsyncId(tt,this.id,en),this}requestAsyncId(Gt,en,tn=0){return Y.setInterval(Gt.flush.bind(Gt,this),tn)}recycleAsyncId(Gt,en,tn=0){if(null!=tn&&this.delay===tn&&!1===this.pending)return en;null!=en&&Y.clearInterval(en)}execute(Gt,en){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const tn=this._execute(Gt,en);if(tn)return tn;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Gt,en){let pt,tn=!1;try{this.work(Gt)}catch(tt){tn=!0,pt=tt||new Error("Scheduled action threw falsy error")}if(tn)return this.unsubscribe(),pt}unsubscribe(){if(!this.closed){const{id:Gt,scheduler:en}=this,{actions:tn}=en;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P.o)(tn,this),null!=Gt&&(this.id=this.recycleAsyncId(en,Gt,null)),this.delay=null,super.unsubscribe()}}}),ht=qe;var ze=me(4360),lt=me(3703),Be=me(1397);function Qe(Tt,Gt){return Gt?en=>(0,s.x)(Gt.pipe((0,G.s)(1),function st(){return(0,k.N)((Tt,Gt)=>{Tt.subscribe((0,ze._)(Gt,d.l))})}()),en.pipe(Qe(Tt))):(0,Be.Z)((en,tn)=>(0,p.Tg)(Tt(en,tn)).pipe((0,G.s)(1),(0,lt.u)(en)))}var Je=me(9470);const Ct="Service workers are disabled or not supported by this browser";class $t{constructor(Gt){if(this.serviceWorker=Gt,Gt){const tn=(0,C.R)(Gt,"controllerchange").pipe((0,M.T)(()=>Gt.controller)),pt=(0,g.v)(()=>(0,_.of)(Gt.controller)),tt=(0,s.x)(pt,tn);this.worker=tt.pipe((0,A.p)(ft=>!!ft)),this.registration=this.worker.pipe((0,B.n)(()=>Gt.getRegistration()));const cn=(0,C.R)(Gt,"message").pipe((0,M.T)(ft=>ft.data)).pipe((0,A.p)(ft=>ft&&ft.type)).pipe(function H(Tt){return Tt?Gt=>z(Tt)(Gt):Gt=>function ee(Tt,Gt){const en=(0,N.T)(Tt)?Tt:()=>Tt;return(0,N.T)(Gt)?z(Gt,{connector:en}):tn=>new j.G(tn,en)}(new l.B)(Gt)}());cn.connect(),this.events=cn}else this.worker=this.events=this.registration=function sn(Tt){return(0,g.v)(()=>(0,y.$)(new Error(Tt)))}(Ct)}postMessage(Gt,en){return this.worker.pipe((0,G.s)(1),(0,K.M)(tn=>{tn.postMessage({action:Gt,...en})})).toPromise().then(()=>{})}postMessageWithOperation(Gt,en,tn){const pt=this.waitForOperationCompleted(tn),tt=this.postMessage(Gt,en);return Promise.all([tt,pt]).then(([,At])=>At)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Gt){let en;return en="string"==typeof Gt?tn=>tn.type===Gt:tn=>Gt.includes(tn.type),this.events.pipe((0,A.p)(en))}nextEventOfType(Gt){return this.eventsOfType(Gt).pipe((0,G.s)(1))}waitForOperationCompleted(Gt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,A.p)(en=>en.nonce===Gt),(0,G.s)(1),(0,M.T)(en=>{if(void 0!==en.result)return en.result;throw new Error(en.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let un=(()=>{var Tt;class Gt{get isEnabled(){return this.sw.isEnabled}constructor(tn){if(this.sw=tn,this.pushManager=null,this.subscriptionChanges=new l.B,!tn.isEnabled)return this.messages=c,this.notificationClicks=c,void(this.subscription=c);this.messages=this.sw.eventsOfType("PUSH").pipe((0,M.T)(tt=>tt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,M.T)(tt=>tt.data)),this.pushManager=this.sw.registration.pipe((0,M.T)(tt=>tt.pushManager));const pt=this.pushManager.pipe((0,B.n)(tt=>tt.getSubscription()));this.subscription=E(pt,this.subscriptionChanges)}requestSubscription(tn){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Ct));const pt={userVisibleOnly:!0};let tt=this.decodeBase64(tn.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),At=new Uint8Array(new ArrayBuffer(tt.length));for(let gt=0;gt<tt.length;gt++)At[gt]=tt.charCodeAt(gt);return pt.applicationServerKey=At,this.pushManager.pipe((0,B.n)(gt=>gt.subscribe(pt)),(0,G.s)(1)).toPromise().then(gt=>(this.subscriptionChanges.next(gt),gt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,G.s)(1),(0,B.n)(pt=>{if(null===pt)throw new Error("Not subscribed to push notifications.");return pt.unsubscribe().then(tt=>{if(!tt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ct))}decodeBase64(tn){return atob(tn)}}return(Tt=Gt).\u0275fac=function(tn){return new(tn||Tt)(I.KVO($t))},Tt.\u0275prov=I.jDH({token:Tt,factory:Tt.\u0275fac}),Gt})(),Bt=(()=>{var Tt;class Gt{get isEnabled(){return this.sw.isEnabled}constructor(tn){if(this.sw=tn,!tn.isEnabled)return this.versionUpdates=c,void(this.unrecoverable=c);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ct));const tn=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:tn},tn)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ct));const tn=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:tn},tn)}}return(Tt=Gt).\u0275fac=function(tn){return new(tn||Tt)(I.KVO($t))},Tt.\u0275prov=I.jDH({token:Tt,factory:Tt.\u0275fac}),Gt})();const mn=new I.nKC("");function Yt(Tt,Gt,en,tn){return()=>{if(!(0,b.UE)(tn)||!("serviceWorker"in navigator)||!1===en.enabled)return;const pt=Tt.get(I.SKi),tt=Tt.get(I.o8S);let At;if(pt.runOutsideAngular(()=>{const gt=navigator.serviceWorker,Rt=()=>{var cn;return null===(cn=gt.controller)||void 0===cn?void 0:cn.postMessage({action:"INITIALIZE"})};gt.addEventListener("controllerchange",Rt),tt.onDestroy(()=>{gt.removeEventListener("controllerchange",Rt)})}),"function"==typeof en.registrationStrategy)At=en.registrationStrategy();else{const[gt,...Rt]=(en.registrationStrategy||"registerWhenStable:30000").split(":");switch(gt){case"registerImmediately":At=(0,_.of)(null);break;case"registerWithDelay":At=fn(+Rt[0]||0);break;case"registerWhenStable":At=Rt[0]?E(Ot(Tt),fn(+Rt[0])):Ot(Tt);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${en.registrationStrategy}`)}}pt.runOutsideAngular(()=>At.pipe((0,G.s)(1)).subscribe(()=>navigator.serviceWorker.register(Gt,{scope:en.scope}).catch(gt=>console.error("Service worker registration failed with:",gt))))}}function fn(Tt){return(0,_.of)(null).pipe(function yt(Tt,Gt=qe){const en=function Ze(Tt=0,Gt,en=ht){let tn=-1;return null!=Gt&&((0,Je.m)(Gt)?en=Gt:tn=Gt),new a.c(pt=>{let tt=function ot(Tt){return Tt instanceof Date&&!isNaN(Tt)}(Tt)?+Tt-en.now():Tt;tt<0&&(tt=0);let At=0;return en.schedule(function(){pt.closed||(pt.next(At++),0<=tn?this.schedule(void 0,tn):pt.complete())},tt)})}(Tt,Gt);return Qe(()=>en)}(Tt))}function Ot(Tt){return Tt.get(I.o8S).isStable.pipe((0,A.p)(en=>en))}function ln(Tt,Gt){return new $t((0,b.UE)(Gt)&&!1!==Tt.enabled?navigator.serviceWorker:void 0)}class Vt{}function Ve(Tt,Gt={}){return(0,I.EmA)([un,Bt,{provide:mn,useValue:Tt},{provide:Vt,useValue:Gt},{provide:$t,useFactory:ln,deps:[Vt,I.Agw]},{provide:I.hnV,useFactory:Yt,deps:[I.zZn,mn,Vt,I.Agw],multi:!0}])}let Xe=(()=>{var Tt;class Gt{static register(tn,pt={}){return{ngModule:Gt,providers:[Ve(tn,pt)]}}}return(Tt=Gt).\u0275fac=function(tn){return new(tn||Tt)},Tt.\u0275mod=I.$C({type:Tt}),Tt.\u0275inj=I.G2t({providers:[un,Bt]}),Gt})();let Ke=(()=>{var Tt;class Gt{}return(Tt=Gt).\u0275fac=function(tn){return new(tn||Tt)},Tt.\u0275mod=I.$C({type:Tt,bootstrap:[ie.ZL]}),Tt.\u0275inj=I.G2t({providers:[{provide:pe.b,useClass:mt.jM},mt.y8],imports:[O.Bb,o.bv.forRoot({innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0,hardwareBackButton:!0}),v,Xe.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerImmediately"})]}),Gt})();var _t=me(1288);(0,I.SmG)(),O.sG().bootstrapModule(Ke).catch(Tt=>console.log(Tt)),window,typeof window>"u"?Promise.resolve():(0,_t.p)().then(()=>(0,_t.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},8326:(En,qt,me)=>{var O=me(4756);En.exports=function o(ie,$,v){function b(C,_){if(!$[C]){if(!ie[C]){var s=void 0;if(!_&&s)return require(C,!0);if(g)return g(C,!0);throw(_=new Error("Cannot find module '"+C+"'")).code="MODULE_NOT_FOUND",_}s=$[C]={exports:{}},ie[C][0].call(s.exports,function(l){return b(ie[C][1][l]||l)},s,s.exports,o,ie,$,v)}return $[C].exports}for(var g=void 0,y=0;y<v.length;y++)b(v[y]);return b}({1:[function(o,ie,$){"use strict";$.byteLength=function(d){return 3*((d=s(d))[0]+(d=d[1]))/4-d},$.toByteArray=function(l){var a,d,u,R,c=(u=s(l))[0],h=new g(3*(c+(R=u=u[1]))/4-R),p=0,m=0<u?c-4:c;for(d=0;d<m;d+=4)a=b[l.charCodeAt(d)]<<18|b[l.charCodeAt(d+1)]<<12|b[l.charCodeAt(d+2)]<<6|b[l.charCodeAt(d+3)],h[p++]=a>>16&255,h[p++]=a>>8&255,h[p++]=255&a;return 2===u&&(a=b[l.charCodeAt(d)]<<2|b[l.charCodeAt(d+1)]>>4,h[p++]=255&a),1===u&&(a=b[l.charCodeAt(d)]<<10|b[l.charCodeAt(d+1)]<<4|b[l.charCodeAt(d+2)]>>2,h[p++]=a>>8&255,h[p++]=255&a),h},$.fromByteArray=function(l){for(var a,d=l.length,c=d%3,u=[],h=0,p=d-c;h<p;h+=16383)u.push(function(m,w,R){for(var M=[],A=w;A<R;A+=3)M.push(v[(B=(m[A]<<16&16711680)+(m[A+1]<<8&65280)+(255&m[A+2]))>>18&63]+v[B>>12&63]+v[B>>6&63]+v[63&B]);var B;return M.join("")}(l,h,p<h+16383?p:h+16383));return 1==c?u.push(v[(a=l[d-1])>>2]+v[a<<4&63]+"=="):2==c&&u.push(v[(a=(l[d-2]<<8)+l[d-1])>>10]+v[a>>4&63]+v[a<<2&63]+"="),u.join("")};for(var v=[],b=[],g=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0;C<64;++C)v[C]=y[C],b[y.charCodeAt(C)]=C;function s(l){var a=l.length;if(0<a%4)throw new Error("Invalid string. Length must be a multiple of 4");return a=(l=-1===(l=l.indexOf("="))?a:l)===a?0:4-l%4,[l,a]}b[45]=62,b[95]=63},{}],2:[function(o,ie,$){},{}],3:[function(o,ie,$){},{}],4:[function(o,ie,$){(function(s){"use strict";var b=o("base64-js"),g=o("ieee754"),y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,C=($.Buffer=s,$.SlowBuffer=function(Y){return+Y!=Y&&(Y=0),s.alloc(+Y)},$.INSPECT_MAX_BYTES=50,2147483647);function _(Y){if(C<Y)throw new RangeError('The value "'+Y+'" is invalid for option "size"');return Y=new Uint8Array(Y),Object.setPrototypeOf(Y,s.prototype),Y}function s(Y,P,re){if("number"!=typeof Y)return l(Y,P,re);if("string"==typeof P)throw new TypeError('The "string" argument must be of type string. Received type number');return d(Y)}function l(Y,P,re){if("string"==typeof Y){var ge=Y,Te=P;if(s.isEncoding(Te="string"==typeof Te&&""!==Te?Te:"utf8"))return(ge=(qe=_(Ge=0|h(ge,Te))).write(ge,Te))!==Ge?qe.slice(0,ge):qe;throw new TypeError("Unknown encoding: "+Te)}if(ArrayBuffer.isView(Y))return c(Y);if(null!=Y){if(K(Y,ArrayBuffer)||Y&&K(Y.buffer,ArrayBuffer)){var Ge=Y,qe=re;if((ge=P)<0||Ge.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(Ge.byteLength<ge+(qe||0))throw new RangeError('"length" is outside of buffer bounds');return Ge=void 0===ge&&void 0===qe?new Uint8Array(Ge):void 0===qe?new Uint8Array(Ge,ge):new Uint8Array(Ge,ge,qe),Object.setPrototypeOf(Ge,s.prototype),Ge}if("number"==typeof Y)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(Te=Y.valueOf&&Y.valueOf())&&Te!==Y)return s.from(Te,P,re);var ht=s.isBuffer(ze=Y)?(0!==(lt=_(st=0|u(ze.length))).length&&ze.copy(lt,0,0,st),lt):void 0!==ze.length?"number"!=typeof ze.length||le(ze.length)?_(0):c(ze):"Buffer"===ze.type&&Array.isArray(ze.data)?c(ze.data):void 0;if(ht)return ht;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Y[Symbol.toPrimitive])return s.from(Y[Symbol.toPrimitive]("string"),P,re)}var ze,st,lt;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}function a(Y){if("number"!=typeof Y)throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function d(Y){return a(Y),_(Y<0?0:0|u(Y))}function c(Y){for(var P=Y.length<0?0:0|u(Y.length),re=_(P),ge=0;ge<P;ge+=1)re[ge]=255&Y[ge];return re}function u(Y){if(C<=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return 0|Y}function h(Y,P){if(s.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||K(Y,ArrayBuffer))return Y.byteLength;if("string"!=typeof Y)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);var re=Y.length,ge=2<arguments.length&&!0===arguments[2];if(!ge&&0===re)return 0;for(var Te=!1;;)switch(P){case"ascii":case"latin1":case"binary":return re;case"utf8":case"utf-8":return ee(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*re;case"hex":return re>>>1;case"base64":return H(Y).length;default:if(Te)return ge?-1:ee(Y).length;P=(""+P).toLowerCase(),Te=!0}}function p(Y,P,re){var ge,Te=!1;if((P=void 0===P||P<0?0:P)>this.length||(re=void 0===re||re>this.length?this.length:re)<=0||(re>>>=0)<=(P>>>=0))return"";for(Y=Y||"utf8";;)switch(Y){case"hex":var qe=re,lt=this.length;(!qe||qe<0||lt<qe)&&(qe=lt);for(var ht="",ze=Ze=!(Ze=P)||Ze<0?0:Ze;ze<qe;++ze)ht+=Oe[this[ze]];return ht;case"utf8":case"utf-8":return A(this,P,re);case"ascii":var Be=(lt=P,re),Qe="";Be=Math.min(this.length,Be);for(var Je=lt;Je<Be;++Je)Qe+=String.fromCharCode(127&this[Je]);return Qe;case"latin1":case"binary":var Ze=P,yt=re,Ct="";yt=Math.min(this.length,yt);for(var sn=Ze;sn<yt;++sn)Ct+=String.fromCharCode(this[sn]);return Ct;case"base64":return $t=this,ge=re,0===(un=P)&&ge===$t.length?b.fromByteArray($t):b.fromByteArray($t.slice(un,ge));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var $t=P,un=re,Bt=this.slice($t,un),mn="",Yt=0;Yt<Bt.length;Yt+=2)mn+=String.fromCharCode(Bt[Yt]+256*Bt[Yt+1]);return mn;default:if(Te)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),Te=!0}}function m(Y,P,re){var ge=Y[P];Y[P]=Y[re],Y[re]=ge}function w(Y,P,re,ge,Te){if(0===Y.length)return-1;if("string"==typeof re?(ge=re,re=0):2147483647<re?re=2147483647:re<-2147483648&&(re=-2147483648),(re=(re=le(re=+re)?Te?0:Y.length-1:re)<0?Y.length+re:re)>=Y.length){if(Te)return-1;re=Y.length-1}else if(re<0){if(!Te)return-1;re=0}if("string"==typeof P&&(P=s.from(P,ge)),s.isBuffer(P))return 0===P.length?-1:R(Y,P,re,ge,Te);if("number"==typeof P)return P&=255,"function"==typeof Uint8Array.prototype.indexOf?(Te?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(Y,P,re):R(Y,[P],re,ge,Te);throw new TypeError("val must be string, number or Buffer")}function R(Y,P,re,ge,Te){var Ge=1,qe=Y.length,ht=P.length;if(void 0!==ge&&("ucs2"===(ge=String(ge).toLowerCase())||"ucs-2"===ge||"utf16le"===ge||"utf-16le"===ge)){if(Y.length<2||P.length<2)return-1;qe/=Ge=2,ht/=2,re/=2}function ze(Je,ot){return 1===Ge?Je[ot]:Je.readUInt16BE(ot*Ge)}if(Te)for(var st=-1,lt=re;lt<qe;lt++)if(ze(Y,lt)===ze(P,-1===st?0:lt-st)){if(lt-(st=-1===st?lt:st)+1===ht)return st*Ge}else-1!==st&&(lt-=lt-st),st=-1;else for(lt=re=qe<re+ht?qe-ht:re;0<=lt;lt--){for(var Be=!0,Qe=0;Qe<ht;Qe++)if(ze(Y,lt+Qe)!==ze(P,Qe)){Be=!1;break}if(Be)return lt}return-1}function E(Y,P,re,ge){return G(function(Te){for(var Ge=[],qe=0;qe<Te.length;++qe)Ge.push(255&Te.charCodeAt(qe));return Ge}(P),Y,re,ge)}function M(Y,P,re,ge){return G(function(Te,Ge){for(var qe,ht,ze=[],st=0;st<Te.length&&!((Ge-=2)<0);++st)qe=(ht=Te.charCodeAt(st))>>8,ze.push(ht%=256),ze.push(qe);return ze}(P,Y.length-re),Y,re,ge)}function A(Y,P,re){re=Math.min(Y.length,re);for(var ge=[],Te=P;Te<re;){var Ge,qe,ht,ze,st=Y[Te],lt=null,Be=239<st?4:223<st?3:191<st?2:1;if(Te+Be<=re)switch(Be){case 1:st<128&&(lt=st);break;case 2:128==(192&(Ge=Y[Te+1]))&&127<(ze=(31&st)<<6|63&Ge)&&(lt=ze);break;case 3:qe=Y[Te+2],128==(192&(Ge=Y[Te+1]))&&128==(192&qe)&&2047<(ze=(15&st)<<12|(63&Ge)<<6|63&qe)&&(ze<55296||57343<ze)&&(lt=ze);break;case 4:qe=Y[Te+2],ht=Y[Te+3],128==(192&(Ge=Y[Te+1]))&&128==(192&qe)&&128==(192&ht)&&65535<(ze=(15&st)<<18|(63&Ge)<<12|(63&qe)<<6|63&ht)&&ze<1114112&&(lt=ze)}null===lt?(lt=65533,Be=1):65535<lt&&(ge.push((lt-=65536)>>>10&1023|55296),lt=56320|1023&lt),ge.push(lt),Te+=Be}var Qe=ge,Je=Qe.length;if(Je<=B)return String.fromCharCode.apply(String,Qe);for(var ot="",Ze=0;Ze<Je;)ot+=String.fromCharCode.apply(String,Qe.slice(Ze,Ze+=B));return ot}$.kMaxLength=C,(s.TYPED_ARRAY_SUPPORT=function(){try{var Y=new Uint8Array(1),P={foo:function(){return 42}};return Object.setPrototypeOf(P,Uint8Array.prototype),Object.setPrototypeOf(Y,P),42===Y.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=l,Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(Y,P,re){return a(Y),Y<=0||void 0===P?_(Y):"string"==typeof re?_(Y).fill(P,re):_(Y).fill(P)},s.allocUnsafe=d,s.allocUnsafeSlow=d,s.isBuffer=function(Y){return null!=Y&&!0===Y._isBuffer&&Y!==s.prototype},s.compare=function(Y,P){if(K(Y,Uint8Array)&&(Y=s.from(Y,Y.offset,Y.byteLength)),K(P,Uint8Array)&&(P=s.from(P,P.offset,P.byteLength)),!s.isBuffer(Y)||!s.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Y===P)return 0;for(var re=Y.length,ge=P.length,Te=0,Ge=Math.min(re,ge);Te<Ge;++Te)if(Y[Te]!==P[Te]){re=Y[Te],ge=P[Te];break}return re<ge?-1:ge<re?1:0},s.isEncoding=function(Y){switch(String(Y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(Y,P){if(!Array.isArray(Y))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Y.length)return s.alloc(0);if(void 0===P)for(Te=P=0;Te<Y.length;++Te)P+=Y[Te].length;for(var re=s.allocUnsafe(P),ge=0,Te=0;Te<Y.length;++Te){var Ge=Y[Te];if(K(Ge,Uint8Array)&&(Ge=s.from(Ge)),!s.isBuffer(Ge))throw new TypeError('"list" argument must be an Array of Buffers');Ge.copy(re,ge),ge+=Ge.length}return re},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var Y=this.length;if(Y%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<Y;P+=2)m(this,P,P+1);return this},s.prototype.swap32=function(){var Y=this.length;if(Y%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<Y;P+=4)m(this,P,P+3),m(this,P+1,P+2);return this},s.prototype.swap64=function(){var Y=this.length;if(Y%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<Y;P+=8)m(this,P,P+7),m(this,P+1,P+6),m(this,P+2,P+5),m(this,P+3,P+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var Y=this.length;return 0===Y?"":0===arguments.length?A(this,0,Y):p.apply(this,arguments)},s.prototype.equals=function(Y){if(s.isBuffer(Y))return this===Y||0===s.compare(this,Y);throw new TypeError("Argument must be a Buffer")},s.prototype.inspect=function(){var P="",Y=$.INSPECT_MAX_BYTES;return P=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(P+=" ... "),"<Buffer "+P+">"},y&&(s.prototype[y]=s.prototype.inspect),s.prototype.compare=function(Y,P,re,ge,Te){if(K(Y,Uint8Array)&&(Y=s.from(Y,Y.offset,Y.byteLength)),!s.isBuffer(Y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Y);if(void 0===re&&(re=Y?Y.length:0),void 0===ge&&(ge=0),void 0===Te&&(Te=this.length),(P=void 0===P?0:P)<0||re>Y.length||ge<0||Te>this.length)throw new RangeError("out of range index");if(Te<=ge&&re<=P)return 0;if(Te<=ge)return-1;if(re<=P)return 1;if(this===Y)return 0;for(var Ge=(Te>>>=0)-(ge>>>=0),qe=(re>>>=0)-(P>>>=0),ht=Math.min(Ge,qe),ze=this.slice(ge,Te),st=Y.slice(P,re),lt=0;lt<ht;++lt)if(ze[lt]!==st[lt]){Ge=ze[lt],qe=st[lt];break}return Ge<qe?-1:qe<Ge?1:0},s.prototype.includes=function(Y,P,re){return-1!==this.indexOf(Y,P,re)},s.prototype.indexOf=function(Y,P,re){return w(this,Y,P,re,!0)},s.prototype.lastIndexOf=function(Y,P,re){return w(this,Y,P,re,!1)},s.prototype.write=function(Y,P,re,ge){if(void 0===P)ge="utf8",re=this.length,P=0;else if(void 0===re&&"string"==typeof P)ge=P,re=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P>>>=0,isFinite(re)?(re>>>=0,void 0===ge&&(ge="utf8")):(ge=re,re=void 0)}var Te=this.length-P;if((void 0===re||Te<re)&&(re=Te),0<Y.length&&(re<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge=ge||"utf8";for(var Ge,qe,ht,ze=!1;;)switch(ge){case"hex":var lt=Y,Be=P,Qe=re,Je=(Be=Number(Be)||0,this.length-Be);(!Qe||Je<(Qe=Number(Qe)))&&(Qe=Je),(Je=lt.length)/2<Qe&&(Qe=Je/2);for(var ot=0;ot<Qe;++ot){var Ze=parseInt(lt.substr(2*ot,2),16);if(le(Ze))return ot;this[Be+ot]=Ze}return ot;case"utf8":case"utf-8":return ht=re,G(ee(Y,(qe=this).length-(Je=P)),qe,Je,ht);case"ascii":case"latin1":case"binary":return E(this,Y,P,re);case"base64":return qe=this,ht=P,Ge=re,G(H(Y),qe,ht,Ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,Y,P,re);default:if(ze)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),ze=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function j(Y,P,re){if(Y%1!=0||Y<0)throw new RangeError("offset is not uint");if(re<Y+P)throw new RangeError("Trying to access beyond buffer length")}function N(Y,P,re,ge,Te,Ge){if(!s.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(Te<P||P<Ge)throw new RangeError('"value" argument is out of bounds');if(re+ge>Y.length)throw new RangeError("Index out of range")}function k(Y,P,re,ge){if(re+ge>Y.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("Index out of range")}function J(Y,P,re,ge,Te){return P=+P,re>>>=0,Te||k(Y,0,re,4),g.write(Y,P,re,ge,23,4),re+4}function ne(Y,P,re,ge,Te){return P=+P,re>>>=0,Te||k(Y,0,re,8),g.write(Y,P,re,ge,52,8),re+8}s.prototype.slice=function(Y,P){var re=this.length;return(Y=~~Y)<0?(Y+=re)<0&&(Y=0):re<Y&&(Y=re),(P=void 0===P?re:~~P)<0?(P+=re)<0&&(P=0):re<P&&(P=re),P<Y&&(P=Y),re=this.subarray(Y,P),Object.setPrototypeOf(re,s.prototype),re},s.prototype.readUIntLE=function(Y,P,re){Y>>>=0,P>>>=0,re||j(Y,P,this.length);for(var ge=this[Y],Te=1,Ge=0;++Ge<P&&(Te*=256);)ge+=this[Y+Ge]*Te;return ge},s.prototype.readUIntBE=function(Y,P,re){Y>>>=0,P>>>=0,re||j(Y,P,this.length);for(var ge=this[Y+--P],Te=1;0<P&&(Te*=256);)ge+=this[Y+--P]*Te;return ge},s.prototype.readUInt8=function(Y,P){return Y>>>=0,P||j(Y,1,this.length),this[Y]},s.prototype.readUInt16LE=function(Y,P){return Y>>>=0,P||j(Y,2,this.length),this[Y]|this[Y+1]<<8},s.prototype.readUInt16BE=function(Y,P){return Y>>>=0,P||j(Y,2,this.length),this[Y]<<8|this[Y+1]},s.prototype.readUInt32LE=function(Y,P){return Y>>>=0,P||j(Y,4,this.length),(this[Y]|this[Y+1]<<8|this[Y+2]<<16)+16777216*this[Y+3]},s.prototype.readUInt32BE=function(Y,P){return Y>>>=0,P||j(Y,4,this.length),16777216*this[Y]+(this[Y+1]<<16|this[Y+2]<<8|this[Y+3])},s.prototype.readIntLE=function(Y,P,re){Y>>>=0,P>>>=0,re||j(Y,P,this.length);for(var ge=this[Y],Te=1,Ge=0;++Ge<P&&(Te*=256);)ge+=this[Y+Ge]*Te;return(Te*=128)<=ge&&(ge-=Math.pow(2,8*P)),ge},s.prototype.readIntBE=function(Y,P,re){Y>>>=0,P>>>=0,re||j(Y,P,this.length);for(var ge=P,Te=1,Ge=this[Y+--ge];0<ge&&(Te*=256);)Ge+=this[Y+--ge]*Te;return(Te*=128)<=Ge&&(Ge-=Math.pow(2,8*P)),Ge},s.prototype.readInt8=function(Y,P){return Y>>>=0,P||j(Y,1,this.length),128&this[Y]?-1*(255-this[Y]+1):this[Y]},s.prototype.readInt16LE=function(Y,P){return Y>>>=0,P||j(Y,2,this.length),32768&(P=this[Y]|this[Y+1]<<8)?4294901760|P:P},s.prototype.readInt16BE=function(Y,P){return Y>>>=0,P||j(Y,2,this.length),32768&(P=this[Y+1]|this[Y]<<8)?4294901760|P:P},s.prototype.readInt32LE=function(Y,P){return Y>>>=0,P||j(Y,4,this.length),this[Y]|this[Y+1]<<8|this[Y+2]<<16|this[Y+3]<<24},s.prototype.readInt32BE=function(Y,P){return Y>>>=0,P||j(Y,4,this.length),this[Y]<<24|this[Y+1]<<16|this[Y+2]<<8|this[Y+3]},s.prototype.readFloatLE=function(Y,P){return Y>>>=0,P||j(Y,4,this.length),g.read(this,Y,!0,23,4)},s.prototype.readFloatBE=function(Y,P){return Y>>>=0,P||j(Y,4,this.length),g.read(this,Y,!1,23,4)},s.prototype.readDoubleLE=function(Y,P){return Y>>>=0,P||j(Y,8,this.length),g.read(this,Y,!0,52,8)},s.prototype.readDoubleBE=function(Y,P){return Y>>>=0,P||j(Y,8,this.length),g.read(this,Y,!1,52,8)},s.prototype.writeUIntLE=function(Y,P,re,ge){Y=+Y,P>>>=0,re>>>=0,ge||N(this,Y,P,re,Math.pow(2,8*re)-1,0);var Te=1,Ge=0;for(this[P]=255&Y;++Ge<re&&(Te*=256);)this[P+Ge]=Y/Te&255;return P+re},s.prototype.writeUIntBE=function(Y,P,re,ge){Y=+Y,P>>>=0,re>>>=0,ge||N(this,Y,P,re,Math.pow(2,8*re)-1,0);var Te=re-1,Ge=1;for(this[P+Te]=255&Y;0<=--Te&&(Ge*=256);)this[P+Te]=Y/Ge&255;return P+re},s.prototype.writeUInt8=function(Y,P,re){return Y=+Y,P>>>=0,re||N(this,Y,P,1,255,0),this[P]=255&Y,P+1},s.prototype.writeUInt16LE=function(Y,P,re){return Y=+Y,P>>>=0,re||N(this,Y,P,2,65535,0),this[P]=255&Y,this[P+1]=Y>>>8,P+2},s.prototype.writeUInt16BE=function(Y,P,re){return Y=+Y,P>>>=0,re||N(this,Y,P,2,65535,0),this[P]=Y>>>8,this[P+1]=255&Y,P+2},s.prototype.writeUInt32LE=function(Y,P,re){return Y=+Y,P>>>=0,re||N(this,Y,P,4,4294967295,0),this[P+3]=Y>>>24,this[P+2]=Y>>>16,this[P+1]=Y>>>8,this[P]=255&Y,P+4},s.prototype.writeUInt32BE=function(Y,P,re){return Y=+Y,P>>>=0,re||N(this,Y,P,4,4294967295,0),this[P]=Y>>>24,this[P+1]=Y>>>16,this[P+2]=Y>>>8,this[P+3]=255&Y,P+4},s.prototype.writeIntLE=function(Y,P,re,ge){Y=+Y,P>>>=0,ge||N(this,Y,P,re,(ge=Math.pow(2,8*re-1))-1,-ge);var Te=0,Ge=1,qe=0;for(this[P]=255&Y;++Te<re&&(Ge*=256);)Y<0&&0===qe&&0!==this[P+Te-1]&&(qe=1),this[P+Te]=(Y/Ge|0)-qe&255;return P+re},s.prototype.writeIntBE=function(Y,P,re,ge){Y=+Y,P>>>=0,ge||N(this,Y,P,re,(ge=Math.pow(2,8*re-1))-1,-ge);var Te=re-1,Ge=1,qe=0;for(this[P+Te]=255&Y;0<=--Te&&(Ge*=256);)Y<0&&0===qe&&0!==this[P+Te+1]&&(qe=1),this[P+Te]=(Y/Ge|0)-qe&255;return P+re},s.prototype.writeInt8=function(Y,P,re){return Y=+Y,P>>>=0,re||N(this,Y,P,1,127,-128),this[P]=255&(Y=Y<0?255+Y+1:Y),P+1},s.prototype.writeInt16LE=function(Y,P,re){return Y=+Y,P>>>=0,re||N(this,Y,P,2,32767,-32768),this[P]=255&Y,this[P+1]=Y>>>8,P+2},s.prototype.writeInt16BE=function(Y,P,re){return Y=+Y,P>>>=0,re||N(this,Y,P,2,32767,-32768),this[P]=Y>>>8,this[P+1]=255&Y,P+2},s.prototype.writeInt32LE=function(Y,P,re){return Y=+Y,P>>>=0,re||N(this,Y,P,4,2147483647,-2147483648),this[P]=255&Y,this[P+1]=Y>>>8,this[P+2]=Y>>>16,this[P+3]=Y>>>24,P+4},s.prototype.writeInt32BE=function(Y,P,re){return Y=+Y,P>>>=0,re||N(this,Y,P,4,2147483647,-2147483648),this[P]=(Y=Y<0?4294967295+Y+1:Y)>>>24,this[P+1]=Y>>>16,this[P+2]=Y>>>8,this[P+3]=255&Y,P+4},s.prototype.writeFloatLE=function(Y,P,re){return J(this,Y,P,!0,re)},s.prototype.writeFloatBE=function(Y,P,re){return J(this,Y,P,!1,re)},s.prototype.writeDoubleLE=function(Y,P,re){return ne(this,Y,P,!0,re)},s.prototype.writeDoubleBE=function(Y,P,re){return ne(this,Y,P,!1,re)},s.prototype.copy=function(Y,P,re,ge){if(!s.isBuffer(Y))throw new TypeError("argument should be a Buffer");if(re=re||0,ge||0===ge||(ge=this.length),P>=Y.length&&(P=Y.length),(ge=0<ge&&ge<re?re:ge)===re||0===Y.length||0===this.length)return 0;if((P=P||0)<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length);var Te=(ge=Y.length-P<ge-re?Y.length-P+re:ge)-re;if(this===Y&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(P,re,ge);else if(this===Y&&re<P&&P<ge)for(var Ge=Te-1;0<=Ge;--Ge)Y[Ge+P]=this[Ge+re];else Uint8Array.prototype.set.call(Y,this.subarray(re,ge),P);return Te},s.prototype.fill=function(Y,P,re,ge){if("string"==typeof Y){if("string"==typeof P?(ge=P,P=0,re=this.length):"string"==typeof re&&(ge=re,re=this.length),void 0!==ge&&"string"!=typeof ge)throw new TypeError("encoding must be a string");if("string"==typeof ge&&!s.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);var Te;1===Y.length&&(Te=Y.charCodeAt(0),("utf8"===ge&&Te<128||"latin1"===ge)&&(Y=Te))}else"number"==typeof Y?Y&=255:"boolean"==typeof Y&&(Y=Number(Y));if(P<0||this.length<P||this.length<re)throw new RangeError("Out of range index");var Ge;if(!(re<=P))if(P>>>=0,re=void 0===re?this.length:re>>>0,"number"==typeof(Y=Y||0))for(Ge=P;Ge<re;++Ge)this[Ge]=Y;else{var qe=s.isBuffer(Y)?Y:s.from(Y,ge),ht=qe.length;if(0===ht)throw new TypeError('The value "'+Y+'" is invalid for argument "value"');for(Ge=0;Ge<re-P;++Ge)this[Ge+P]=qe[Ge%ht]}return this};var z=/[^+/0-9A-Za-z-_]/g;function ee(Y,P){P=P||1/0;for(var re,ge=Y.length,Te=null,Ge=[],qe=0;qe<ge;++qe){if(55295<(re=Y.charCodeAt(qe))&&re<57344){if(!Te){if(56319<re){-1<(P-=3)&&Ge.push(239,191,189);continue}if(qe+1===ge){-1<(P-=3)&&Ge.push(239,191,189);continue}Te=re;continue}if(re<56320){-1<(P-=3)&&Ge.push(239,191,189),Te=re;continue}re=65536+(Te-55296<<10|re-56320)}else Te&&-1<(P-=3)&&Ge.push(239,191,189);if(Te=null,re<128){if(--P<0)break;Ge.push(re)}else if(re<2048){if((P-=2)<0)break;Ge.push(re>>6|192,63&re|128)}else if(re<65536){if((P-=3)<0)break;Ge.push(re>>12|224,re>>6&63|128,63&re|128)}else{if(!(re<1114112))throw new Error("Invalid code point");if((P-=4)<0)break;Ge.push(re>>18|240,re>>12&63|128,re>>6&63|128,63&re|128)}}return Ge}function H(Y){return b.toByteArray(function(P){if((P=(P=P.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;P.length%4!=0;)P+="=";return P}(Y))}function G(Y,P,re,ge){for(var Te=0;Te<ge&&!(Te+re>=P.length||Te>=Y.length);++Te)P[Te+re]=Y[Te];return Te}function K(Y,P){return Y instanceof P||null!=Y&&null!=Y.constructor&&null!=Y.constructor.name&&Y.constructor.name===P.name}function le(Y){return Y!=Y}var Oe=function(){for(var Y="0123456789abcdef",P=new Array(256),re=0;re<16;++re)for(var ge=16*re,Te=0;Te<16;++Te)P[ge+Te]=Y[re]+Y[Te];return P}()}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(o,ie,$){ie.exports=function(v){if("function"!=typeof v)throw TypeError(String(v)+" is not a function");return v}},{}],6:[function(o,ie,$){var v=o("../internals/is-object");ie.exports=function(b){if(v(b)||null===b)return b;throw TypeError("Can't set "+String(b)+" as a prototype")}},{"../internals/is-object":75}],7:[function(g,ie,$){var v=g("../internals/well-known-symbol"),b=g("../internals/object-create"),y=(g=g("../internals/object-define-property"),v("unscopables")),C=Array.prototype;null==C[y]&&g.f(C,y,{configurable:!0,value:b(null)}),ie.exports=function(_){C[y][_]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(o,ie,$){"use strict";var v=o("../internals/string-multibyte").charAt;ie.exports=function(b,g,y){return g+(y?v(b,g).length:1)}},{"../internals/string-multibyte":125}],9:[function(o,ie,$){ie.exports=function(v,b,g){if(v instanceof b)return v;throw TypeError("Incorrect "+(g?g+" ":"")+"invocation")}},{}],10:[function(o,ie,$){var v=o("../internals/is-object");ie.exports=function(b){if(v(b))return b;throw TypeError(String(b)+" is not an object")}},{"../internals/is-object":75}],11:[function(o,ie,$){ie.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(k,ie,$){"use strict";function v(ne){return _(ne)&&s(J,l(ne))}var b,g=k("../internals/array-buffer-native"),y=k("../internals/descriptors"),C=k("../internals/global"),_=k("../internals/is-object"),s=k("../internals/has"),l=k("../internals/classof"),a=k("../internals/create-non-enumerable-property"),d=k("../internals/redefine"),c=k("../internals/object-define-property").f,u=k("../internals/object-get-prototype-of"),h=k("../internals/object-set-prototype-of"),B=k("../internals/well-known-symbol"),p=(k=k("../internals/uid"),C.Int8Array),m=p&&p.prototype,w=(w=C.Uint8ClampedArray)&&w.prototype,R=p&&u(p),E=m&&u(m),M=Object.prototype,A=M.isPrototypeOf,j=(B=B("toStringTag"),k("TYPED_ARRAY_TAG")),N=g&&!!h&&"Opera"!==l(C.opera),J=(k=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(b in J)C[b]||(N=!1);if((!N||"function"!=typeof R||R===Function.prototype)&&(R=function(){throw TypeError("Incorrect invocation")},N))for(b in J)C[b]&&h(C[b],R);if((!N||!E||E===M)&&(E=R.prototype,N))for(b in J)C[b]&&h(C[b].prototype,E);if(N&&u(w)!==E&&h(w,E),y&&!s(E,B))for(b in k=!0,c(E,B,{get:function(){return _(this)?this[j]:void 0}}),J)C[b]&&a(C[b],j,b);ie.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:k&&j,aTypedArray:function(ne){if(v(ne))return ne;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(ne){if(h){if(A.call(R,ne))return ne}else for(var z in J)if(s(J,b)&&(z=C[z])&&(ne===z||A.call(z,ne)))return ne;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(ne,z,ee){if(y){if(ee)for(var H in J)(H=C[H])&&s(H.prototype,ne)&&delete H.prototype[ne];E[ne]&&!ee||d(E,ne,!ee&&N&&m[ne]||z)}},exportTypedArrayStaticMethod:function(ne,z,ee){var H,G;if(y){if(h){if(ee)for(H in J)(G=C[H])&&s(G,ne)&&delete G[ne];if(R[ne]&&!ee)return;try{return d(R,ne,!ee&&N&&p[ne]||z)}catch{}}for(H in J)!(G=C[H])||G[ne]&&!ee||d(G,ne,z)}},isView:function(ne){return"DataView"===(ne=l(ne))||s(J,ne)},isTypedArray:v,TypedArray:R,TypedArrayPrototype:E}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(re,ie,$){"use strict";function v(Be){return[255&Be]}function b(Be){return[255&Be,Be>>8&255]}function g(Be){return[255&Be,Be>>8&255,Be>>16&255,Be>>24&255]}function y(Be){return Be[3]<<24|Be[2]<<16|Be[1]<<8|Be[0]}function C(Be){return Ge(Be,23,4)}function _(Be){return Ge(Be,52,8)}function s(Be,Qe){k(Be[K],Qe,{get:function(){return z(this)[Qe]}})}function l(Ct,Qe,yt,ot){if((yt=M(yt))+Qe>(Ct=z(Ct)).byteLength)throw Te(le);return Ct=z(Ct.buffer).bytes.slice(yt+=Ct.byteOffset,yt+Qe),ot?Ct:Ct.reverse()}function a(Be,Qe,Je,ot,Ze,yt){if((Je=M(Je))+Qe>(Be=z(Be)).byteLength)throw Te(le);for(var Ct=z(Be.buffer).bytes,sn=Je+Be.byteOffset,$t=ot(+Ze),un=0;un<Qe;un++)Ct[sn+un]=$t[yt?un:Qe-un-1]}var d=re("../internals/global"),c=re("../internals/descriptors"),u=re("../internals/array-buffer-native"),h=re("../internals/create-non-enumerable-property"),p=re("../internals/redefine-all"),m=re("../internals/fails"),w=re("../internals/an-instance"),R=re("../internals/to-integer"),E=re("../internals/to-length"),M=re("../internals/to-index"),A=re("../internals/ieee754"),B=re("../internals/object-get-prototype-of"),j=re("../internals/object-set-prototype-of"),N=re("../internals/object-get-own-property-names").f,k=re("../internals/object-define-property").f,J=re("../internals/array-fill"),ne=re("../internals/set-to-string-tag"),z=(re=re("../internals/internal-state")).get,ee=re.set,H="ArrayBuffer",G="DataView",K="prototype",le="Wrong index",Oe=d[H],Y=Oe,P=d[G],ge=(re=P&&P[K],Object.prototype),Te=d.RangeError,Ge=A.pack,qe=A.unpack;if(u){if(!m(function(){Oe(1)})||!m(function(){new Oe(-1)})||m(function(){return new Oe,new Oe(1.5),new Oe(NaN),Oe.name!=H})){d=(Y=function(Je){return w(this,Y),new Oe(M(Je))})[K]=Oe[K];for(var ht,ze=N(Oe),st=0;ze.length>st;)(ht=ze[st++])in Y||h(Y,ht,Oe[ht]);d.constructor=Y}j&&B(re)!==ge&&j(re,ge),A=new P(new Y(2));var lt=re.setInt8;A.setInt8(0,2147483648),A.setInt8(1,2147483649),!A.getInt8(0)&&A.getInt8(1)||p(re,{setInt8:function(Qe,Je){lt.call(this,Qe,Je<<24>>24)},setUint8:function(Qe,Je){lt.call(this,Qe,Je<<24>>24)}},{unsafe:!0})}else Y=function(Be){w(this,Y,H),Be=M(Be),ee(this,{bytes:J.call(new Array(Be),0),byteLength:Be}),c||(this.byteLength=Be)},P=function(Be,Ze,Je){w(this,P,G),w(Be,Y,G);var ot=z(Be).byteLength;if((Ze=R(Ze))<0||ot<Ze)throw Te("Wrong offset");if(ot<Ze+(Je=void 0===Je?ot-Ze:E(Je)))throw Te("Wrong length");ee(this,{buffer:Be,byteLength:Je,byteOffset:Ze}),c||(this.buffer=Be,this.byteLength=Je,this.byteOffset=Ze)},c&&(s(Y,"byteLength"),s(P,"buffer"),s(P,"byteLength"),s(P,"byteOffset")),p(P[K],{getInt8:function(Be){return l(this,1,Be)[0]<<24>>24},getUint8:function(Be){return l(this,1,Be)[0]},getInt16:function(Be){return((Be=l(this,2,Be,1<arguments.length?arguments[1]:void 0))[1]<<8|Be[0])<<16>>16},getUint16:function(Be){return(Be=l(this,2,Be,1<arguments.length?arguments[1]:void 0))[1]<<8|Be[0]},getInt32:function(Be){return y(l(this,4,Be,1<arguments.length?arguments[1]:void 0))},getUint32:function(Be){return y(l(this,4,Be,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Be){return qe(l(this,4,Be,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Be){return qe(l(this,8,Be,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Be,Qe){a(this,1,Be,v,Qe)},setUint8:function(Be,Qe){a(this,1,Be,v,Qe)},setInt16:function(Be,Qe){a(this,2,Be,b,Qe,2<arguments.length?arguments[2]:void 0)},setUint16:function(Be,Qe){a(this,2,Be,b,Qe,2<arguments.length?arguments[2]:void 0)},setInt32:function(Be,Qe){a(this,4,Be,g,Qe,2<arguments.length?arguments[2]:void 0)},setUint32:function(Be,Qe){a(this,4,Be,g,Qe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Be,Qe){a(this,4,Be,C,Qe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Be,Qe){a(this,8,Be,_,Qe,2<arguments.length?arguments[2]:void 0)}});ne(Y,H),ne(P,G),ie.exports={ArrayBuffer:Y,DataView:P}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(o,ie,$){"use strict";var v=o("../internals/to-object"),b=o("../internals/to-absolute-index"),g=o("../internals/to-length"),y=Math.min;ie.exports=[].copyWithin||function(c,_){var s=v(this),l=g(s.length),a=b(c,l),d=b(_,l),u=y((void 0===(c=2<arguments.length?arguments[2]:void 0)?l:b(c,l))-d,l-a),h=1;for(d<a&&a<d+u&&(h=-1,d+=u-1,a+=u-1);0<u--;)d in s?s[a]=s[d]:delete s[a],a+=h,d+=h;return s}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(o,ie,$){"use strict";var v=o("../internals/to-object"),b=o("../internals/to-absolute-index"),g=o("../internals/to-length");ie.exports=function(y){for(var l,C=v(this),_=g(C.length),s=b(1<(l=arguments.length)?arguments[1]:void 0,_),a=void 0===(l=2<l?arguments[2]:void 0)?_:b(l,_);s<a;)C[s++]=y;return C}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(g,ie,$){"use strict";var v=g("../internals/array-iteration").forEach,b=g("../internals/array-method-is-strict");g=g("../internals/array-method-uses-to-length"),b=b("forEach"),g=g("forEach"),ie.exports=b&&g?[].forEach:function(y){return v(this,y,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(o,ie,$){"use strict";var v=o("../internals/function-bind-context"),b=o("../internals/to-object"),g=o("../internals/call-with-safe-iteration-closing"),y=o("../internals/is-array-iterator-method"),C=o("../internals/to-length"),_=o("../internals/create-property"),s=o("../internals/get-iterator-method");ie.exports=function(w){var a,d,c,u,h,p,m=b(w),R=(w="function"==typeof this?this:Array,arguments.length),E=1<R?arguments[1]:void 0,M=void 0!==E,A=s(m),B=0;if(M&&(E=v(E,2<R?arguments[2]:void 0,2)),null==A||w==Array&&y(A))for(d=new w(a=C(m.length));B<a;B++)p=M?E(m[B],B):m[B],_(d,B,p);else for(h=(u=A.call(m)).next,d=new w;!(c=h.call(u)).done;B++)p=M?g(u,E,[c.value,B],!0):c.value,_(d,B,p);return d.length=B,d}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(o,ie,$){function v(C){return function(_,s,l){var a,d=b(_),c=g(d.length),u=y(l,c);if(C&&s!=s){for(;u<c;)if((a=d[u++])!=a)return!0}else for(;u<c;u++)if((C||u in d)&&d[u]===s)return C||u||0;return!C&&-1}}var b=o("../internals/to-indexed-object"),g=o("../internals/to-length"),y=o("../internals/to-absolute-index");ie.exports={includes:v(!0),indexOf:v(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(o,ie,$){function v(l){var a=1==l,d=2==l,c=3==l,u=4==l,h=6==l,p=5==l||h;return function(m,w,R,E){for(var M,A,B=y(m),j=g(B),N=b(w,R,3),k=C(j.length),J=0,ne=(w=E||_,a?w(m,k):d?w(m,0):void 0);J<k;J++)if((p||J in j)&&(A=N(M=j[J],J,B),l))if(a)ne[J]=A;else if(A)switch(l){case 3:return!0;case 5:return M;case 6:return J;case 2:s.call(ne,M)}else if(u)return!1;return h?-1:c||u?u:ne}}var b=o("../internals/function-bind-context"),g=o("../internals/indexed-object"),y=o("../internals/to-object"),C=o("../internals/to-length"),_=o("../internals/array-species-create"),s=[].push;ie.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(l,ie,$){"use strict";var v=l("../internals/to-indexed-object"),b=l("../internals/to-integer"),g=l("../internals/to-length"),s=l("../internals/array-method-is-strict"),y=(l=l("../internals/array-method-uses-to-length"),Math.min),C=[].lastIndexOf,_=!!C&&1/[1].lastIndexOf(1,-0)<0;s=s("lastIndexOf"),l=l("indexOf",{ACCESSORS:!0,1:0}),ie.exports=!_&&s&&l?C:function(a){if(_)return C.apply(this,arguments)||0;var d=v(this),c=g(d.length),u=c-1;for((u=1<arguments.length?y(u,b(arguments[1])):u)<0&&(u=c+u);0<=u;u--)if(u in d&&d[u]===a)return u||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(o,ie,$){var v=o("../internals/fails"),b=o("../internals/well-known-symbol"),g=o("../internals/engine-v8-version"),y=b("species");ie.exports=function(C){return 51<=g||!v(function(){var _=[];return(_.constructor={})[y]=function(){return{foo:1}},1!==_[C](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(o,ie,$){"use strict";var v=o("../internals/fails");ie.exports=function(b,g){var y=[][b];return!!y&&v(function(){y.call(null,g||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(o,ie,$){function v(s){throw s}var b=o("../internals/descriptors"),g=o("../internals/fails"),y=o("../internals/has"),C=Object.defineProperty,_={};ie.exports=function(s,l){var a,d,c,u;return y(_,s)?_[s]:(a=[][s],d=!!y(l=l||{},"ACCESSORS")&&l.ACCESSORS,c=y(l,0)?l[0]:v,u=y(l,1)?l[1]:void 0,_[s]=!!a&&!g(function(){if(d&&!b)return!0;var h={length:-1};d?C(h,1,{enumerable:!0,get:v}):h[1]=1,a.call(h,c,u)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(o,ie,$){function v(_){return function(s,l,a,d){b(l);var c=g(s),u=y(c),h=C(c.length),p=_?h-1:0,m=_?-1:1;if(a<2)for(;;){if(p in u){d=u[p],p+=m;break}if(p+=m,_?p<0:h<=p)throw TypeError("Reduce of empty array with no initial value")}for(;_?0<=p:p<h;p+=m)p in u&&(d=l(d,u[p],p,c));return d}}var b=o("../internals/a-function"),g=o("../internals/to-object"),y=o("../internals/indexed-object"),C=o("../internals/to-length");ie.exports={left:v(!1),right:v(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(o,ie,$){var v=o("../internals/is-object"),b=o("../internals/is-array"),g=o("../internals/well-known-symbol")("species");ie.exports=function(y,C){var _;return new(void 0===(_=b(y)&&("function"==typeof(_=y.constructor)&&(_===Array||b(_.prototype))||v(_)&&null===(_=_[g]))?void 0:_)?Array:_)(0===C?0:C)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(o,ie,$){var v=o("../internals/an-object");ie.exports=function(b,g,y,C){try{return C?g(v(y)[0],y[1]):g(y)}catch(_){throw void 0!==(C=b.return)&&v(C.call(b)),_}}},{"../internals/an-object":10}],27:[function(o,ie,$){var v=o("../internals/well-known-symbol")("iterator"),b=!1;try{var g=0,y={next:function(){return{done:!!g++}},return:function(){b=!0}};y[v]=function(){return this},Array.from(y,function(){throw 2})}catch{}ie.exports=function(C,_){if(!_&&!b)return!1;var s=!1;try{var l={};l[v]=function(){return{next:function(){return{done:s=!0}}}},C(l)}catch{}return s}},{"../internals/well-known-symbol":150}],28:[function(o,ie,$){var v={}.toString;ie.exports=function(b){return v.call(b).slice(8,-1)}},{}],29:[function(o,ie,$){var v=o("../internals/to-string-tag-support"),b=o("../internals/classof-raw"),g=o("../internals/well-known-symbol")("toStringTag"),y="Arguments"==b(function(){return arguments}());ie.exports=v?b:function(C){var _;return void 0===C?"Undefined":null===C?"Null":"string"==typeof(_=function(s,l){try{return s[l]}catch{}}(C=Object(C),g))?_:y?b(C):"Object"==(_=b(C))&&"function"==typeof C.callee?"Arguments":_}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(c,ie,$){"use strict";var v=c("../internals/object-define-property").f,b=c("../internals/object-create"),g=c("../internals/redefine-all"),y=c("../internals/function-bind-context"),C=c("../internals/an-instance"),_=c("../internals/iterate"),s=c("../internals/define-iterator"),l=c("../internals/set-species"),a=c("../internals/descriptors"),d=c("../internals/internal-metadata").fastKey,u=(c=c("../internals/internal-state")).set,h=c.getterFor;ie.exports={getConstructor:function(p,m,w,R){function E(j,N,k){var J,ne=B(j),z=M(j,N);return z?z.value=k:(ne.last=z={index:J=d(N,!0),key:N,value:k,previous:N=ne.last,next:void 0,removed:!1},ne.first||(ne.first=z),N&&(N.next=z),a?ne.size++:j.size++,"F"!==J&&(ne.index[J]=z)),j}function M(J,N){J=B(J);var k,ne=d(N);if("F"!==ne)return J.index[ne];for(k=J.first;k;k=k.next)if(k.key==N)return k}var A=p(function(j,N){C(j,A,m),u(j,{type:m,index:b(null),first:void 0,last:void 0,size:0}),a||(j.size=0),null!=N&&_(N,j[R],j,w)}),B=h(m);return g(A.prototype,{clear:function(){for(var j=B(this),N=j.index,k=j.first;k;)k.removed=!0,k.previous&&(k.previous=k.previous.next=void 0),delete N[k.index],k=k.next;j.first=j.last=void 0,a?j.size=0:this.size=0},delete:function(ne){var N,k,J=B(this);return(ne=M(this,ne))&&(N=ne.next,k=ne.previous,delete J.index[ne.index],ne.removed=!0,k&&(k.next=N),N&&(N.previous=k),J.first==ne&&(J.first=N),J.last==ne&&(J.last=k),a?J.size--:this.size--),!!ne},forEach:function(j){for(var N,k=B(this),J=y(j,1<arguments.length?arguments[1]:void 0,3);N=N?N.next:k.first;)for(J(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(j){return!!M(this,j)}}),g(A.prototype,w?{get:function(j){return(j=M(this,j))&&j.value},set:function(j,N){return E(this,0===j?0:j,N)}}:{add:function(j){return E(this,j=0===j?0:j,j)}}),a&&v(A.prototype,"size",{get:function(){return B(this).size}}),A},setStrong:function(p,m,w){var R=m+" Iterator",E=h(m),M=h(R);s(p,m,function(A,B){u(this,{type:R,target:A,state:E(A),kind:B,last:void 0})},function(){for(var A=M(this),B=A.kind,j=A.last;j&&j.removed;)j=j.previous;return A.target&&(A.last=j=j?j.next:A.state.first)?"keys"==B?{value:j.key,done:!1}:"values"==B?{value:j.value,done:!1}:{value:[j.key,j.value],done:!1}:{value:A.target=void 0,done:!0}},w?"entries":"values",!w,!0),l(m)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(u,ie,$){"use strict";function v(E){return E.frozen||(E.frozen=new b)}function b(){this.entries=[]}function g(E,M){return m(E.entries,function(A){return A[0]===M})}var y=u("../internals/redefine-all"),C=u("../internals/internal-metadata").getWeakData,_=u("../internals/an-object"),s=u("../internals/is-object"),l=u("../internals/an-instance"),a=u("../internals/iterate"),d=u("../internals/array-iteration"),c=u("../internals/has"),h=(u=u("../internals/internal-state")).set,p=u.getterFor,m=d.find,w=d.findIndex,R=0;b.prototype={get:function(E){if(E=g(this,E))return E[1]},has:function(E){return!!g(this,E)},set:function(E,M){var A=g(this,E);A?A[1]=M:this.entries.push([E,M])},delete:function(E){var M=w(this.entries,function(A){return A[0]===E});return~M&&this.entries.splice(M,1),!!~M}},ie.exports={getConstructor:function(E,M,A,B){function j(J,ne,z){var ee=k(J),H=C(_(ne),!0);return!0===H?v(ee).set(ne,z):H[ee.id]=z,J}var N=E(function(J,ne){l(J,N,M),h(J,{type:M,id:R++,frozen:void 0}),null!=ne&&a(ne,J[B],J,A)}),k=p(M);return y(N.prototype,{delete:function(J){var ne,z=k(this);return!!s(J)&&(!0===(ne=C(J))?v(z).delete(J):ne&&c(ne,z.id)&&delete ne[z.id])},has:function(J){var ne,z=k(this);return!!s(J)&&(!0===(ne=C(J))?v(z).has(J):ne&&c(ne,z.id))}}),y(N.prototype,A?{get:function(J){var ne,z=k(this);if(s(J))return!0===(ne=C(J))?v(z).get(J):ne?ne[z.id]:void 0},set:function(J,ne){return j(this,J,ne)}}:{add:function(J){return j(this,J,!0)}}),N}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/global"),g=o("../internals/is-forced"),y=o("../internals/redefine"),C=o("../internals/internal-metadata"),_=o("../internals/iterate"),s=o("../internals/an-instance"),l=o("../internals/is-object"),a=o("../internals/fails"),d=o("../internals/check-correctness-of-iteration"),c=o("../internals/set-to-string-tag"),u=o("../internals/inherit-if-required");ie.exports=function(h,p,m){function w(H){var G=ne[H];y(ne,H,"add"==H?function(K){return G.call(this,0===K?0:K),this}:"delete"==H?function(K){return!(N&&!l(K))&&G.call(this,0===K?0:K)}:"get"==H?function(K){return N&&!l(K)?void 0:G.call(this,0===K?0:K)}:"has"==H?function(K){return!(N&&!l(K))&&G.call(this,0===K?0:K)}:function(K,le){return G.call(this,0===K?0:K,le),this})}var R,E,M,A,B,j=-1!==h.indexOf("Map"),N=-1!==h.indexOf("Weak"),k=j?"set":"add",J=b[h],ne=J&&J.prototype,z=J,ee={};return g(h,"function"!=typeof J||!(N||ne.forEach&&!a(function(){(new J).entries().next()})))?(z=m.getConstructor(p,h,j,k),C.REQUIRED=!0):g(h,!0)&&(E=(R=new z)[k](N?{}:-0,1)!=R,M=a(function(){R.has(1)}),A=d(function(H){new J(H)}),B=!N&&a(function(){for(var H=new J,G=5;G--;)H[k](G,G);return!H.has(-0)}),A||(((z=p(function(H,G){return s(H,z,h),H=u(new J,H,z),null!=G&&_(G,H[k],H,j),H})).prototype=ne).constructor=z),(M||B)&&(w("delete"),w("has"),j&&w("get")),(B||E)&&w(k),N&&ne.clear&&delete ne.clear),ee[h]=z,v({global:!0,forced:z!=J},ee),c(z,h),N||m.setStrong(z,h,j),z}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(o,ie,$){var v=o("../internals/has"),b=o("../internals/own-keys"),g=o("../internals/object-get-own-property-descriptor"),y=o("../internals/object-define-property");ie.exports=function(C,_){for(var s=b(_),l=y.f,a=g.f,d=0;d<s.length;d++){var c=s[d];v(C,c)||l(C,c,a(_,c))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(o,ie,$){var v=o("../internals/well-known-symbol")("match");ie.exports=function(b){var g=/./;try{"/./"[b](g)}catch{try{return g[v]=!1,"/./"[b](g)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(o,ie,$){o=o("../internals/fails"),ie.exports=!o(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},{"../internals/fails":51}],36:[function(o,ie,$){var v=o("../internals/require-object-coercible"),b=/"/g;ie.exports=function(s,y,C,_){s=String(v(s));var l="<"+y;return""!==C&&(l+=" "+C+'="'+String(_).replace(b,"&quot;")+'"'),l+">"+s+"</"+y+">"}},{"../internals/require-object-coercible":115}],37:[function(o,ie,$){"use strict";function v(){return this}var b=o("../internals/iterators-core").IteratorPrototype,g=o("../internals/object-create"),y=o("../internals/create-property-descriptor"),C=o("../internals/set-to-string-tag"),_=o("../internals/iterators");ie.exports=function(s,l,a){return l+=" Iterator",s.prototype=g(b,{next:y(1,a)}),C(s,l,!1,!0),_[l]=v,s}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/object-define-property"),g=o("../internals/create-property-descriptor");ie.exports=v?function(y,C,_){return b.f(y,C,g(1,_))}:function(y,C,_){return y[C]=_,y}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(o,ie,$){ie.exports=function(v,b){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:b}}},{}],40:[function(o,ie,$){"use strict";var v=o("../internals/to-primitive"),b=o("../internals/object-define-property"),g=o("../internals/create-property-descriptor");ie.exports=function(y,C,_){(C=v(C))in y?b.f(y,C,g(0,_)):y[C]=_}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(u,ie,$){"use strict";function v(){return this}var b=u("../internals/export"),g=u("../internals/create-iterator-constructor"),y=u("../internals/object-get-prototype-of"),C=u("../internals/object-set-prototype-of"),_=u("../internals/set-to-string-tag"),s=u("../internals/create-non-enumerable-property"),l=u("../internals/redefine"),a=u("../internals/well-known-symbol"),d=u("../internals/is-pure"),c=u("../internals/iterators"),h=(u=u("../internals/iterators-core")).IteratorPrototype,p=u.BUGGY_SAFARI_ITERATORS,m=a("iterator"),w="values",R="entries";ie.exports=function(E,M,A,ee,j,N,k){function J(Y){if(Y===j&&le)return le;if(!p&&Y in G)return G[Y];switch(Y){case"keys":case w:case R:return function(){return new A(this,Y)}}return function(){return new A(this)}}g(A,M,ee),ee=M+" Iterator";var ne,z,H=!1,G=E.prototype,K=G[m]||G["@@iterator"]||j&&G[j],le=!p&&K||J(j),Oe="Array"==M&&G.entries||K;if(Oe&&(Oe=y(Oe.call(new E)),h!==Object.prototype&&Oe.next&&(d||y(Oe)===h||(C?C(Oe,h):"function"!=typeof Oe[m]&&s(Oe,m,v)),_(Oe,ee,!0,!0),d&&(c[ee]=v))),j==w&&K&&K.name!==w&&(H=!0,le=function(){return K.call(this)}),d&&!k||G[m]===le||s(G,m,le),c[M]=le,j)if(ne={values:J(w),keys:N?le:J("keys"),entries:J(R)},k)for(z in ne)!p&&!H&&z in G||l(G,z,ne[z]);else b({target:M,proto:!0,forced:p||H},ne);return ne}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(o,ie,$){var v=o("../internals/path"),b=o("../internals/has"),g=o("../internals/well-known-symbol-wrapped"),y=o("../internals/object-define-property").f;ie.exports=function(C){var _=v.Symbol||(v.Symbol={});b(_,C)||y(_,C,{value:g.f(C)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(o,ie,$){o=o("../internals/fails"),ie.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(b,ie,$){var v=b("../internals/global"),g=(b=b("../internals/is-object"),v.document),y=b(g)&&b(g.createElement);ie.exports=function(C){return y?g.createElement(C):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(o,ie,$){ie.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(o,ie,$){o=o("../internals/engine-user-agent"),ie.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},{"../internals/engine-user-agent":47}],47:[function(o,ie,$){o=o("../internals/get-built-in"),ie.exports=o("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(g,ie,$){var v,b,y=g("../internals/global");g=g("../internals/engine-user-agent"),(y=(y=(y=y.process)&&y.versions)&&y.v8)?b=(v=y.split("."))[0]+v[1]:g&&(!(v=g.match(/Edge\/(\d+)/))||74<=v[1])&&(v=g.match(/Chrome\/(\d+)/))&&(b=v[1]),ie.exports=b&&+b},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(o,ie,$){ie.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(o,ie,$){var v=o("../internals/global"),b=o("../internals/object-get-own-property-descriptor").f,g=o("../internals/create-non-enumerable-property"),y=o("../internals/redefine"),C=o("../internals/set-global"),_=o("../internals/copy-constructor-properties"),s=o("../internals/is-forced");ie.exports=function(l,a){var d,c,u,h=l.target,p=l.global,m=l.stat,w=p?v:m?v[h]||C(h,{}):(v[h]||{}).prototype;if(w)for(d in a){if(c=a[d],u=l.noTargetGet?(u=b(w,d))&&u.value:w[d],!s(p?d:h+(m?".":"#")+d,l.forced)&&void 0!==u){if(typeof c==typeof u)continue;_(c,u)}(l.sham||u&&u.sham)&&g(c,"sham",!0),y(w,d,c,l)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(o,ie,$){ie.exports=function(v){try{return!!v()}catch{return!0}}},{}],52:[function(a,ie,$){"use strict";a("../modules/es.regexp.exec");var v=a("../internals/redefine"),b=a("../internals/fails"),g=a("../internals/well-known-symbol"),y=a("../internals/regexp-exec"),C=a("../internals/create-non-enumerable-property"),_=g("species"),s=!b(function(){var u=/./;return u.exec=function(){var h=[];return h.groups={a:"7"},h},"7"!=="".replace(u,"$<a>")}),l="$0"==="a".replace(/./,"$0"),d=!!/./[a=g("replace")]&&""===/./[a]("a","$0"),c=!b(function(){var u=(h=/(?:)/).exec,h=(h.exec=function(){return u.apply(this,arguments)},"ab".split(h));return 2!==h.length||"a"!==h[0]||"b"!==h[1]});ie.exports=function(u,h,p,m){var w,R,E=g(u),M=!b(function(){var B={};return B[E]=function(){return 7},7!=""[u](B)}),A=M&&!b(function(){var B=!1,j=/a/;return"split"===u&&((j={constructor:{}}).constructor[_]=function(){return j},j.flags="",j[E]=/./[E]),j.exec=function(){return B=!0,null},j[E](""),!B});M&&A&&("replace"!==u||s&&l&&!d)&&("split"!==u||c)||(w=/./[E],p=(A=p(E,""[u],function(B,j,N,k,J){return j.exec===y?M&&!J?{done:!0,value:w.call(j,N,k)}:{done:!0,value:B.call(N,j,k)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}))[0],R=A[1],v(String.prototype,u,p),v(RegExp.prototype,E,2==h?function(B,j){return R.call(B,this,j)}:function(B){return R.call(B,this)})),m&&C(RegExp.prototype[E],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(o,ie,$){"use strict";var b=o("../internals/is-array"),g=o("../internals/to-length"),y=o("../internals/function-bind-context");ie.exports=function v(C,_,s,l,a,d,c,u){for(var h,p=a,m=0,w=!!c&&y(c,u,3);m<l;){if(m in s){if(h=w?w(s[m],m,_):s[m],0<d&&b(h))p=v(C,_,h,g(h.length),p,d-1)-1;else{if(9007199254740991<=p)throw TypeError("Exceed the acceptable array length");C[p]=h}p++}m++}return p}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(o,ie,$){o=o("../internals/fails"),ie.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(o,ie,$){var v=o("../internals/a-function");ie.exports=function(b,g,y){if(v(b),void 0===g)return b;switch(y){case 0:return function(){return b.call(g)};case 1:return function(C){return b.call(g,C)};case 2:return function(C,_){return b.call(g,C,_)};case 3:return function(C,_,s){return b.call(g,C,_,s)}}return function(){return b.apply(g,arguments)}}},{"../internals/a-function":5}],56:[function(o,ie,$){"use strict";var v=o("../internals/a-function"),b=o("../internals/is-object"),g=[].slice,y={};ie.exports=Function.bind||function(C){var _=v(this),s=g.call(arguments,1),l=function(){var a=s.concat(g.call(arguments));if(this instanceof l){var d=_,c=a.length,u=a;if(!(c in y)){for(var h=[],p=0;p<c;p++)h[p]="a["+p+"]";y[c]=Function("C,a","return new C("+h.join(",")+")")}return y[c](d,u)}return _.apply(C,a)};return b(_.prototype)&&(l.prototype=_.prototype),l}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(o,ie,$){function v(y){return"function"==typeof y?y:void 0}var b=o("../internals/path"),g=o("../internals/global");ie.exports=function(y,C){return arguments.length<2?v(b[y])||v(g[y]):b[y]&&b[y][C]||g[y]&&g[y][C]}},{"../internals/global":60,"../internals/path":106}],58:[function(o,ie,$){var v=o("../internals/classof"),b=o("../internals/iterators"),g=o("../internals/well-known-symbol")("iterator");ie.exports=function(y){if(null!=y)return y[g]||y["@@iterator"]||b[v(y)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(o,ie,$){var v=o("../internals/an-object"),b=o("../internals/get-iterator-method");ie.exports=function(g){var y=b(g);if("function"!=typeof y)throw TypeError(String(g)+" is not iterable");return v(y.call(g))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(o,ie,$){(function(v){function b(g){return g&&g.Math==Math&&g}ie.exports=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof v&&v)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(o,ie,$){var v={}.hasOwnProperty;ie.exports=function(b,g){return v.call(b,g)}},{}],62:[function(o,ie,$){ie.exports={}},{}],63:[function(o,ie,$){var v=o("../internals/global");ie.exports=function(b,g){var y=v.console;y&&y.error&&(1===arguments.length?y.error(b):y.error(b,g))}},{"../internals/global":60}],64:[function(o,ie,$){o=o("../internals/get-built-in"),ie.exports=o("document","documentElement")},{"../internals/get-built-in":57}],65:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/fails"),g=o("../internals/document-create-element");ie.exports=!v&&!b(function(){return 7!=Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(o,ie,$){var v=Math.abs,b=Math.pow,g=Math.floor,y=Math.log,C=Math.LN2;ie.exports={pack:function(_,s,p){var a,d,c,u=new Array(p),h=8*p-s-1,m=(p=(1<<h)-1)>>1,w=23===s?b(2,-24)-b(2,-77):0,R=_<0||0===_&&1/_<0?1:0,E=0;for((_=v(_))!=_||_===1/0?(d=_!=_?1:0,a=p):(a=g(y(_)/C),_*(c=b(2,-a))<1&&(a--,c*=2),2<=(_+=1<=a+m?w/c:w*b(2,1-m))*c&&(a++,c/=2),p<=a+m?(d=0,a=p):1<=a+m?(d=(_*c-1)*b(2,s),a+=m):(d=_*b(2,m-1)*b(2,s),a=0));8<=s;u[E++]=255&d,d/=256,s-=8);for(a=a<<s|d,h+=s;0<h;u[E++]=255&a,a/=256,h-=8);return u[--E]|=128*R,u},unpack:function(_,s){var l,p,a=_.length,d=(1<<(p=8*a-s-1))-1,c=d>>1,u=p-7,h=a-1,m=127&(p=_[h--]);for(p>>=7;0<u;m=256*m+_[h],h--,u-=8);for(l=m&(1<<-u)-1,m>>=-u,u+=s;0<u;l=256*l+_[h],h--,u-=8);if(0===m)m=1-c;else{if(m===d)return l?NaN:p?-1/0:1/0;l+=b(2,s),m-=c}return(p?-1:1)*l*b(2,m-s)}}},{}],67:[function(o,ie,$){var v=o("../internals/fails"),b=o("../internals/classof-raw"),g="".split;ie.exports=v(function(){return!Object("z").propertyIsEnumerable(0)})?function(y){return"String"==b(y)?g.call(y,""):Object(y)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(o,ie,$){var v=o("../internals/is-object"),b=o("../internals/object-set-prototype-of");ie.exports=function(g,y,C){return b&&"function"==typeof(y=y.constructor)&&y!==C&&v(y=y.prototype)&&y!==C.prototype&&b(g,y),g}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(v,ie,$){v=v("../internals/shared-store");var b=Function.toString;"function"!=typeof v.inspectSource&&(v.inspectSource=function(g){return b.call(g)}),ie.exports=v.inspectSource},{"../internals/shared-store":121}],70:[function(o,ie,$){function v(u){C(u,l,{value:{objectID:"O"+ ++a,weakData:{}}})}var b=o("../internals/hidden-keys"),g=o("../internals/is-object"),y=o("../internals/has"),C=o("../internals/object-define-property").f,_=o("../internals/uid"),s=o("../internals/freezing"),l=_("meta"),a=0,d=Object.isExtensible||function(){return!0},c=ie.exports={REQUIRED:!1,fastKey:function(u,h){if(!g(u))return"symbol"==typeof u?u:("string"==typeof u?"S":"P")+u;if(!y(u,l)){if(!d(u))return"F";if(!h)return"E";v(u)}return u[l].objectID},getWeakData:function(u,h){if(!y(u,l)){if(!d(u))return!0;if(!h)return!1;v(u)}return u[l].weakData},onFreeze:function(u){return s&&c.REQUIRED&&d(u)&&!y(u,l)&&v(u),u}};b[l]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(p,ie,$){var v,b,g,y,C,_,s,l,a=p("../internals/native-weak-map"),m=p("../internals/global"),d=p("../internals/is-object"),c=p("../internals/create-non-enumerable-property"),u=p("../internals/has"),h=p("../internals/shared-key");p=p("../internals/hidden-keys"),m=m.WeakMap,s=a?(v=new m,b=v.get,g=v.has,y=v.set,C=function(w,R){return y.call(v,w,R),R},_=function(w){return b.call(v,w)||{}},function(w){return g.call(v,w)}):(p[l=h("state")]=!0,C=function(w,R){return c(w,l,R),R},_=function(w){return u(w,l)?w[l]:{}},function(w){return u(w,l)}),ie.exports={set:C,get:_,has:s,enforce:function(w){return s(w)?_(w):C(w,{})},getterFor:function(w){return function(R){if(d(R)&&(R=_(R)).type===w)return R;throw TypeError("Incompatible receiver, "+w+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(o,ie,$){var v=o("../internals/well-known-symbol"),b=o("../internals/iterators"),g=v("iterator"),y=Array.prototype;ie.exports=function(C){return void 0!==C&&(b.Array===C||y[g]===C)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(o,ie,$){var v=o("../internals/classof-raw");ie.exports=Array.isArray||function(b){return"Array"==v(b)}},{"../internals/classof-raw":28}],74:[function(o,ie,$){function v(l,a){return(l=C[y(l)])==s||l!=_&&("function"==typeof a?b(a):!!a)}var b=o("../internals/fails"),g=/#|\.prototype\./,y=v.normalize=function(l){return String(l).replace(g,".").toLowerCase()},C=v.data={},_=v.NATIVE="N",s=v.POLYFILL="P";ie.exports=v},{"../internals/fails":51}],75:[function(o,ie,$){ie.exports=function(v){return"object"==typeof v?null!==v:"function"==typeof v}},{}],76:[function(o,ie,$){ie.exports=!1},{}],77:[function(o,ie,$){var v=o("../internals/is-object"),b=o("../internals/classof-raw"),g=o("../internals/well-known-symbol")("match");ie.exports=function(y){var C;return v(y)&&(void 0!==(C=y[g])?!!C:"RegExp"==b(y))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(o,ie,$){function v(l,a){this.stopped=l,this.result=a}var b=o("../internals/an-object"),g=o("../internals/is-array-iterator-method"),y=o("../internals/to-length"),C=o("../internals/function-bind-context"),_=o("../internals/get-iterator-method"),s=o("../internals/call-with-safe-iteration-closing");(ie.exports=function(l,a,d,c,u){var h,p,m,w,R,E,M=C(a,d,c?2:1);if(u)h=l;else{if("function"!=typeof(a=_(l)))throw TypeError("Target is not iterable");if(g(a)){for(p=0,m=y(l.length);p<m;p++)if((w=c?M(b(E=l[p])[0],E[1]):M(l[p]))&&w instanceof v)return w;return new v(!1)}h=a.call(l)}for(R=h.next;!(E=R.call(h)).done;)if("object"==typeof(w=s(h,M,E.value,c))&&w&&w instanceof v)return w;return new v(!1)}).stop=function(l){return new v(!0,l)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(_,ie,$){"use strict";var v,b,g=_("../internals/object-get-prototype-of"),y=_("../internals/create-non-enumerable-property"),C=_("../internals/has"),s=_("../internals/well-known-symbol"),l=(_=_("../internals/is-pure"),s=s("iterator"),!1);[].keys&&("next"in(b=[].keys())?(g=g(g(b)))!==Object.prototype&&(v=g):l=!0),null==v&&(v={}),_||C(v,s)||y(v,s,function(){return this}),ie.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(o,ie,$){ie.exports={}},{}],81:[function(o,ie,$){ie.exports=Math.sign||function(v){return 0==(v=+v)||v!=v?v:v<0?-1:1}},{}],82:[function(c,ie,$){var v,b,g,y,C,_,s,l,a=c("../internals/global"),R=c("../internals/object-get-own-property-descriptor").f,w=c("../internals/classof-raw"),d=c("../internals/task").set,u=(c=c("../internals/engine-is-ios"),a.MutationObserver||a.WebKitMutationObserver),h=a.process,p=a.Promise,m="process"==w(h);w=R(a,"queueMicrotask"),(R=w&&w.value)||(v=function(){var E,M;for(m&&(E=h.domain)&&E.exit();b;){M=b.fn,b=b.next;try{M()}catch(A){throw b?y():g=void 0,A}}g=void 0,E&&E.enter()},y=m?function(){h.nextTick(v)}:u&&!c?(C=!0,_=document.createTextNode(""),new u(v).observe(_,{characterData:!0}),function(){_.data=C=!C}):p&&p.resolve?(s=p.resolve(void 0),l=s.then,function(){l.call(s,v)}):function(){d.call(a,v)}),ie.exports=R||function(E){E={fn:E,next:void 0},g&&(g.next=E),b||(b=E,y()),g=E}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(o,ie,$){o=o("../internals/global"),ie.exports=o.Promise},{"../internals/global":60}],84:[function(o,ie,$){o=o("../internals/fails"),ie.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(o,ie,$){var v=o("../internals/fails"),b=o("../internals/well-known-symbol"),g=o("../internals/is-pure"),y=b("iterator");ie.exports=!v(function(){var C=new URL("b?a=1&b=2&c=3","http://a"),_=C.searchParams,s="";return C.pathname="c%20d",_.forEach(function(l,a){_.delete("b"),s+=a+l}),g&&!C.toJSON||!_.sort||"http://a/c%20d?a=1&c=3"!==C.href||"3"!==_.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!_[y]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==s||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(v,ie,$){var b=v("../internals/global");v=v("../internals/inspect-source"),ie.exports="function"==typeof(b=b.WeakMap)&&/native code/.test(v(b))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(o,ie,$){"use strict";function v(g){var y,C;this.promise=new g(function(_,s){if(void 0!==y||void 0!==C)throw TypeError("Bad Promise constructor");y=_,C=s}),this.resolve=b(y),this.reject=b(C)}var b=o("../internals/a-function");ie.exports.f=function(g){return new v(g)}},{"../internals/a-function":5}],88:[function(o,ie,$){var v=o("../internals/is-regexp");ie.exports=function(b){if(v(b))throw TypeError("The method doesn't accept regular expressions");return b}},{"../internals/is-regexp":77}],89:[function(o,ie,$){var v=o("../internals/global").isFinite;ie.exports=Number.isFinite||function(b){return"number"==typeof b&&v(b)}},{"../internals/global":60}],90:[function(o,ie,$){"use strict";var v=o("../internals/descriptors"),b=o("../internals/fails"),g=o("../internals/object-keys"),y=o("../internals/object-get-own-property-symbols"),C=o("../internals/object-property-is-enumerable"),_=o("../internals/to-object"),s=o("../internals/indexed-object"),l=Object.assign,a=Object.defineProperty;ie.exports=!l||b(function(){var d,c,u,h;return!(!v||1===l({b:1},l(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(c={},h="abcdefghijklmnopqrst",(d={})[u=Symbol()]=7,h.split("").forEach(function(p){c[p]=p}),7!=l({},d)[u]||g(l({},c)).join("")!=h)})?function(d,c){for(var u=_(d),h=arguments.length,p=1,m=y.f,w=C.f;p<h;)for(var R,E=s(arguments[p++]),M=m?g(E).concat(m(E)):g(E),A=M.length,B=0;B<A;)R=M[B++],v&&!w.call(E,R)||(u[R]=E[R]);return u}:l},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(a,ie,$){function v(){}var b,g=a("../internals/an-object"),y=a("../internals/object-define-properties"),C=a("../internals/enum-bug-keys"),_=a("../internals/hidden-keys"),s=a("../internals/html"),l=a("../internals/document-create-element"),d=(a=a("../internals/shared-key"),"prototype"),c="script",u=a("IE_PROTO"),h=function(m){return"<"+c+">"+m+"</"+c+">"},p=function(){try{b=document.domain&&new ActiveXObject("htmlfile")}catch{}p=b?((m=b).write(h("")),m.close(),w=m.parentWindow.Object,m=null,w):(m=l("iframe"),w="java"+c+":",m.style.display="none",s.appendChild(m),m.src=String(w),(w=m.contentWindow.document).open(),w.write(h("document.F=Object")),w.close(),w.F);for(var m,w,R=C.length;R--;)delete p[d][C[R]];return p()};_[u]=!0,ie.exports=Object.create||function(m,w){var R;return null!==m?(v[d]=g(m),R=new v,v[d]=null,R[u]=m):R=p(),void 0===w?R:y(R,w)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/object-define-property"),g=o("../internals/an-object"),y=o("../internals/object-keys");ie.exports=v?Object.defineProperties:function(C,_){g(C);for(var s,l=y(_),a=l.length,d=0;d<a;)b.f(C,s=l[d++],_[s]);return C}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/ie8-dom-define"),g=o("../internals/an-object"),y=o("../internals/to-primitive"),C=Object.defineProperty;$.f=v?C:function(_,s,l){if(g(_),s=y(s,!0),g(l),b)try{return C(_,s,l)}catch{}if("get"in l||"set"in l)throw TypeError("Accessors not supported");return"value"in l&&(_[s]=l.value),_}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/object-property-is-enumerable"),g=o("../internals/create-property-descriptor"),y=o("../internals/to-indexed-object"),C=o("../internals/to-primitive"),_=o("../internals/has"),s=o("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;$.f=v?l:function(a,d){if(a=y(a),d=C(d,!0),s)try{return l(a,d)}catch{}if(_(a,d))return g(!b.f.call(a,d),a[d])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(o,ie,$){var v=o("../internals/to-indexed-object"),b=o("../internals/object-get-own-property-names").f,g={}.toString,y="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ie.exports.f=function(C){if(!y||"[object Window]"!=g.call(C))return b(v(C));try{return b(C)}catch{return y.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(o,ie,$){var v=o("../internals/object-keys-internal"),b=o("../internals/enum-bug-keys").concat("length","prototype");$.f=Object.getOwnPropertyNames||function(g){return v(g,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(o,ie,$){$.f=Object.getOwnPropertySymbols},{}],98:[function(y,ie,$){var v=y("../internals/has"),b=y("../internals/to-object"),g=y("../internals/shared-key"),C=(y=y("../internals/correct-prototype-getter"),g("IE_PROTO")),_=Object.prototype;ie.exports=y?Object.getPrototypeOf:function(s){return s=b(s),v(s,C)?s[C]:"function"==typeof s.constructor&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?_:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(o,ie,$){var v=o("../internals/has"),b=o("../internals/to-indexed-object"),g=o("../internals/array-includes").indexOf,y=o("../internals/hidden-keys");ie.exports=function(C,_){var s,l=b(C),a=0,d=[];for(s in l)!v(y,s)&&v(l,s)&&d.push(s);for(;_.length>a;)!v(l,s=_[a++])||~g(d,s)||d.push(s);return d}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(o,ie,$){var v=o("../internals/object-keys-internal"),b=o("../internals/enum-bug-keys");ie.exports=Object.keys||function(g){return v(g,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(o,ie,$){"use strict";var v={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,g=b&&!v.call({1:2},1);$.f=g?function(y){return!!(y=b(this,y))&&y.enumerable}:v},{}],102:[function(o,ie,$){var v=o("../internals/an-object"),b=o("../internals/a-possible-prototype");ie.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,y=!1,C={};try{(g=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(C,[]),y=C instanceof Array}catch{}return function(_,s){return v(_),b(s),y?g.call(_,s):_.__proto__=s,_}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(o,ie,$){function v(_){return function(s){for(var l,a=y(s),d=g(a),c=d.length,u=0,h=[];u<c;)l=d[u++],b&&!C.call(a,l)||h.push(_?[l,a[l]]:a[l]);return h}}var b=o("../internals/descriptors"),g=o("../internals/object-keys"),y=o("../internals/to-indexed-object"),C=o("../internals/object-property-is-enumerable").f;ie.exports={entries:v(!0),values:v(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(o,ie,$){"use strict";var v=o("../internals/to-string-tag-support"),b=o("../internals/classof");ie.exports=v?{}.toString:function(){return"[object "+b(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(o,ie,$){var v=o("../internals/get-built-in"),b=o("../internals/object-get-own-property-names"),g=o("../internals/object-get-own-property-symbols"),y=o("../internals/an-object");ie.exports=v("Reflect","ownKeys")||function(C){var _=b.f(y(C)),s=g.f;return s?_.concat(s(C)):_}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(o,ie,$){o=o("../internals/global"),ie.exports=o},{"../internals/global":60}],107:[function(o,ie,$){ie.exports=function(v){try{return{error:!1,value:v()}}catch(b){return{error:!0,value:b}}}},{}],108:[function(o,ie,$){var v=o("../internals/an-object"),b=o("../internals/is-object"),g=o("../internals/new-promise-capability");ie.exports=function(y,C){return v(y),b(C)&&C.constructor===y?C:((0,(y=g.f(y)).resolve)(C),y.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(o,ie,$){var v=o("../internals/redefine");ie.exports=function(b,g,y){for(var C in g)v(b,C,g[C],y);return b}},{"../internals/redefine":110}],110:[function(_,ie,$){var v=_("../internals/global"),b=_("../internals/create-non-enumerable-property"),g=_("../internals/has"),y=_("../internals/set-global"),C=_("../internals/inspect-source"),s=(_=_("../internals/internal-state")).get,l=_.enforce,a=String(String).split("String");(ie.exports=function(d,c,u,w){var p=!!w&&!!w.unsafe,m=!!w&&!!w.enumerable;w=!!w&&!!w.noTargetGet,"function"==typeof u&&("string"!=typeof c||g(u,"name")||b(u,"name",c),l(u).source=a.join("string"==typeof c?c:"")),d===v?m?d[c]=u:y(c,u):(p?!w&&d[c]&&(m=!0):delete d[c],m?d[c]=u:b(d,c,u))})(Function.prototype,"toString",function(){return"function"==typeof this&&s(this).source||C(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(o,ie,$){var v=o("./classof-raw"),b=o("./regexp-exec");ie.exports=function(g,y){var C=g.exec;if("function"==typeof C){if("object"!=typeof(C=C.call(g,y)))throw TypeError("RegExp exec method returned something other than an Object or null");return C}if("RegExp"!==v(g))throw TypeError("RegExp#exec called on incompatible receiver");return b.call(g,y)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(y,ie,$){"use strict";var v,b,g=y("./regexp-flags"),C=(y=y("./regexp-sticky-helpers"),RegExp.prototype.exec),_=String.prototype.replace,s=C,l=(b=/b*/g,C.call(v=/a/,"a"),C.call(b,"a"),0!==v.lastIndex||0!==b.lastIndex),a=y.UNSUPPORTED_Y||y.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];ie.exports=s=l||d||a?function(c){var u,h,p,m,w=this,R=a&&w.sticky,E=g.call(w),M=w.source,A=0,B=c;return R&&(-1===(E=E.replace("y","")).indexOf("g")&&(E+="g"),B=String(c).slice(w.lastIndex),0<w.lastIndex&&(!w.multiline||w.multiline&&"\n"!==c[w.lastIndex-1])&&(M="(?: "+M+")",B=" "+B,A++),h=new RegExp("^(?:"+M+")",E)),d&&(h=new RegExp("^"+M+"$(?!\\s)",E)),l&&(u=w.lastIndex),p=C.call(R?h:w,B),R?p?(p.input=p.input.slice(A),p[0]=p[0].slice(A),p.index=w.lastIndex,w.lastIndex+=p[0].length):w.lastIndex=0:l&&p&&(w.lastIndex=w.global?p.index+p[0].length:u),d&&p&&1<p.length&&_.call(p[0],h,function(){for(m=1;m<arguments.length-2;m++)void 0===arguments[m]&&(p[m]=void 0)}),p}:s},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(o,ie,$){"use strict";var v=o("../internals/an-object");ie.exports=function(){var b=v(this),g="";return b.global&&(g+="g"),b.ignoreCase&&(g+="i"),b.multiline&&(g+="m"),b.dotAll&&(g+="s"),b.unicode&&(g+="u"),b.sticky&&(g+="y"),g}},{"../internals/an-object":10}],114:[function(o,ie,$){"use strict";function v(b,g){return RegExp(b,g)}o=o("./fails"),$.UNSUPPORTED_Y=o(function(){var b=v("a","y");return b.lastIndex=2,null!=b.exec("abcd")}),$.BROKEN_CARET=o(function(){var b=v("^r","gy");return b.lastIndex=2,null!=b.exec("str")})},{"./fails":51}],115:[function(o,ie,$){ie.exports=function(v){if(null==v)throw TypeError("Can't call method on "+v);return v}},{}],116:[function(o,ie,$){ie.exports=Object.is||function(v,b){return v===b?0!==v||1/v==1/b:v!=v&&b!=b}},{}],117:[function(o,ie,$){var v=o("../internals/global"),b=o("../internals/create-non-enumerable-property");ie.exports=function(g,y){try{b(v,g,y)}catch{v[g]=y}return y}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(o,ie,$){"use strict";var v=o("../internals/get-built-in"),b=o("../internals/object-define-property"),g=o("../internals/well-known-symbol"),y=o("../internals/descriptors"),C=g("species");ie.exports=function(s){s=v(s),y&&s&&!s[C]&&(0,b.f)(s,C,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(o,ie,$){var v=o("../internals/object-define-property").f,b=o("../internals/has"),g=o("../internals/well-known-symbol")("toStringTag");ie.exports=function(y,C,_){y&&!b(y=_?y:y.prototype,g)&&v(y,g,{configurable:!0,value:C})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(o,ie,$){var v=o("../internals/shared"),b=o("../internals/uid"),g=v("keys");ie.exports=function(y){return g[y]||(g[y]=b(y))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(v,ie,$){var g=v("../internals/global"),b=(v=v("../internals/set-global"),"__core-js_shared__");g=g[b]||v(b,{}),ie.exports=g},{"../internals/global":60,"../internals/set-global":117}],122:[function(o,ie,$){var v=o("../internals/is-pure"),b=o("../internals/shared-store");(ie.exports=function(g,y){return b[g]||(b[g]=void 0!==y?y:{})})("versions",[]).push({version:"3.6.5",mode:v?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(o,ie,$){var v=o("../internals/an-object"),b=o("../internals/a-function"),g=o("../internals/well-known-symbol")("species");ie.exports=function(_,C){return void 0===(_=v(_).constructor)||null==(_=v(_)[g])?C:b(_)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(o,ie,$){var v=o("../internals/fails");ie.exports=function(b){return v(function(){var g=""[b]('"');return g!==g.toLowerCase()||3<g.split('"').length})}},{"../internals/fails":51}],125:[function(o,ie,$){function v(y){return function(l,a){l=String(g(l)),a=b(a);var s,d=l.length;return a<0||d<=a?y?"":void 0:(s=l.charCodeAt(a))<55296||56319<s||a+1===d||(d=l.charCodeAt(a+1))<56320||57343<d?y?l.charAt(a):s:y?l.slice(a,a+2):d-56320+(s-55296<<10)+65536}}var b=o("../internals/to-integer"),g=o("../internals/require-object-coercible");ie.exports={codeAt:v(!1),charAt:v(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(o,ie,$){o=o("../internals/engine-user-agent"),ie.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},{"../internals/engine-user-agent":47}],127:[function(o,ie,$){function v(_){return function(d,h,u){var c=(d=String(y(d))).length;return u=void 0===u?" ":String(u),(h=b(h))<=c||""==u?d:((c=g.call(u,C((h-=c)/u.length))).length>h&&(c=c.slice(0,h)),_?d+c:c+d)}}var b=o("../internals/to-length"),g=o("../internals/string-repeat"),y=o("../internals/require-object-coercible"),C=Math.ceil;ie.exports={start:v(!1),end:v(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(o,ie,$){"use strict";function v(p){return p+22+75*(p<26)}function b(p){var m,w=[],R=(p=function(K){for(var le=[],Oe=0,Y=K.length;Oe<Y;){var P,re=K.charCodeAt(Oe++);55296<=re&&re<=56319&&Oe<Y?56320==(64512&(P=K.charCodeAt(Oe++)))?le.push(((1023&re)<<10)+(1023&P)+65536):(le.push(re),Oe--):le.push(re)}return le}(p)).length,E=128,M=0,A=72;for(k=0;k<p.length;k++)(m=p[k])<128&&w.push(h(m));var B=w.length,j=B;for(B&&w.push("-");j<R;){for(var N=g,k=0;k<p.length;k++)E<=(m=p[k])&&m<N&&(N=m);var J=j+1;if(N-E>u((g-M)/J))throw RangeError(d);for(M+=(N-E)*J,E=N,k=0;k<p.length;k++){if((m=p[k])<E&&++M>g)throw RangeError(d);if(m==E){for(var ne=M,z=y;;z+=y){var ee=z<=A?1:A+C<=z?C:z-A;if(ne<ee)break;var H=ne-ee,G=y-ee;w.push(h(v(ee+H%G))),ne=u(H/G)}w.push(h(v(ne))),A=function(K,le,Oe){var Y=0;for(K=Oe?u(K/s):K>>1,K+=u(K/le);c*C>>1<K;Y+=y)K=u(K/c);return u(Y+(c+1)*K/(K+_))}(M,J,j==B),M=0,++j}}++M,++E}return w.join("")}var g=2147483647,y=36,C=26,_=38,s=700,l=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",c=y-1,u=Math.floor,h=String.fromCharCode;ie.exports=function(p){for(var m,w=[],R=p.toLowerCase().replace(a,".").split("."),E=0;E<R.length;E++)w.push(l.test(m=R[E])?"xn--"+b(m):m);return w.join(".")}},{}],129:[function(o,ie,$){"use strict";var v=o("../internals/to-integer"),b=o("../internals/require-object-coercible");ie.exports="".repeat||function(g){var y=String(b(this)),C="",_=v(g);if(_<0||_==1/0)throw RangeError("Wrong number of repetitions");for(;0<_;(_>>>=1)&&(y+=y))1&_&&(C+=y);return C}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(o,ie,$){var v=o("../internals/fails"),b=o("../internals/whitespaces");ie.exports=function(g){return v(function(){return!!b[g]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[g]()||b[g].name!==g})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(g,ie,$){function v(_){return function(s){return s=String(b(s)),1&_&&(s=s.replace(y,"")),2&_?s.replace(C,""):s}}var b=g("../internals/require-object-coercible"),y=(g="["+g("../internals/whitespaces")+"]",RegExp("^"+g+g+"*")),C=RegExp(g+g+"*$");ie.exports={start:v(1),end:v(2),trim:v(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(c,ie,$){function v(j){return function(){B(j)}}function b(j){B(j.data)}function g(j){C.postMessage(j+"",u.protocol+"//"+u.host)}var y,C=c("../internals/global"),_=c("../internals/fails"),s=c("../internals/classof-raw"),l=c("../internals/function-bind-context"),a=c("../internals/html"),d=c("../internals/document-create-element"),u=(c=c("../internals/engine-is-ios"),C.location),h=C.setImmediate,p=C.clearImmediate,m=C.process,w=C.MessageChannel,R=C.Dispatch,E=0,M={},A="onreadystatechange",B=function(j){var N;M.hasOwnProperty(j)&&(N=M[j],delete M[j],N())};h&&p||(h=function(j){for(var N=[],k=1;k<arguments.length;)N.push(arguments[k++]);return M[++E]=function(){("function"==typeof j?j:Function(j)).apply(void 0,N)},y(E),E},p=function(j){delete M[j]},"process"==s(m)?y=function(j){m.nextTick(v(j))}:R&&R.now?y=function(j){R.now(v(j))}:w&&!c?(c=(s=new w).port2,s.port1.onmessage=b,y=l(c.postMessage,c,1)):!C.addEventListener||"function"!=typeof postMessage||C.importScripts||_(g)||"file:"===u.protocol?y=A in d("script")?function(j){a.appendChild(d("script"))[A]=function(){a.removeChild(this),B(j)}}:function(j){setTimeout(v(j),0)}:(y=g,C.addEventListener("message",b,!1))),ie.exports={set:h,clear:p}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(o,ie,$){var v=o("../internals/classof-raw");ie.exports=function(b){if("number"!=typeof b&&"Number"!=v(b))throw TypeError("Incorrect invocation");return+b}},{"../internals/classof-raw":28}],134:[function(o,ie,$){var v=o("../internals/to-integer"),b=Math.max,g=Math.min;ie.exports=function(y,C){return(y=v(y))<0?b(y+C,0):g(y,C)}},{"../internals/to-integer":137}],135:[function(o,ie,$){var v=o("../internals/to-integer"),b=o("../internals/to-length");ie.exports=function(y){if(void 0===y)return 0;y=v(y);var C=b(y);if(y!==C)throw RangeError("Wrong length or index");return C}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(o,ie,$){var v=o("../internals/indexed-object"),b=o("../internals/require-object-coercible");ie.exports=function(g){return v(b(g))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(o,ie,$){var v=Math.ceil,b=Math.floor;ie.exports=function(g){return isNaN(g=+g)?0:(0<g?b:v)(g)}},{}],138:[function(o,ie,$){var v=o("../internals/to-integer"),b=Math.min;ie.exports=function(g){return 0<g?b(v(g),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(o,ie,$){var v=o("../internals/require-object-coercible");ie.exports=function(b){return Object(v(b))}},{"../internals/require-object-coercible":115}],140:[function(o,ie,$){var v=o("../internals/to-positive-integer");ie.exports=function(b,g){if((b=v(b))%g)throw RangeError("Wrong offset");return b}},{"../internals/to-positive-integer":141}],141:[function(o,ie,$){var v=o("../internals/to-integer");ie.exports=function(b){if((b=v(b))<0)throw RangeError("The argument can't be less than 0");return b}},{"../internals/to-integer":137}],142:[function(o,ie,$){var v=o("../internals/is-object");ie.exports=function(b,g){if(!v(b))return b;var y,C;if(g&&"function"==typeof(y=b.toString)&&!v(C=y.call(b))||"function"==typeof(y=b.valueOf)&&!v(C=y.call(b))||!g&&"function"==typeof(y=b.toString)&&!v(C=y.call(b)))return C;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(o,ie,$){var v={};v[o("../internals/well-known-symbol")("toStringTag")]="z",ie.exports="[object z]"===String(v)},{"../internals/well-known-symbol":150}],144:[function(o,ie,$){"use strict";function v(Ze,yt){for(var Ct=0,sn=yt.length,$t=new(Be(Ze))(sn);Ct<sn;)$t[Ct]=yt[Ct++];return $t}function b(Ze,yt){P(Ze,yt,{get:function(){return Oe(this)[yt]}})}function g(Ze){return Ze instanceof Ge||"ArrayBuffer"==(Ze=B(Ze))||"SharedArrayBuffer"==Ze}function y(Ze,yt){return Qe(Ze)&&"symbol"!=typeof yt&&yt in Ze&&String(+yt)==String(yt)}function C(Ze,yt){return y(Ze,yt=M(yt,!0))?p(2,Ze[yt]):re(Ze,yt)}function _(Ze,yt,Ct){return!(y(Ze,yt=M(yt,!0))&&j(Ct)&&A(Ct,"value"))||A(Ct,"get")||A(Ct,"set")||Ct.configurable||A(Ct,"writable")&&!Ct.writable||A(Ct,"enumerable")&&!Ct.enumerable?P(Ze,yt,Ct):(Ze[yt]=Ct.value,Ze)}var s=o("../internals/export"),l=o("../internals/global"),a=o("../internals/descriptors"),d=o("../internals/typed-array-constructors-require-wrappers"),c=o("../internals/array-buffer-view-core"),u=o("../internals/array-buffer"),h=o("../internals/an-instance"),p=o("../internals/create-property-descriptor"),m=o("../internals/create-non-enumerable-property"),w=o("../internals/to-length"),R=o("../internals/to-index"),E=o("../internals/to-offset"),M=o("../internals/to-primitive"),A=o("../internals/has"),B=o("../internals/classof"),j=o("../internals/is-object"),N=o("../internals/object-create"),k=o("../internals/object-set-prototype-of"),J=o("../internals/object-get-own-property-names").f,ne=o("../internals/typed-array-from"),z=o("../internals/array-iteration").forEach,ee=o("../internals/set-species"),H=o("../internals/object-define-property"),G=o("../internals/object-get-own-property-descriptor"),K=o("../internals/internal-state"),le=o("../internals/inherit-if-required"),Oe=K.get,Y=K.set,P=H.f,re=G.f,ge=Math.round,Te=l.RangeError,Ge=u.ArrayBuffer,qe=u.DataView,ht=c.NATIVE_ARRAY_BUFFER_VIEWS,ze=c.TYPED_ARRAY_TAG,st=c.TypedArray,lt=c.TypedArrayPrototype,Be=c.aTypedArrayConstructor,Qe=c.isTypedArray,Je="BYTES_PER_ELEMENT",ot="Wrong length";a?(ht||(G.f=C,H.f=_,b(lt,"buffer"),b(lt,"byteOffset"),b(lt,"byteLength"),b(lt,"length")),s({target:"Object",stat:!0,forced:!ht},{getOwnPropertyDescriptor:C,defineProperty:_}),ie.exports=function(Ot,yt,Ct){function sn(Vt,Ve){P(Vt,Ve,{get:function(){var Xe=this,Ae=Ve;return(Xe=Oe(Xe)).view[Bt](Ae*$t+Xe.byteOffset,!0)},set:function(Xe){var Ae=this,Ke=Ve;Ae=Oe(Ae),Ct&&(Xe=(Xe=ge(Xe))<0?0:255<Xe?255:255&Xe),Ae.view[mn](Ke*$t+Ae.byteOffset,Xe,!0)},enumerable:!0})}var $t=Ot.match(/\d+$/)[0]/8,un=Ot+(Ct?"Clamped":"")+"Array",Bt="get"+Ot,mn="set"+Ot,Yt=l[un],fn=Yt,ln=(Ot=fn&&fn.prototype,{});ht?d&&(fn=yt(function(Vt,Ve,Xe,Ae){return h(Vt,fn,un),le(j(Ve)?g(Ve)?void 0!==Ae?new Yt(Ve,E(Xe,$t),Ae):void 0!==Xe?new Yt(Ve,E(Xe,$t)):new Yt(Ve):Qe(Ve)?v(fn,Ve):ne.call(fn,Ve):new Yt(R(Ve)),Vt,fn)}),k&&k(fn,st),z(J(Yt),function(Vt){Vt in fn||m(fn,Vt,Yt[Vt])}),fn.prototype=Ot):(fn=yt(function(Vt,Ve,Xe,Ae){h(Vt,fn,un);var Ke,_t,Ft=0,Wt=0;if(j(Ve)){if(!g(Ve))return Qe(Ve)?v(fn,Ve):ne.call(fn,Ve);var Tt=Ve;if(Wt=E(Xe,$t),Xe=Ve.byteLength,void 0===Ae){if(Xe%$t||(Ke=Xe-Wt)<0)throw Te(ot)}else if(Xe<(Ke=w(Ae)*$t)+Wt)throw Te(ot);_t=Ke/$t}else _t=R(Ve),Tt=new Ge(Ke=_t*$t);for(Y(Vt,{buffer:Tt,byteOffset:Wt,byteLength:Ke,length:_t,view:new qe(Tt)});Ft<_t;)sn(Vt,Ft++)}),k&&k(fn,st),Ot=fn.prototype=N(lt)),Ot.constructor!==fn&&m(Ot,"constructor",fn),ze&&m(Ot,ze,un),ln[un]=fn,s({global:!0,forced:fn!=Yt,sham:!ht},ln),Je in fn||m(fn,Je,$t),Je in Ot||m(Ot,Je,$t),ee(un)}):ie.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(y,ie,$){var v=y("../internals/global"),b=y("../internals/fails"),g=y("../internals/check-correctness-of-iteration"),C=(y=y("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,v.ArrayBuffer),_=v.Int8Array;ie.exports=!y||!b(function(){_(1)})||!b(function(){new _(-1)})||!g(function(s){new _,new _(null),new _(1.5),new _(s)},!0)||b(function(){return 1!==new _(new C(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(o,ie,$){var v=o("../internals/to-object"),b=o("../internals/to-length"),g=o("../internals/get-iterator-method"),y=o("../internals/is-array-iterator-method"),C=o("../internals/function-bind-context"),_=o("../internals/array-buffer-view-core").aTypedArrayConstructor;ie.exports=function(s){var l,a,d,c,u,h,p=v(s),m=arguments.length,w=1<m?arguments[1]:void 0,R=void 0!==w,E=g(p);if(null!=E&&!y(E))for(h=(u=E.call(p)).next,p=[];!(c=h.call(u)).done;)p.push(c.value);for(R&&2<m&&(w=C(w,arguments[2],2)),a=b(p.length),d=new(_(this))(a),l=0;l<a;l++)d[l]=R?w(p[l],l):p[l];return d}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(o,ie,$){var v=0,b=Math.random();ie.exports=function(g){return"Symbol("+String(void 0===g?"":g)+")_"+(++v+b).toString(36)}},{}],148:[function(o,ie,$){o=o("../internals/native-symbol"),ie.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],149:[function(o,ie,$){o=o("../internals/well-known-symbol"),$.f=o},{"../internals/well-known-symbol":150}],150:[function(_,ie,$){var v=_("../internals/global"),b=_("../internals/shared"),g=_("../internals/has"),y=_("../internals/uid"),C=_("../internals/native-symbol"),s=(_=_("../internals/use-symbol-as-uid"),b("wks")),l=v.Symbol,a=_?l:l&&l.withoutSetter||y;ie.exports=function(d){return g(s,d)||(s[d]=C&&g(l,d)?l[d]:a("Symbol."+d)),s[d]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(o,ie,$){ie.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],152:[function(g,ie,$){"use strict";var v=g("../internals/export"),b=g("../internals/global"),C=g("../internals/array-buffer"),y=(g=g("../internals/set-species"),"ArrayBuffer");v({global:!0,forced:b[y]!==(C=C[y])},{ArrayBuffer:C}),g(y)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(p,ie,$){"use strict";var v=p("../internals/export"),b=p("../internals/fails"),g=p("../internals/is-array"),y=p("../internals/is-object"),C=p("../internals/to-object"),_=p("../internals/to-length"),s=p("../internals/create-property"),l=p("../internals/array-species-create"),a=p("../internals/array-method-has-species-support"),h=p("../internals/well-known-symbol"),d=(p=p("../internals/engine-v8-version"),h("isConcatSpreadable")),c=9007199254740991,u="Maximum allowed index exceeded";h=51<=p||!b(function(){var m=[];return m[d]=!1,m.concat()[0]!==m}),p=a("concat"),v({target:"Array",proto:!0,forced:!h||!p},{concat:function(m){for(var w,R,E,M,A,B=C(this),j=l(B,0),N=0,k=-1,J=arguments.length;k<J;k++)if(A=void 0,y(M=E=-1===k?B:arguments[k])&&(void 0!==(A=M[d])?A:g(M))){if(R=_(E.length),c<N+R)throw TypeError(u);for(w=0;w<R;w++,N++)w in E&&s(j,N,E[w])}else{if(c<=N)throw TypeError(u);s(j,N++,E)}return j.length=N,j}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(g,ie,$){var v=g("../internals/export"),b=g("../internals/array-copy-within");g=g("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{copyWithin:b}),g("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(y,ie,$){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").every,g=y("../internals/array-method-is-strict");y=y("../internals/array-method-uses-to-length"),g=g("every"),y=y("every"),v({target:"Array",proto:!0,forced:!g||!y},{every:function(C){return b(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(g,ie,$){var v=g("../internals/export"),b=g("../internals/array-fill");g=g("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{fill:b}),g("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(y,ie,$){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").filter,g=y("../internals/array-method-has-species-support");y=y("../internals/array-method-uses-to-length"),g=g("filter"),y=y("filter"),v({target:"Array",proto:!0,forced:!g||!y},{filter:function(C){return b(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(_,ie,$){"use strict";var v=_("../internals/export"),b=_("../internals/array-iteration").findIndex,g=_("../internals/add-to-unscopables"),y=(_=_("../internals/array-method-uses-to-length"),"findIndex"),C=!0;_=_(y),y in[]&&Array(1)[y](function(){C=!1}),v({target:"Array",proto:!0,forced:C||!_},{findIndex:function(s){return b(this,s,1<arguments.length?arguments[1]:void 0)}}),g(y)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/flatten-into-array"),g=o("../internals/to-object"),y=o("../internals/to-length"),C=o("../internals/a-function"),_=o("../internals/array-species-create");v({target:"Array",proto:!0},{flatMap:function(s){var l,a=g(this),d=y(a.length);return C(s),(l=_(a,0)).length=b(l,a,a,d,0,1,s,1<arguments.length?arguments[1]:void 0),l}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/flatten-into-array"),g=o("../internals/to-object"),y=o("../internals/to-length"),C=o("../internals/to-integer"),_=o("../internals/array-species-create");v({target:"Array",proto:!0},{flat:function(){var s=arguments.length?arguments[0]:void 0,l=g(this),a=y(l.length),d=_(l,0);return d.length=b(d,l,l,a,0,void 0===s?1:C(s)),d}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(b,ie,$){"use strict";var v=b("../internals/export");b=b("../internals/array-for-each"),v({target:"Array",proto:!0,forced:[].forEach!=b},{forEach:b})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(o,ie,$){var v=o("../internals/export"),b=o("../internals/array-from");v({target:"Array",stat:!0,forced:!o("../internals/check-correctness-of-iteration")(function(g){Array.from(g)})},{from:b})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/array-includes").includes,g=o("../internals/add-to-unscopables");v({target:"Array",proto:!0,forced:!o("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(y){return b(this,y,1<arguments.length?arguments[1]:void 0)}}),g("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(_,ie,$){"use strict";var v=_("../internals/export"),b=_("../internals/array-includes").indexOf,C=_("../internals/array-method-is-strict"),g=(_=_("../internals/array-method-uses-to-length"),[].indexOf),y=!!g&&1/[1].indexOf(1,-0)<0;C=C("indexOf"),_=_("indexOf",{ACCESSORS:!0,1:0}),v({target:"Array",proto:!0,forced:y||!C||!_},{indexOf:function(s){return y?g.apply(this,arguments)||0:b(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(C,ie,$){"use strict";var v=C("../internals/to-indexed-object"),b=C("../internals/add-to-unscopables"),g=C("../internals/iterators"),y=C("../internals/internal-state"),_=(C=C("../internals/define-iterator"),"Array Iterator"),s=y.set,l=y.getterFor(_);ie.exports=C(Array,"Array",function(a,d){s(this,{type:_,target:v(a),index:0,kind:d})},function(){var a=l(this),d=a.target,c=a.kind,u=a.index++;return!d||u>=d.length?{value:a.target=void 0,done:!0}:"keys"==c?{value:u,done:!1}:"values"==c?{value:d[u],done:!1}:{value:[u,d[u]],done:!1}},"values"),g.Arguments=g.Array,b("keys"),b("values"),b("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(C,ie,$){"use strict";var v=C("../internals/export"),y=C("../internals/indexed-object"),b=C("../internals/to-indexed-object"),g=(C=C("../internals/array-method-is-strict"),[].join);y=y!=Object,C=C("join",","),v({target:"Array",proto:!0,forced:y||!C},{join:function(_){return g.call(b(this),void 0===_?",":_)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(b,ie,$){b("../internals/export")({target:"Array",proto:!0,forced:(b=b("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:b})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(y,ie,$){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").map,g=y("../internals/array-method-has-species-support");y=y("../internals/array-method-uses-to-length"),g=g("map"),y=y("map"),v({target:"Array",proto:!0,forced:!g||!y},{map:function(C){return b(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(d,ie,$){"use strict";var v=d("../internals/export"),b=d("../internals/is-object"),g=d("../internals/is-array"),y=d("../internals/to-absolute-index"),C=d("../internals/to-length"),_=d("../internals/to-indexed-object"),s=d("../internals/create-property"),l=d("../internals/well-known-symbol"),a=d("../internals/array-method-has-species-support"),c=(d=d("../internals/array-method-uses-to-length"),a=a("slice"),d=d("slice",{ACCESSORS:!0,0:0,1:2}),l("species")),u=[].slice,h=Math.max;v({target:"Array",proto:!0,forced:!a||!d},{slice:function(p,m){var w,R,E,M=_(this),A=C(M.length),B=y(p,A),j=y(void 0===m?A:m,A);if(g(M)&&((w="function"==typeof(w=M.constructor)&&(w===Array||g(w.prototype))||b(w)&&null===(w=w[c])?void 0:w)===Array||void 0===w))return u.call(M,B,j);for(R=new(void 0===w?Array:w)(h(j-B,0)),E=0;B<j;B++,E++)B in M&&s(R,E,M[B]);return R.length=E,R}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(y,ie,$){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").some,g=y("../internals/array-method-is-strict");y=y("../internals/array-method-uses-to-length"),g=g("some"),y=y("some"),v({target:"Array",proto:!0,forced:!g||!y},{some:function(C){return b(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(a,ie,$){"use strict";var v=a("../internals/export"),b=a("../internals/to-absolute-index"),g=a("../internals/to-integer"),y=a("../internals/to-length"),C=a("../internals/to-object"),_=a("../internals/array-species-create"),s=a("../internals/create-property"),l=a("../internals/array-method-has-species-support"),d=(a=a("../internals/array-method-uses-to-length"),l=l("splice"),a=a("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),c=Math.min;v({target:"Array",proto:!0,forced:!l||!a},{splice:function(N,h){var p,m,w,R,E,M,A=C(this),B=y(A.length),j=b(N,B);if(0===(N=arguments.length)?p=m=0:m=1===N?(p=0,B-j):(p=N-2,c(d(g(h),0),B-j)),9007199254740991<B+p-m)throw TypeError("Maximum allowed length exceeded");for(w=_(A,m),R=0;R<m;R++)(E=j+R)in A&&s(w,R,A[E]);if(p<(w.length=m)){for(R=j;R<B-m;R++)M=R+p,(E=R+m)in A?A[M]=A[E]:delete A[M];for(R=B;B-m+p<R;R--)delete A[R-1]}else if(m<p)for(R=B-m;j<R;R--)M=R+p-1,(E=R+m-1)in A?A[M]=A[E]:delete A[M];for(R=0;R<p;R++)A[R+j]=arguments[R+2];return A.length=B-m+p,w}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(o,ie,$){o("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(o,ie,$){o("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(b,ie,$){var v=b("../internals/descriptors"),g=(b=b("../internals/object-define-property").f,Function.prototype),y=g.toString,C=/^\s*function ([^ (]*)/;!v||"name"in g||b(g,"name",{configurable:!0,get:function(){try{return y.call(this).match(C)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(b,ie,$){"use strict";var v=b("../internals/collection");b=b("../internals/collection-strong"),ie.exports=v("Map",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(v,ie,$){v=v("../internals/export");var b=Math.hypot,g=Math.abs,y=Math.sqrt;v({target:"Math",stat:!0,forced:!!b&&b(1/0,NaN)!==1/0},{hypot:function(C,_){for(var s,l,a=0,d=0,c=arguments.length,u=0;d<c;)u<(s=g(arguments[d++]))?(a=a*(l=u/s)*l+1,u=s):a+=0<s?(l=s/u)*l:s;return u===1/0?1/0:u*y(a)}})},{"../internals/export":50}],177:[function(v,ie,$){v=v("../internals/export");var b=Math.log,g=Math.LN2;v({target:"Math",stat:!0},{log2:function(y){return b(y)/g}})},{"../internals/export":50}],178:[function(o,ie,$){o("../internals/export")({target:"Math",stat:!0},{sign:o("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(o,ie,$){"use strict";function v(k){var J,ne,z,ee,H,G,K,le=a(k,!1);if("string"==typeof le&&2<le.length)if(43===(k=(le=m(le)).charCodeAt(0))||45===k){if(88===(J=le.charCodeAt(2))||120===J)return NaN}else if(48===k){switch(le.charCodeAt(1)){case 66:case 98:ne=2,z=49;break;case 79:case 111:ne=8,z=55;break;default:return+le}for(H=(ee=le.slice(2)).length,G=0;G<H;G++)if((K=ee.charCodeAt(G))<48||z<K)return NaN;return parseInt(ee,ne)}return+le}var b=o("../internals/descriptors"),g=o("../internals/global"),y=o("../internals/is-forced"),C=o("../internals/redefine"),_=o("../internals/has"),s=o("../internals/classof-raw"),l=o("../internals/inherit-if-required"),a=o("../internals/to-primitive"),d=o("../internals/fails"),c=o("../internals/object-create"),u=o("../internals/object-get-own-property-names").f,h=o("../internals/object-get-own-property-descriptor").f,p=o("../internals/object-define-property").f,m=o("../internals/string-trim").trim,w="Number",R=g[w],E=R.prototype,M=s(c(E))==w;if(y(w,!R(" 0o1")||!R("0b1")||R("+0x1"))){for(var A,B=function(J){J=arguments.length<1?0:J;var ne=this;return ne instanceof B&&(M?d(function(){E.valueOf.call(ne)}):s(ne)!=w)?l(new R(v(J)),ne,B):v(J)},j=b?u(R):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;j.length>N;N++)_(R,A=j[N])&&!_(B,A)&&p(B,A,h(R,A));(B.prototype=E).constructor=B,C(g,w,B)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(o,ie,$){o("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(o,ie,$){o("../internals/export")({target:"Number",stat:!0},{isFinite:o("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(_,ie,$){"use strict";function v(a,d,c){return 0===d?c:d%2==1?v(a,d-1,c*a):v(a*a,d/2,c)}var b=_("../internals/export"),g=_("../internals/to-integer"),y=_("../internals/this-number-value"),C=_("../internals/string-repeat"),s=(_=_("../internals/fails"),1..toFixed),l=Math.floor;b({target:"Number",proto:!0,forced:s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!_(function(){s.call({})})},{toFixed:function(w){function d(A,B){for(var j=-1,N=B;++j<6;)R[j]=(N+=A*R[j])%1e7,N=l(N/1e7)}function c(A){for(var B=6,j=0;0<=--B;)R[B]=l((j+=R[B])/A),j=j%A*1e7}function u(){for(var A,B=6,j="";0<=--B;)""===j&&0!==B&&0===R[B]||(A=String(R[B]),j=""===j?A:j+C.call("0",7-A.length)+A);return j}var h,p,m=y(this),R=(w=g(w),[0,0,0,0,0,0]),E="",M="0";if(w<0||20<w)throw RangeError("Incorrect fraction digits");if(m!=m)return"NaN";if(m<=-1e21||1e21<=m)return String(m);if(m<0&&(E="-",m=-m),1e-21<m)if(m=(h=function(A){for(var B=0,j=A;4096<=j;)B+=12,j/=4096;for(;2<=j;)B+=1,j/=2;return B}(m*v(2,69,1))-69)<0?m*v(2,-h,1):m/v(2,h,1),m*=4503599627370496,0<(h=52-h)){for(d(0,m),p=w;7<=p;)d(1e7,0),p-=7;for(d(v(10,p,1),0),p=h-1;23<=p;)c(1<<23),p-=23;c(1<<p),d(1,1),c(2),M=u()}else d(0,m),d(1<<-h,0),M=u()+C.call("0",w);return 0<w?E+((m=M.length)<=w?"0."+C.call("0",w-m)+M:M.slice(0,m-w)+"."+M.slice(m-w)):E+M}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(b,ie,$){var v=b("../internals/export");b=b("../internals/object-assign"),v({target:"Object",stat:!0,forced:Object.assign!==b},{assign:b})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(o,ie,$){var v=o("../internals/export"),b=o("../internals/object-to-array").entries;v({target:"Object",stat:!0},{entries:function(g){return b(g)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(o,ie,$){var v=o("../internals/export"),b=o("../internals/iterate"),g=o("../internals/create-property");v({target:"Object",stat:!0},{fromEntries:function(y){var C={};return b(y,function(_,s){g(C,_,s)},void 0,!0),C}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(y,ie,$){var v=y("../internals/export"),C=y("../internals/fails"),b=y("../internals/to-indexed-object"),g=y("../internals/object-get-own-property-descriptor").f;y=y("../internals/descriptors"),C=C(function(){g(1)}),v({target:"Object",stat:!0,forced:!y||C,sham:!y},{getOwnPropertyDescriptor:function(_,s){return g(b(_),s)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(g,ie,$){var v=g("../internals/export"),b=g("../internals/fails");g=g("../internals/object-get-own-property-names-external").f,v({target:"Object",stat:!0,forced:b(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:g})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(C,ie,$){var v=C("../internals/export"),b=C("../internals/fails"),g=C("../internals/to-object"),y=C("../internals/object-get-prototype-of");C=C("../internals/correct-prototype-getter"),v({target:"Object",stat:!0,forced:b(function(){y(1)}),sham:!C},{getPrototypeOf:function(_){return y(g(_))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(o,ie,$){var v=o("../internals/export"),b=o("../internals/to-object"),g=o("../internals/object-keys");v({target:"Object",stat:!0,forced:o("../internals/fails")(function(){g(1)})},{keys:function(y){return g(b(y))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(g,ie,$){var v=g("../internals/to-string-tag-support"),b=g("../internals/redefine");g=g("../internals/object-to-string"),v||b(Object.prototype,"toString",g,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Ct,ie,$){"use strict";var v,b,g,y,C=Ct("../internals/export"),_=Ct("../internals/is-pure"),s=Ct("../internals/global"),l=Ct("../internals/get-built-in"),a=Ct("../internals/native-promise-constructor"),d=Ct("../internals/redefine"),c=Ct("../internals/redefine-all"),u=Ct("../internals/set-to-string-tag"),h=Ct("../internals/set-species"),p=Ct("../internals/is-object"),m=Ct("../internals/a-function"),w=Ct("../internals/an-instance"),R=Ct("../internals/classof-raw"),E=Ct("../internals/inspect-source"),M=Ct("../internals/iterate"),A=Ct("../internals/check-correctness-of-iteration"),B=Ct("../internals/species-constructor"),j=Ct("../internals/task").set,N=Ct("../internals/microtask"),k=Ct("../internals/promise-resolve"),J=Ct("../internals/host-report-errors"),ne=Ct("../internals/new-promise-capability"),z=Ct("../internals/perform"),ee=Ct("../internals/internal-state"),H=Ct("../internals/is-forced"),sn=Ct("../internals/well-known-symbol"),G=Ct("../internals/engine-v8-version"),K=sn("species"),le="Promise",Oe=ee.get,Y=ee.set,P=ee.getterFor(le),re=a,ge=s.TypeError,Te=s.document,Ge=s.process,qe=l("fetch"),ht=ne.f,ze=ht,st="process"==R(Ge),lt=!!(Te&&Te.createEvent&&s.dispatchEvent),Be="unhandledrejection",$t=(sn=(Ct=H(le,function(){var ln,Vt;return E(re)===String(re)&&(66===G||!st&&"function"!=typeof PromiseRejectionEvent)||!((!_||re.prototype.finally)&&(51<=G&&/native code/.test(re)||(Vt=function(Ve){Ve(function(){},function(){})},((ln=re.resolve(1)).constructor={})[K]=Vt,ln.then(function(){})instanceof Vt)))}))||!A(function(ln){re.all(ln).catch(function(){})}),function(ln){var Vt;return!(!p(ln)||"function"!=typeof(Vt=ln.then))&&Vt}),un=function(ln,Vt,Ve){var Xe;Vt.notified||(Vt.notified=!0,Xe=Vt.reactions,N(function(){for(var Ae,Ke,_t=Vt.value,Ft=1==Vt.state,Wt=0;Xe.length>Wt;){var Tt,Gt,en,tn=Xe[Wt++],pt=Ft?tn.ok:tn.fail,tt=tn.resolve,At=tn.reject,gt=tn.domain;try{pt?(Ft||(2===Vt.rejection&&function(Rt,cn){j.call(s,function(){st?Ge.emit("rejectionHandled",Rt):Bt("rejectionhandled",Rt,cn.value)})}(ln,Vt),Vt.rejection=1),!0===pt?Tt=_t:(gt&&gt.enter(),Tt=pt(_t),gt&&(gt.exit(),en=!0)),Tt===tn.promise?At(ge("Promise-chain cycle")):(Gt=$t(Tt))?Gt.call(Tt,tt,At):tt(Tt)):At(_t)}catch(Rt){gt&&!en&&gt.exit(),At(Rt)}}Vt.reactions=[],Vt.notified=!1,Ve&&!Vt.rejection&&(Ae=ln,Ke=Vt,j.call(s,function(){var Rt=Ke.value,cn=mn(Ke);if(cn&&(cn=z(function(){st?Ge.emit("unhandledRejection",Rt,Ae):Bt(Be,Ae,Rt)}),Ke.rejection=st||mn(Ke)?2:1,cn.error))throw cn.value}))}))},Bt=function(ln,Vt,Ve){var Xe;lt?((Xe=Te.createEvent("Event")).promise=Vt,Xe.reason=Ve,Xe.initEvent(ln,!1,!0),s.dispatchEvent(Xe)):Xe={promise:Vt,reason:Ve},(Vt=s["on"+ln])?Vt(Xe):ln===Be&&J("Unhandled promise rejection",Ve)},mn=function(ln){return 1!==ln.rejection&&!ln.parent},Yt=function(ln,Vt,Ve,Xe){return function(Ae){ln(Vt,Ve,Ae,Xe)}},fn=function(ln,Vt,Ve,Xe){Vt.done||(Vt.done=!0,(Vt=Xe||Vt).value=Ve,Vt.state=2,un(ln,Vt,!0))},Ot=function(ln,Vt,Ve,Xe){if(!Vt.done){Vt.done=!0,Xe&&(Vt=Xe);try{if(ln===Ve)throw ge("Promise can't be resolved itself");var Ae=$t(Ve);Ae?N(function(){var Ke={done:!1};try{Ae.call(Ve,Yt(Ot,ln,Ke,Vt),Yt(fn,ln,Ke,Vt))}catch(_t){fn(ln,Ke,_t,Vt)}}):(Vt.value=Ve,Vt.state=1,un(ln,Vt,!1))}catch(Ke){fn(ln,{done:!1},Ke,Vt)}}};Ct&&(re=function(ln){w(this,re,le),m(ln),v.call(this);var Vt=Oe(this);try{ln(Yt(Ot,this,Vt),Yt(fn,this,Vt))}catch(Ve){fn(this,Vt,Ve)}},(v=function(ln){Y(this,{type:le,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=c(re.prototype,{then:function(ln,Vt){var Ve=P(this),Xe=ht(B(this,re));return Xe.ok="function"!=typeof ln||ln,Xe.fail="function"==typeof Vt&&Vt,Xe.domain=st?Ge.domain:void 0,Ve.parent=!0,Ve.reactions.push(Xe),0!=Ve.state&&un(this,Ve,!1),Xe.promise},catch:function(ln){return this.then(void 0,ln)}}),b=function(){var ln=new v,Vt=Oe(ln);this.promise=ln,this.resolve=Yt(Ot,ln,Vt),this.reject=Yt(fn,ln,Vt)},ne.f=ht=function(ln){return ln===re||ln===g?new b:ze(ln)},_||"function"!=typeof a||(y=a.prototype.then,d(a.prototype,"then",function(ln,Vt){var Ve=this;return new re(function(Xe,Ae){y.call(Ve,Xe,Ae)}).then(ln,Vt)},{unsafe:!0}),"function"==typeof qe&&C({global:!0,enumerable:!0,forced:!0},{fetch:function(ln){return k(re,qe.apply(s,arguments))}}))),C({global:!0,wrap:!0,forced:Ct},{Promise:re}),u(re,le,!1,!0),h(le),g=l(le),C({target:le,stat:!0,forced:Ct},{reject:function(ln){var Vt=ht(this);return Vt.reject.call(void 0,ln),Vt.promise}}),C({target:le,stat:!0,forced:_||Ct},{resolve:function(ln){return k(_&&this===g?re:this,ln)}}),C({target:le,stat:!0,forced:sn},{all:function(ln){var Vt=this,Ve=ht(Vt),Xe=Ve.resolve,Ae=Ve.reject,Ke=z(function(){var _t=m(Vt.resolve),Ft=[],Wt=0,Tt=1;M(ln,function(Gt){var en=Wt++,tn=!1;Ft.push(void 0),Tt++,_t.call(Vt,Gt).then(function(pt){tn||(tn=!0,Ft[en]=pt,--Tt||Xe(Ft))},Ae)}),--Tt||Xe(Ft)});return Ke.error&&Ae(Ke.value),Ve.promise},race:function(ln){var Vt=this,Ve=ht(Vt),Xe=Ve.reject,Ae=z(function(){var Ke=m(Vt.resolve);M(ln,function(_t){Ke.call(Vt,_t).then(Ve.resolve,Xe)})});return Ae.error&&Xe(Ae.value),Ve.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(s,ie,$){var v=s("../internals/export"),c=s("../internals/get-built-in"),b=s("../internals/a-function"),g=s("../internals/an-object"),y=s("../internals/is-object"),C=s("../internals/object-create"),_=s("../internals/function-bind"),l=(s=s("../internals/fails"),c("Reflect","construct")),a=s(function(){function u(){}return!(l(function(){},[],u)instanceof u)}),d=!s(function(){l(function(){})});v({target:"Reflect",stat:!0,forced:c=a||d,sham:c},{construct:function(u,h){b(u),g(h);var p=arguments.length<3?u:b(arguments[2]);if(d&&!a)return l(u,h,p);if(u==p){switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3])}var m=[null];return m.push.apply(m,h),new(_.apply(u,m))}return p=C(y(m=p.prototype)?m:Object.prototype),m=Function.apply.call(u,p,h),y(m)?m:p}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(o,ie,$){var v=o("../internals/export"),b=o("../internals/is-object"),g=o("../internals/an-object"),y=o("../internals/has"),C=o("../internals/object-get-own-property-descriptor"),_=o("../internals/object-get-prototype-of");v({target:"Reflect",stat:!0},{get:function s(l,a){var d,c=arguments.length<3?l:arguments[2];return g(l)===c?l[a]:(d=C.f(l,a))?y(d,"value")?d.value:void 0===d.get?void 0:d.get.call(c):b(d=_(l))?s(d,a,c):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(o,ie,$){var v=o("../internals/descriptors"),b=o("../internals/global"),g=o("../internals/is-forced"),y=o("../internals/inherit-if-required"),C=o("../internals/object-define-property").f,_=o("../internals/object-get-own-property-names").f,s=o("../internals/is-regexp"),l=o("../internals/regexp-flags"),a=o("../internals/regexp-sticky-helpers"),d=o("../internals/redefine"),c=o("../internals/fails"),u=o("../internals/internal-state").set,h=o("../internals/set-species"),p=o("../internals/well-known-symbol")("match"),m=b.RegExp,w=m.prototype,R=/a/g,E=/a/g,M=new m(R)!==R,A=a.UNSUPPORTED_Y;if(v&&g("RegExp",!M||A||c(function(){return E[p]=!1,m(R)!=R||m(E)==E||"/a/i"!=m(R,"i")}))){for(var B=function(k,J){var ne,z=this instanceof B,ee=s(k),H=void 0===J;return!z&&ee&&k.constructor===B&&H?k:(M?ee&&!H&&(k=k.source):k instanceof B&&(H&&(J=l.call(k)),k=k.source),A&&(ne=!!J&&-1<J.indexOf("y"))&&(J=J.replace(/y/g,"")),ee=y(M?new m(k,J):m(k,J),z?this:w,B),A&&ne&&u(ee,{sticky:ne}),ee)},j=_(m),N=0;j.length>N;)!function(k){k in B||C(B,k,{configurable:!0,get:function(){return m[k]},set:function(J){m[k]=J}})}(j[N++]);(w.constructor=B).prototype=w,d(b,"RegExp",B)}h("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(b,ie,$){"use strict";var v=b("../internals/export");b=b("../internals/regexp-exec"),v({target:"RegExp",proto:!0,forced:/./.exec!==b},{exec:b})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(y,ie,$){"use strict";var v=y("../internals/redefine"),b=y("../internals/an-object"),s=y("../internals/fails"),g=y("../internals/regexp-flags"),C=(y="toString",RegExp.prototype),_=C[y];((s=s(function(){return"/a/b"!=_.call({source:"a",flags:"b"})}))||_.name!=y)&&v(RegExp.prototype,y,function(){var a=b(this),d=String(a.source),c=a.flags;return"/"+d+"/"+String(void 0===c&&a instanceof RegExp&&!("flags"in C)?g.call(a):c)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(b,ie,$){"use strict";var v=b("../internals/collection");b=b("../internals/collection-strong"),ie.exports=v("Set",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(_,ie,$){"use strict";var v=_("../internals/export"),b=_("../internals/object-get-own-property-descriptor").f,g=_("../internals/to-length"),y=_("../internals/not-a-regexp"),C=_("../internals/require-object-coercible"),a=_("../internals/correct-is-regexp-logic"),s=(_=_("../internals/is-pure"),"".endsWith),l=Math.min;a=a("endsWith"),v({target:"String",proto:!0,forced:!(!_&&!a&&(v=b(String.prototype,"endsWith"))&&!v.writable||a)},{endsWith:function(d){var c=String(C(this)),u=(y(d),1<arguments.length?arguments[1]:void 0),h=g(c.length);return u=void 0===u?h:l(g(u),h),h=String(d),s?s.call(c,h,u):c.slice(u-h.length,u)===h}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/not-a-regexp"),g=o("../internals/require-object-coercible");v({target:"String",proto:!0,forced:!o("../internals/correct-is-regexp-logic")("includes")},{includes:function(y){return!!~String(g(this)).indexOf(b(y),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(g,ie,$){"use strict";var v=g("../internals/string-multibyte").charAt,b=g("../internals/internal-state"),y=(g=g("../internals/define-iterator"),"String Iterator"),C=b.set,_=b.getterFor(y);g(String,"String",function(s){C(this,{type:y,string:String(s),index:0})},function(){var s=_(this),l=s.string,a=s.index;return a>=l.length?{value:void 0,done:!0}:(l=v(l,a),s.index+=l.length,{value:l,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(o,ie,$){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),g=o("../internals/to-length"),y=o("../internals/require-object-coercible"),C=o("../internals/advance-string-index"),_=o("../internals/regexp-exec-abstract");v("match",1,function(s,l,a){return[function(d){var c=y(this),u=null==d?void 0:d[s];return void 0!==u?u.call(d,c):new RegExp(d)[s](String(c))},function(d){var c=a(l,d,this);if(c.done)return c.value;var u=b(d),h=String(this);if(!u.global)return _(u,h);for(var p=u.unicode,m=[],w=u.lastIndex=0;null!==(R=_(u,h));){var R=String(R[0]);""===(m[w]=R)&&(u.lastIndex=C(h,g(u.lastIndex),p)),w++}return 0===w?null:m}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/string-pad").start;v({target:"String",proto:!0,forced:o("../internals/string-pad-webkit-bug")},{padStart:function(g){return b(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(o,ie,$){o("../internals/export")({target:"String",proto:!0},{repeat:o("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(o,ie,$){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),g=o("../internals/to-object"),y=o("../internals/to-length"),C=o("../internals/to-integer"),_=o("../internals/require-object-coercible"),s=o("../internals/advance-string-index"),l=o("../internals/regexp-exec-abstract"),a=Math.max,d=Math.min,c=Math.floor,u=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g;v("replace",2,function(p,m,w,R){var E=R.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,M=R.REPLACE_KEEPS_$0,A=E?"$":"$0";return[function(B,j){var N=_(this),k=null==B?void 0:B[p];return void 0!==k?k.call(B,N,j):m.call(String(N),B,j)},function(B,j){if(!E&&M||"string"==typeof j&&-1===j.indexOf(A)){var N=w(m,B,this,j);if(N.done)return N.value}for(var k,J=b(B),ne=String(this),z="function"==typeof j,ee=(z||(j=String(j)),J.global),H=(ee&&(k=J.unicode,J.lastIndex=0),[]);null!==(Y=l(J,ne))&&(H.push(Y),ee);)""===String(Y[0])&&(J.lastIndex=s(ne,y(J.lastIndex),k));for(var G,K="",le=0,Oe=0;Oe<H.length;Oe++){for(var Y=H[Oe],P=String(Y[0]),re=a(d(C(Y.index),ne.length),0),ge=[],Te=1;Te<Y.length;Te++)ge.push(void 0===(G=Y[Te])?G:String(G));var Ge=Y.groups,qe=z?(qe=[P].concat(ge,re,ne),void 0!==Ge&&qe.push(Ge),String(j.apply(void 0,qe))):function(ht,ze,st,lt,Be,Qe){var Je=st+ht.length,ot=lt.length,Ze=h;return void 0!==Be&&(Be=g(Be),Ze=u),m.call(Qe,Ze,function(yt,Ct){var sn;switch(Ct.charAt(0)){case"$":return"$";case"&":return ht;case"`":return ze.slice(0,st);case"'":return ze.slice(Je);case"<":sn=Be[Ct.slice(1,-1)];break;default:var $t,un=+Ct;if(0==un)return yt;if(ot<un)return 0!==($t=c(un/10))&&$t<=ot?void 0===lt[$t-1]?Ct.charAt(1):lt[$t-1]+Ct.charAt(1):yt;sn=lt[un-1]}return void 0===sn?"":sn})}(P,ne,re,ge,Ge,j);le<=re&&(K+=ne.slice(le,re)+qe,le=re+P.length)}return K+ne.slice(le)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(o,ie,$){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),g=o("../internals/require-object-coercible"),y=o("../internals/same-value"),C=o("../internals/regexp-exec-abstract");v("search",1,function(_,s,l){return[function(a){var d=g(this),c=null==a?void 0:a[_];return void 0!==c?c.call(a,d):new RegExp(a)[_](String(d))},function(a){var d,c=l(s,a,this);return c.done?c.value:(c=b(a),a=String(this),y(d=c.lastIndex,0)||(c.lastIndex=0),a=C(c,a),y(c.lastIndex,d)||(c.lastIndex=d),null===a?-1:a.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(d,ie,$){"use strict";var v=d("../internals/fix-regexp-well-known-symbol-logic"),b=d("../internals/is-regexp"),g=d("../internals/an-object"),y=d("../internals/require-object-coercible"),C=d("../internals/species-constructor"),_=d("../internals/advance-string-index"),s=d("../internals/to-length"),l=d("../internals/regexp-exec-abstract"),a=d("../internals/regexp-exec"),c=(d=d("../internals/fails"),[].push),u=Math.min,h=4294967295,p=!d(function(){return!RegExp(h,"y")});v("split",2,function(m,w,R){var E="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(M,A){var B=String(y(this)),j=void 0===A?h:A>>>0;if(0==j)return[];if(void 0===M)return[B];if(!b(M))return w.call(B,M,j);for(var N,k,J,ne=[],z=(A=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),0),ee=new RegExp(M.source,A+"g");(N=a.call(ee,B))&&!(z<(k=ee.lastIndex)&&(ne.push(B.slice(z,N.index)),1<N.length&&N.index<B.length&&c.apply(ne,N.slice(1)),J=N[0].length,z=k,ne.length>=j));)ee.lastIndex===N.index&&ee.lastIndex++;return z===B.length?!J&&ee.test("")||ne.push(""):ne.push(B.slice(z)),ne.length>j?ne.slice(0,j):ne}:"0".split(void 0,0).length?function(M,A){return void 0===M&&0===A?[]:w.call(this,M,A)}:w;return[function(M,A){var B=y(this),j=null==M?void 0:M[m];return void 0!==j?j.call(M,B,A):E.call(String(B),M,A)},function(N,A){if((B=R(E,N,this,A,E!==w)).done)return B.value;var B=g(N),j=String(this),k=(N=C(B,RegExp),B.unicode),ne=new N(p?B:"^(?:"+B.source+")",(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.unicode?"u":"")+(p?"y":"g")),z=void 0===A?h:A>>>0;if(0==z)return[];if(0===j.length)return null===l(ne,j)?[j]:[];for(var ee=0,H=0,G=[];H<j.length;){ne.lastIndex=p?H:0;var K,le=l(ne,p?j:j.slice(H));if(null===le||(K=u(s(ne.lastIndex+(p?0:H)),j.length))===ee)H=_(j,H,k);else{if(G.push(j.slice(ee,H)),G.length===z)return G;for(var Oe=1;Oe<=le.length-1;Oe++)if(G.push(le[Oe]),G.length===z)return G;H=ee=K}}return G.push(j.slice(ee)),G}]},!p)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(_,ie,$){"use strict";var v=_("../internals/export"),b=_("../internals/object-get-own-property-descriptor").f,g=_("../internals/to-length"),y=_("../internals/not-a-regexp"),C=_("../internals/require-object-coercible"),a=_("../internals/correct-is-regexp-logic"),s=(_=_("../internals/is-pure"),"".startsWith),l=Math.min;a=a("startsWith"),v({target:"String",proto:!0,forced:!(!_&&!a&&(v=b(String.prototype,"startsWith"))&&!v.writable||a)},{startsWith:function(h){var c=String(C(this)),u=(y(h),g(l(1<arguments.length?arguments[1]:void 0,c.length)));return h=String(h),s?s.call(c,h,u):c.slice(u,u+h.length)===h}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/create-html");v({target:"String",proto:!0,forced:o("../internals/string-html-forced")("sub")},{sub:function(){return b(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(o,ie,$){"use strict";var v=o("../internals/export"),b=o("../internals/string-trim").trim;v({target:"String",proto:!0,forced:o("../internals/string-trim-forced")("trim")},{trim:function(){return b(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(u,ie,$){"use strict";var v,b,g,y,C,_=u("../internals/export"),s=u("../internals/descriptors"),l=u("../internals/global"),a=u("../internals/has"),d=u("../internals/is-object"),c=u("../internals/object-define-property").f,h=(u=u("../internals/copy-constructor-properties"),l.Symbol);!s||"function"!=typeof h||"description"in h.prototype&&void 0===h().description||(v={},u(b=function(){var p=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),m=this instanceof b?new h(p):void 0===p?h():h(p);return""===p&&(v[m]=!0),m},h),(l=b.prototype=h.prototype).constructor=b,g=l.toString,y="Symbol(test)"==String(h("test")),C=/^Symbol\((.*)\)[^)]+$/,c(l,"description",{configurable:!0,get:function(){var p=d(this)?this.valueOf():this,m=g.call(p);return a(v,p)?"":""===(p=y?m.slice(7,-1):m.replace(C,"$1"))?void 0:p}}),_({global:!0,forced:!0},{Symbol:b}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(o,ie,$){o("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(ze,ie,$){"use strict";function v(Ae,Ke){var _t=sn[Ae]=B(Qe[ht]);return st(_t,{type:qe,tag:Ae,description:Ke}),a||(_t.description=Ke),_t}function b(Ae,Ft){w(Ae);var _t=E(Ft);return Ft=j(_t).concat(Xe(_t)),Te(Ft,function(Wt){a&&!Ve.call(_t,Wt)||Vt(Ae,Wt,_t[Wt])}),Ae}function g(Ft,Wt){var _t;if(Ft=E(Ft),Wt=M(Wt,!0),Ft!==Be||!h(sn,Wt)||h($t,Wt))return!(_t=ot(Ft,Wt))||!h(sn,Wt)||h(Ft,Ge)&&Ft[Ge][Wt]||(_t.enumerable=!0),_t}function y(Ke){Ke=yt(E(Ke));var _t=[];return Te(Ke,function(Ft){h(sn,Ft)||h(le,Ft)||_t.push(Ft)}),_t}var C=ze("../internals/export"),_=ze("../internals/global"),s=ze("../internals/get-built-in"),l=ze("../internals/is-pure"),a=ze("../internals/descriptors"),d=ze("../internals/native-symbol"),c=ze("../internals/use-symbol-as-uid"),u=ze("../internals/fails"),h=ze("../internals/has"),p=ze("../internals/is-array"),m=ze("../internals/is-object"),w=ze("../internals/an-object"),R=ze("../internals/to-object"),E=ze("../internals/to-indexed-object"),M=ze("../internals/to-primitive"),A=ze("../internals/create-property-descriptor"),B=ze("../internals/object-create"),j=ze("../internals/object-keys"),N=ze("../internals/object-get-own-property-names"),k=ze("../internals/object-get-own-property-names-external"),J=ze("../internals/object-get-own-property-symbols"),ne=ze("../internals/object-get-own-property-descriptor"),z=ze("../internals/object-define-property"),ee=ze("../internals/object-property-is-enumerable"),H=ze("../internals/create-non-enumerable-property"),G=ze("../internals/redefine"),K=ze("../internals/shared"),mn=ze("../internals/shared-key"),le=ze("../internals/hidden-keys"),Oe=ze("../internals/uid"),Y=ze("../internals/well-known-symbol"),P=ze("../internals/well-known-symbol-wrapped"),re=ze("../internals/define-well-known-symbol"),ge=ze("../internals/set-to-string-tag"),Yt=ze("../internals/internal-state"),Te=ze("../internals/array-iteration").forEach,Ge=mn("hidden"),qe="Symbol",ht="prototype",st=(ze=Y("toPrimitive"),Yt.set),lt=Yt.getterFor(qe),Be=Object[ht],Qe=_.Symbol,Je=s("JSON","stringify"),ot=ne.f,Ze=z.f,yt=k.f,Ct=ee.f,sn=K("symbols"),$t=K("op-symbols"),un=K("string-to-symbol-registry"),Bt=K("symbol-to-string-registry"),fn=(mn=K("wks"),!(Yt=_.QObject)||!Yt[ht]||!Yt[ht].findChild),Ot=a&&u(function(){return 7!=B(Ze({},"a",{get:function(){return Ze(this,"a",{value:7}).a}})).a})?function(Ae,Ke,_t){var Ft=ot(Be,Ke);Ft&&delete Be[Ke],Ze(Ae,Ke,_t),Ft&&Ae!==Be&&Ze(Be,Ke,Ft)}:Ze,ln=c?function(Ae){return"symbol"==typeof Ae}:function(Ae){return Object(Ae)instanceof Qe},Vt=function(Ae,Ke,_t){return Ae===Be&&Vt($t,Ke,_t),w(Ae),Ke=M(Ke,!0),w(_t),(h(sn,Ke)?(_t.enumerable?(h(Ae,Ge)&&Ae[Ge][Ke]&&(Ae[Ge][Ke]=!1),_t=B(_t,{enumerable:A(0,!1)})):(h(Ae,Ge)||Ze(Ae,Ge,A(1,{})),Ae[Ge][Ke]=!0),Ot):Ze)(Ae,Ke,_t)},Ve=function(Ke){Ke=M(Ke,!0);var _t=Ct.call(this,Ke);return!(this===Be&&h(sn,Ke)&&!h($t,Ke))&&(!(_t||!h(this,Ke)||!h(sn,Ke)||h(this,Ge)&&this[Ge][Ke])||_t)},Xe=function(_t){var Ke=_t===Be,Ft=(_t=yt(Ke?$t:E(_t)),[]);return Te(_t,function(Wt){!h(sn,Wt)||Ke&&!h(Be,Wt)||Ft.push(sn[Wt])}),Ft};d||(G((Qe=function(){if(this instanceof Qe)throw TypeError("Symbol is not a constructor");var Ae=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,Ke=Oe(Ae),_t=function(Ft){this===Be&&_t.call($t,Ft),h(this,Ge)&&h(this[Ge],Ke)&&(this[Ge][Ke]=!1),Ot(this,Ke,A(1,Ft))};return a&&fn&&Ot(Be,Ke,{configurable:!0,set:_t}),v(Ke,Ae)})[ht],"toString",function(){return lt(this).tag}),G(Qe,"withoutSetter",function(Ae){return v(Oe(Ae),Ae)}),ee.f=Ve,z.f=Vt,ne.f=g,N.f=k.f=y,J.f=Xe,P.f=function(Ae){return v(Y(Ae),Ae)},a&&(Ze(Qe[ht],"description",{configurable:!0,get:function(){return lt(this).description}}),l||G(Be,"propertyIsEnumerable",Ve,{unsafe:!0}))),C({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Qe}),Te(j(mn),function(Ae){re(Ae)}),C({target:qe,stat:!0,forced:!d},{for:function(_t){var Ke;return _t=String(_t),h(un,_t)?un[_t]:(Ke=Qe(_t),un[_t]=Ke,Bt[Ke]=_t,Ke)},keyFor:function(Ae){if(!ln(Ae))throw TypeError(Ae+" is not a symbol");if(h(Bt,Ae))return Bt[Ae]},useSetter:function(){fn=!0},useSimple:function(){fn=!1}}),C({target:"Object",stat:!0,forced:!d,sham:!a},{create:function(Ae,Ke){return void 0===Ke?B(Ae):b(B(Ae),Ke)},defineProperty:Vt,defineProperties:b,getOwnPropertyDescriptor:g}),C({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:y,getOwnPropertySymbols:Xe}),C({target:"Object",stat:!0,forced:u(function(){J.f(1)})},{getOwnPropertySymbols:function(Ae){return J.f(R(Ae))}}),Je&&C({target:"JSON",stat:!0,forced:!d||u(function(){var Ae=Qe();return"[null]"!=Je([Ae])||"{}"!=Je({a:Ae})||"{}"!=Je(Object(Ae))})},{stringify:function(Ae,Ke,_t){for(var Ft,Wt=[Ae],Tt=1;Tt<arguments.length;)Wt.push(arguments[Tt++]);if((m(Ft=Ke)||void 0!==Ae)&&!ln(Ae))return p(Ke)||(Ke=function(Gt,en){if("function"==typeof Ft&&(en=Ft.call(this,Gt,en)),!ln(en))return en}),Wt[1]=Ke,Je.apply(null,Wt)}}),Qe[ht][ze]||H(Qe[ht],ze,Qe[ht].valueOf),ge(Qe,qe),le[Ge]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-copy-within"),g=v.aTypedArray;(0,v.exportTypedArrayMethod)("copyWithin",function(y,C){return b.call(g(this),y,C,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").every,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("every",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-fill"),g=v.aTypedArray;(0,v.exportTypedArrayMethod)("fill",function(y){return b.apply(g(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").filter,g=o("../internals/species-constructor"),y=v.aTypedArray,C=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("filter",function(_){for(var s=b(y(this),_,1<arguments.length?arguments[1]:void 0),l=(_=g(this,this.constructor),0),a=s.length,d=new(C(_))(a);l<a;)d[l]=s[l++];return d})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").findIndex,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("findIndex",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").find,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("find",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(o,ie,$){o("../internals/typed-array-constructor")("Float32",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],220:[function(o,ie,$){o("../internals/typed-array-constructor")("Float64",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],221:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").forEach,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("forEach",function(y){b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-includes").includes,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("includes",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-includes").indexOf,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("indexOf",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(o,ie,$){o("../internals/typed-array-constructor")("Int16",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],225:[function(o,ie,$){o("../internals/typed-array-constructor")("Int32",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],226:[function(b,ie,$){"use strict";function v(){return g.call(_(this))}var a=b("../internals/global"),l=b("../internals/array-buffer-view-core"),s=b("../modules/es.array.iterator"),g=(b=b("../internals/well-known-symbol")("iterator"),s.values),y=s.keys,C=s.entries,_=l.aTypedArray;s=l.exportTypedArrayMethod,a=!!(l=(a=a.Uint8Array)&&a.prototype[b])&&("values"==l.name||null==l.name),s("entries",function(){return C.call(_(this))}),s("keys",function(){return y.call(_(this))}),s("values",v,!a),s(b,v,!a)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(b,ie,$){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,g=[].join;(b=b.exportTypedArrayMethod)("join",function(y){return g.apply(v(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-last-index-of"),g=v.aTypedArray;(0,v.exportTypedArrayMethod)("lastIndexOf",function(y){return b.apply(g(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").map,g=o("../internals/species-constructor"),y=v.aTypedArray,C=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("map",function(_){return b(y(this),_,1<arguments.length?arguments[1]:void 0,function(s,l){return new(C(g(s,s.constructor)))(l)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-reduce").right,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduceRight",function(y){return b(g(this),y,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-reduce").left,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduce",function(y){return b(g(this),y,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(b,ie,$){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,g=(b=b.exportTypedArrayMethod,Math.floor);b("reverse",function(){for(var y,C=v(this).length,_=g(C/2),s=0;s<_;)y=this[s],this[s++]=this[--C],this[C]=y;return this})},{"../internals/array-buffer-view-core":12}],233:[function(C,ie,$){"use strict";var v=C("../internals/array-buffer-view-core"),b=C("../internals/to-length"),g=C("../internals/to-offset"),y=C("../internals/to-object"),_=(C=C("../internals/fails"),v.aTypedArray);(0,v.exportTypedArrayMethod)("set",function(s){_(this);var l=g(1<arguments.length?arguments[1]:void 0,1),a=this.length,d=y(s),c=b(d.length),u=0;if(a<c+l)throw RangeError("Wrong length");for(;u<c;)this[l+u]=d[u++]},C(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(b,ie,$){"use strict";var C=b("../internals/array-buffer-view-core"),v=b("../internals/species-constructor"),g=(b=b("../internals/fails"),C.aTypedArray),y=C.aTypedArrayConstructor,_=[].slice;(C=C.exportTypedArrayMethod)("slice",function(s,l){for(var a=_.call(g(this),s,l),d=(s=v(this,this.constructor),0),c=a.length,u=new(y(s))(c);d<c;)u[d]=a[d++];return u},b(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").some,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("some",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(b,ie,$){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,g=[].sort;(b=b.exportTypedArrayMethod)("sort",function(y){return g.call(v(this),y)})},{"../internals/array-buffer-view-core":12}],237:[function(o,ie,$){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/to-length"),g=o("../internals/to-absolute-index"),y=o("../internals/species-constructor"),C=v.aTypedArray;(0,v.exportTypedArrayMethod)("subarray",function(d,s){var l=C(this),a=l.length;return d=g(d,a),new(y(l,l.constructor))(l.buffer,l.byteOffset+d*l.BYTES_PER_ELEMENT,b((void 0===s?a:g(s,a))-d))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(b,ie,$){"use strict";var C=b("../internals/global"),v=b("../internals/array-buffer-view-core"),g=(b=b("../internals/fails"),C.Int8Array),y=v.aTypedArray,_=(C=v.exportTypedArrayMethod,[].toLocaleString),s=[].slice,l=!!g&&b(function(){_.call(new g(1))});C("toLocaleString",function(){return _.apply(l?s.call(y(this)):y(this),arguments)},b(function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()})||!b(function(){g.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(b,ie,$){"use strict";var v=b("../internals/array-buffer-view-core").exportTypedArrayMethod,C=b("../internals/fails"),g=(b=(b=b("../internals/global").Uint8Array)&&b.prototype||{},[].toString),y=[].join;C(function(){g.call({})})&&(g=function(){return y.call(this)}),v("toString",g,C=b.toString!=g)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(o,ie,$){o("../internals/typed-array-constructor")("Uint16",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],241:[function(o,ie,$){o("../internals/typed-array-constructor")("Uint32",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],242:[function(o,ie,$){o("../internals/typed-array-constructor")("Uint8",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],243:[function(o,ie,$){o("../internals/typed-array-constructor")("Uint8",function(v){return function(b,g,y){return v(this,b,g,y)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(h,w,$){"use strict";function v(R){return function(){return R(this,arguments.length?arguments[0]:void 0)}}var b,g,y,C,_,p=h("../internals/global"),s=h("../internals/redefine-all"),l=h("../internals/internal-metadata"),a=h("../internals/collection"),d=h("../internals/collection-weak"),c=h("../internals/is-object"),u=h("../internals/internal-state").enforce,m=(h=h("../internals/native-weak-map"),p=!p.ActiveXObject&&"ActiveXObject"in p,Object.isExtensible);w=w.exports=a("WeakMap",v,d),h&&p&&(b=d.getConstructor(v,"WeakMap",!0),l.REQUIRED=!0,g=(a=w.prototype).delete,y=a.has,C=a.get,_=a.set,s(a,{delete:function(R){var E;return c(R)&&!m(R)?((E=u(this)).frozen||(E.frozen=new b),g.call(this,R)||E.frozen.delete(R)):g.call(this,R)},has:function(R){var E;return c(R)&&!m(R)?((E=u(this)).frozen||(E.frozen=new b),y.call(this,R)||E.frozen.has(R)):y.call(this,R)},get:function(R){var E;return!c(R)||m(R)||((E=u(this)).frozen||(E.frozen=new b),y.call(this,R))?C.call(this,R):E.frozen.get(R)},set:function(R,E){var M;return!c(R)||m(R)||((M=u(this)).frozen||(M.frozen=new b),y.call(this,R))?_.call(this,R,E):M.frozen.set(R,E),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(o,ie,$){var v,b=o("../internals/global"),g=o("../internals/dom-iterables"),y=o("../internals/array-for-each"),C=o("../internals/create-non-enumerable-property");for(v in g){var _;if((_=(_=b[v])&&_.prototype)&&_.forEach!==y)try{C(_,"forEach",y)}catch{_.forEach=y}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(_,ie,$){var v,b=_("../internals/global"),g=_("../internals/dom-iterables"),y=_("../modules/es.array.iterator"),C=_("../internals/create-non-enumerable-property"),s=(_=_("../internals/well-known-symbol"))("iterator"),l=_("toStringTag"),a=y.values;for(v in g){var d=b[v],c=d&&d.prototype;if(c){if(c[s]!==a)try{C(c,s,a)}catch{c[s]=a}if(c[l]||C(c,l,v),g[v])for(var u in y)if(c[u]!==y[u])try{C(c,u,y[u])}catch{c[u]=y[u]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(Ge,ie,$){"use strict";function v(qe){try{return decodeURIComponent(qe)}catch{return qe}}function b(qe){return re[qe]}function g(qe){return encodeURIComponent(qe).replace(P,b)}function y(qe){this.entries.length=0,ge(this.entries,qe)}function C(qe,ht){if(qe<ht)throw TypeError("Not enough arguments")}function _(){p(this,_,z);var qe,ht,ze,st,lt,Be,Qe,Je,ot=0<arguments.length?arguments[0]:void 0,Ze=[];if(H(this,{type:z,entries:Ze,updateURL:function(){},updateSearchParams:y}),void 0!==ot)if(M(ot))if("function"==typeof(qe=N(ot)))for(ze=(ht=qe.call(ot)).next;!(st=ze.call(ht)).done;){if((Be=(lt=(st=j(E(st.value))).next).call(st)).done||(Qe=lt.call(st)).done||!lt.call(st).done)throw TypeError("Expected sequence with length 2");Ze.push({key:Be.value+"",value:Qe.value+""})}else for(Je in ot)m(ot,Je)&&Ze.push({key:Je,value:ot[Je]+""});else ge(Ze,"string"==typeof ot?"?"===ot.charAt(0)?ot.slice(1):ot:ot+"")}Ge("../modules/es.array.iterator");var s=Ge("../internals/export"),ne=Ge("../internals/get-built-in"),l=Ge("../internals/native-url"),a=Ge("../internals/redefine"),d=Ge("../internals/redefine-all"),c=Ge("../internals/set-to-string-tag"),u=Ge("../internals/create-iterator-constructor"),h=Ge("../internals/internal-state"),p=Ge("../internals/an-instance"),m=Ge("../internals/has"),w=Ge("../internals/function-bind-context"),R=Ge("../internals/classof"),E=Ge("../internals/an-object"),M=Ge("../internals/is-object"),A=Ge("../internals/object-create"),B=Ge("../internals/create-property-descriptor"),j=Ge("../internals/get-iterator"),N=Ge("../internals/get-iterator-method"),k=(Ge=Ge("../internals/well-known-symbol"),ne("fetch")),J=ne("Headers"),z=(ne=Ge("iterator"),"URLSearchParams"),ee=z+"Iterator",H=h.set,G=h.getterFor(z),K=h.getterFor(ee),le=/\+/g,Oe=Array(4),Y=function(qe){var ht,ze=qe.replace(le," "),st=4;try{return decodeURIComponent(ze)}catch{for(;st;)ze=ze.replace((ht=st--,Oe[ht-1]||(Oe[ht-1]=RegExp("((?:%[\\da-f]{2}){"+ht+"})","gi"))),v);return ze}},P=/[!'()~]|%20/g,re={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ge=function(qe,ht){if(ht)for(var ze,st=ht.split("&"),lt=0;lt<st.length;)(ze=st[lt++]).length&&(ze=ze.split("="),qe.push({key:Y(ze.shift()),value:Y(ze.join("="))}))},Te=u(function(qe,ht){H(this,{type:ee,iterator:j(G(qe).entries),kind:ht})},"Iterator",function(){var ht,qe=(ht=K(this)).kind,ze=(ht=ht.iterator.next()).value;return ht.done||(ht.value="keys"===qe?ze.key:"values"===qe?ze.value:[ze.key,ze.value]),ht});d(Ge=_.prototype,{append:function(qe,ht){C(arguments.length,2);var ze=G(this);ze.entries.push({key:qe+"",value:ht+""}),ze.updateURL()},delete:function(qe){C(arguments.length,1);for(var ht=G(this),ze=ht.entries,st=qe+"",lt=0;lt<ze.length;)ze[lt].key===st?ze.splice(lt,1):lt++;ht.updateURL()},get:function(qe){C(arguments.length,1);for(var ht=G(this).entries,ze=qe+"",st=0;st<ht.length;st++)if(ht[st].key===ze)return ht[st].value;return null},getAll:function(qe){C(arguments.length,1);for(var ht=G(this).entries,ze=qe+"",st=[],lt=0;lt<ht.length;lt++)ht[lt].key===ze&&st.push(ht[lt].value);return st},has:function(qe){C(arguments.length,1);for(var ht=G(this).entries,ze=qe+"",st=0;st<ht.length;)if(ht[st++].key===ze)return!0;return!1},set:function(qe,ht){C(arguments.length,1);for(var ze,st=G(this),lt=st.entries,Be=!1,Qe=qe+"",Je=ht+"",ot=0;ot<lt.length;ot++)(ze=lt[ot]).key===Qe&&(Be?lt.splice(ot--,1):(Be=!0,ze.value=Je));Be||lt.push({key:Qe,value:Je}),st.updateURL()},sort:function(){for(var qe,ht,ze=G(this),st=ze.entries,lt=st.slice(),Be=st.length=0;Be<lt.length;Be++){for(qe=lt[Be],ht=0;ht<Be;ht++)if(st[ht].key>qe.key){st.splice(ht,0,qe);break}ht===Be&&st.push(qe)}ze.updateURL()},forEach:function(qe){for(var ht,ze=G(this).entries,st=w(qe,1<arguments.length?arguments[1]:void 0,3),lt=0;lt<ze.length;)st((ht=ze[lt++]).value,ht.key,this)},keys:function(){return new Te(this,"keys")},values:function(){return new Te(this,"values")},entries:function(){return new Te(this,"entries")}},{enumerable:!0}),a(Ge,ne,Ge.entries),a(Ge,"toString",function(){for(var qe,ht=G(this).entries,ze=[],st=0;st<ht.length;)qe=ht[st++],ze.push(g(qe.key)+"="+g(qe.value));return ze.join("&")},{enumerable:!0}),c(_,z),s({global:!0,forced:!l},{URLSearchParams:_}),l||"function"!=typeof k||"function"!=typeof J||s({global:!0,enumerable:!0,forced:!0},{fetch:function(lt){var ht,ze,st;return lt=[lt],1<arguments.length&&(M(ht=arguments[1])&&R(ze=ht.body)===z&&((st=ht.headers?new J(ht.headers):new J).has("content-type")||st.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ht=A(ht,{body:B(0,String(ze)),headers:B(0,st)})),lt.push(ht)),k.apply(this,lt)}}),ie.exports={URLSearchParams:_,getState:G}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(j,ie,$){"use strict";function v(T){var L,V,Z,X;if("number"==typeof T){for(L=[],V=0;V<4;V++)L.unshift(T%256),T=ee(T/256);return L.join(".")}if("object"!=typeof T)return T;for(L="",Z=Qe(T),V=0;V<8;V++)X&&0===T[V]||(X=X&&!1,Z===V?(L+=V?":":"::",X=!0):(L+=T[V].toString(16),V<7&&(L+=":")));return"["+L+"]"}function b(T){return!T.host||T.cannotBeABaseURL||"file"==T.scheme}function g(T,L,V,Z){var X,se,Pe,Ne=V||ln,ut=0,Ee="",Ue=!1,at=!1,He=!1;for(V||(T.scheme="",T.username="",T.password="",T.host=null,T.port=null,T.path=[],T.query=null,T.fragment=null,T.cannotBeABaseURL=!1,L=L.replace(st,"")),L=L.replace(lt,""),X=R(L);ut<=X.length;){switch(se=X[ut],Ne){case ln:if(!se||!Y.test(se)){if(V)return K;Ne=Ve;continue}Ee+=se.toLowerCase(),Ne=Vt;break;case Vt:if(se&&(P.test(se)||"+"==se||"-"==se||"."==se))Ee+=se.toLowerCase();else{if(":"!=se){if(V)return K;Ee="",Ne=Ve,ut=0;continue}if(V&&($t(T)!=m(sn,Ee)||"file"==Ee&&(un(T)||null!==T.port)||"file"==T.scheme&&!T.host))return;if(T.scheme=Ee,V)return void($t(T)&&sn[T.scheme]==T.port&&(T.port=null));Ee="","file"==T.scheme?Ne=pt:$t(T)&&Z&&Z.scheme==T.scheme?Ne=Xe:$t(T)?Ne=Ft:"/"==X[ut+1]?(Ne=Ae,ut++):(T.cannotBeABaseURL=!0,T.path.push(""),Ne=cn)}break;case Ve:if(!Z||Z.cannotBeABaseURL&&"#"!=se)return K;if(Z.cannotBeABaseURL&&"#"==se){T.scheme=Z.scheme,T.path=Z.path.slice(),T.query=Z.query,T.fragment="",T.cannotBeABaseURL=!0,Ne=xt;break}Ne="file"==Z.scheme?pt:Ke;continue;case Xe:if("/"!=se||"/"!=X[ut+1]){Ne=Ke;continue}Ne=Wt,ut++;break;case Ae:if("/"==se){Ne=Tt;break}Ne=Rt;continue;case Ke:if(T.scheme=Z.scheme,se==_)T.username=Z.username,T.password=Z.password,T.host=Z.host,T.port=Z.port,T.path=Z.path.slice(),T.query=Z.query;else if("/"==se||"\\"==se&&$t(T))Ne=_t;else if("?"==se)T.username=Z.username,T.password=Z.password,T.host=Z.host,T.port=Z.port,T.path=Z.path.slice(),T.query="",Ne=ft;else{if("#"!=se){T.username=Z.username,T.password=Z.password,T.host=Z.host,T.port=Z.port,T.path=Z.path.slice(),T.path.pop(),Ne=Rt;continue}T.username=Z.username,T.password=Z.password,T.host=Z.host,T.port=Z.port,T.path=Z.path.slice(),T.query=Z.query,T.fragment="",Ne=xt}break;case _t:if(!$t(T)||"/"!=se&&"\\"!=se){if("/"!=se){T.username=Z.username,T.password=Z.password,T.host=Z.host,T.port=Z.port,Ne=Rt;continue}Ne=Tt}else Ne=Wt;break;case Ft:if(Ne=Wt,"/"!=se||"/"!=Ee.charAt(ut+1))continue;ut++;break;case Wt:if("/"==se||"\\"==se)break;Ne=Tt;continue;case Tt:if("@"==se){Ue&&(Ee="%40"+Ee),Ue=!0;for(var bt=R(Ee),Ut=0;Ut<bt.length;Ut++){var an=bt[Ut];":"!=an||He?(an=Ct(an,yt),He?T.password+=an:T.username+=an):He=!0}Ee=""}else if(se==_||"/"==se||"?"==se||"#"==se||"\\"==se&&$t(T)){if(Ue&&""==Ee)return G;ut-=R(Ee).length+1,Ee="",Ne=Gt}else Ee+=se;break;case Gt:case en:if(V&&"file"==T.scheme){Ne=At;continue}if(":"!=se||at){if(se==_||"/"==se||"?"==se||"#"==se||"\\"==se&&$t(T)){if($t(T)&&""==Ee)return le;if(V&&""==Ee&&(un(T)||null!==T.port))return;if(Pe=Be(T,Ee))return Pe;if(Ee="",Ne=gt,V)return;continue}"["==se?at=!0:"]"==se&&(at=!1),Ee+=se}else{if(""==Ee)return le;if(Pe=Be(T,Ee))return Pe;if(Ee="",Ne=tn,V==en)return}break;case tn:if(!re.test(se)){if(se==_||"/"==se||"?"==se||"#"==se||"\\"==se&&$t(T)||V){if(""!=Ee){var hn=parseInt(Ee,10);if(65535<hn)return Oe;T.port=$t(T)&&hn===sn[T.scheme]?null:hn,Ee=""}if(V)return;Ne=gt;continue}return Oe}Ee+=se;break;case pt:if(T.scheme="file","/"==se||"\\"==se)Ne=tt;else{if(!Z||"file"!=Z.scheme){Ne=Rt;continue}if(se==_)T.host=Z.host,T.path=Z.path.slice(),T.query=Z.query;else if("?"==se)T.host=Z.host,T.path=Z.path.slice(),T.query="",Ne=ft;else{if("#"!=se){mn(X.slice(ut).join(""))||(T.host=Z.host,T.path=Z.path.slice(),Yt(T)),Ne=Rt;continue}T.host=Z.host,T.path=Z.path.slice(),T.query=Z.query,T.fragment="",Ne=xt}}break;case tt:if("/"==se||"\\"==se){Ne=At;break}Z&&"file"==Z.scheme&&!mn(X.slice(ut).join(""))&&(Bt(Z.path[0],!0)?T.path.push(Z.path[0]):T.host=Z.host),Ne=Rt;continue;case At:if(se==_||"/"==se||"\\"==se||"?"==se||"#"==se){if(!V&&Bt(Ee))Ne=Rt;else{if(""==Ee){if(T.host="",V)return}else{if(Pe=Be(T,Ee))return Pe;if("localhost"==T.host&&(T.host=""),V)return;Ee=""}Ne=gt}continue}Ee+=se;break;case gt:if($t(T)){if(Ne=Rt,"/"!=se&&"\\"!=se)continue}else if(V||"?"!=se)if(V||"#"!=se){if(se!=_&&(Ne=Rt,"/"!=se))continue}else T.fragment="",Ne=xt;else T.query="",Ne=ft;break;case Rt:if(se==_||"/"==se||"\\"==se&&$t(T)||!V&&("?"==se||"#"==se)){if(Ot(Ee)?(Yt(T),"/"==se||"\\"==se&&$t(T)||T.path.push("")):fn(Ee)?"/"==se||"\\"==se&&$t(T)||T.path.push(""):("file"==T.scheme&&!T.path.length&&Bt(Ee)&&(T.host&&(T.host=""),Ee=Ee.charAt(0)+":"),T.path.push(Ee)),Ee="","file"==T.scheme&&(se==_||"?"==se||"#"==se))for(;1<T.path.length&&""===T.path[0];)T.path.shift();"?"==se?(T.query="",Ne=ft):"#"==se&&(T.fragment="",Ne=xt)}else Ee+=Ct(se,Ze);break;case cn:"?"==se?(T.query="",Ne=ft):"#"==se?(T.fragment="",Ne=xt):se!=_&&(T.path[0]+=Ct(se,Je));break;case ft:V||"#"!=se?se!=_&&("'"==se&&$t(T)?T.query+="%27":T.query+="#"==se?"%23":Ct(se,Je)):(T.fragment="",Ne=xt);break;case xt:se!=_&&(T.fragment+=Ct(se,ot))}ut++}}function y(se){var L,V,Z=p(this,y,"URL"),X=1<arguments.length?arguments[1]:void 0,Pe=(se=String(se),ne(Z,{type:"URL"}));if(void 0!==X)if(X instanceof y)L=z(X);else if(V=g(L={},String(X)))throw TypeError(V);if(V=g(Pe,se,null,L))throw TypeError(V);var Ne=Pe.searchParams=new k;(X=J(Ne)).updateSearchParams(Pe.query),X.updateURL=function(){Pe.query=String(Ne)||null},d||(Z.href=Nt.call(Z),Z.origin=rn.call(Z),Z.protocol=pn.call(Z),Z.username=bn.call(Z),Z.password=Mn.call(Z),Z.host=In.call(Z),Z.hostname=Tn.call(Z),Z.port=Gn.call(Z),Z.pathname=W.call(Z),Z.search=ve.call(Z),Z.searchParams=je.call(Z),Z.hash=D.call(Z))}function C(T,L){return{get:T,set:L,configurable:!0,enumerable:!0}}j("../modules/es.string.iterator");var _,s,l,a=j("../internals/export"),d=j("../internals/descriptors"),c=j("../internals/native-url"),Jt=j("../internals/global"),u=j("../internals/object-define-properties"),h=j("../internals/redefine"),p=j("../internals/an-instance"),m=j("../internals/has"),w=j("../internals/object-assign"),R=j("../internals/array-from"),E=j("../internals/string-multibyte").codeAt,M=j("../internals/string-punycode-to-ascii"),A=j("../internals/set-to-string-tag"),B=j("../modules/web.url-search-params"),N=(j=j("../internals/internal-state"),Jt.URL),k=B.URLSearchParams,J=B.getState,ne=j.set,z=j.getterFor("URL"),ee=Math.floor,H=Math.pow,G="Invalid authority",K="Invalid scheme",le="Invalid host",Oe="Invalid port",Y=/[A-Za-z]/,P=/[\d+-.A-Za-z]/,re=/\d/,ge=/^(0x|0X)/,Te=/^[0-7]+$/,Ge=/^\d+$/,qe=/^[\dA-Fa-f]+$/,ht=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ze=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,st=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,lt=/[\u0009\u000A\u000D]/g,Be=function(T,L){var V,Z,X;if("["==L.charAt(0))return"]"==L.charAt(L.length-1)&&(V=function(se){var Ue,at,He,bt,Ut,an,hn,Pe=[0,0,0,0,0,0,0,0],Ne=0,ut=null,Ee=0,An=function(){return se.charAt(Ee)};if(":"==An()){if(":"!=se.charAt(1))return;Ee+=2,ut=++Ne}for(;An();){if(8==Ne)return;if(":"!=An()){for(Ue=at=0;at<4&&qe.test(An());)Ue=16*Ue+parseInt(An(),16),Ee++,at++;if("."==An()){if(0==at||(Ee-=at,Ne>6))return;for(He=0;An();){if(bt=null,He>0){if(!("."==An()&&He<4))return;Ee++}if(!re.test(An()))return;for(;re.test(An());){if(Ut=parseInt(An(),10),null===bt)bt=Ut;else{if(0==bt)return;bt=10*bt+Ut}if(bt>255)return;Ee++}Pe[Ne]=256*Pe[Ne]+bt,(2==++He||4==He)&&Ne++}if(4!=He)return;break}if(":"==An()){if(Ee++,!An())return}else if(An())return;Pe[Ne++]=Ue}else{if(null!==ut)return;Ee++,ut=++Ne}}if(null!==ut)for(an=Ne-ut,Ne=7;0!=Ne&&an>0;)hn=Pe[Ne],Pe[Ne--]=Pe[ut+an-1],Pe[ut+--an]=hn;else if(8!=Ne)return;return Pe}(L.slice(1,-1)))?void(T.host=V):le;if($t(T))return L=M(L),ht.test(L)||null===(V=function(se){var Ne,ut,Ee,Ue,at,He,bt,Pe=se.split(".");if(Pe.length&&""==Pe[Pe.length-1]&&Pe.pop(),(Ne=Pe.length)>4)return se;for(ut=[],Ee=0;Ee<Ne;Ee++){if(""==(Ue=Pe[Ee]))return se;if(at=10,Ue.length>1&&"0"==Ue.charAt(0)&&(at=ge.test(Ue)?16:8,Ue=Ue.slice(8==at?1:2)),""===Ue)He=0;else{if(!(10==at?Ge:8==at?Te:qe).test(Ue))return se;He=parseInt(Ue,at)}ut.push(He)}for(Ee=0;Ee<Ne;Ee++)if(He=ut[Ee],Ee==Ne-1){if(He>=H(256,5-Ne))return null}else if(He>255)return null;for(bt=ut.pop(),Ee=0;Ee<ut.length;Ee++)bt+=ut[Ee]*H(256,3-Ee);return bt}(L))?le:void(T.host=V);if(ze.test(L))return le;for(V="",Z=R(L),X=0;X<Z.length;X++)V+=Ct(Z[X],Je);T.host=V},Qe=function(T){for(var L=null,V=1,Z=null,X=0,se=0;se<8;se++)0!==T[se]?(V<X&&(L=Z,V=X),Z=null,X=0):(null===Z&&(Z=se),++X);return V<X&&(L=Z,V=X),L},Je={},ot=w({},Je,{" ":1,'"':1,"<":1,">":1,"`":1}),Ze=w({},ot,{"#":1,"?":1,"{":1,"}":1}),yt=w({},Ze,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ct=function(T,L){var V=E(T,0);return 32<V&&V<127&&!m(L,T)?T:encodeURIComponent(T)},sn={ftp:21,file:null,http:80,https:443,ws:80,wss:443},$t=function(T){return m(sn,T.scheme)},un=function(T){return""!=T.username||""!=T.password},Bt=function(T,L){return 2==T.length&&Y.test(T.charAt(0))&&(":"==(T=T.charAt(1))||!L&&"|"==T)},mn=function(T){return 1<T.length&&Bt(T.slice(0,2))&&(2==T.length||"/"===(T=T.charAt(2))||"\\"===T||"?"===T||"#"===T)},Yt=function(T){var L=T.path,V=L.length;!V||"file"==T.scheme&&1==V&&Bt(L[0],!0)||L.pop()},fn=function(T){return"."===T||"%2e"===T.toLowerCase()},Ot=function(T){return".."===(T=T.toLowerCase())||"%2e."===T||".%2e"===T||"%2e%2e"===T},ln={},Vt={},Ve={},Xe={},Ae={},Ke={},_t={},Ft={},Wt={},Tt={},Gt={},en={},tn={},pt={},tt={},At={},gt={},Rt={},cn={},ft={},xt={},Nt=(Jt=y.prototype,function(){var T=z(this),L=T.scheme,V=T.username,Z=T.password,X=T.host,se=T.port,Pe=T.path,Ne=T.query,ut=T.fragment,Ee=L+":";return null!==X?(Ee+="//",un(T)&&(Ee+=V+(Z?":"+Z:"")+"@"),Ee+=v(X),null!==se&&(Ee+=":"+se)):"file"==L&&(Ee+="//"),Ee+=T.cannotBeABaseURL?Pe[0]:Pe.length?"/"+Pe.join("/"):"",null!==Ne&&(Ee+="?"+Ne),null!==ut&&(Ee+="#"+ut),Ee}),rn=function(){var T=z(this),L=T.scheme,V=T.port;if("blob"==L)try{return new URL(L.path[0]).origin}catch{return"null"}return"file"!=L&&$t(T)?L+"://"+v(T.host)+(null!==V?":"+V:""):"null"},pn=function(){return z(this).scheme+":"},bn=function(){return z(this).username},Mn=function(){return z(this).password},In=function(){var T=(L=z(this)).host,L=L.port;return null===T?"":null===L?v(T):v(T)+":"+L},Tn=function(){var T=z(this).host;return null===T?"":v(T)},Gn=function(){var T=z(this).port;return null===T?"":String(T)},W=function(){var T=z(this),L=T.path;return T.cannotBeABaseURL?L[0]:L.length?"/"+L.join("/"):""},ve=function(){var T=z(this).query;return T?"?"+T:""},je=function(){return z(this).searchParams},D=function(){var T=z(this).fragment;return T?"#"+T:""};d&&u(Jt,{href:C(Nt,function(V){var L=z(this);if(V=g(L,V=String(V)))throw TypeError(V);J(L.searchParams).updateSearchParams(L.query)}),origin:C(rn),protocol:C(pn,function(T){g(z(this),String(T)+":",ln)}),username:C(bn,function(T){var L=z(this),V=R(String(T));if(!b(L)){L.username="";for(var Z=0;Z<V.length;Z++)L.username+=Ct(V[Z],yt)}}),password:C(Mn,function(T){var L=z(this),V=R(String(T));if(!b(L)){L.password="";for(var Z=0;Z<V.length;Z++)L.password+=Ct(V[Z],yt)}}),host:C(In,function(T){var L=z(this);L.cannotBeABaseURL||g(L,String(T),Gt)}),hostname:C(Tn,function(T){var L=z(this);L.cannotBeABaseURL||g(L,String(T),en)}),port:C(Gn,function(T){var L=z(this);b(L)||(""==(T=String(T))?L.port=null:g(L,T,tn))}),pathname:C(W,function(T){var L=z(this);L.cannotBeABaseURL||(L.path=[],g(L,T+"",gt))}),search:C(ve,function(T){var L=z(this);""==(T=String(T))?L.query=null:("?"==T.charAt(0)&&(T=T.slice(1)),L.query="",g(L,T,ft)),J(L.searchParams).updateSearchParams(L.query)}),searchParams:C(je),hash:C(D,function(T){var L=z(this);""==(T=String(T))?L.fragment=null:("#"==T.charAt(0)&&(T=T.slice(1)),L.fragment="",g(L,T,xt))})}),h(Jt,"toJSON",function(){return Nt.call(this)},{enumerable:!0}),h(Jt,"toString",function(){return Nt.call(this)},{enumerable:!0}),N&&(l=N.revokeObjectURL,(s=N.createObjectURL)&&h(y,"createObjectURL",function(T){return s.apply(N,arguments)}),l&&h(y,"revokeObjectURL",function(T){return l.apply(N,arguments)})),A(y,"URL"),a({global:!0,forced:!c,sham:!d},{URL:y})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(o,ie,$){"use strict";ie.exports=o("./").polyfill()},{"./":250}],250:[function(o,ie,$){(function(v,b){var y;y=function(){"use strict";function C(Be){return"function"==typeof Be}var _=Array.isArray||function(Be){return"[object Array]"===Object.prototype.toString.call(Be)},s=0,l=void 0,a=void 0,d=function(Be,Qe){w[s]=Be,w[s+1]=Qe,2===(s+=2)&&(a?a(R):k())},c=typeof window<"u"?window:void 0,u=(u=c||{}).MutationObserver||u.WebKitMutationObserver,h=typeof self>"u"&&void 0!==v&&"[object process]"==={}.toString.call(v),p=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function m(){var Be=setTimeout;return function(){return Be(R,1)}}var w=new Array(1e3);function R(){for(var Be=0;Be<s;Be+=2)(0,w[Be])(w[Be+1]),w[Be]=void 0,w[Be+1]=void 0;s=0}var M,A,B,k=void 0;function j(Be,Qe){var Je,ot=this,Ze=new this.constructor(ne),yt=(void 0===Ze[J]&&qe(Ze),ot._state);return yt?(Je=arguments[yt-1],d(function(){return Te(yt,Ze,Je,ot._result)})):re(ot,Ze,Be,Qe),Ze}function N(Be){var Qe;return Be&&"object"==typeof Be&&Be.constructor===this?Be:(le(Qe=new this(ne),Be),Qe)}k=h?function(){return v.nextTick(R)}:u?(A=0,h=new u(R),B=document.createTextNode(""),h.observe(B,{characterData:!0}),function(){B.data=A=++A%2}):p?((M=new MessageChannel).port1.onmessage=R,function(){return M.port2.postMessage(0)}):(void 0===c&&"function"==typeof o?function E(){try{var Be=Function("return this")().require("vertx");return void 0!==(l=Be.runOnLoop||Be.runOnContext)?function(){l(R)}:m()}catch{return m()}}:m)();var J=Math.random().toString(36).substring(2);function ne(){}var z=void 0,ee=1,H=2;function G(Be,Qe,Je){d(function(ot){var Ze=!1,yt=function(Ct,sn,$t,un){try{Ct.call(sn,function(Ct){Ze||(Ze=!0,(Qe!==Ct?le:Y)(ot,Ct))},function(Ct){Ze||(Ze=!0,P(ot,Ct))})}catch(Bt){return Bt}}(Je,Qe);!Ze&&yt&&(Ze=!0,P(ot,yt))},Be)}function K(Be,Qe,Je){var ot,Ze;Qe.constructor===Be.constructor&&Je===j&&Qe.constructor.resolve===N?(ot=Be,(Ze=Qe)._state===ee?Y(ot,Ze._result):Ze._state===H?P(ot,Ze._result):re(Ze,void 0,function(yt){return le(ot,yt)},function(yt){return P(ot,yt)})):void 0!==Je&&C(Je)?G(Be,Qe,Je):Y(Be,Qe)}function le(Be,Qe){if(Be===Qe)P(Be,new TypeError("You cannot resolve a promise with itself"));else if(Je=typeof Qe,null===Qe||"object"!=Je&&"function"!=Je)Y(Be,Qe);else{Je=void 0;try{Je=Qe.then}catch(ot){return void P(Be,ot)}K(Be,Qe,Je)}var Je}function Oe(Be){Be._onerror&&Be._onerror(Be._result),ge(Be)}function Y(Be,Qe){Be._state===z&&(Be._result=Qe,Be._state=ee,0!==Be._subscribers.length&&d(ge,Be))}function P(Be,Qe){Be._state===z&&(Be._state=H,Be._result=Qe,d(Oe,Be))}function re(Be,Qe,Je,ot){var Ze=Be._subscribers,yt=Ze.length;Be._onerror=null,Ze[yt]=Qe,Ze[yt+ee]=Je,Ze[yt+H]=ot,0===yt&&Be._state&&d(ge,Be)}function ge(Be){var Qe=Be._subscribers,Je=Be._state;if(0!==Qe.length){for(var ot,Ze=void 0,yt=Be._result,Ct=0;Ct<Qe.length;Ct+=3)Ze=Qe[Ct+Je],(ot=Qe[Ct])?Te(Je,ot,Ze,yt):Ze(yt);Be._subscribers.length=0}}function Te(Be,Qe,Je,ot){var Ze=C(Je),yt=void 0,Ct=void 0,sn=!0;if(Ze){try{yt=Je(ot)}catch($t){sn=!1,Ct=$t}if(Qe===yt)return void P(Qe,new TypeError("A promises callback cannot return that same promise."))}else yt=ot;Qe._state===z&&(Ze&&sn?le(Qe,yt):!1===sn?P(Qe,Ct):Be===ee?Y(Qe,yt):Be===H&&P(Qe,yt))}var Ge=0;function qe(Be){Be[J]=Ge++,Be._state=void 0,Be._result=void 0,Be._subscribers=[]}ze.prototype._enumerate=function(Be){for(var Qe=0;this._state===z&&Qe<Be.length;Qe++)this._eachEntry(Be[Qe],Qe)},ze.prototype._eachEntry=function(Be,Qe){var Je=this._instanceConstructor,ot=Je.resolve;if(ot===N){var Ze,yt=void 0,Ct=void 0,sn=!1;try{yt=Be.then}catch($t){sn=!0,Ct=$t}yt===j&&Be._state!==z?this._settledAt(Be._state,Qe,Be._result):"function"!=typeof yt?(this._remaining--,this._result[Qe]=Be):Je===st?(Ze=new Je(ne),sn?P(Ze,Ct):K(Ze,Be,yt),this._willSettleAt(Ze,Qe)):this._willSettleAt(new Je(function($t){return $t(Be)}),Qe)}else this._willSettleAt(ot(Be),Qe)},ze.prototype._settledAt=function(Be,Qe,Je){var ot=this.promise;ot._state===z&&(this._remaining--,Be===H?P(ot,Je):this._result[Qe]=Je),0===this._remaining&&Y(ot,this._result)},ze.prototype._willSettleAt=function(Be,Qe){var Je=this;re(Be,void 0,function(ot){return Je._settledAt(ee,Qe,ot)},function(ot){return Je._settledAt(H,Qe,ot)})};var ht=ze;function ze(Be,Qe){this._instanceConstructor=Be,this.promise=new Be(ne),this.promise[J]||qe(this.promise),_(Qe)?(this.length=Qe.length,this._remaining=Qe.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(Qe),0!==this._remaining)||Y(this.promise,this._result)):P(this.promise,new Error("Array Methods must be provided an Array"))}lt.prototype.catch=function(Be){return this.then(null,Be)},lt.prototype.finally=function(Be){var Qe=this.constructor;return C(Be)?this.then(function(Je){return Qe.resolve(Be()).then(function(){return Je})},function(Je){return Qe.resolve(Be()).then(function(){throw Je})}):this.then(Be,Be)};var st=lt;function lt(Be){if(this[J]=Ge++,this._result=this._state=void 0,this._subscribers=[],ne!==Be){if("function"!=typeof Be)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof lt))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Qe=this;try{Be(function(Je){le(Qe,Je)},function(Je){P(Qe,Je)})}catch(Je){P(Qe,Je)}}}return st.prototype.then=j,st.all=function(Be){return new ht(this,Be).promise},st.race=function(Be){var Qe=this;return _(Be)?new Qe(function(Je,ot){for(var Ze=Be.length,yt=0;yt<Ze;yt++)Qe.resolve(Be[yt]).then(Je,ot)}):new Qe(function(Je,ot){return ot(new TypeError("You must pass an array to race."))})},st.resolve=N,st.reject=function(Be){var Qe=new this(ne);return P(Qe,Be),Qe},st._setScheduler=function(Be){a=Be},st._setAsap=function(Be){d=Be},st._asap=d,st.polyfill=function(){var Be=void 0;if(void 0!==b)Be=b;else if(typeof self<"u")Be=self;else try{Be=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Qe=Be.Promise;if(Qe){var Je=null;try{Je=Object.prototype.toString.call(Qe.resolve())}catch{}if("[object Promise]"===Je&&!Qe.cast)return}Be.Promise=st},st.Promise=st},"object"==typeof $&&void 0!==ie?ie.exports=y():this.ES6Promise=y()}).call(this,o("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(o,ie,$){var b;b=function(g,y){"use strict";function s(a){try{delete window[a]}catch{window[a]=void 0}}function l(a){(a=document.getElementById(a))&&document.getElementsByTagName("head")[0].removeChild(a)}y.exports=function(a){var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=a,u=d.timeout||5e3,h=d.jsonpCallback||"callback",p=void 0;return new Promise(function(m,w){var R=d.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),E=h+"_"+R,M=(window[R]=function(A){m({ok:!0,json:function(){return Promise.resolve(A)}}),p&&clearTimeout(p),l(E),s(R)},c+=-1===c.indexOf("?")?"?":"&",document.createElement("script"));M.setAttribute("src",""+c+h+"="+R),d.charset&&M.setAttribute("charset",d.charset),M.id=E,document.getElementsByTagName("head")[0].appendChild(M),p=setTimeout(function(){w(new Error("JSONP request to "+a+" timed out")),s(R),l(E),window[R]=function(){s(R)}},u),M.onerror=function(){w(new Error("JSONP request to "+a+" failed")),s(R),l(E),p&&clearTimeout(p)}})}},void 0!==$&&void 0!==ie?b(0,ie):(b(b={exports:{}},b),this.fetchJsonp=b.exports)},{}],252:[function(o,ie,$){var v=function(b){"use strict";var g,y,C,_,s,l,d,c,u,h;if(!(void 0===b||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return g=function(){return b.URL||b.webkitURL||b},y=(h=b.document).createElementNS("http://www.w3.org/1999/xhtml","a"),C="download"in y,_=/constructor/i.test(b.HTMLElement)||b.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(p){(b.setImmediate||b.setTimeout)(function(){throw p},0)},4e4,d=function(p){setTimeout(function(){"string"==typeof p?g().revokeObjectURL(p):p.remove()},4e4)},c=function(p){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p},h=(u=function(p,m,A){A||(p=c(p));var R,E,M=this,B=(A="application/octet-stream"===p.type,function(){for(var j=M,N="writestart progress write writeend".split(" "),J=(N=[].concat(N)).length;J--;){var ne=j["on"+N[J]];if("function"==typeof ne)try{ne.call(j,j)}catch(z){l(z)}}});M.readyState=M.INIT,C?(R=g().createObjectURL(p),setTimeout(function(){var j,N;y.href=R,y.download=m,j=y,N=new MouseEvent("click"),j.dispatchEvent(N),B(),d(R),M.readyState=M.DONE})):(s||A&&_)&&b.FileReader?((E=new FileReader).onloadend=function(){var j=s?E.result:E.result.replace(/^data:[^;]*;/,"data:attachment/file;");b.open(j,"_blank")||(b.location.href=j),j=void 0,M.readyState=M.DONE,B()},E.readAsDataURL(p),M.readyState=M.INIT):(R=R||g().createObjectURL(p),!A&&b.open(R,"_blank")||(b.location.href=R),M.readyState=M.DONE,B(),d(R))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(p,m,w){return m=m||p.name||"download",w||(p=c(p)),navigator.msSaveOrOpenBlob(p,m)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(p,m,w){return new u(p,m||p.name||"download",w)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==ie&&ie.exports&&(ie.exports.saveAs=v)},{}],253:[function(o,ie,$){var v,b=Object.defineProperty,g=(b($,"__esModule",{value:!0}),$),y={GIFEncoder:()=>B,applyPalette:()=>function(z,ee,H="rgb565"){if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<ee.length)throw new Error("applyPalette() only works with 256 colors or less");const G=new Uint32Array(z.buffer),K=G.length,le="rgb444"===H?4096:65536,Oe=new Uint8Array(K),Y=new Array(le);if("rgba4444"===H)for(let lt=0;lt<K;lt++){var Te,P=(Te=G[lt])>>24&255,re=Te>>16&255,ge=Te>>8&255,Ge=(Ge=d(Te&=255,ge,re,P))in Y?Y[Ge]:Y[Ge]=function(Be,Qe,Je,ot,Ze){let yt=0,Ct=1e100;for(let Bt=0;Bt<Ze.length;Bt++){var $t=Ze[Bt],un=E($t[3]-ot);un>Ct||(un+=E($t[0]-Be))>Ct||(un+=E($t[1]-Qe))>Ct||(un+=E($t[2]-Je))>Ct||(Ct=un,yt=Bt)}return yt}(Te,ge,re,P,ee);Oe[lt]=Ge}else{const lt="rgb444"===H?c:a;for(let Be=0;Be<K;Be++){var ze,qe=(ze=G[Be])>>16&255,ht=ze>>8&255,st=(st=lt(ze&=255,ht,qe))in Y?Y[st]:Y[st]=function(Qe,Je,ot,Ze){let yt=0,Ct=1e100;for(let Bt=0;Bt<Ze.length;Bt++){var $t=Ze[Bt],un=E($t[0]-Qe);un>Ct||(un+=E($t[1]-Je))>Ct||(un+=E($t[2]-ot))>Ct||(Ct=un,yt=Bt)}return yt}(ze,ht,qe,ee);Oe[Be]=st}}return Oe},default:()=>ne,nearestColor:()=>function(z,ee,H=w){return z[M(z,ee,H)]},nearestColorIndex:()=>M,nearestColorIndexWithDistance:()=>A,prequantize:()=>function(z,{roundRGB:ee=5,roundAlpha:H=10,oneBitAlpha:G=null}={}){const K=new Uint32Array(z.buffer);for(let re=0;re<K.length;re++){let ge=(P=K[re])>>24&255;var Oe=P>>16&255,Y=P>>8&255,P=255&P;ge=R(ge,H),G&&(ge=ge<=("number"==typeof G?G:127)?0:255),P=R(P,ee),Y=R(Y,ee),Oe=R(Oe,ee),K[re]=ge<<24|Oe<<16|Y<<8|P}},quantize:()=>function(z,ee,H={}){var{format:G="rgb565",clearAlpha:K=!0,clearAlphaColor:le=0,clearAlphaThreshold:Oe=0,oneBitAlpha:Y=!1}=H;if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");z=new Uint32Array(z.buffer);let P=!1!==H.useSqrt;const re="rgba4444"===G,ge=function(mn,Yt){const Ot=new Array("rgb444"===Yt?4096:65536),ln=mn.length;if("rgba4444"===Yt)for(let tt=0;tt<ln;++tt){var Ae,Vt=(Ae=mn[tt])>>24&255,Ve=Ae>>16&255,Xe=Ae>>8&255,Ke=d(Ae&=255,Xe,Ve,Vt);let At=Ke in Ot?Ot[Ke]:Ot[Ke]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};At.rc+=Ae,At.gc+=Xe,At.bc+=Ve,At.ac+=Vt,At.cnt++}else if("rgb444"===Yt)for(let tt=0;tt<ln;++tt){var Wt,_t=(Wt=mn[tt])>>16&255,Ft=Wt>>8&255,Tt=c(Wt&=255,Ft,_t);let At=Tt in Ot?Ot[Tt]:Ot[Tt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};At.rc+=Wt,At.gc+=Ft,At.bc+=_t,At.cnt++}else for(let tt=0;tt<ln;++tt){var tn,Gt=(tn=mn[tt])>>16&255,en=tn>>8&255,pt=a(tn&=255,en,Gt);let At=pt in Ot?Ot[pt]:Ot[pt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};At.rc+=tn,At.gc+=en,At.bc+=Gt,At.cnt++}return Ot}(z,G),Te=ge.length,Ge=Te-1,qe=new Uint32Array(Te+1);for(var ht=0,ze=0;ze<Te;++ze){const mn=ge[ze];null!=mn&&($t=1/mn.cnt,re&&(mn.ac*=$t),mn.rc*=$t,mn.gc*=$t,mn.bc*=$t,ge[ht++]=mn)}var st,lt,Be;for(h(ee)/ht<.022&&(P=!1),ze=0;ze<ht-1;++ze)ge[ze].fw=ze+1,ge[ze+1].bk=ze,P&&(ge[ze].cnt=Math.sqrt(ge[ze].cnt));for(P&&(ge[ze].cnt=Math.sqrt(ge[ze].cnt)),ze=0;ze<ht;++ze){p(ge,ze,!1);var Qe=ge[ze].err;for(lt=++qe[0];1<lt&&!(ge[st=qe[Be=lt>>1]].err<=Qe);lt=Be)qe[lt]=st;qe[lt]=ze}var Je,ot=ht-ee;for(ze=0;ze<ot;){for(;;){var Ze=qe[1];if((Je=ge[Ze]).tm>=Je.mtm&&ge[Je.nn].mtm<=Je.tm)break;for(Je.mtm==Ge?Ze=qe[1]=qe[qe[0]--]:(p(ge,Ze,!1),Je.tm=ze),Qe=ge[Ze].err,lt=1;(Be=lt+lt)<=qe[0]&&(Be<qe[0]&&ge[qe[Be]].err>ge[qe[Be+1]].err&&Be++,!(Qe<=ge[st=qe[Be]].err));lt=Be)qe[lt]=st;qe[lt]=Ze}var yt=ge[Je.nn],Ct=Je.cnt,sn=yt.cnt,$t=1/(Ct+sn);re&&(Je.ac=$t*(Ct*Je.ac+sn*yt.ac)),Je.rc=$t*(Ct*Je.rc+sn*yt.rc),Je.gc=$t*(Ct*Je.gc+sn*yt.gc),Je.bc=$t*(Ct*Je.bc+sn*yt.bc),Je.cnt+=yt.cnt,Je.mtm=++ze,ge[yt.bk].fw=yt.fw,ge[yt.fw].bk=yt.bk,yt.mtm=Ge}let un=[];for(ze=0;;0){let mn=u(Math.round(ge[ze].rc),0,255),Yt=u(Math.round(ge[ze].gc),0,255),fn=u(Math.round(ge[ze].bc),0,255),Ot=255;re&&(Ot=u(Math.round(ge[ze].ac),0,255),Y&&(Ot=Ot<=(Bt="number"==typeof Y?Y:127)?0:255),K&&Ot<=Oe&&(mn=Yt=fn=le,Ot=0));var Bt=re?[mn,Yt,fn,Ot]:[mn,Yt,fn];if(function(ln,Vt){for(let Ae=0;Ae<ln.length;Ae++){var Ve=(Xe=ln[Ae])[0]===Vt[0]&&Xe[1]===Vt[1]&&Xe[2]===Vt[2],Xe=!(4<=Xe.length&&4<=Vt.length)||Xe[3]===Vt[3];if(Ve&&Xe)return!0}return!1}(un,Bt)||un.push(Bt),0==(ze=ge[ze].fw))break}return un},snapColorsToPalette:()=>function(z,ee,H=5){if(z.length&&ee.length){var G=z.map(P=>P.slice(0,3)),K=H*H,le=z[0].length;for(let P=0;P<ee.length;P++){let re=ee[P];re=re.length<le?[re[0],re[1],re[2],255]:re.length>le?re.slice(0,3):re.slice();var Y,Oe=(Y=A(G,re.slice(0,3),w))[0];0<(Y=Y[1])&&Y<=K&&(z[Oe]=re)}}}};for(v in y)b(g,v,{get:y[v],enumerable:!0});var C={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function _(z=256){let ee=0,H=new Uint8Array(z);return{get buffer(){return H.buffer},reset(){ee=0},bytesView:()=>H.subarray(0,ee),bytes:()=>H.slice(0,ee),writeByte(K){G(ee+1),H[ee]=K,ee++},writeBytes(K,le=0,Oe=K.length){G(ee+Oe);for(let Y=0;Y<Oe;Y++)H[ee++]=K[Y+le]},writeBytesView(K,le=0,Oe=K.byteLength){G(ee+Oe),H.set(K.subarray(le,le+Oe),ee),ee+=Oe}};function G(K){var le=H.length;if(!(K<=le)){K=Math.max(K,le*(le<1048576?2:1.125)>>>0),0!=le&&(K=Math.max(K,256));const Oe=H;H=new Uint8Array(K),0<ee&&H.set(Oe.subarray(0,ee),0)}}}var s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],l=function(z,ee,H,re,K=_(512),le=new Uint8Array(256),Oe=new Int32Array(5003),Y=new Int32Array(5003)){var P=Oe.length;re=Math.max(2,re),le.fill(0),Y.fill(0),Oe.fill(-1);let ge=0,Te=0;var Ge=re+1;const qe=Ge;let ht=!1,ze=qe,st=(1<<ze)-1;var lt=1<<Ge-1;const Be=1+lt;let Qe=2+lt,Je=0,ot=H[0],Ze=0;for(let Bt=P;Bt<65536;Bt*=2)++Ze;Ze=8-Ze,K.writeByte(re),un(lt);var yt=H.length;for(let Bt=1;Bt<yt;Bt++)e:{var Ct=H[Bt],sn=(Ct<<12)+ot;let mn=Ct<<Ze^ot;if(Oe[mn]===sn)ot=Y[mn];else{for(var $t=0===mn?1:P-mn;0<=Oe[mn];)if((mn-=$t)<0&&(mn+=P),Oe[mn]===sn){ot=Y[mn];break e}un(ot),ot=Ct,Qe<4096?(Y[mn]=Qe++,Oe[mn]=sn):(Oe.fill(-1),Qe=2+lt,ht=!0,un(lt))}}return un(ot),un(Be),K.writeByte(0),K.bytesView();function un(Bt){for(ge&=s[Te],0<Te?ge|=Bt<<Te:ge=Bt,Te+=ze;8<=Te;)le[Je++]=255&ge,254<=Je&&(K.writeByte(Je),K.writeBytesView(le,0,Je),Je=0),ge>>=8,Te-=8;if((Qe>st||ht)&&(ht?(ze=qe,st=(1<<ze)-1,ht=!1):(++ze,st=12===ze?1<<ze:(1<<ze)-1)),Bt==Be){for(;0<Te;)le[Je++]=255&ge,254<=Je&&(K.writeByte(Je),K.writeBytesView(le,0,Je),Je=0),ge>>=8,Te-=8;0<Je&&(K.writeByte(Je),K.writeBytesView(le,0,Je),Je=0)}}};function a(z,ee,H){return z<<8&63488|ee<<2&992|H>>3}function d(z,ee,H,G){return z>>4|240&ee|(240&H)<<4|(240&G)<<8}function c(z,ee,H){return z>>4<<8|240&ee|H>>4}function u(z,ee,H){return z<ee?ee:H<z?H:z}function h(z){return z*z}function p(z,ee,H){var G=0,K=1e100;const le=z[ee];for(var Oe=le.cnt,Y=le.ac,P=le.rc,re=le.gc,ge=le.bc,Te=le.fw;0!=Te;Te=z[Te].fw){var Ge,ht,qe=z[Te];K<=(ht=Oe*(ht=qe.cnt)/(Oe+ht))||(Ge=0,H&&K<=(Ge+=ht*h(qe.ac-Y))||K<=(Ge+=ht*h(qe.rc-P))||K<=(Ge+=ht*h(qe.gc-re))||K<=(Ge+=ht*h(qe.bc-ge))||(K=Ge,G=Te))}le.err=K,le.nn=G}function w(z,ee){for(var H=0,G=0;G<z.length;G++){var K=z[G]-ee[G];H+=K*K}return H}function R(z,ee){return 1<ee?Math.round(z/ee)*ee:z}function E(z){return z*z}function M(z,ee,H=w){let G=1/0,K=-1;for(let Oe=0;Oe<z.length;Oe++){var le=H(ee,z[Oe]);le<G&&(G=le,K=Oe)}return K}function A(z,ee,H=w){let G=1/0,K=-1;for(let Oe=0;Oe<z.length;Oe++){var le=H(ee,z[Oe]);le<G&&(G=le,K=Oe)}return[K,G]}function B(z={}){const{initialCapacity:ee=4096,auto:H=!0}=z,G=_(ee),K=new Uint8Array(256),le=new Int32Array(5003),Oe=new Int32Array(5003);let Y=!1;return{reset(){G.reset(),Y=!1},finish(){G.writeByte(C.trailer)},bytes:()=>G.bytes(),bytesView:()=>G.bytesView(),get buffer(){return G.buffer},get stream(){return G},writeHeader:P,writeFrame(re,ge,Te,ot={}){var{transparent:qe=!1,transparentIndex:ht=0,delay:$t=0,palette:ze=null,repeat:yt=0,colorDepth:st=8,dispose:lt=-1}=ot;let Be=!1;if(H?Y||(Be=!0,P(),Y=!0):Be=!!ot.first,ge=Math.max(0,Math.floor(ge)),Te=Math.max(0,Math.floor(Te)),Be){if(!ze)throw new Error("First frame must include a { palette } option");var[ot,Ct,Je,sn,Ze=8]=[G,ge,Te,ze,st];Ze=128|Ze-1<<4|(sn=J(sn.length)-1),N(ot,Ct),N(ot,Je),ot.writeBytes([Ze,0,0]),j(G,ze),0<=yt&&(Ct=yt,(sn=G).writeByte(33),sn.writeByte(255),sn.writeByte(11),k(sn,"NETSCAPE2.0"),sn.writeByte(3),sn.writeByte(1),N(sn,Ct),sn.writeByte(0))}var Qe,Je,Ze=lt,yt=Je=Math.round($t/10),Ct=qe,sn=ht,$t=((ot=G).writeByte(33),ot.writeByte(249),ot.writeByte(4),sn<0&&(sn=0,Ct=!1),Ct=Ct?(Qe=1,2):Qe=0,0<=Ze&&(Ct=7&Ze),ot.writeByte((Ct<<=2)|Qe),N(ot,yt),ot.writeByte(sn||0),ot.writeByte(0),!!ze&&!Be);qe=ge,ht=Te,Qe=$t?ze:null,(lt=G).writeByte(44),N(lt,0),N(lt,0),N(lt,qe),N(lt,ht),Qe?(qe=J(Qe.length)-1,lt.writeByte(128|qe)):lt.writeByte(0),$t&&j(G,ze),[yt,ot,ht,qe,lt=8,$t,ze,re]=[G,re,ge,Te,st,K,le,Oe],l(ht,qe,ot,lt,yt,$t,ze,re)}};function P(){k(G,"GIF89a")}}function j(z,ee){var H=1<<J(ee.length);for(let G=0;G<H;G++){let K=[0,0,0];G<ee.length&&(K=ee[G]),z.writeByte(K[0]),z.writeByte(K[1]),z.writeByte(K[2])}}function N(z,ee){z.writeByte(255&ee),z.writeByte(ee>>8&255)}function k(z,ee){for(var H=0;H<ee.length;H++)z.writeByte(ee.charCodeAt(H))}function J(z){return Math.max(Math.ceil(Math.log2(z)),1)}var ne=B},{}],254:[function(o,ie,$){$.read=function(v,b,g,y,p){var _,s,l=8*p-y-1,a=(1<<l)-1,d=a>>1,c=-7,u=g?p-1:0,h=g?-1:1;for(p=v[b+u],u+=h,_=p&(1<<-c)-1,p>>=-c,c+=l;0<c;_=256*_+v[b+u],u+=h,c-=8);for(s=_&(1<<-c)-1,_>>=-c,c+=y;0<c;s=256*s+v[b+u],u+=h,c-=8);if(0===_)_=1-d;else{if(_===a)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,y),_-=d}return(p?-1:1)*s*Math.pow(2,_-y)},$.write=function(v,b,g,y,C,m){var s,l,a=8*m-C-1,d=(1<<a)-1,c=d>>1,u=23===C?Math.pow(2,-24)-Math.pow(2,-77):0,h=y?0:m-1,p=y?1:-1;for(m=b<0||0===b&&1/b<0?1:0,b=Math.abs(b),isNaN(b)||b===1/0?(l=isNaN(b)?1:0,s=d):(s=Math.floor(Math.log(b)/Math.LN2),b*(y=Math.pow(2,-s))<1&&(s--,y*=2),2<=(b+=1<=s+c?u/y:u*Math.pow(2,1-c))*y&&(s++,y/=2),d<=s+c?(l=0,s=d):1<=s+c?(l=(b*y-1)*Math.pow(2,C),s+=c):(l=b*Math.pow(2,c-1)*Math.pow(2,C),s=0));8<=C;v[g+h]=255&l,h+=p,l/=256,C-=8);for(s=s<<C|l,a+=C;0<a;v[g+h]=255&s,h+=p,s/=256,a-=8);v[g+h-p]|=128*m}},{}],255:[function(o,ie,$){"use strict";var v;function b(Ve,Xe){return Ve.b===Xe.b&&Ve.a===Xe.a}function g(Ve,Xe){return Ve.b<Xe.b||Ve.b===Xe.b&&Ve.a<=Xe.a}function y(Ve,Xe,Ae){var Ke=Xe.b-Ve.b,_t=Ae.b-Xe.b;return 0<Ke+_t?Ke<_t?Xe.a-Ve.a+Ke/(Ke+_t)*(Ve.a-Ae.a):Xe.a-Ae.a+_t/(Ke+_t)*(Ae.a-Ve.a):0}function C(Ve,Xe,Ae){var Ke=Xe.b-Ve.b,_t=Ae.b-Xe.b;return 0<Ke+_t?(Xe.a-Ae.a)*Ke+(Xe.a-Ve.a)*_t:0}function _(Ve,Xe){return Ve.a<Xe.a||Ve.a===Xe.a&&Ve.b<=Xe.b}function s(Ve,Xe,Ae){var Ke=Xe.a-Ve.a,_t=Ae.a-Xe.a;return 0<Ke+_t?Ke<_t?Xe.b-Ve.b+Ke/(Ke+_t)*(Ve.b-Ae.b):Xe.b-Ae.b+_t/(Ke+_t)*(Ae.b-Ve.b):0}function l(Ve,Xe,Ae){var Ke=Xe.a-Ve.a,_t=Ae.a-Xe.a;return 0<Ke+_t?(Xe.b-Ae.b)*Ke+(Xe.b-Ve.b)*_t:0}function a(Ve,Xe,Ae,Ke){return(Ve=Ve<0?0:Ve)<=(Ae=Ae<0?0:Ae)?0===Ae?(Xe+Ke)/2:Xe+Ve/(Ve+Ae)*(Ke-Xe):Ke+Ae/(Ve+Ae)*(Xe-Ke)}function d(Ve){var Xe=m(Ve.b);return R(Xe,Ve.c),R(Xe.b,Ve.c),E(Xe,Ve.a),Xe}function c(Ve,Xe){var Ae=!1,Ke=!1;Ve!==Xe&&(Xe.a!==Ve.a&&(Ke=!0,A(Xe.a,Ve.a)),Xe.d!==Ve.d&&(Ae=!0,B(Xe.d,Ve.d)),w(Xe,Ve),Ke||(R(Xe,Ve.a),Ve.a.c=Ve),Ae||(E(Xe,Ve.d),Ve.d.a=Ve))}function u(Ve){var Xe=Ve.b,Ae=!1;Ve.d!==Ve.b.d&&(Ae=!0,B(Ve.d,Ve.b.d)),Ve.c===Ve?A(Ve.a,null):(Ve.b.d.a=Ve.b.e,Ve.a.c=Ve.c,w(Ve,Ve.b.e),Ae||E(Ve,Ve.d)),Xe.c===Xe?(A(Xe.a,null),B(Xe.d,null)):(Ve.d.a=Xe.b.e,Xe.a.c=Xe.c,w(Xe,Xe.b.e)),M(Ve)}function h(Ve){var Xe=m(Ve),Ae=Xe.b;return w(Xe,Ve.e),Xe.a=Ve.b.a,R(Ae,Xe.a),Xe.d=Ae.d=Ve.d,Xe=Xe.b,w(Ve.b,Ve.b.b.e),w(Ve.b,Xe),Ve.b.a=Xe.a,Xe.b.a.c=Xe.b,Xe.b.d=Ve.b.d,Xe.f=Ve.f,Xe.b.f=Ve.b.f,Xe}function p(Ve,Xe){var Ae=!1,Ke=m(Ve),_t=Ke.b;return Xe.d!==Ve.d&&(Ae=!0,B(Xe.d,Ve.d)),w(Ke,Ve.e),w(_t,Xe),Ke.a=Ve.b.a,_t.a=Xe.a,Ke.d=_t.d=Ve.d,Ve.d.a=_t,Ae||E(Ke,Ve.d),Ke}function m(Ve){var Xe=new Je,Ae=new Je;return(((Ae.h=Ve.b.h).b.h=Xe).h=Ve).b.h=Ae,Xe.b=Ae,((Xe.c=Xe).e=Ae).b=Xe,(Ae.c=Ae).e=Xe}function w(Ve,Xe){var Ae=Ve.c,Ke=Xe.c;Ae.b.e=Xe,(Ke.b.e=Ve).c=Ke,Xe.c=Ae}function R(Ve,Xe){var Ae=Xe.f,Ke=new Ze(Xe,Ae);for(Ae.e=Ke,Ae=(Xe.f=Ke).c=Ve;Ae.a=Ke,(Ae=Ae.c)!==Ve;);}function E(Ve,Xe){var Ae=Xe.d,Ke=new Qe(Xe,Ae);for(Ae.b=Ke,(Xe.d=Ke).a=Ve,Ke.c=Xe.c,Ae=Ve;Ae.d=Ke,(Ae=Ae.e)!==Ve;);}function M(Ve){var Xe=Ve.h;(Xe.b.h=Ve=Ve.b.h).b.h=Xe}function A(Ve,Xe){for(var Ae=Ve.c,Ke=Ae;Ke.a=Xe,(Ke=Ke.c)!==Ae;);((Ke=Ve.e).f=Ae=Ve.f).e=Ke}function B(Ve,Xe){for(var Ae=Ve.a,Ke=Ae;Ke.d=Xe,(Ke=Ke.e)!==Ae;);((Ke=Ve.b).d=Ae=Ve.d).b=Ke}function j(Ve){var Xe=0;return Math.abs(Ve[1])>Math.abs(Ve[0])&&(Xe=1),Math.abs(Ve[2])>Math.abs(Ve[Xe])?2:Xe}function N(Ve,Xe){Ve.f+=Xe.f,Ve.b.f+=Xe.b.f}function k(Ve,Xe,Ae){return Ae=Ae.a,(Xe=Xe.a).b.a===(Ve=Ve.a)?Ae.b.a===Ve?g(Xe.a,Ae.a)?C(Ae.b.a,Xe.a,Ae.a)<=0:0<=C(Xe.b.a,Ae.a,Xe.a):C(Ae.b.a,Ve,Ae.a)<=0:Ae.b.a===Ve?0<=C(Xe.b.a,Ve,Xe.a):(Xe=y(Xe.b.a,Ve,Xe.a),(Ve=y(Ae.b.a,Ve,Ae.a))<=Xe)}function J(Ve){Ve.a.i=null;var Xe=Ve.e;Xe.a.c=Xe.c,Xe.c.a=Xe.a,Ve.e=null}function ne(Ve,Xe){u(Ve.a),Ve.c=!1,(Ve.a=Xe).i=Ve}function z(Ve){for(var Xe=Ve.a.a;(Ve=Vt(Ve)).a.a===Xe;);return Ve.c&&(ne(Ve,Xe=p(ln(Ve).a.b,Ve.a.e)),Ve=Vt(Ve)),Ve}function ee(Ve,Xe,Ae){var Ke=new Ot;return Ke.a=Ae,Ke.e=ht(Ve.f,Xe.e,Ke),Ae.i=Ke}function H(Ve,Xe){switch(Ve.s){case 100130:return!!(1&Xe);case 100131:return 0!==Xe;case 100132:return 0<Xe;case 100133:return Xe<0;case 100134:return 2<=Xe||Xe<=-2}return!1}function G(Ve){var Xe=Ve.a,Ae=Xe.d;Ae.c=Ve.d,Ae.a=Xe,J(Ve)}function K(Ve,Xe,Ae){for(Xe=(Ve=Xe).a;Ve!==Ae;){Ve.c=!1;var Ke=ln(Ve),_t=Ke.a;if(_t.a!==Xe.a){if(!Ke.c){G(Ve);break}ne(Ke,_t=p(Xe.c.b,_t.b))}Xe.c!==_t&&(c(_t.b.e,_t),c(Xe,_t)),G(Ve),Xe=Ke.a,Ve=Ke}return Xe}function le(Ve,Xe,Ae,Ke,_t,Ft){for(var Wt=!0;ee(Ve,Xe,Ae.b),(Ae=Ae.c)!==Ke;);for(null===_t&&(_t=ln(Xe).a.b.c);(Ae=(Ke=ln(Xe)).a.b).a===_t.a;)Ae.c!==_t&&(c(Ae.b.e,Ae),c(_t.b.e,Ae)),Ke.f=Xe.f-Ae.f,Ke.d=H(Ve,Ke.f),Xe.b=!0,!Wt&&re(Ve,Xe)&&(N(Ae,_t),J(Xe),u(_t)),Wt=!1,Xe=Ke,_t=Ae;Xe.b=!0,Ft&&Te(Ve,Xe)}function Oe(Ve,Xe,Ae,Ke,_t){var Ft=[Xe.g[0],Xe.g[1],Xe.g[2]];Xe.d=null,Xe.d=Ve.o&&Ve.o(Ft,Ae,Ke,Ve.c)||null,null===Xe.d&&(_t?Ve.n||(Be(Ve,100156),Ve.n=!0):Xe.d=Ae[0])}function Y(Ve,Xe,Ae){var Ke=[null,null,null,null];Ke[0]=Xe.a.d,Ke[1]=Ae.a.d,Oe(Ve,Xe.a,Ke,[.5,.5,0,0],!1),c(Xe,Ae)}function P(Ve,Xe,Ae,Ke,_t){var Ft=Math.abs(Xe.b-Ve.b)+Math.abs(Xe.a-Ve.a),Wt=Math.abs(Ae.b-Ve.b)+Math.abs(Ae.a-Ve.a),Tt=_t+1;Ke[_t]=.5*Wt/(Ft+Wt),Ke[Tt]=.5*Ft/(Ft+Wt),Ve.g[0]+=Ke[_t]*Xe.g[0]+Ke[Tt]*Ae.g[0],Ve.g[1]+=Ke[_t]*Xe.g[1]+Ke[Tt]*Ae.g[1],Ve.g[2]+=Ke[_t]*Xe.g[2]+Ke[Tt]*Ae.g[2]}function re(Ve,Xe){var Ae=ln(Xe),Ke=Xe.a,_t=Ae.a;if(g(Ke.a,_t.a)){if(0<C(_t.b.a,Ke.a,_t.a))return;if(b(Ke.a,_t.a)){if(Ke.a!==_t.a){Ae=Ve.e;var Ft=Ke.a.h;if(0<=Ft){var Wt=(Ae=Ae.b).d,Tt=Ae.e,Gt=Ae.c,en=Gt[Ft];Wt[en]=Wt[Ae.a],(Gt[Wt[en]]=en)<=--Ae.a&&(en<=1||g(Tt[Wt[en>>1]],Tt[Wt[en]])?Yt:fn)(Ae,en),Tt[Ft]=null,Gt[Ft]=Ae.b,Ae.b=Ft}else for(Ae.c[-(Ft+1)]=null;0<Ae.a&&null===Ae.c[Ae.d[Ae.a-1]];)--Ae.a;Y(Ve,_t.b.e,Ke)}}else h(_t.b),c(Ke,_t.b.e),Xe.b=Ae.b=!0}else{if(C(Ke.b.a,_t.a,Ke.a)<0)return;Vt(Xe).b=Xe.b=!0,h(Ke.b),c(_t.b.e,Ke)}return 1}function ge(Ve,Xe){var Ae=ln(Xe),Ke=Xe.a,_t=Ae.a,Ft=Ke.a,Wt=_t.a,Tt=Ke.b.a,Gt=_t.b.a,en=new Ze;if(C(Tt,Ve.a,Ft),C(Gt,Ve.a,Wt),!(Ft===Wt||Math.min(Ft.a,Tt.a)>Math.max(Wt.a,Gt.a))){if(g(Ft,Wt)){if(0<C(Gt,Ft,Wt))return}else if(C(Tt,Wt,Ft)<0)return;var tn,pt,tt=Tt,At=Ft,gt=Gt,Rt=Wt;if(g(tt,At)||(tn=tt,tt=At,At=tn),g(gt,Rt)||(tn=gt,gt=Rt,Rt=tn),g(tt,gt)||(tn=tt,tt=gt,gt=tn,tn=At,At=Rt,Rt=tn),g(gt,At)?g(At,Rt)?((tn=y(tt,gt,At))+(pt=y(gt,At,Rt))<0&&(tn=-tn,pt=-pt),en.b=a(tn,gt.b,pt,At.b)):((tn=C(tt,gt,At))+(pt=-C(tt,Rt,At))<0&&(tn=-tn,pt=-pt),en.b=a(tn,gt.b,pt,Rt.b)):en.b=(gt.b+At.b)/2,_(tt,At)||(tn=tt,tt=At,At=tn),_(gt,Rt)||(tn=gt,gt=Rt,Rt=tn),_(tt,gt)||(tn=tt,tt=gt,gt=tn,tn=At,At=Rt,Rt=tn),_(gt,At)?_(At,Rt)?((tn=s(tt,gt,At))+(pt=s(gt,At,Rt))<0&&(tn=-tn,pt=-pt),en.a=a(tn,gt.a,pt,At.a)):((tn=l(tt,gt,At))+(pt=-l(tt,Rt,At))<0&&(tn=-tn,pt=-pt),en.a=a(tn,gt.a,pt,Rt.a)):en.a=(gt.a+At.a)/2,g(en,Ve.a)&&(en.b=Ve.a.b,en.a=Ve.a.a),tt=g(Ft,Wt)?Ft:Wt,g(tt,en)&&(en.b=tt.b,en.a=tt.a),b(en,Ft)||b(en,Wt))return re(Ve,Xe),0;if(!b(Tt,Ve.a)&&0<=C(Tt,Ve.a,en)||!b(Gt,Ve.a)&&C(Gt,Ve.a,en)<=0){if(Gt===Ve.a)h(Ke.b),c(_t.b,Ke),Ke=ln(Xe=z(Xe)).a,K(Ve,ln(Xe),Ae),le(Ve,Xe,Ke.b.e,Ke,Ke,!0);else{if(Tt!==Ve.a)return 0<=C(Tt,Ve.a,en)&&(Vt(Xe).b=Xe.b=!0,h(Ke.b),Ke.a.b=Ve.a.b,Ke.a.a=Ve.a.a),void(C(Gt,Ve.a,en)<=0&&(Xe.b=Ae.b=!0,h(_t.b),_t.a.b=Ve.a.b,_t.a.a=Ve.a.a));for(h(_t.b),c(Ke.e,_t.b.e),Wt=(Ft=Ae=Xe).a.b.a;(Ft=Vt(Ft)).a.b.a===Wt;);Ft=ln(Xe=Ft).a.b.c,Ae.a=_t.b.e,le(Ve,Xe,(_t=K(Ve,Ae,null)).c,Ke.b.c,Ft,!0)}return 1}h(Ke.b),h(_t.b),c(_t.b.e,Ke),Ke.a.b=en.b,Ke.a.a=en.a,Ke.a.h=Ct(Ve.e,Ke.a),_t=[0,0,0,0],en=[Ft.d,Tt.d,Wt.d,Gt.d],(Ke=Ke.a).g[0]=Ke.g[1]=Ke.g[2]=0,P(Ke,Ft,Tt,_t,0),P(Ke,Wt,Gt,_t,2),Oe(Ve,Ke,en,_t,!0),Vt(Xe).b=Xe.b=Ae.b=!0}}function Te(Ve,Xe){for(var Ae=ln(Xe);;){for(;Ae.b;)Ae=ln(Xe=Ae);if(!(Xe.b||null!==(Xe=Vt(Ae=Xe))&&Xe.b))break;Xe.b=!1;var Ke=Xe.a,_t=Ae.a;if(Ft=Ke.b.a!==_t.b.a)e:{var Ft,Wt=ln(Ft=Xe),Tt=Ft.a,Gt=Wt.a,en=void 0;if(g(Tt.b.a,Gt.b.a)){if(C(Tt.b.a,Gt.b.a,Tt.a)<0){Ft=!1;break e}Vt(Ft).b=Ft.b=!0,en=h(Tt),c(Gt.b,en),en.d.c=Ft.d}else{if(0<C(Gt.b.a,Tt.b.a,Gt.a)){Ft=!1;break e}Ft.b=Wt.b=!0,en=h(Gt),c(Tt.e,Gt.b),en.b.d.c=Ft.d}Ft=!0}if(Ft&&(Ae.c?(J(Ae),u(_t),_t=(Ae=ln(Xe)).a):Xe.c&&(J(Xe),u(Ke),Ke=(Xe=Vt(Ae)).a)),Ke.a!==_t.a)if(Ke.b.a===_t.b.a||Xe.c||Ae.c||Ke.b.a!==Ve.a&&_t.b.a!==Ve.a)re(Ve,Xe);else if(ge(Ve,Xe))break;Ke.a===_t.a&&Ke.b.a===_t.b.a&&(N(_t,Ke),J(Xe),u(Ke),Xe=Vt(Ae))}}function Ge(Ve,Xe){var Ae=new Ot,Ke=d(Ve.b);Ke.a.b=4e150,Ke.a.a=Xe,Ke.b.a.b=-4e150,Ke.b.a.a=Xe,Ve.a=Ke.b.a,Ae.a=Ke,Ae.f=0,Ae.d=!1,Ae.c=!1,Ae.h=!0,Ae.b=!1,Ke=ht(Ke=Ve.f,Ke.a,Ae),Ae.e=Ke}function qe(Ve){this.a=new ze,this.b=Ve,this.c=k}function ht(Ve,Xe,Ae){for(;null!==(Xe=Xe.c).b&&!Ve.c(Ve.b,Xe.b,Ae););return Ve=new ze(Ae,Xe.a,Xe),Xe.a.c=Ve,Xe.a=Ve}function ze(Ve,Xe,Ae){this.b=Ve||null,this.a=Xe||this,this.c=Ae||this}function st(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function lt(Ve,Xe){if(Ve.d!==Xe)for(;Ve.d!==Xe;)if(Ve.d<Xe)switch(Ve.d){case 0:Be(Ve,100151),Ve.u(null);break;case 1:Be(Ve,100152),Ve.t()}else switch(Ve.d){case 2:Be(Ve,100154),Ve.v();break;case 1:Be(Ve,100153),Ve.w()}}function Be(Ve,Xe){Ve.p&&Ve.p(Xe,Ve.c)}function Qe(Ve,Xe){this.b=Ve||this,this.d=Xe||this,this.a=null,this.c=!1}function Je(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ot(){this.c=new Ze,this.a=new Qe,this.b=new Je,this.d=new Je,this.b.b=this.d,this.d.b=this.b}function Ze(Ve,Xe){this.e=Ve||this,this.f=Xe||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function yt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new $t}function Ct(Ve,Xe){var Ae,Ke,_t;return Ve.e?(2*(Ke=++(Ae=Ve.b).a)>Ae.f&&(Ae.f*=2,Ae.c=un(Ae.c,Ae.f+1)),0===Ae.b?_t=Ke:(_t=Ae.b,Ae.b=Ae.c[Ae.b]),Ae.e[_t]=Xe,Ae.c[_t]=Ke,Ae.d[Ke]=_t,Ae.h&&fn(Ae,Ke),_t):(Ae=Ve.a++,Ve.c[Ae]=Xe,-(Ae+1))}function sn(Ve){if(0===Ve.a)return mn(Ve.b);var Xe=Ve.c[Ve.d[Ve.a-1]];if(0!==Ve.b.a&&g(Bt(Ve.b),Xe))return mn(Ve.b);for(;--Ve.a,0<Ve.a&&null===Ve.c[Ve.d[Ve.a-1]];);return Xe}function $t(){this.d=un([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function un(Ve,Xe){for(var Ae=Array(Xe),Ke=0;Ke<Ve.length;Ke++)Ae[Ke]=Ve[Ke];for(;Ke<Xe;Ke++)Ae[Ke]=0;return Ae}function Bt(Ve){return Ve.e[Ve.d[1]]}function mn(Ve){var Xe=Ve.d,Ae=Ve.e,Ke=Ve.c,_t=Xe[1],Ft=Ae[_t];return 0<Ve.a&&(Xe[1]=Xe[Ve.a],Ke[Xe[1]]=1,Ae[_t]=null,Ke[_t]=Ve.b,Ve.b=_t,0<--Ve.a&&Yt(Ve,1)),Ft}function Yt(Ve,Xe){for(var Ae=Ve.d,Ke=Ve.e,_t=Ve.c,Ft=Xe,Wt=Ae[Ft];;){var Tt=Ft<<1,Gt=(Tt<Ve.a&&g(Ke[Ae[Tt+1]],Ke[Ae[Tt]])&&(Tt+=1),Ae[Tt]);if(Tt>Ve.a||g(Ke[Wt],Ke[Gt])){_t[Ae[Ft]=Wt]=Ft;break}_t[Ae[Ft]=Gt]=Ft,Ft=Tt}}function fn(Ve,Xe){for(var Ae=Ve.d,Ke=Ve.e,_t=Ve.c,Ft=Xe,Wt=Ae[Ft];;){var Tt=Ft>>1,Gt=Ae[Tt];if(0==Tt||g(Ke[Gt],Ke[Wt])){_t[Ae[Ft]=Wt]=Ft;break}_t[Ae[Ft]=Gt]=Ft,Ft=Tt}}function Ot(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ln(Ve){return Ve.e.c.b}function Vt(Ve){return Ve.e.a.b}(v=st.prototype).x=function(){lt(this,0)},v.B=function(Ve,Xe){switch(Ve){case 100142:return;case 100140:switch(Xe){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Xe)}break;case 100141:return void(this.m=!!Xe);default:return void Be(this,100900)}Be(this,100901)},v.y=function(Ve){switch(Ve){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Be(this,100900)}return!1},v.A=function(Ve,Xe,Ae){this.j[0]=Ve,this.j[1]=Xe,this.j[2]=Ae},v.z=function(Ve,Xe){var Ae=Xe||null;switch(Ve){case 100100:case 100106:this.h=Ae;break;case 100104:case 100110:this.l=Ae;break;case 100101:case 100107:this.k=Ae;break;case 100102:case 100108:this.i=Ae;break;case 100103:case 100109:this.p=Ae;break;case 100105:case 100111:this.o=Ae;break;case 100112:this.r=Ae;break;default:Be(this,100900)}},v.C=function(Ve,Xe){var Ae=!1,Ke=[0,0,0];lt(this,2);for(var _t=0;_t<3;++_t){var Ft=Ve[_t];Ft<-1e150&&(Ft=-1e150,Ae=!0),1e150<Ft&&(Ft=1e150,Ae=!0),Ke[_t]=Ft}Ae&&Be(this,100155),null===(Ae=this.q)?c(Ae=d(this.b),Ae.b):(h(Ae),Ae=Ae.e),Ae.a.d=Xe,Ae.a.g[0]=Ke[0],Ae.a.g[1]=Ke[1],Ae.a.g[2]=Ke[2],Ae.f=1,Ae.b.f=-1,this.q=Ae},v.u=function(Ve){lt(this,0),this.d=1,this.b=new ot,this.c=Ve},v.t=function(){lt(this,1),this.d=2,this.q=null},v.v=function(){lt(this,2),this.d=1},v.w=function(){lt(this,1),this.d=0;var Ve,Xe,Ft=!1,Wt=[Ae=this.j[0],Ke=this.j[1],_t=this.j[2]];if(0===Ae&&0===Ke&&0===_t){for(var Ke=[-2e150,-2e150,-2e150],Tt=[2e150,2e150,2e150],_t=[],Gt=[],Ae=(Ft=this.b.c).e;Ae!==Ft;Ae=Ae.e)for(var en=0;en<3;++en){var tn=Ae.g[en];tn<Tt[en]&&(Tt[en]=tn,Gt[en]=Ae),tn>Ke[en]&&(Ke[en]=tn,_t[en]=Ae)}if(Ke[1]-Tt[1]>Ke[Ae=0]-Tt[0]&&(Ae=1),Tt[Ae=Ke[2]-Tt[2]>Ke[Ae]-Tt[Ae]?2:Ae]>=Ke[Ae])Wt[0]=0,Wt[1]=0,Wt[2]=1;else{for(Tt=Gt[Ae],Gt=[Ke=0,0,0],Tt=[Tt.g[0]-(_t=_t[Ae]).g[0],Tt.g[1]-_t.g[1],Tt.g[2]-_t.g[2]],en=[0,0,0],Ae=Ft.e;Ae!==Ft;Ae=Ae.e)en[0]=Ae.g[0]-_t.g[0],en[1]=Ae.g[1]-_t.g[1],en[2]=Ae.g[2]-_t.g[2],Gt[0]=Tt[1]*en[2]-Tt[2]*en[1],Gt[1]=Tt[2]*en[0]-Tt[0]*en[2],Gt[2]=Tt[0]*en[1]-Tt[1]*en[0],Ke<(tn=Gt[0]*Gt[0]+Gt[1]*Gt[1]+Gt[2]*Gt[2])&&(Ke=tn,Wt[0]=Gt[0],Wt[1]=Gt[1],Wt[2]=Gt[2]);Ke<=0&&(Wt[0]=Wt[1]=Wt[2]=0,Wt[j(Tt)]=1)}Ft=!0}for(Ke=((Gt=j(Wt))+1)%3,_t=(Gt+2)%3,Gt=0<Wt[Gt]?1:-1,Wt=(Ae=this.b.c).e;Wt!==Ae;Wt=Wt.e)Wt.b=Wt.g[Ke],Wt.a=Gt*Wt.g[_t];if(Ft){for(Wt=0,Ae=(Ft=this.b.a).b;Ae!==Ft;Ae=Ae.b)if(!((Ke=Ae.a).f<=0))for(;Wt+=(Ke.a.b-Ke.b.a.b)*(Ke.a.a+Ke.b.a.a),(Ke=Ke.e)!==Ae.a;);if(Wt<0)for(Ft=(Wt=this.b.c).e;Ft!==Wt;Ft=Ft.e)Ft.a=-Ft.a}for(this.n=!1,Ae=(Wt=this.b.b).h;Ae!==Wt;Ae=Ft)Ft=Ae.h,Ke=Ae.e,b(Ae.a,Ae.b.a)&&Ae.e.e!==Ae&&(Y(this,Ke,Ae),u(Ae),Ke=(Ae=Ke).e),Ke.e===Ae&&(Ke!==Ae&&(Ke!==Ft&&Ke!==Ft.b||(Ft=Ft.h),u(Ke)),Ae!==Ft&&Ae!==Ft.b||(Ft=Ft.h),u(Ae));for(this.e=Wt=new yt,Ae=(Ft=this.b.c).e;Ae!==Ft;Ae=Ae.e)Ae.h=Ct(Wt,Ae);var pt=Wt;pt.d=[];for(var tt=0;tt<pt.a;tt++)pt.d[tt]=tt;pt.d.sort(function(Rt){return function(cn,ft){return g(Rt[cn],Rt[ft])?1:-1}}(pt.c)),pt.e=!0;for(var At=pt.b,gt=At.a;1<=gt;--gt)Yt(At,gt);for(At.h=!0,this.f=new qe(this),Ge(this,-4e150),Ge(this,4e150);null!==(Wt=sn(this.e));){for(;;){e:if(0===(Ae=this.e).a)Ft=Bt(Ae.b);else if(Ft=Ae.c[Ae.d[Ae.a-1]],0!==Ae.b.a&&g(Ae=Bt(Ae.b),Ft)){Ft=Ae;break e}if(null===Ft||!b(Ft,Wt))break;Ft=sn(this.e),Y(this,Wt.c,Ft.c)}!function Rt(cn,ft){for(var xt,Jt=(cn.a=ft).c;null===Jt.i;)if((Jt=Jt.c)===ft.c){Jt=cn;var Nt=ft;(Mn=new Ot).a=Nt.c.b;for(var In=(rn=Jt.f).a;null!==(In=In.a).b&&!rn.c(rn.b,Mn,In.b););var rn,pn,bn=ln(rn=In.b),Mn=rn.a;return In=bn.a,void(0===C(Mn.b.a,Nt,Mn.a)?b((Mn=rn.a).a,Nt)||b(Mn.b.a,Nt)||(h(Mn.b),rn.c&&(u(Mn.c),rn.c=!1),c(Nt.c,Mn),Rt(Jt,Nt)):(pn=g(In.b.a,Mn.b.a)?rn:bn,bn=void 0,rn.d||pn.c?(bn=pn===rn?p(Nt.c.b,Mn.e):p(In.b.c.b,Nt.c).b,pn.c?ne(pn,bn):((rn=ee(Mn=Jt,rn,bn)).f=Vt(rn).f+rn.a.f,rn.d=H(Mn,rn.f)),Rt(Jt,Nt)):le(Jt,rn,Nt.c,Nt.c,null,!0)))}rn=(Mn=ln(Jt=z(Jt.i))).a,(Mn=K(cn,Mn,null)).c===rn?(Mn=(rn=Mn).c,In=ln(Jt),xt=!1,(bn=Jt.a).b.a!==(pn=In.a).b.a&&ge(cn,Jt),b(bn.a,cn.a)&&(c(Mn.b.e,bn),Mn=ln(Jt=z(Jt)).a,K(cn,ln(Jt),In),xt=!0),b(pn.a,cn.a)&&(c(rn,pn.b.e),rn=K(cn,In,null),xt=!0),xt?le(cn,Jt,rn.c,Mn,Mn,!0):(Nt=g(pn.a,bn.a)?pn.b.e:bn,le(cn,Jt,Nt=p(rn.c.b,Nt),Nt.c,Nt.c,!1),Nt.b.i.c=!0,Te(cn,Jt))):le(cn,Jt,Mn.c,rn,rn,!0)}(this,Wt)}for(this.a=this.f.a.a.b.a.a,Wt=0;null!==(Ft=this.f.a.a.b);)Ft.h||++Wt,J(Ft);for(this.f=null,(Wt=this.e).b=null,Wt.d=null,this.e=Wt.c=null,Ae=(Wt=this.b).a.b;Ae!==Wt.a;Ae=Ft)Ft=Ae.b,(Ae=Ae.a).e.e===Ae&&(N(Ae.c,Ae),u(Ae));if(!this.n){if(Wt=this.b,this.m)for(Ae=Wt.b.h;Ae!==Wt.b;Ae=Ft)Ft=Ae.h,Ae.b.d.c!==Ae.d.c?Ae.f=Ae.d.c?1:-1:u(Ae);else for(Ae=Wt.a.b;Ae!==Wt.a;Ae=Ft)if(Ft=Ae.b,Ae.c){for(Ae=Ae.a;g(Ae.b.a,Ae.a);Ae=Ae.c.b);for(;g(Ae.a,Ae.b.a);Ae=Ae.e);for(Ke=Ae.c.b,_t=void 0;Ae.e!==Ke;)if(g(Ae.b.a,Ke.a)){for(;Ke.e!==Ae&&(g((Xe=Ke.e).b.a,Xe.a)||C(Ke.a,Ke.b.a,Ke.e.b.a)<=0);)Ke=(_t=p(Ke.e,Ke)).b;Ke=Ke.c.b}else{for(;Ke.e!==Ae&&(g((Ve=Ae.c.b).a,Ve.b.a)||0<=C(Ae.b.a,Ae.a,Ae.c.b.a));)Ae=(_t=p(Ae,Ae.c.b)).b;Ae=Ae.e}for(;Ke.e.e!==Ae;)Ke=(_t=p(Ke.e,Ke)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ft=(Wt=this.b).a.b;Ft!==Wt.a;Ft=Ft.b)if(Ft.c){for(this.h&&this.h(2,this.c),Ae=Ft.a;this.k&&this.k(Ae.a.d,this.c),(Ae=Ae.e)!==Ft.a;);this.i&&this.i(this.c)}}else{for(Ft=!!this.l,Ae=!1,Ke=-1,_t=(Wt=this.b).a.d;_t!==Wt.a;_t=_t.d)if(_t.c)for(Ae||(this.h&&this.h(4,this.c),Ae=!0),Gt=_t.a;Ft&&Ke!==(Tt=Gt.b.d.c?0:1)&&(Ke=Tt,this.l&&this.l(!!Ke,this.c)),this.k&&this.k(Gt.a.d,this.c),(Gt=Gt.e)!==_t.a;);Ae&&this.i&&this.i(this.c)}if(this.r){for(Ae=(Wt=this.b).a.b;Ae!==Wt.a;Ae=Ft)if(Ft=Ae.b,!Ae.c){for(_t=(Ke=Ae.a).e,Gt=void 0;_t=(Gt=_t).e,(Gt.d=null)===Gt.b.d&&(Gt.c===Gt?A(Gt.a,null):(Gt.a.c=Gt.c,w(Gt,Gt.b.e)),(Tt=Gt.b).c===Tt?A(Tt.a,null):(Tt.a.c=Tt.c,w(Tt,Tt.b.e)),M(Gt)),Gt!==Ke;);Ke=Ae.d,((Ae=Ae.b).d=Ke).b=Ae}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:st,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},st.prototype.gluDeleteTess=st.prototype.x,st.prototype.gluTessProperty=st.prototype.B,st.prototype.gluGetTessProperty=st.prototype.y,st.prototype.gluTessNormal=st.prototype.A,st.prototype.gluTessCallback=st.prototype.z,st.prototype.gluTessVertex=st.prototype.C,st.prototype.gluTessBeginPolygon=st.prototype.u,st.prototype.gluTessBeginContour=st.prototype.t,st.prototype.gluTessEndContour=st.prototype.v,st.prototype.gluTessEndPolygon=st.prototype.w,void 0!==ie&&(ie.exports=this.libtess)},{}],256:[function(o,ie,$){"use strict";function b(g,y,C,_){for(var s=g[y++],l=1<<s,a=1+l,d=1+a,c=s+1,u=(1<<c)-1,h=0,p=0,m=0,w=g[y++],R=new Int32Array(4096),E=null;;){for(;h<16&&0!==w;)p|=g[y++]<<h,h+=8,1===w?w=g[y++]:--w;if(h<c)break;var M=p&u;if(p>>=c,h-=c,M==l)d=1+a,u=(1<<(c=s+1))-1,E=null;else{if(M==a)break;for(var A=M<d?M:E,B=0,j=A;l<j;)j=R[j]>>8,++B;var N=j;if(_<m+B+(A!==M?1:0))return void console.log("Warning, gif stream longer than expected.");C[m++]=N;var k=m+=B;for(A!==M&&(C[m++]=N),j=A;B--;)C[--k]=255&(j=R[j]),j>>=8;null!==E&&d<4096&&(R[d++]=E<<8|N,u+1<=d&&c<12&&(++c,u=u<<1|1)),E=M}}m!==_&&console.log("Warning, gif stream shorter than expected.")}try{$.GifWriter=function v(g,y,C,_){var s=0,l=void 0===(_=void 0===_?{}:_).loop?null:_.loop,a=void 0===_.palette?null:_.palette;if(y<=0||C<=0||65535<y||65535<C)throw new Error("Width/Height invalid.");function d(E){if((E=E.length)<2||256<E||E&E-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return E}g[s++]=71,g[s++]=73,g[s++]=70,g[s++]=56,g[s++]=57,g[s++]=97;var c=0,u=0;if(null!==a){for(var h=d(a);h>>=1;)++c;if(h=1<<c,--c,void 0!==_.background){if(h<=(u=_.background))throw new Error("Background index out of range.");if(0===u)throw new Error("Background index explicitly passed as 0.")}}if(g[s++]=255&y,g[s++]=y>>8&255,g[s++]=255&C,g[s++]=C>>8&255,g[s++]=(null!==a?128:0)|c,g[s++]=u,g[s++]=0,null!==a)for(var p=0,m=a.length;p<m;++p){var w=a[p];g[s++]=w>>16&255,g[s++]=w>>8&255,g[s++]=255&w}if(null!==l){if(l<0||65535<l)throw new Error("Loop count invalid.");g[s++]=33,g[s++]=255,g[s++]=11,g[s++]=78,g[s++]=69,g[s++]=84,g[s++]=83,g[s++]=67,g[s++]=65,g[s++]=80,g[s++]=69,g[s++]=50,g[s++]=46,g[s++]=48,g[s++]=3,g[s++]=1,g[s++]=255&l,g[s++]=l>>8&255,g[s++]=0}var R=!1;this.addFrame=function(E,M,A,B,j,N){if(!0===R&&(--s,R=!1),N=void 0===N?{}:N,E<0||M<0||65535<E||65535<M)throw new Error("x/y invalid.");if(A<=0||B<=0||65535<A||65535<B)throw new Error("Width/Height invalid.");if(j.length<A*B)throw new Error("Not enough pixels for the frame size.");var k=!0,J=N.palette;if(null==J&&(k=!1,J=a),null==J)throw new Error("Must supply either a local or global palette.");for(var z=d(J),ne=0;z>>=1;)++ne;z=1<<ne;var ee=void 0===N.delay?0:N.delay,H=void 0===N.disposal?0:N.disposal;if(H<0||3<H)throw new Error("Disposal out of range.");var G=!1,K=0;if(null!=N.transparent&&(G=!0,(K=N.transparent)<0||z<=K))throw new Error("Transparent color index.");if(0===H&&!G&&0===ee||(g[s++]=33,g[s++]=249,g[s++]=4,g[s++]=H<<2|(!0===G?1:0),g[s++]=255&ee,g[s++]=ee>>8&255,g[s++]=K,g[s++]=0),g[s++]=44,g[s++]=255&E,g[s++]=E>>8&255,g[s++]=255&M,g[s++]=M>>8&255,g[s++]=255&A,g[s++]=A>>8&255,g[s++]=255&B,g[s++]=B>>8&255,g[s++]=!0===k?128|ne-1:0,!0===k)for(var le=0,Oe=J.length;le<Oe;++le){var Y=J[le];g[s++]=Y>>16&255,g[s++]=Y>>8&255,g[s++]=255&Y}return s=function(P,re,ge,Te){P[re++]=ge;var Ge=re++,qe=1<<ge,ht=qe-1,ze=1+qe,st=1+ze,lt=ge+1,Be=0,Qe=0;function Je(mn){for(;mn<=Be;)P[re++]=255&Qe,Qe>>=8,Be-=8,re===Ge+256&&(P[Ge]=255,Ge=re++)}function ot(mn){Qe|=mn<<Be,Be+=lt,Je(8)}var Ze=Te[0]&ht,yt={};ot(qe);for(var Ct=1,sn=Te.length;Ct<sn;++Ct){var $t=Te[Ct]&ht,un=Ze<<8|$t,Bt=yt[un];if(void 0===Bt){for(Qe|=Ze<<Be,Be+=lt;8<=Be;)P[re++]=255&Qe,Qe>>=8,Be-=8,re===Ge+256&&(P[Ge]=255,Ge=re++);4096===st?(ot(qe),st=1+ze,lt=ge+1,yt={}):(1<<lt<=st&&++lt,yt[un]=st++),Ze=$t}else Ze=Bt}return ot(Ze),ot(ze),Je(1),Ge+1===re?P[Ge]=0:(P[Ge]=re-Ge-1,P[re++]=0),re}(g,s,ne<2?2:ne,j)},this.end=function(){return!1===R&&(g[s++]=59,R=!0),s},this.getOutputBuffer=function(){return g},this.setOutputBuffer=function(E){g=E},this.getOutputBufferPosition=function(){return s},this.setOutputBufferPosition=function(E){s=E}},$.GifReader=function(g){var y=0;if(71!==g[y++]||73!==g[y++]||70!==g[y++]||56!==g[y++]||56!=(g[y++]+1&253)||97!==g[y++])throw new Error("Invalid GIF 87a/89a header.");var C=g[y++]|g[y++]<<8,_=g[y++]|g[y++]<<8,s=g[y++],a=(y++,y++,null),d=null,c=(s>>7&&(a=y,y+=3*(d=1<<1+(7&s))),!0),u=[],h=0,p=null,m=0,w=null;for(this.width=C,this.height=_;c&&y<g.length;)switch(g[y++]){case 33:switch(g[y++]){case 255:if(11!==g[y]||78==g[y+1]&&69==g[y+2]&&84==g[y+3]&&83==g[y+4]&&67==g[y+5]&&65==g[y+6]&&80==g[y+7]&&69==g[y+8]&&50==g[y+9]&&46==g[y+10]&&48==g[y+11]&&3==g[y+12]&&1==g[y+13]&&0==g[y+16])y+=14,w=g[y++]|g[y++]<<8,y++;else for(y+=12;;){if(!(0<=(E=g[y++])))throw Error("Invalid block size");if(0===E)break;y+=E}break;case 249:if(4!==g[y++]||0!==g[y+4])throw new Error("Invalid graphics extension block.");var R=g[y++];h=g[y++]|g[y++]<<8,p=g[y++],!(1&R)&&(p=null),m=R>>2&7,y++;break;case 254:for(;;){if(!(0<=(E=g[y++])))throw Error("Invalid block size");if(0===E)break;y+=E}break;default:throw new Error("Unknown graphic control label: 0x"+g[y-1].toString(16))}break;case 44:var E,M=g[y++]|g[y++]<<8,A=g[y++]|g[y++]<<8,B=g[y++]|g[y++]<<8,j=g[y++]|g[y++]<<8,N=(ee=g[y++])>>6&1,J=a,ne=d,z=!1,ee=(ee>>7&&(z=!0,J=y,y+=3*(ne=1<<1+(7&ee))),y);for(y++;;){if(!(0<=(E=g[y++])))throw Error("Invalid block size");if(0===E)break;y+=E}u.push({x:M,y:A,width:B,height:j,has_local_palette:z,palette_offset:J,palette_size:ne,data_offset:ee,data_length:y-ee,transparent_index:p,interlaced:!!N,delay:h,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+g[y-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(H){if(H<0||H>=u.length)throw new Error("Frame index out of range.");return u[H]},this.decodeAndBlitFrameBGRA=function(H,G){for(var K=(H=this.frameInfo(H)).width*H.height,le=new Uint8Array(K),Oe=(b(g,H.data_offset,le,K),H.palette_offset),Y=H.transparent_index,P=(null===Y&&(Y=256),H.width),re=C-P,ge=P,Te=4*(H.y*C+H.x),Ge=4*((H.y+H.height)*C+H.x),qe=Te,ht=4*re,ze=(!0===H.interlaced&&(ht+=4*C*7),8),st=0,lt=le.length;st<lt;++st){var Be,Qe,Je=le[st];0===ge&&(ge=P,Ge<=(qe+=ht)&&(ht=4*re+4*C*(ze-1),qe=Te+(P+re)*(ze<<1),ze>>=1)),Je===Y?qe+=4:(Be=g[Oe+3*Je],Qe=g[Oe+3*Je+1],G[qe++]=Je=g[Oe+3*Je+2],G[qe++]=Qe,G[qe++]=Be,G[qe++]=255),--ge}},this.decodeAndBlitFrameRGBA=function(H,G){for(var K=(H=this.frameInfo(H)).width*H.height,le=new Uint8Array(K),Oe=(b(g,H.data_offset,le,K),H.palette_offset),Y=H.transparent_index,P=(null===Y&&(Y=256),H.width),re=C-P,ge=P,Te=4*(H.y*C+H.x),Ge=4*((H.y+H.height)*C+H.x),qe=Te,ht=4*re,ze=(!0===H.interlaced&&(ht+=4*C*7),8),st=0,lt=le.length;st<lt;++st){var Be,Qe,Je=le[st];0===ge&&(ge=P,Ge<=(qe+=ht)&&(ht=4*re+4*C*(ze-1),qe=Te+(P+re)*(ze<<1),ze>>=1)),Je===Y?qe+=4:(Be=g[Oe+3*Je],Qe=g[Oe+3*Je+1],Je=g[Oe+3*Je+2],G[qe++]=Be,G[qe++]=Qe,G[qe++]=Je,G[qe++]=255),--ge}}}}catch{}},{}],257:[function(o,ie,$){(function(v){var g;g=function(y){"use strict";function C(fe){if(null==this)throw TypeError();var U,q=String(this),te=q.length;if(!((fe=(fe=fe?Number(fe):0)!=fe?0:fe)<0||te<=fe))return 55296<=(U=q.charCodeAt(fe))&&U<=56319&&fe+1<te&&56320<=(te=q.charCodeAt(fe+1))&&te<=57343?1024*(U-55296)+te-56320+65536:U}String.prototype.codePointAt||((_=function(){try{var S={},U=Object.defineProperty,q=U(S,S,S)&&U}catch{}return q}())?_(String.prototype,"codePointAt",{value:C,configurable:!0,writable:!0}):String.prototype.codePointAt=C);var _;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function d(S,U){this.source=S,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=U,this.destLen=0,this.ltree=new a,this.dtree=new a}var c=new a,u=new a,h=new Uint8Array(30),p=new Uint16Array(30),m=new Uint8Array(30),w=new Uint16Array(30),R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E=new a,M=new Uint8Array(320);function A(S,U,q,te){for(var fe,Me=0;Me<q;++Me)S[Me]=0;for(Me=0;Me<30-q;++Me)S[Me+q]=Me/q|0;for(fe=te,Me=0;Me<30;++Me)U[Me]=fe,fe+=1<<S[Me]}var B=new Uint16Array(16);function j(S,U,q,te){for(var fe,Me=0;Me<16;++Me)S.table[Me]=0;for(Me=0;Me<te;++Me)S.table[U[q+Me]]++;for(Me=fe=S.table[0]=0;Me<16;++Me)B[Me]=fe,fe+=S.table[Me];for(Me=0;Me<te;++Me)U[q+Me]&&(S.trans[B[U[q+Me]]++]=Me)}function N(S,U,q){if(!U)return q;for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;var te=S.tag&65535>>>16-U;return S.tag>>>=U,S.bitcount-=U,te+q}function k(S,U){for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;for(var q=0,te=0,fe=0,Me=S.tag;te=2*te+(1&Me),Me>>>=1,q+=U.table[++fe],0<=(te-=U.table[fe]););return S.tag=Me,S.bitcount-=fe,U.trans[q+te]}function J(S,U,q){for(;;){if(256===(te=k(S,U)))return 0;if(te<256)S.dest[S.destLen++]=te;else for(var fe,Me=N(S,h[te-=257],p[te]),te=k(S,q),ke=fe=S.destLen-N(S,m[te],w[te]);ke<fe+Me;++ke)S.dest[S.destLen++]=S.dest[ke]}}for(var ne=c,z=u,ee=0;ee<7;++ee)ne.table[ee]=0;for(ne.table[7]=24,ne.table[8]=152,ne.table[9]=112,ee=0;ee<24;++ee)ne.trans[ee]=256+ee;for(ee=0;ee<144;++ee)ne.trans[24+ee]=ee;for(ee=0;ee<8;++ee)ne.trans[168+ee]=280+ee;for(ee=0;ee<112;++ee)ne.trans[176+ee]=144+ee;for(ee=0;ee<5;++ee)z.table[ee]=0;for(z.table[5]=32,ee=0;ee<32;++ee)z.trans[ee]=ee;A(h,p,4,3),A(m,w,2,1),h[28]=0,p[28]=258;var H=function(S,U){var q,te,fe,Me=new d(S,U);do{switch(void 0,(te=Me).bitcount--||(te.tag=te.source[te.sourceIndex++],te.bitcount=7),fe=1&te.tag,te.tag>>>=1,te=fe,N(Me,2,0)){case 0:q=function(nn){for(var $n,Ln;8<nn.bitcount;)nn.sourceIndex--,nn.bitcount-=8;if(($n=256*nn.source[nn.sourceIndex+1]+nn.source[nn.sourceIndex])!==(65535&~(256*nn.source[nn.sourceIndex+3]+nn.source[nn.sourceIndex+2])))return-3;for(nn.sourceIndex+=4,Ln=$n;Ln;--Ln)nn.dest[nn.destLen++]=nn.source[nn.sourceIndex++];return nn.bitcount=0,0}(Me);break;case 1:q=J(Me,c,u);break;case 2:Lt=$e=ye=Ht=ke=we=void 0;for(var ke,et=Me,Et=Me.ltree,wt=Me.dtree,zt=N(et,5,257),_e=N(et,5,1),ae=N(et,4,4),we=0;we<19;++we)M[we]=0;for(we=0;we<ae;++we){var ye=N(et,3,0);M[R[we]]=ye}for(j(E,M,0,19),ke=0;ke<zt+_e;){var $e=k(et,E);switch($e){case 16:for(var Lt=M[ke-1],Ht=N(et,2,3);Ht;--Ht)M[ke++]=Lt;break;case 17:for(Ht=N(et,3,3);Ht;--Ht)M[ke++]=0;break;case 18:for(Ht=N(et,7,11);Ht;--Ht)M[ke++]=0;break;default:M[ke++]=$e}}j(Et,M,0,zt),j(wt,M,zt,_e),q=J(Me,Me.ltree,Me.dtree);break;default:q=-3}if(0!==q)throw new Error("Data error")}while(!te);return Me.destLen<Me.dest.length?"function"==typeof Me.dest.slice?Me.dest.slice(0,Me.destLen):Me.dest.subarray(0,Me.destLen):Me.dest};function G(S,U,q,te,fe){return Math.pow(1-fe,3)*S+3*Math.pow(1-fe,2)*fe*U+3*(1-fe)*Math.pow(fe,2)*q+Math.pow(fe,3)*te}function K(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function le(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Oe(S){throw new Error(S)}function Y(S,U){S||Oe(U)}K.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},K.prototype.addPoint=function(S,U){"number"==typeof S&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=S,this.x2=S),S<this.x1&&(this.x1=S),S>this.x2&&(this.x2=S)),"number"==typeof U&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=U,this.y2=U),U<this.y1&&(this.y1=U),U>this.y2&&(this.y2=U))},K.prototype.addX=function(S){this.addPoint(S,null)},K.prototype.addY=function(S){this.addPoint(null,S)},K.prototype.addBezier=function(S,U,q,te,fe,Me,ke,et){var Et=[S,U],wt=[q,te],zt=[fe,Me],_e=[ke,et];this.addPoint(S,U),this.addPoint(ke,et);for(var ae=0;ae<=1;ae++){var we,ye=6*Et[ae]-12*wt[ae]+6*zt[ae],$e=-3*Et[ae]+9*wt[ae]-9*zt[ae]+3*_e[ae],Lt=3*wt[ae]-3*Et[ae];0==$e?0==ye||0<(we=-Lt/ye)&&we<1&&(0===ae&&this.addX(G(Et[ae],wt[ae],zt[ae],_e[ae],we)),1===ae&&this.addY(G(Et[ae],wt[ae],zt[ae],_e[ae],we))):(we=Math.pow(ye,2)-4*Lt*$e)<0||(0<(Lt=(-ye+Math.sqrt(we))/(2*$e))&&Lt<1&&(0===ae&&this.addX(G(Et[ae],wt[ae],zt[ae],_e[ae],Lt)),1===ae&&this.addY(G(Et[ae],wt[ae],zt[ae],_e[ae],Lt))),0<(Lt=(-ye-Math.sqrt(we))/(2*$e))&&Lt<1&&(0===ae&&this.addX(G(Et[ae],wt[ae],zt[ae],_e[ae],Lt)),1===ae&&this.addY(G(Et[ae],wt[ae],zt[ae],_e[ae],Lt))))}},K.prototype.addQuad=function(S,U,q,te,fe,Me){this.addBezier(S,U,q=S+2/3*(q-S),te=U+2/3*(te-U),q+1/3*(fe-S),te+1/3*(Me-U),fe,Me)},le.prototype.moveTo=function(S,U){this.commands.push({type:"M",x:S,y:U})},le.prototype.lineTo=function(S,U){this.commands.push({type:"L",x:S,y:U})},le.prototype.curveTo=le.prototype.bezierCurveTo=function(S,U,q,te,fe,Me){this.commands.push({type:"C",x1:S,y1:U,x2:q,y2:te,x:fe,y:Me})},le.prototype.quadTo=le.prototype.quadraticCurveTo=function(S,U,q,te){this.commands.push({type:"Q",x1:S,y1:U,x:q,y:te})},le.prototype.close=le.prototype.closePath=function(){this.commands.push({type:"Z"})},le.prototype.extend=function(S){var U;if(S.commands)S=S.commands;else if(S instanceof K)return this.moveTo((U=S).x1,U.y1),this.lineTo(U.x2,U.y1),this.lineTo(U.x2,U.y2),this.lineTo(U.x1,U.y2),void this.close();Array.prototype.push.apply(this.commands,S)},le.prototype.getBoundingBox=function(){for(var S=new K,U=0,q=0,te=0,fe=0,Me=0;Me<this.commands.length;Me++){var ke=this.commands[Me];switch(ke.type){case"M":S.addPoint(ke.x,ke.y),U=te=ke.x,q=fe=ke.y;break;case"L":S.addPoint(ke.x,ke.y),te=ke.x,fe=ke.y;break;case"Q":S.addQuad(te,fe,ke.x1,ke.y1,ke.x,ke.y),te=ke.x,fe=ke.y;break;case"C":S.addBezier(te,fe,ke.x1,ke.y1,ke.x2,ke.y2,ke.x,ke.y),te=ke.x,fe=ke.y;break;case"Z":te=U,fe=q;break;default:throw new Error("Unexpected path command "+ke.type)}}return S.isEmpty()&&S.addPoint(0,0),S},le.prototype.draw=function(S){S.beginPath();for(var U=0;U<this.commands.length;U+=1){var q=this.commands[U];"M"===q.type?S.moveTo(q.x,q.y):"L"===q.type?S.lineTo(q.x,q.y):"C"===q.type?S.bezierCurveTo(q.x1,q.y1,q.x2,q.y2,q.x,q.y):"Q"===q.type?S.quadraticCurveTo(q.x1,q.y1,q.x,q.y):"Z"===q.type&&S.closePath()}this.fill&&(S.fillStyle=this.fill,S.fill()),this.stroke&&(S.strokeStyle=this.stroke,S.lineWidth=this.strokeWidth,S.stroke())},le.prototype.toPathData=function(S){function U(){for(var Me=arguments,ke="",et=0;et<arguments.length;et+=1){var Et=Me[et];0<=Et&&0<et&&(ke+=" "),ke+=Math.round(Et)===Et?""+Math.round(Et):Et.toFixed(S)}return ke}S=void 0!==S?S:2;for(var q="",te=0;te<this.commands.length;te+=1){var fe=this.commands[te];"M"===fe.type?q+="M"+U(fe.x,fe.y):"L"===fe.type?q+="L"+U(fe.x,fe.y):"C"===fe.type?q+="C"+U(fe.x1,fe.y1,fe.x2,fe.y2,fe.x,fe.y):"Q"===fe.type?q+="Q"+U(fe.x1,fe.y1,fe.x,fe.y):"Z"===fe.type&&(q+="Z")}return q},le.prototype.toSVG=function(S){var U=(U='<path d="')+this.toPathData(S)+'"';return this.fill&&"black"!==this.fill&&(U+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(U+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),U+"/>"},le.prototype.toDOMElement=function(U){U=this.toPathData(U);var q=document.createElementNS("http://www.w3.org/2000/svg","path");return q.setAttribute("d",U),q};var P={fail:Oe,argument:Y,assert:Y},re={},ge={},Te={};function Ge(S){return function(){return S}}ge.BYTE=function(S){return P.argument(0<=S&&S<=255,"Byte value should be between 0 and 255."),[S]},Te.BYTE=Ge(1),ge.CHAR=function(S){return[S.charCodeAt(0)]},Te.CHAR=Ge(1),ge.CHARARRAY=function(S){for(var U=[],q=0;q<S.length;q+=1)U[q]=S.charCodeAt(q);return U},Te.CHARARRAY=function(S){return S.length},ge.USHORT=function(S){return[S>>8&255,255&S]},Te.USHORT=Ge(2),ge.SHORT=function(S){return[(S=32768<=S?-(65536-S):S)>>8&255,255&S]},Te.SHORT=Ge(2),ge.UINT24=function(S){return[S>>16&255,S>>8&255,255&S]},Te.UINT24=Ge(3),ge.ULONG=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]},Te.ULONG=Ge(4),ge.LONG=function(S){return[(S=2147483648<=S?-(4294967296-S):S)>>24&255,S>>16&255,S>>8&255,255&S]},Te.LONG=Ge(4),ge.FIXED=ge.ULONG,Te.FIXED=Te.ULONG,ge.FWORD=ge.SHORT,Te.FWORD=Te.SHORT,ge.UFWORD=ge.USHORT,Te.UFWORD=Te.USHORT,ge.LONGDATETIME=function(S){return[0,0,0,0,S>>24&255,S>>16&255,S>>8&255,255&S]},Te.LONGDATETIME=Ge(8),ge.TAG=function(S){return P.argument(4===S.length,"Tag should be exactly 4 ASCII characters."),[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]},Te.TAG=Ge(4),ge.Card8=ge.BYTE,Te.Card8=Te.BYTE,ge.Card16=ge.USHORT,Te.Card16=Te.USHORT,ge.OffSize=ge.BYTE,Te.OffSize=Te.BYTE,ge.SID=ge.USHORT,Te.SID=Te.USHORT,ge.NUMBER=function(S){return-107<=S&&S<=107?[S+139]:108<=S&&S<=1131?[247+((S-=108)>>8),255&S]:-1131<=S&&S<=-108?[251+((S=-S-108)>>8),255&S]:-32768<=S&&S<=32767?ge.NUMBER16(S):ge.NUMBER32(S)},Te.NUMBER=function(S){return ge.NUMBER(S).length},ge.NUMBER16=function(S){return[28,S>>8&255,255&S]},Te.NUMBER16=Ge(3),ge.NUMBER32=function(S){return[29,S>>24&255,S>>16&255,S>>8&255,255&S]},Te.NUMBER32=Ge(5),ge.REAL=function(S){for(var U=S.toString(),q=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(U),te=(q&&(q=parseFloat("1e"+((q[2]?+q[2]:0)+q[1].length)),U=(Math.round(S*q)/q).toString()),""),fe=0,Me=U.length;fe<Me;fe+=1){var ke=U[fe];te+="e"===ke?"-"===U[++fe]?"c":"b":"."===ke?"a":"-"===ke?"e":ke}for(var et=[30],Et=0,wt=(te+=1&te.length?"f":"ff").length;Et<wt;Et+=2)et.push(parseInt(te.substr(Et,2),16));return et},Te.REAL=function(S){return ge.REAL(S).length},ge.NAME=ge.CHARARRAY,Te.NAME=Te.CHARARRAY,ge.STRING=ge.CHARARRAY,Te.STRING=Te.CHARARRAY,re.UTF8=function(S,U,q){for(var te=[],fe=q,Me=0;Me<fe;Me++,U+=1)te[Me]=S.getUint8(U);return String.fromCharCode.apply(null,te)},re.UTF16=function(S,U,q){for(var te=[],fe=q/2,Me=0;Me<fe;Me++,U+=2)te[Me]=S.getUint16(U);return String.fromCharCode.apply(null,te)},ge.UTF16=function(S){for(var U=[],q=0;q<S.length;q+=1){var te=S.charCodeAt(q);U[U.length]=te>>8&255,U[U.length]=255&te}return U},Te.UTF16=function(S){return 2*S.length};var qe,ht={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},ze=(re.MACSTRING=function(S,U,q,te){var fe=ht[te];if(void 0!==fe){for(var Me="",ke=0;ke<q;ke++){var et=S.getUint8(U+ke);Me+=et<=127?String.fromCharCode(et):fe[127&et]}return Me}},"function"==typeof WeakMap&&new WeakMap);function st(S){return-128<=S&&S<=127}ge.MACSTRING=function(S,U){var q=function(ke){if(!qe)for(var et in qe={},ht)qe[et]=new String(et);var Et=qe[ke];if(void 0!==Et){if(ze){var wt=ze.get(Et);if(void 0!==wt)return wt}var zt=ht[ke];if(void 0!==zt){for(var _e={},ae=0;ae<zt.length;ae++)_e[zt.charCodeAt(ae)]=ae+128;return ze&&ze.set(Et,_e),_e}}}(U);if(void 0!==q){for(var te=[],fe=0;fe<S.length;fe++){var Me=S.charCodeAt(fe);if(128<=Me&&void 0===(Me=q[Me]))return;te[fe]=Me}return te}},Te.MACSTRING=function(S,U){return void 0!==(S=ge.MACSTRING(S,U))?S.length:0},ge.VARDELTAS=function(S){for(var te=0,U=[];te<S.length;){var q=S[te];te=(0===q?function(fe,Me,ke){for(var et=0,Et=fe.length;Me<Et&&et<64&&0===fe[Me];)++Me,++et;return ke.push(128|et-1),Me}:-128<=q&&q<=127?function(fe,Me,ke){for(var et=0,Et=fe.length,wt=Me;wt<Et&&et<64;){var zt=fe[wt];if(!st(zt)||0===zt&&wt+1<Et&&0===fe[wt+1])break;++wt,++et}ke.push(et-1);for(var _e=Me;_e<wt;++_e)ke.push(fe[_e]+256&255);return wt}:function(fe,Me,ke){for(var et=0,Et=fe.length,wt=Me;wt<Et&&et<64;){var zt=fe[wt];if(0===zt||st(zt)&&wt+1<Et&&st(fe[wt+1]))break;++wt,++et}ke.push(64|et-1);for(var _e=Me;_e<wt;++_e){var ae=fe[_e];ke.push(ae+65536>>8&255,ae+256&255)}return wt})(S,te,U)}return U},ge.INDEX=function(S){for(var U=1,q=[U],te=[],fe=0;fe<S.length;fe+=1){var Me=ge.OBJECT(S[fe]);Array.prototype.push.apply(te,Me),q.push(U+=Me.length)}if(0===te.length)return[0,0];for(var ke=[],et=1+Math.floor(Math.log(U)/Math.log(2))/8|0,Et=[void 0,ge.BYTE,ge.USHORT,ge.UINT24,ge.ULONG][et],wt=0;wt<q.length;wt+=1){var zt=Et(q[wt]);Array.prototype.push.apply(ke,zt)}return Array.prototype.concat(ge.Card16(S.length),ge.OffSize(et),ke,te)},Te.INDEX=function(S){return ge.INDEX(S).length},ge.DICT=function(S){for(var U=[],q=Object.keys(S),te=q.length,fe=0;fe<te;fe+=1){var Me=parseInt(q[fe],0),ke=S[Me];U=(U=U.concat(ge.OPERAND(ke.value,ke.type))).concat(ge.OPERATOR(Me))}return U},Te.DICT=function(S){return ge.DICT(S).length},ge.OPERATOR=function(S){return S<1200?[S]:[12,S-1200]},ge.OPERAND=function(S,U){var q=[];if(Array.isArray(U))for(var te=0;te<U.length;te+=1)P.argument(S.length===U.length,"Not enough arguments given for type"+U),q=q.concat(ge.OPERAND(S[te],U[te]));else if("SID"===U)q=q.concat(ge.NUMBER(S));else if("offset"===U)q=q.concat(ge.NUMBER32(S));else if("number"===U)q=q.concat(ge.NUMBER(S));else{if("real"!==U)throw new Error("Unknown operand type "+U);q=q.concat(ge.REAL(S))}return q},ge.OP=ge.BYTE,Te.OP=Te.BYTE;var lt="function"==typeof WeakMap&&new WeakMap;function Be(S,U,q){for(var te=0;te<U.length;te+=1){var fe=U[te];this[fe.name]=fe.value}if(this.tableName=S,this.fields=U,q)for(var Me=Object.keys(q),ke=0;ke<Me.length;ke+=1){var et=Me[ke];void 0!==this[et]&&(this[et]=q[et])}}function Qe(S,U,q){void 0===q&&(q=U.length);var te=new Array(U.length+1);te[0]={name:S+"Count",type:"USHORT",value:q};for(var fe=0;fe<U.length;fe++)te[fe+1]={name:S+fe,type:"USHORT",value:U[fe]};return te}function Je(S,U,q){var te=U.length,fe=new Array(te+1);fe[0]={name:S+"Count",type:"USHORT",value:te};for(var Me=0;Me<te;Me++)fe[Me+1]={name:S+Me,type:"TABLE",value:q(U[Me],Me)};return fe}function ot(S,U,q){var te=U.length,fe=[];fe[0]={name:S+"Count",type:"USHORT",value:te};for(var Me=0;Me<te;Me++)fe=fe.concat(q(U[Me],Me));return fe}function Ze(S){1===S.format?Be.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Qe("glyph",S.glyphs))):P.assert(!1,"Can't create coverage table format 2 yet.")}function yt(S){Be.call(this,"scriptListTable",ot("scriptRecord",S,function(U,q){var te=U.script,fe=te.defaultLangSys;return P.assert(!!fe,"Unable to write GSUB: script "+U.tag+" has no default language system."),[{name:"scriptTag"+q,type:"TAG",value:U.tag},{name:"script"+q,type:"TABLE",value:new Be("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Be("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:fe.reqFeatureIndex}].concat(Qe("featureIndex",fe.featureIndexes)))}].concat(ot("langSys",te.langSysRecords,function(Me,ke){var et=Me.langSys;return[{name:"langSysTag"+ke,type:"TAG",value:Me.tag},{name:"langSys"+ke,type:"TABLE",value:new Be("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:et.reqFeatureIndex}].concat(Qe("featureIndex",et.featureIndexes)))}]})))}]}))}function Ct(S){Be.call(this,"featureListTable",ot("featureRecord",S,function(U,q){var te=U.feature;return[{name:"featureTag"+q,type:"TAG",value:U.tag},{name:"feature"+q,type:"TABLE",value:new Be("featureTable",[{name:"featureParams",type:"USHORT",value:te.featureParams}].concat(Qe("lookupListIndex",te.lookupListIndexes)))}]}))}function sn(S,U){Be.call(this,"lookupListTable",Je("lookup",S,function(q){var te=U[q.lookupType];return P.assert(!!te,"Unable to write GSUB lookup type "+q.lookupType+" tables."),new Be("lookupTable",[{name:"lookupType",type:"USHORT",value:q.lookupType},{name:"lookupFlag",type:"USHORT",value:q.lookupFlag}].concat(Je("subtable",q.subtables,te)))}))}ge.CHARSTRING=function(S){if(lt){var U=lt.get(S);if(void 0!==U)return U}for(var Me=[],q=S.length,te=0;te<q;te+=1){var fe=S[te];Me=Me.concat(ge[fe.type](fe.value))}return lt&&lt.set(S,Me),Me},Te.CHARSTRING=function(S){return ge.CHARSTRING(S).length},ge.OBJECT=function(S){var U=ge[S.type];return P.argument(void 0!==U,"No encoding function for type "+S.type),U(S.value)},Te.OBJECT=function(S){var U=Te[S.type];return P.argument(void 0!==U,"No sizeOf function for type "+S.type),U(S.value)},ge.TABLE=function(S){for(var U=[],q=S.fields.length,te=[],fe=[],Me=0;Me<q;Me+=1){var ke=S.fields[Me],et=(P.argument(void 0!==(Et=ge[ke.type]),"No encoding function for field type "+ke.type+" ("+ke.name+")"),S[ke.name]),Et=Et(et=void 0===et?ke.value:et);"TABLE"===ke.type?(fe.push(U.length),U=U.concat([0,0]),te.push(Et)):U=U.concat(Et)}for(var wt=0;wt<te.length;wt+=1){var zt=fe[wt],_e=U.length;P.argument(_e<65536,"Table "+S.tableName+" too big."),U[zt]=_e>>8,U[zt+1]=255&_e,U=U.concat(te[wt])}return U},Te.TABLE=function(S){for(var U=0,q=S.fields.length,te=0;te<q;te+=1){var fe=S.fields[te],Me=Te[fe.type],ke=(P.argument(void 0!==Me,"No sizeOf function for field type "+fe.type+" ("+fe.name+")"),S[fe.name]);U+=Me(ke=void 0===ke?fe.value:ke),"TABLE"===fe.type&&(U+=2)}return U},ge.RECORD=ge.TABLE,Te.RECORD=Te.TABLE,ge.LITERAL=function(S){return S},Te.LITERAL=function(S){return S.length},Be.prototype.encode=function(){return ge.TABLE(this)},Be.prototype.sizeOf=function(){return Te.TABLE(this)};var $t={Table:Be,Record:Be,Coverage:(Ze.prototype=Object.create(Be.prototype)).constructor=Ze,ScriptList:(yt.prototype=Object.create(Be.prototype)).constructor=yt,FeatureList:(Ct.prototype=Object.create(Be.prototype)).constructor=Ct,LookupList:(sn.prototype=Object.create(Be.prototype)).constructor=sn,ushortList:Qe,tableList:Je,recordList:ot};function un(S,U){return S.getUint8(U)}function Bt(S,U){return S.getUint16(U,!1)}function mn(S,U){return S.getUint32(U,!1)}function Yt(S,U){return S.getInt16(U,!1)+S.getUint16(U+2,!1)/65535}var fn={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ot(S,U){this.data=S,this.offset=U,this.relativeOffset=0}Ot.prototype.parseByte=function(){var S=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Ot.prototype.parseChar=function(){var S=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Ot.prototype.parseCard8=Ot.prototype.parseByte,Ot.prototype.parseCard16=Ot.prototype.parseUShort=function(){var S=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Ot.prototype.parseSID=Ot.prototype.parseUShort,Ot.prototype.parseOffset16=Ot.prototype.parseUShort,Ot.prototype.parseShort=function(){var S=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Ot.prototype.parseF2Dot14=function(){var S=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,S},Ot.prototype.parseOffset32=Ot.prototype.parseULong=function(){var S=mn(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Ot.prototype.parseFixed=function(){var S=Yt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Ot.prototype.parseString=function(S){var U=this.data,q=this.offset+this.relativeOffset,te="";this.relativeOffset+=S;for(var fe=0;fe<S;fe++)te+=String.fromCharCode(U.getUint8(q+fe));return te},Ot.prototype.parseTag=function(){return this.parseString(4)},Ot.prototype.parseLongDateTime=function(){var S=mn(this.data,this.offset+this.relativeOffset+4);return S-=2082844800,this.relativeOffset+=8,S},Ot.prototype.parseVersion=function(S){var U=Bt(this.data,this.offset+this.relativeOffset),q=Bt(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,U+q/(S=void 0===S?4096:S)/10},Ot.prototype.skip=function(S,U){this.relativeOffset+=fn[S]*(U=void 0===U?1:U)},Ot.prototype.parseULongList=function(S){void 0===S&&(S=this.parseULong());for(var U=new Array(S),q=this.data,te=this.offset+this.relativeOffset,fe=0;fe<S;fe++)U[fe]=q.getUint32(te),te+=4;return this.relativeOffset+=4*S,U},Ot.prototype.parseOffset16List=Ot.prototype.parseUShortList=function(S){void 0===S&&(S=this.parseUShort());for(var U=new Array(S),q=this.data,te=this.offset+this.relativeOffset,fe=0;fe<S;fe++)U[fe]=q.getUint16(te),te+=2;return this.relativeOffset+=2*S,U},Ot.prototype.parseShortList=function(S){for(var U=new Array(S),q=this.data,te=this.offset+this.relativeOffset,fe=0;fe<S;fe++)U[fe]=q.getInt16(te),te+=2;return this.relativeOffset+=2*S,U},Ot.prototype.parseByteList=function(S){for(var U=new Array(S),q=this.data,te=this.offset+this.relativeOffset,fe=0;fe<S;fe++)U[fe]=q.getUint8(te++);return this.relativeOffset+=S,U},Ot.prototype.parseList=function(S,U){U||(U=S,S=this.parseUShort());for(var q=new Array(S),te=0;te<S;te++)q[te]=U.call(this);return q},Ot.prototype.parseList32=function(S,U){U||(U=S,S=this.parseULong());for(var q=new Array(S),te=0;te<S;te++)q[te]=U.call(this);return q},Ot.prototype.parseRecordList=function(S,U){U||(U=S,S=this.parseUShort());for(var q=new Array(S),te=Object.keys(U),fe=0;fe<S;fe++){for(var Me={},ke=0;ke<te.length;ke++){var et=te[ke];Me[et]=U[et].call(this)}q[fe]=Me}return q},Ot.prototype.parseRecordList32=function(S,U){U||(U=S,S=this.parseULong());for(var q=new Array(S),te=Object.keys(U),fe=0;fe<S;fe++){for(var Me={},ke=0;ke<te.length;ke++){var et=te[ke];Me[et]=U[et].call(this)}q[fe]=Me}return q},Ot.prototype.parseStruct=function(S){if("function"==typeof S)return S.call(this);for(var U=Object.keys(S),q={},te=0;te<U.length;te++){var fe=U[te];q[fe]=S[fe].call(this)}return q},Ot.prototype.parseValueRecord=function(S){var U;if(0!==(S=void 0===S?this.parseUShort():S))return U={},1&S&&(U.xPlacement=this.parseShort()),2&S&&(U.yPlacement=this.parseShort()),4&S&&(U.xAdvance=this.parseShort()),8&S&&(U.yAdvance=this.parseShort()),16&S&&(U.xPlaDevice=void 0,this.parseShort()),32&S&&(U.yPlaDevice=void 0,this.parseShort()),64&S&&(U.xAdvDevice=void 0,this.parseShort()),128&S&&(U.yAdvDevice=void 0,this.parseShort()),U},Ot.prototype.parseValueRecordList=function(){for(var S=this.parseUShort(),U=this.parseUShort(),q=new Array(U),te=0;te<U;te++)q[te]=this.parseValueRecord(S);return q},Ot.prototype.parsePointer=function(S){var U=this.parseOffset16();if(0<U)return new Ot(this.data,this.offset+U).parseStruct(S)},Ot.prototype.parsePointer32=function(S){var U=this.parseOffset32();if(0<U)return new Ot(this.data,this.offset+U).parseStruct(S)},Ot.prototype.parseListOfLists=function(S){for(var U=this.parseOffset16List(),q=U.length,te=this.relativeOffset,fe=new Array(q),Me=0;Me<q;Me++){var ke=U[Me];if(0===ke)fe[Me]=void 0;else if(this.relativeOffset=ke,S){for(var et=this.parseOffset16List(),Et=new Array(et.length),wt=0;wt<et.length;wt++)this.relativeOffset=ke+et[wt],Et[wt]=S.call(this);fe[Me]=Et}else fe[Me]=this.parseUShortList()}return this.relativeOffset=te,fe},Ot.prototype.parseCoverage=function(){var S=this.offset+this.relativeOffset,U=this.parseUShort(),q=this.parseUShort();if(1===U)return{format:1,glyphs:this.parseUShortList(q)};if(2!==U)throw new Error("0x"+S.toString(16)+": Coverage format must be 1 or 2.");for(var te=new Array(q),fe=0;fe<q;fe++)te[fe]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:te}},Ot.prototype.parseClassDef=function(){var S=this.offset+this.relativeOffset,U=this.parseUShort();if(1===U)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===U)return{format:2,ranges:this.parseRecordList({start:Ot.uShort,end:Ot.uShort,classId:Ot.uShort})};throw new Error("0x"+S.toString(16)+": ClassDef format must be 1 or 2.")},Ot.list=function(S,U){return function(){return this.parseList(S,U)}},Ot.list32=function(S,U){return function(){return this.parseList32(S,U)}},Ot.recordList=function(S,U){return function(){return this.parseRecordList(S,U)}},Ot.recordList32=function(S,U){return function(){return this.parseRecordList32(S,U)}},Ot.pointer=function(S){return function(){return this.parsePointer(S)}},Ot.pointer32=function(S){return function(){return this.parsePointer32(S)}},Ot.tag=Ot.prototype.parseTag,Ot.byte=Ot.prototype.parseByte,Ot.uShort=Ot.offset16=Ot.prototype.parseUShort,Ot.uShortList=Ot.prototype.parseUShortList,Ot.uLong=Ot.offset32=Ot.prototype.parseULong,Ot.uLongList=Ot.prototype.parseULongList,Ot.struct=Ot.prototype.parseStruct,Ot.coverage=Ot.prototype.parseCoverage,Ot.classDef=Ot.prototype.parseClassDef;var ln={reserved:Ot.uShort,reqFeatureIndex:Ot.uShort,featureIndexes:Ot.uShortList},Vt=(Ot.prototype.parseScriptList=function(){return this.parsePointer(Ot.recordList({tag:Ot.tag,script:Ot.pointer({defaultLangSys:Ot.pointer(ln),langSysRecords:Ot.recordList({tag:Ot.tag,langSys:Ot.pointer(ln)})})}))||[]},Ot.prototype.parseFeatureList=function(){return this.parsePointer(Ot.recordList({tag:Ot.tag,feature:Ot.pointer({featureParams:Ot.offset16,lookupListIndexes:Ot.uShortList})}))||[]},Ot.prototype.parseLookupList=function(S){return this.parsePointer(Ot.list(Ot.pointer(function(){var U=this.parseUShort(),q=(P.argument(1<=U&&U<=9,"GPOS/GSUB lookup type "+U+" unknown."),this.parseUShort()),te=16&q;return{lookupType:U,lookupFlag:q,subtables:this.parseList(Ot.pointer(S[U])),markFilteringSet:te?this.parseUShort():void 0}})))||[]},Ot.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var S=this.parseUShort(),U=this.parseUShort();return P.argument(1===S&&U<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Ot.offset32,featureTableSubstitutionOffset:Ot.offset32})})||[]},{getByte:un,getCard8:un,getUShort:Bt,getCard16:Bt,getShort:function(S,U){return S.getInt16(U,!1)},getULong:mn,getFixed:Yt,getTag:function(S,U){for(var q="",te=U;te<U+4;te+=1)q+=String.fromCharCode(S.getInt8(te));return q},getOffset:function(S,U,q){for(var te=0,fe=0;fe<q;fe+=1)te=(te<<=8)+S.getUint8(U+fe);return te},getBytes:function(S,U,q){for(var te=[],fe=U;fe<q;fe+=1)te.push(S.getUint8(fe));return te},bytesToString:function(S){for(var U="",q=0;q<S.length;q+=1)U+=String.fromCharCode(S[q]);return U},Parser:Ot}),Ve_parse=function(S,U){for(var q={},te=(q.version=Vt.getUShort(S,U),P.argument(0===q.version,"cmap table version should be 0."),q.numTables=Vt.getUShort(S,U+2),-1),fe=q.numTables-1;0<=fe;--fe){var Me=Vt.getUShort(S,U+4+8*fe),ke=Vt.getUShort(S,U+4+8*fe+2);if(3===Me&&(0===ke||1===ke||10===ke)||0===Me&&(0===ke||1===ke||2===ke||3===ke||4===ke)){te=Vt.getULong(S,U+4+8*fe+4);break}}if(-1===te)throw new Error("No valid cmap sub-tables found.");var et=new Vt.Parser(S,U+te);if(q.format=et.parseUShort(),12===q.format){var Et,wt=q,zt=et;zt.parseUShort(),wt.length=zt.parseULong(),wt.language=zt.parseULong(),wt.groupCount=Et=zt.parseULong(),wt.glyphIndexMap={};for(var _e=0;_e<Et;_e+=1)for(var ae=zt.parseULong(),we=zt.parseULong(),ye=zt.parseULong(),$e=ae;$e<=we;$e+=1)wt.glyphIndexMap[$e]=ye,ye++}else{if(4!==q.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+q.format+").");var Lt=q,Ht=S,nn=U,$n=te;Lt.length=et.parseUShort(),Lt.language=et.parseUShort(),Lt.segCount=Ln=et.parseUShort()>>1,et.skip("uShort",3),Lt.glyphIndexMap={};for(var Ln,Xn=new Vt.Parser(Ht,nn+$n+14),Kn=new Vt.Parser(Ht,nn+$n+16+2*Ln),nr=new Vt.Parser(Ht,nn+$n+16+4*Ln),vr=new Vt.Parser(Ht,nn+$n+16+6*Ln),Kr=nn+$n+16+8*Ln,to=0;to<Ln-1;to+=1)for(var io=void 0,qr=Xn.parseUShort(),fo=Kn.parseUShort(),Tr=nr.parseShort(),Ir=vr.parseUShort(),Vn=fo;Vn<=qr;Vn+=1)0!==Ir?(Kr=(Kr=vr.offset+vr.relativeOffset-2)+Ir+2*(Vn-fo),0!==(io=Vt.getUShort(Ht,Kr))&&(io=io+Tr&65535)):io=Vn+Tr&65535,Lt.glyphIndexMap[Vn]=io}return q},Ve_make=function(S){for(var U=!0,q=S.length-1;0<q;--q)if(65535<S.get(q).unicode){console.log("Adding CMAP format 12 (needed!)"),U=!1;break}var te,fe,Me=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:U?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:U?12:20}],ke=(Me=(Me=U?Me:Me.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new $t.Table("cmap",Me));for(ke.segments=[],q=0;q<S.length;q+=1){for(var et=S.get(q),Et=0;Et<et.unicodes.length;Et+=1)ke.segments.push({end:te=et.unicodes[Et],start:te,delta:-(te-(fe=q)),offset:0,glyphIndex:fe});ke.segments=ke.segments.sort(function(nn,$n){return nn.start-$n.start})}ke.segments.push({end:65535,start:65535,delta:1,offset:0});var wt=ke.segments.length,zt=0,_e=[],ae=[],we=[],ye=[],$e=[],Lt=[];for(q=0;q<wt;q+=1){var Ht=ke.segments[q];Ht.end<=65535&&Ht.start<=65535?(_e=_e.concat({name:"end_"+q,type:"USHORT",value:Ht.end}),ae=ae.concat({name:"start_"+q,type:"USHORT",value:Ht.start}),we=we.concat({name:"idDelta_"+q,type:"SHORT",value:Ht.delta}),ye=ye.concat({name:"idRangeOffset_"+q,type:"USHORT",value:Ht.offset}),void 0!==Ht.glyphId&&($e=$e.concat({name:"glyph_"+q,type:"USHORT",value:Ht.glyphId}))):zt+=1,U||void 0===Ht.glyphIndex||(Lt=(Lt=(Lt=Lt.concat({name:"cmap12Start_"+q,type:"ULONG",value:Ht.start})).concat({name:"cmap12End_"+q,type:"ULONG",value:Ht.end})).concat({name:"cmap12Glyph_"+q,type:"ULONG",value:Ht.glyphIndex}))}return ke.segCountX2=2*(wt-zt),ke.searchRange=2*Math.pow(2,Math.floor(Math.log(wt-zt)/Math.log(2))),ke.entrySelector=Math.log(ke.searchRange/2)/Math.log(2),ke.rangeShift=ke.segCountX2-ke.searchRange,ke.fields=ke.fields.concat(_e),ke.fields.push({name:"reservedPad",type:"USHORT",value:0}),ke.fields=ke.fields.concat(ae),ke.fields=ke.fields.concat(we),ke.fields=ke.fields.concat(ye),ke.fields=ke.fields.concat($e),ke.cmap4Length=14+2*_e.length+2+2*ae.length+2*we.length+2*ye.length+2*$e.length,U||(Me=16+4*Lt.length,ke.cmap12Offset=20+ke.cmap4Length,ke.fields=ke.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Me},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Lt.length/3}]),ke.fields=ke.fields.concat(Lt)),ke},Xe=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ae=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Ke=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],_t=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ft(S){this.font=S}function Wt(S){this.cmap=S}function Tt(S,U){this.encoding=S,this.charset=U}function Gt(S){switch(S.version){case 1:this.names=_t.slice();break;case 2:this.names=new Array(S.numberOfGlyphs);for(var U=0;U<S.numberOfGlyphs;U++)this.names[U]=S.glyphNameIndex[U]<_t.length?_t[S.glyphNameIndex[U]]:S.names[S.glyphNameIndex[U]-_t.length];break;case 2.5:this.names=new Array(S.numberOfGlyphs);for(var q=0;q<S.numberOfGlyphs;q++)this.names[q]=_t[q+S.glyphNameIndex[q]];break;default:this.names=[]}}Ft.prototype.charToGlyphIndex=function(S){var U=S.codePointAt(0),q=this.font.glyphs;if(q)for(var te=0;te<q.length;te+=1)for(var fe=q.get(te),Me=0;Me<fe.unicodes.length;Me+=1)if(fe.unicodes[Me]===U)return te;return null},Wt.prototype.charToGlyphIndex=function(S){return this.cmap.glyphIndexMap[S.codePointAt(0)]||0},Tt.prototype.charToGlyphIndex=function(S){return S=S.codePointAt(0),this.charset.indexOf(S=this.encoding[S])},Gt.prototype.nameToGlyphIndex=function(S){return this.names.indexOf(S)},Gt.prototype.glyphIndexToName=function(S){return this.names[S]};var en_line=function(S,U,q,te,fe){S.beginPath(),S.moveTo(U,q),S.lineTo(te,fe),S.stroke()};function tn(S){this.bindConstructorValues(S)}function pt(S,U,q){Object.defineProperty(S,U,{get:function(){return S[q]},set:function(te){S[q]=te},enumerable:!0,configurable:!0})}function tt(S,U){if(this.font=S,this.glyphs={},Array.isArray(U))for(var q=0;q<U.length;q++)this.glyphs[q]=U[q];this.length=U&&U.length||0}tn.prototype.bindConstructorValues=function(S){var U;this.index=S.index||0,this.name=S.name||null,this.unicode=S.unicode||void 0,this.unicodes=S.unicodes||void 0!==S.unicode?[S.unicode]:[],S.xMin&&(this.xMin=S.xMin),S.yMin&&(this.yMin=S.yMin),S.xMax&&(this.xMax=S.xMax),S.yMax&&(this.yMax=S.yMax),S.advanceWidth&&(this.advanceWidth=S.advanceWidth),Object.defineProperty(this,"path",(U=(S=S.path)||new le,{configurable:!0,get:function(){return U="function"==typeof U?U():U},set:function(q){U=q}}))},tn.prototype.addUnicode=function(S){0===this.unicodes.length&&(this.unicode=S),this.unicodes.push(S)},tn.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},tn.prototype.getPath=function(S,U,q,te,fe){S=void 0!==S?S:0,U=void 0!==U?U:0,q=void 0!==q?q:72;for(var Me,ke,et=(te=te||{}).xScale,Et=te.yScale,wt=((Me=te.hinting&&fe&&fe.hinting?this.path&&fe.hinting.exec(this,q):Me)?(ke=fe.hinting.getCommands(Me),S=Math.round(S),U=Math.round(U),et=Et=1):(ke=this.path.commands,te=1/this.path.unitsPerEm*q,void 0===et&&(et=te),void 0===Et&&(Et=te)),new le),zt=0;zt<ke.length;zt+=1){var _e=ke[zt];"M"===_e.type?wt.moveTo(S+_e.x*et,U+-_e.y*Et):"L"===_e.type?wt.lineTo(S+_e.x*et,U+-_e.y*Et):"Q"===_e.type?wt.quadraticCurveTo(S+_e.x1*et,U+-_e.y1*Et,S+_e.x*et,U+-_e.y*Et):"C"===_e.type?wt.curveTo(S+_e.x1*et,U+-_e.y1*Et,S+_e.x2*et,U+-_e.y2*Et,S+_e.x*et,U+-_e.y*Et):"Z"===_e.type&&wt.closePath()}return wt},tn.prototype.getContours=function(){if(void 0===this.points)return[];for(var S=[],U=[],q=0;q<this.points.length;q+=1){var te=this.points[q];U.push(te),te.lastPointOfContour&&(S.push(U),U=[])}return P.argument(0===U.length,"There are still points left in the current contour."),S},tn.prototype.getMetrics=function(){for(var S=this.path.commands,U=[],q=[],te=0;te<S.length;te+=1){var fe=S[te];"Z"!==fe.type&&(U.push(fe.x),q.push(fe.y)),"Q"!==fe.type&&"C"!==fe.type||(U.push(fe.x1),q.push(fe.y1)),"C"===fe.type&&(U.push(fe.x2),q.push(fe.y2))}var Me={xMin:Math.min.apply(null,U),yMin:Math.min.apply(null,q),xMax:Math.max.apply(null,U),yMax:Math.max.apply(null,q),leftSideBearing:this.leftSideBearing};return isFinite(Me.xMin)||(Me.xMin=0),isFinite(Me.xMax)||(Me.xMax=this.advanceWidth),isFinite(Me.yMin)||(Me.yMin=0),isFinite(Me.yMax)||(Me.yMax=0),Me.rightSideBearing=this.advanceWidth-Me.leftSideBearing-(Me.xMax-Me.xMin),Me},tn.prototype.draw=function(S,U,q,te,fe){this.getPath(U,q,te,fe).draw(S)},tn.prototype.drawPoints=function(S,U,q,te){function fe(zt,_e,ae,we){var ye=2*Math.PI;S.beginPath();for(var $e=0;$e<zt.length;$e+=1)S.moveTo(_e+zt[$e].x*we,ae+zt[$e].y*we),S.arc(_e+zt[$e].x*we,ae+zt[$e].y*we,2,0,ye,!1);S.closePath(),S.fill()}U=void 0!==U?U:0,q=void 0!==q?q:0,te=1/this.path.unitsPerEm*(te=void 0!==te?te:24);for(var Me=[],ke=[],et=this.path,Et=0;Et<et.commands.length;Et+=1){var wt=et.commands[Et];void 0!==wt.x&&Me.push({x:wt.x,y:-wt.y}),void 0!==wt.x1&&ke.push({x:wt.x1,y:-wt.y1}),void 0!==wt.x2&&ke.push({x:wt.x2,y:-wt.y2})}S.fillStyle="blue",fe(Me,U,q,te),S.fillStyle="red",fe(ke,U,q,te)},tn.prototype.drawMetrics=function(S,U,q,te){U=void 0!==U?U:0,q=void 0!==q?q:0,te=1/this.path.unitsPerEm*(te=void 0!==te?te:24),S.lineWidth=1,S.strokeStyle="black",en_line(S,U,-1e4,U,1e4),en_line(S,-1e4,q,1e4,q);var fe=this.xMin||0,Me=this.yMin||0,ke=this.xMax||0,et=this.yMax||0,Et=this.advanceWidth||0;S.strokeStyle="blue",en_line(S,U+fe*te,-1e4,U+fe*te,1e4),en_line(S,U+ke*te,-1e4,U+ke*te,1e4),en_line(S,-1e4,q+-Me*te,1e4,q+-Me*te),en_line(S,-1e4,q+-et*te,1e4,q+-et*te),S.strokeStyle="green",en_line(S,U+Et*te,-1e4,U+Et*te,1e4)},tt.prototype.get=function(S){return"function"==typeof this.glyphs[S]&&(this.glyphs[S]=this.glyphs[S]()),this.glyphs[S]},tt.prototype.push=function(S,U){this.glyphs[S]=U,this.length++};var At={GlyphSet:tt,glyphLoader:function(S,U){return new tn({index:U,font:S})},ttfGlyphLoader:function(S,U,q,te,fe,Me){return function(){var ke=new tn({index:U,font:S});return ke.path=function(){q(ke,te,fe);var et=Me(S.glyphs,ke);return et.unitsPerEm=S.unitsPerEm,et},pt(ke,"xMin","_xMin"),pt(ke,"xMax","_xMax"),pt(ke,"yMin","_yMin"),pt(ke,"yMax","_yMax"),ke}},cffGlyphLoader:function(S,U,q,te){return function(){var fe=new tn({index:U,font:S});return fe.path=function(){var Me=q(S,fe,te);return Me.unitsPerEm=S.unitsPerEm,Me},fe}}};function gt(S){return S.length<1240?107:S.length<33900?1131:32768}function Rt(S,U,q){var te,fe=[],Me=[],ke=Vt.getCard16(S,U);if(0!==ke){for(var et=Vt.getByte(S,U+2),Et=U+(ke+1)*et+2,wt=U+3,zt=0;zt<ke+1;zt+=1)fe.push(Vt.getOffset(S,wt,et)),wt+=et;te=Et+fe[ke]}else te=U+2;for(var _e=0;_e<fe.length-1;_e+=1){var ae=Vt.getBytes(S,Et+fe[_e],Et+fe[_e+1]);q&&(ae=q(ae)),Me.push(ae)}return{objects:Me,startOffset:U,endOffset:te}}function cn(S,U){if(28===U)return S.parseByte()<<8|S.parseByte();if(29===U)return S.parseByte()<<24|S.parseByte()<<16|S.parseByte()<<8|S.parseByte();if(30===U){for(var q=S,te="",fe=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Me=(ke=q.parseByte())>>4,ke=15&ke;if(15==Me||(te+=fe[Me],15==ke))break;te+=fe[ke]}return parseFloat(te)}if(32<=U&&U<=246)return U-139;if(247<=U&&U<=250)return 256*(U-247)+S.parseByte()+108;if(251<=U&&U<=254)return 256*-(U-251)-S.parseByte()-108;throw new Error("Invalid b0 "+U)}function ft(S,U,q){var te=new Vt.Parser(S,U=void 0!==U?U:0),fe=[],Me=[];for(q=void 0!==q?q:S.length;te.relativeOffset<q;){var ke=te.parseByte();ke<=21?(12===ke&&(ke=1200+te.parseByte()),fe.push([ke,Me]),Me=[]):Me.push(cn(te,ke))}for(var et=fe,Et={},wt=0;wt<et.length;wt+=1){var ae,zt=et[wt][0],_e=et[wt][1];if(ae=1===_e.length?_e[0]:_e,Et.hasOwnProperty(zt)&&!isNaN(Et[zt]))throw new Error("Object "+Et+" already has key "+zt);Et[zt]=ae}return Et}function xt(S,U){return U<=390?Xe[U]:S[U-391]}function Jt(S,U,q){for(var te,fe={},Me=0;Me<U.length;Me+=1){var ke=U[Me];if(Array.isArray(ke.type)){var et=[];et.length=ke.type.length;for(var Et=0;Et<ke.type.length;Et++)void 0===(te=void 0!==S[ke.op]?S[ke.op][Et]:void 0)&&(te=void 0!==ke.value&&void 0!==ke.value[Et]?ke.value[Et]:null),"SID"===ke.type[Et]&&(te=xt(q,te)),et[Et]=te;fe[ke.name]=et}else void 0===(te=S[ke.op])&&(te=void 0!==ke.value?ke.value:null),"SID"===ke.type&&(te=xt(q,te)),fe[ke.name]=te}return fe}var Nt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],rn=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function pn(S,U,q,te){return Jt(ft(S,U,q),rn,te)}function bn(S,U,q,te){for(var fe=[],Me=0;Me<q.length;Me+=1){var ke,et=((et=te,ke=Jt(ft(ke=new DataView(new Uint8Array(q[Me]).buffer),0,ke.byteLength),Nt,et))._subrs=[],ke._subrsBias=0,ke.private[0]),Et=ke.private[1];0!==et&&0!==Et&&(et=pn(S,Et+U,et,te),ke._defaultWidthX=et.defaultWidthX,ke._nominalWidthX=et.nominalWidthX,0!==et.subrs&&(Et=Rt(S,Et+et.subrs+U),ke._subrs=Et.objects,ke._subrsBias=gt(ke._subrs)),ke._privateDict=et),fe.push(ke)}return fe}function Mn(S,U,q){var te,fe,Me,ke,et,Et,wt,zt,_e,ae=new le,we=[],ye=0,$e=!1,Lt=!1,Ht=0,nn=0,$n=(_e=(S.isCIDFont?(et=S.tables.cff.topDict._fdSelect[U.index],et=S.tables.cff.topDict._fdArray[et],Et=et._subrs,wt=et._subrsBias,zt=et._defaultWidthX,et):(Et=S.tables.cff.topDict._subrs,wt=S.tables.cff.topDict._subrsBias,zt=S.tables.cff.topDict._defaultWidthX,S.tables.cff.topDict))._nominalWidthX,zt);function Ln(Kn,nr){Lt&&ae.closePath(),ae.moveTo(Kn,nr),Lt=!0}function Xn(){we.length%2==0||$e||($n=we.shift()+_e),ye+=we.length>>1,we.length=0,$e=!0}return function Kn(nr){for(var vr,Kr,to,io,qr,fo,Tr,Ir,Vn,Br,$r,lo,kr=0;kr<nr.length;){var uo=nr[kr];switch(kr+=1,uo){case 1:case 3:case 18:case 23:Xn();break;case 4:1<we.length&&!$e&&($n=we.shift()+_e,$e=!0),nn+=we.pop(),Ln(Ht,nn);break;case 5:for(;0<we.length;)Ht+=we.shift(),nn+=we.shift(),ae.lineTo(Ht,nn);break;case 6:for(;0<we.length&&(Ht+=we.shift(),ae.lineTo(Ht,nn),0!==we.length);)nn+=we.shift(),ae.lineTo(Ht,nn);break;case 7:for(;0<we.length&&(nn+=we.shift(),ae.lineTo(Ht,nn),0!==we.length);)Ht+=we.shift(),ae.lineTo(Ht,nn);break;case 8:for(;0<we.length;)te=Ht+we.shift(),fe=nn+we.shift(),Me=te+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),nn=ke+we.shift(),ae.curveTo(te,fe,Me,ke,Ht,nn);break;case 10:qr=we.pop()+wt,(fo=Et[qr])&&Kn(fo);break;case 11:return;case 12:switch(uo=nr[kr],kr+=1,uo){case 35:te=Ht+we.shift(),fe=nn+we.shift(),Me=te+we.shift(),ke=fe+we.shift(),Tr=Me+we.shift(),Ir=ke+we.shift(),Vn=Tr+we.shift(),Br=Ir+we.shift(),$r=Vn+we.shift(),lo=Br+we.shift(),Ht=$r+we.shift(),nn=lo+we.shift(),we.shift(),ae.curveTo(te,fe,Me,ke,Tr,Ir),ae.curveTo(Vn,Br,$r,lo,Ht,nn);break;case 34:te=Ht+we.shift(),fe=nn,Me=te+we.shift(),ke=fe+we.shift(),Tr=Me+we.shift(),Ir=ke,Vn=Tr+we.shift(),Br=ke,$r=Vn+we.shift(),lo=nn,Ht=$r+we.shift(),ae.curveTo(te,fe,Me,ke,Tr,Ir),ae.curveTo(Vn,Br,$r,lo,Ht,nn);break;case 36:te=Ht+we.shift(),fe=nn+we.shift(),Me=te+we.shift(),ke=fe+we.shift(),Tr=Me+we.shift(),Ir=ke,Vn=Tr+we.shift(),Br=ke,$r=Vn+we.shift(),lo=Br+we.shift(),Ht=$r+we.shift(),ae.curveTo(te,fe,Me,ke,Tr,Ir),ae.curveTo(Vn,Br,$r,lo,Ht,nn);break;case 37:te=Ht+we.shift(),fe=nn+we.shift(),Me=te+we.shift(),ke=fe+we.shift(),Tr=Me+we.shift(),Ir=ke+we.shift(),Vn=Tr+we.shift(),Br=Ir+we.shift(),$r=Vn+we.shift(),lo=Br+we.shift(),Math.abs($r-Ht)>Math.abs(lo-nn)?Ht=$r+we.shift():nn=lo+we.shift(),ae.curveTo(te,fe,Me,ke,Tr,Ir),ae.curveTo(Vn,Br,$r,lo,Ht,nn);break;default:console.log("Glyph "+U.index+": unknown operator 1200"+uo),we.length=0}break;case 14:0<we.length&&!$e&&($n=we.shift()+_e,$e=!0),Lt&&(ae.closePath(),Lt=!1);break;case 19:case 20:Xn(),kr+=ye+7>>3;break;case 21:2<we.length&&!$e&&($n=we.shift()+_e,$e=!0),nn+=we.pop(),Ln(Ht+=we.pop(),nn);break;case 22:1<we.length&&!$e&&($n=we.shift()+_e,$e=!0),Ln(Ht+=we.pop(),nn);break;case 24:for(;2<we.length;)te=Ht+we.shift(),fe=nn+we.shift(),Me=te+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),nn=ke+we.shift(),ae.curveTo(te,fe,Me,ke,Ht,nn);Ht+=we.shift(),nn+=we.shift(),ae.lineTo(Ht,nn);break;case 25:for(;6<we.length;)Ht+=we.shift(),nn+=we.shift(),ae.lineTo(Ht,nn);te=Ht+we.shift(),fe=nn+we.shift(),Me=te+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),nn=ke+we.shift(),ae.curveTo(te,fe,Me,ke,Ht,nn);break;case 26:for(we.length%2&&(Ht+=we.shift());0<we.length;)te=Ht,fe=nn+we.shift(),Me=te+we.shift(),ke=fe+we.shift(),Ht=Me,nn=ke+we.shift(),ae.curveTo(te,fe,Me,ke,Ht,nn);break;case 27:for(we.length%2&&(nn+=we.shift());0<we.length;)te=Ht+we.shift(),fe=nn,Me=te+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),ae.curveTo(te,fe,Me,ke,Ht,nn=ke);break;case 28:we.push(((vr=nr[kr])<<24|(Kr=nr[kr+1])<<16)>>16),kr+=2;break;case 29:qr=we.pop()+S.gsubrsBias,(fo=S.gsubrs[qr])&&Kn(fo);break;case 30:for(;0<we.length&&(te=Ht,fe=nn+we.shift(),Me=te+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),nn=ke+(1===we.length?we.shift():0),ae.curveTo(te,fe,Me,ke,Ht,nn),0!==we.length);)te=Ht+we.shift(),fe=nn,Me=te+we.shift(),ke=fe+we.shift(),nn=ke+we.shift(),Ht=Me+(1===we.length?we.shift():0),ae.curveTo(te,fe,Me,ke,Ht,nn);break;case 31:for(;0<we.length&&(te=Ht+we.shift(),fe=nn,Me=te+we.shift(),ke=fe+we.shift(),nn=ke+we.shift(),Ht=Me+(1===we.length?we.shift():0),ae.curveTo(te,fe,Me,ke,Ht,nn),0!==we.length);)te=Ht,fe=nn+we.shift(),Me=te+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),nn=ke+(1===we.length?we.shift():0),ae.curveTo(te,fe,Me,ke,Ht,nn);break;default:uo<32?console.log("Glyph "+U.index+": unknown operator "+uo):uo<247?we.push(uo-139):uo<251?(vr=nr[kr],kr+=1,we.push(256*(uo-247)+vr+108)):uo<255?(vr=nr[kr],kr+=1,we.push(256*-(uo-251)-vr-108)):(vr=nr[kr],Kr=nr[kr+1],to=nr[kr+2],io=nr[kr+3],kr+=4,we.push((vr<<24|Kr<<16|to<<8|io)/65536))}}}(q),U.advanceWidth=$n,ae}function In(S,U){var q,te=Xe.indexOf(S);return 0<=te&&(q=te),0<=(te=U.indexOf(S))?q=te+Xe.length:(q=Xe.length+U.length,U.push(S)),q}function Tn(S,U,q){for(var te={},fe=0;fe<S.length;fe+=1){var Me=S[fe],ke=U[Me.name];void 0===ke||function et(Et,wt){if(Et===wt)return 1;if(Array.isArray(Et)&&Array.isArray(wt)&&Et.length===wt.length){for(var zt=0;zt<Et.length;zt+=1)if(!et(Et[zt],wt[zt]))return;return 1}}(ke,Me.value)||("SID"===Me.type&&(ke=In(ke,q)),te[Me.op]={name:Me.name,type:Me.type,value:ke})}return te}function Gn(S,U){var q=new $t.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return q.dict=Tn(Nt,S,U),q}function W(S){var U=new $t.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return U.topDicts=[{name:"topDict_0",type:"TABLE",value:S}],U}var je_parse=function(S,U,q){q.tables.cff={},(fe={}).formatMajor=Vt.getCard8(et=S,te=U),fe.formatMinor=Vt.getCard8(et,te+1),fe.size=Vt.getCard8(et,te+2),fe.offsetSize=Vt.getCard8(et,te+3),fe.startOffset=te,fe.endOffset=te+4;var et=Rt(S,fe.endOffset,Vt.bytesToString),te=Rt(S,et.endOffset),fe=Rt(S,te.endOffset,Vt.bytesToString);if(et=Rt(S,fe.endOffset),q.gsubrs=et.objects,q.gsubrsBias=gt(q.gsubrs),1!==(et=bn(S,U,te.objects,fe.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+et.length);if((q.tables.cff.topDict=te=et[0])._privateDict&&(q.defaultWidthX=te._privateDict.defaultWidthX,q.nominalWidthX=te._privateDict.nominalWidthX),void 0!==te.ros[0]&&void 0!==te.ros[1]&&(q.isCIDFont=!0),q.isCIDFont){var Me=te.fdSelect;if(0===(et=te.fdArray)||0===Me)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");et=bn(S,U,Rt(S,et+=U).objects,fe.objects),te._fdArray=et,te._fdSelect=function(ae,we,ye,$e){var Lt,Ht=[],nn=new Vt.Parser(ae,we);if(0===(ae=nn.parseCard8()))for(var $n=0;$n<ye;$n++){if($e<=(Lt=nn.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Lt+" (FD count "+$e+")");Ht.push(Lt)}else{if(3!==ae)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ae);var Ln,Xn=nn.parseCard16(),Kn=nn.parseCard16();if(0!==Kn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Kn);for(var nr=0;nr<Xn;nr++){if(Lt=nn.parseCard8(),Ln=nn.parseCard16(),$e<=Lt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Lt+" (FD count "+$e+")");if(ye<Ln)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Ln);for(;Kn<Ln;Kn++)Ht.push(Lt);Kn=Ln}if(Ln!==ye)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Ln)}return Ht}(S,Me+=U,q.numGlyphs,et.length)}et=pn(S,Me=U+te.private[1],te.private[0],fe.objects);var ke=(q.defaultWidthX=et.defaultWidthX,q.nominalWidthX=et.nominalWidthX,0!==et.subrs?(Me=Rt(S,Me+et.subrs),q.subrs=Me.objects,q.subrsBias=gt(q.subrs)):(q.subrs=[],q.subrsBias=0),Rt(S,U+te.charStrings));q.nGlyphs=ke.objects.length,et=function(zt,_e,ae,we){var ye=new Vt.Parser(zt,_e),$e=(--ae,[".notdef"]);if(0===(zt=ye.parseCard8()))for(var Lt=0;Lt<ae;Lt+=1)Ht=ye.parseSID(),$e.push(xt(we,Ht));else if(1===zt)for(;$e.length<=ae;)for(var Ht=ye.parseSID(),nn=ye.parseCard8(),$n=0;$n<=nn;$n+=1)$e.push(xt(we,Ht)),Ht+=1;else{if(2!==zt)throw new Error("Unknown charset format "+zt);for(;$e.length<=ae;){Ht=ye.parseSID(),nn=ye.parseCard16();for(var Ln=0;Ln<=nn;Ln+=1)$e.push(xt(we,Ht)),Ht+=1}}return $e}(S,U+te.charset,q.nGlyphs,fe.objects),q.cffEncoding=0===te.encoding?new Tt(Ae,et):1===te.encoding?new Tt(Ke,et):function(zt,_e,ae){var we={},ye=new Vt.Parser(zt,_e);if(0===(zt=ye.parseCard8()))for(var $e=ye.parseCard8(),Lt=0;Lt<$e;Lt+=1)we[nn=ye.parseCard8()]=Lt;else{if(1!==zt)throw new Error("Unknown encoding format "+zt);for(var Ht=ye.parseCard8(),nn=1,$n=0;$n<Ht;$n+=1)for(var Ln=ye.parseCard8(),Xn=ye.parseCard8(),Kn=Ln;Kn<=Ln+Xn;Kn+=1)we[Kn]=nn,nn+=1}return new Tt(we,ae)}(S,U+te.encoding,et),q.encoding=q.encoding||q.cffEncoding,q.glyphs=new At.GlyphSet(q);for(var Et=0;Et<q.nGlyphs;Et+=1)q.glyphs.push(Et,At.cffGlyphLoader(q,Et,Mn,ke.objects[Et]))},je_make=function(S,zt){for(var q,te=new $t.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),fe={version:zt.version,fullName:zt.fullName,familyName:zt.familyName,weight:zt.weightName,fontBBox:zt.fontBBox||[0,0,0,0],fontMatrix:[fe=1/zt.unitsPerEm,0,0,fe,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Me=[],ke=1;ke<S.length;ke+=1)q=S.get(ke),Me.push(q.name);var et,Et,wt=[],_e=(te.header=new $t.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),te.nameIndex=function(ae){var we=new $t.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);we.names=[];for(var ye=0;ye<ae.length;ye+=1)we.names.push({name:"name_"+ye,type:"NAME",value:ae[ye]});return we}([zt.postScriptName]),zt=Gn(fe,wt),te.topDictIndex=W(zt),te.globalSubrIndex=new $t.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),te.charsets=function(ae,we){for(var ye=new $t.Record("Charsets",[{name:"format",type:"Card8",value:0}]),$e=0;$e<ae.length;$e+=1){var Lt=In(ae[$e],we);ye.fields.push({name:"glyph_"+$e,type:"SID",value:Lt})}return ye}(Me,wt),te.charStringsIndex=function ve(S){for(var U=new $t.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),q=0;q<S.length;q+=1){var te=S.get(q),fe=function(Me){for(var ke=[],et=Me.path,Et=(ke.push({name:"width",type:"NUMBER",value:Me.advanceWidth}),0),wt=0,zt=0;zt<et.commands.length;zt+=1){var _e,ae,we,ye,$e=void 0,Lt=void 0,Ht=et.commands[zt];"M"===(Ht="Q"===Ht.type?{type:"C",x:Ht.x,y:Ht.y,x1:1/3*Et+2/3*Ht.x1,y1:1/3*wt+2/3*Ht.y1,x2:1/3*Ht.x+2/3*Ht.x1,y2:1/3*Ht.y+2/3*Ht.y1}:Ht).type?($e=Math.round(Ht.x-Et),Lt=Math.round(Ht.y-wt),ke.push({name:"dx",type:"NUMBER",value:$e}),ke.push({name:"dy",type:"NUMBER",value:Lt}),ke.push({name:"rmoveto",type:"OP",value:21}),Et=Math.round(Ht.x),wt=Math.round(Ht.y)):"L"===Ht.type?($e=Math.round(Ht.x-Et),Lt=Math.round(Ht.y-wt),ke.push({name:"dx",type:"NUMBER",value:$e}),ke.push({name:"dy",type:"NUMBER",value:Lt}),ke.push({name:"rlineto",type:"OP",value:5}),Et=Math.round(Ht.x),wt=Math.round(Ht.y)):"C"===Ht.type&&(_e=Math.round(Ht.x1-Et),ae=Math.round(Ht.y1-wt),we=Math.round(Ht.x2-Ht.x1),ye=Math.round(Ht.y2-Ht.y1),$e=Math.round(Ht.x-Ht.x2),Lt=Math.round(Ht.y-Ht.y2),ke.push({name:"dx1",type:"NUMBER",value:_e}),ke.push({name:"dy1",type:"NUMBER",value:ae}),ke.push({name:"dx2",type:"NUMBER",value:we}),ke.push({name:"dy2",type:"NUMBER",value:ye}),ke.push({name:"dx",type:"NUMBER",value:$e}),ke.push({name:"dy",type:"NUMBER",value:Lt}),ke.push({name:"rrcurveto",type:"OP",value:8}),Et=Math.round(Ht.x),wt=Math.round(Ht.y))}return ke.push({name:"endchar",type:"OP",value:14}),ke}(te);U.charStrings.push({name:te.name,type:"CHARSTRING",value:fe})}return U}(S),te.privateDict=(_e={},et=wt,(Et=new $t.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Tn(rn,_e,et),Et),te.stringIndex=function(ae){var we=new $t.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);we.strings=[];for(var ye=0;ye<ae.length;ye+=1)we.strings.push({name:"string_"+ye,type:"STRING",value:ae[ye]});return we}(wt),te.header.sizeOf()+te.nameIndex.sizeOf()+te.topDictIndex.sizeOf()+te.stringIndex.sizeOf()+te.globalSubrIndex.sizeOf());return fe.charset=_e,fe.encoding=0,fe.charStrings=fe.charset+te.charsets.sizeOf(),fe.private[1]=fe.charStrings+te.charStringsIndex.sizeOf(),zt=Gn(fe,wt),te.topDictIndex=W(zt),te},D_parse=function(te,U){var q={};return te=new Vt.Parser(te,U),q.version=te.parseVersion(),q.fontRevision=Math.round(1e3*te.parseFixed())/1e3,q.checkSumAdjustment=te.parseULong(),q.magicNumber=te.parseULong(),P.argument(1594834165===q.magicNumber,"Font header has wrong magic number."),q.flags=te.parseUShort(),q.unitsPerEm=te.parseUShort(),q.created=te.parseLongDateTime(),q.modified=te.parseLongDateTime(),q.xMin=te.parseShort(),q.yMin=te.parseShort(),q.xMax=te.parseShort(),q.yMax=te.parseShort(),q.macStyle=te.parseUShort(),q.lowestRecPPEM=te.parseUShort(),q.fontDirectionHint=te.parseShort(),q.indexToLocFormat=te.parseShort(),q.glyphDataFormat=te.parseShort(),q},D_make=function(S){var U=Math.round((new Date).getTime()/1e3)+2082844800,q=U;return S.createdTimestamp&&(q=S.createdTimestamp+2082844800),new $t.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:q},{name:"modified",type:"LONGDATETIME",value:U},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],S)},T_parse=function(te,U){var q={};return te=new Vt.Parser(te,U),q.version=te.parseVersion(),q.ascender=te.parseShort(),q.descender=te.parseShort(),q.lineGap=te.parseShort(),q.advanceWidthMax=te.parseUShort(),q.minLeftSideBearing=te.parseShort(),q.minRightSideBearing=te.parseShort(),q.xMaxExtent=te.parseShort(),q.caretSlopeRise=te.parseShort(),q.caretSlopeRun=te.parseShort(),q.caretOffset=te.parseShort(),te.relativeOffset+=8,q.metricDataFormat=te.parseShort(),q.numberOfHMetrics=te.parseUShort(),q},T_make=function(S){return new $t.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],S)},L_parse=function(S,U,q,te,fe){for(var Me,ke,et=new Vt.Parser(S,U),Et=0;Et<te;Et+=1){Et<q&&(Me=et.parseUShort(),ke=et.parseShort());var wt=fe.get(Et);wt.advanceWidth=Me,wt.leftSideBearing=ke}},L_make=function(S){for(var U=new $t.Table("hmtx",[]),q=0;q<S.length;q+=1){var te=(fe=S.get(q)).advanceWidth||0,fe=fe.leftSideBearing||0;U.fields.push({name:"advanceWidth_"+q,type:"USHORT",value:te}),U.fields.push({name:"leftSideBearing_"+q,type:"SHORT",value:fe})}return U},V_make=function(S){for(var U=new $t.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:S.length}]),q="",te=12+4*S.length,fe=0;fe<S.length;++fe){var Me=q.indexOf(S[fe]);Me<0&&(Me=q.length,q+=S[fe]),U.fields.push({name:"offset "+fe,type:"USHORT",value:te+Me}),U.fields.push({name:"length "+fe,type:"USHORT",value:S[fe].length})}return U.fields.push({name:"stringPool",type:"CHARARRAY",value:q}),U},V_parse=function(S,U){for(var q=new Vt.Parser(S,U),te=q.parseULong(),fe=(P.argument(1===te,"Unsupported ltag table version."),q.skip("uLong",1),q.parseULong()),Me=[],ke=0;ke<fe;ke++){for(var et="",Et=U+q.parseUShort(),wt=q.parseUShort(),zt=Et;zt<Et+wt;++zt)et+=String.fromCharCode(S.getInt8(zt));Me.push(et)}return Me},Z_parse=function(te,U){var q={};return te=new Vt.Parser(te,U),q.version=te.parseVersion(),q.numGlyphs=te.parseUShort(),1===q.version&&(q.maxPoints=te.parseUShort(),q.maxContours=te.parseUShort(),q.maxCompositePoints=te.parseUShort(),q.maxCompositeContours=te.parseUShort(),q.maxZones=te.parseUShort(),q.maxTwilightPoints=te.parseUShort(),q.maxStorage=te.parseUShort(),q.maxFunctionDefs=te.parseUShort(),q.maxInstructionDefs=te.parseUShort(),q.maxStackElements=te.parseUShort(),q.maxSizeOfInstructions=te.parseUShort(),q.maxComponentElements=te.parseUShort(),q.maxComponentDepth=te.parseUShort()),q},Z_make=function(S){return new $t.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:S}])},X=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],se={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Pe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ne={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},ut="utf-16",Ee={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ue={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function at(S,U,q){switch(S){case 0:return ut;case 1:return Ue[q]||Ee[U];case 3:if(1===U||10===U)return ut}}function He(S){var U,q={};for(U in S)q[S[U]]=parseInt(U);return q}function bt(S,U,q,te,fe,Me){return new $t.Record("NameRecord",[{name:"platformID",type:"USHORT",value:S},{name:"encodingID",type:"USHORT",value:U},{name:"languageID",type:"USHORT",value:q},{name:"nameID",type:"USHORT",value:te},{name:"length",type:"USHORT",value:fe},{name:"offset",type:"USHORT",value:Me}])}function Ut(S,U){if((q=function(Me,ke){var et=Me.length,Et=ke.length-et+1;e:for(var wt=0;wt<Et;wt++)for(;wt<Et;wt++){for(var zt=0;zt<et;zt++)if(ke[wt+zt]!==Me[zt])continue e;return wt}return-1}(S,U))<0)for(var q=U.length,te=0,fe=S.length;te<fe;++te)U.push(S[te]);return q}var an_parse=function(S,U,q){for(var te={},fe=new Vt.Parser(S,U),Me=(U=fe.parseUShort(),fe.parseUShort()),ke=fe.offset+fe.parseUShort(),et=0;et<Me;et++){var ye=fe.parseUShort(),Et=fe.parseUShort(),wt=fe.parseUShort(),zt=fe.parseUShort(),_e=(zt=X[zt]||zt,fe.parseUShort()),ae=fe.parseUShort(),we=function(Lt,Ht,nn){switch(Lt){case 0:if(65535===Ht)return"und";if(nn)return nn[Ht];break;case 1:return se[Ht];case 3:return Ne[Ht]}}(ye,wt,q);void 0!==(ye=at(ye,Et,wt))&&void 0!==we&&(Et=void 0,(Et=ye===ut?re.UTF16(S,ke+ae,_e):re.MACSTRING(S,ke+ae,_e,ye))&&((wt=void 0===(wt=te[zt])?te[zt]={}:wt)[we]=Et))}return 1===U&&fe.parseUShort(),te},an_make=function(S,U){var q,te=[],fe={},Me=He(X);for(q in S){var ke=Me[q];if(void 0===ke&&(ke=q),ae=parseInt(ke),isNaN(ae))throw new Error('Name table entry "'+q+'" does not exist, see nameTableNames for complete list.');fe[ae]=S[q],te.push(ae)}for(var et=He(se),Et=He(Ne),wt=[],zt=[],_e=0;_e<te.length;_e++){var ae,we,ye=fe[ae=te[_e]];for(we in ye){var Ln,$e=ye[we],Lt=et[we],Ht=Pe[Lt],nn=at(Ln=1,Ht,Lt),$n=(void 0===(nn=ge.MACSTRING($e,nn))&&(Ln=0,(Lt=U.indexOf(we))<0&&(Lt=U.length,U.push(we)),Ht=4,nn=ge.UTF16($e)),Ut(nn,zt));void 0!==(wt.push(bt(Ln,Ht,Lt,ae,nn.length,$n)),Ln=Et[we])&&(Lt=Ut(Ht=ge.UTF16($e),zt),wt.push(bt(3,1,Ln,ae,Ht.length,Lt)))}}wt.sort(function(nr,vr){return nr.platformID-vr.platformID||nr.encodingID-vr.encodingID||nr.languageID-vr.languageID||nr.nameID-vr.nameID});for(var Xn=new $t.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:wt.length},{name:"stringOffset",type:"USHORT",value:6+12*wt.length}]),Kn=0;Kn<wt.length;Kn++)Xn.fields.push({name:"record_"+Kn,type:"RECORD",value:wt[Kn]});return Xn.fields.push({name:"strings",type:"LITERAL",value:zt}),Xn},hn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],An_parse=function(S,U){var q={},te=new Vt.Parser(S,U);q.version=te.parseUShort(),q.xAvgCharWidth=te.parseShort(),q.usWeightClass=te.parseUShort(),q.usWidthClass=te.parseUShort(),q.fsType=te.parseUShort(),q.ySubscriptXSize=te.parseShort(),q.ySubscriptYSize=te.parseShort(),q.ySubscriptXOffset=te.parseShort(),q.ySubscriptYOffset=te.parseShort(),q.ySuperscriptXSize=te.parseShort(),q.ySuperscriptYSize=te.parseShort(),q.ySuperscriptXOffset=te.parseShort(),q.ySuperscriptYOffset=te.parseShort(),q.yStrikeoutSize=te.parseShort(),q.yStrikeoutPosition=te.parseShort(),q.sFamilyClass=te.parseShort(),q.panose=[];for(var fe=0;fe<10;fe++)q.panose[fe]=te.parseByte();return q.ulUnicodeRange1=te.parseULong(),q.ulUnicodeRange2=te.parseULong(),q.ulUnicodeRange3=te.parseULong(),q.ulUnicodeRange4=te.parseULong(),q.achVendID=String.fromCharCode(te.parseByte(),te.parseByte(),te.parseByte(),te.parseByte()),q.fsSelection=te.parseUShort(),q.usFirstCharIndex=te.parseUShort(),q.usLastCharIndex=te.parseUShort(),q.sTypoAscender=te.parseShort(),q.sTypoDescender=te.parseShort(),q.sTypoLineGap=te.parseShort(),q.usWinAscent=te.parseUShort(),q.usWinDescent=te.parseUShort(),1<=q.version&&(q.ulCodePageRange1=te.parseULong(),q.ulCodePageRange2=te.parseULong()),2<=q.version&&(q.sxHeight=te.parseShort(),q.sCapHeight=te.parseShort(),q.usDefaultChar=te.parseUShort(),q.usBreakChar=te.parseUShort(),q.usMaxContent=te.parseUShort()),q},An_make=function(S){return new $t.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],S)},An_getUnicodeRange=function(S){for(var U=0;U<hn.length;U+=1){var q=hn[U];if(S>=q.begin&&S<q.end)return U}return-1},Bn_parse=function(S,U){var q={},te=new Vt.Parser(S,U);switch(q.version=te.parseVersion(),q.italicAngle=te.parseFixed(),q.underlinePosition=te.parseShort(),q.underlineThickness=te.parseShort(),q.isFixedPitch=te.parseULong(),q.minMemType42=te.parseULong(),q.maxMemType42=te.parseULong(),q.minMemType1=te.parseULong(),q.maxMemType1=te.parseULong(),q.version){case 1:q.names=_t.slice();break;case 2:q.numberOfGlyphs=te.parseUShort(),q.glyphNameIndex=new Array(q.numberOfGlyphs);for(var fe=0;fe<q.numberOfGlyphs;fe++)q.glyphNameIndex[fe]=te.parseUShort();q.names=[];for(var Me,ke=0;ke<q.numberOfGlyphs;ke++)q.glyphNameIndex[ke]>=_t.length&&(Me=te.parseChar(),q.names.push(te.parseString(Me)));break;case 2.5:q.numberOfGlyphs=te.parseUShort(),q.offset=new Array(q.numberOfGlyphs);for(var et=0;et<q.numberOfGlyphs;et++)q.offset[et]=te.parseChar()}return q},Bn_make=function(){return new $t.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},Qn=new Array(9),Ar=(Qn[1]=function(){var S=this.offset+this.relativeOffset,U=this.parseUShort();return 1===U?{substFormat:1,coverage:this.parsePointer(Ot.coverage),deltaGlyphId:this.parseUShort()}:2===U?{substFormat:2,coverage:this.parsePointer(Ot.coverage),substitute:this.parseOffset16List()}:void P.assert(!1,"0x"+S.toString(16)+": lookup type 1 format must be 1 or 2.")},Qn[2]=function(){var S=this.parseUShort();return P.argument(1===S,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ot.coverage),sequences:this.parseListOfLists()}},Qn[3]=function(){var S=this.parseUShort();return P.argument(1===S,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ot.coverage),alternateSets:this.parseListOfLists()}},Qn[4]=function(){var S=this.parseUShort();return P.argument(1===S,"GSUB ligature table identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ot.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Ot.uShort,lookupListIndex:Ot.uShort});Qn[5]=function(){var S,U,q=this.offset+this.relativeOffset,te=this.parseUShort();return 1===te?{substFormat:te,coverage:this.parsePointer(Ot.coverage),ruleSets:this.parseListOfLists(function(){var fe=this.parseUShort(),Me=this.parseUShort();return{input:this.parseUShortList(fe-1),lookupRecords:this.parseRecordList(Me,Ar)}})}:2===te?{substFormat:te,coverage:this.parsePointer(Ot.coverage),classDef:this.parsePointer(Ot.classDef),classSets:this.parseListOfLists(function(){var fe=this.parseUShort(),Me=this.parseUShort();return{classes:this.parseUShortList(fe-1),lookupRecords:this.parseRecordList(Me,Ar)}})}:3===te?(S=this.parseUShort(),U=this.parseUShort(),{substFormat:te,coverages:this.parseList(S,Ot.pointer(Ot.coverage)),lookupRecords:this.parseRecordList(U,Ar)}):void P.assert(!1,"0x"+q.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Qn[6]=function(){var S=this.offset+this.relativeOffset,U=this.parseUShort();return 1===U?{substFormat:1,coverage:this.parsePointer(Ot.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ar)}})}:2===U?{substFormat:2,coverage:this.parsePointer(Ot.coverage),backtrackClassDef:this.parsePointer(Ot.classDef),inputClassDef:this.parsePointer(Ot.classDef),lookaheadClassDef:this.parsePointer(Ot.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ar)}})}:3===U?{substFormat:3,backtrackCoverage:this.parseList(Ot.pointer(Ot.coverage)),inputCoverage:this.parseList(Ot.pointer(Ot.coverage)),lookaheadCoverage:this.parseList(Ot.pointer(Ot.coverage)),lookupRecords:this.parseRecordList(Ar)}:void P.assert(!1,"0x"+S.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Qn[7]=function(){var S=this.parseUShort(),U=(P.argument(1===S,"GSUB Extension Substitution subtable identifier-format must be 1"),S=this.parseUShort(),new Ot(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:S,extension:Qn[S].call(U)}},Qn[8]=function(){var S=this.parseUShort();return P.argument(1===S,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Ot.coverage),backtrackCoverage:this.parseList(Ot.pointer(Ot.coverage)),lookaheadCoverage:this.parseList(Ot.pointer(Ot.coverage)),substitutes:this.parseUShortList()}};var Dr=new Array(9);Dr[1]=function(S){return new $t.Table("substitutionTable",1===S.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $t.Coverage(S.coverage)},{name:"deltaGlyphID",type:"USHORT",value:S.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new $t.Coverage(S.coverage)}].concat($t.ushortList("substitute",S.substitute)))},Dr[3]=function(S){return P.assert(1===S.substFormat,"Lookup type 3 substFormat must be 1."),new $t.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $t.Coverage(S.coverage)}].concat($t.tableList("altSet",S.alternateSets,function(U){return new $t.Table("alternateSetTable",$t.ushortList("alternate",U))})))},Dr[4]=function(S){return P.assert(1===S.substFormat,"Lookup type 4 substFormat must be 1."),new $t.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $t.Coverage(S.coverage)}].concat($t.tableList("ligSet",S.ligatureSets,function(U){return new $t.Table("ligatureSetTable",$t.tableList("ligature",U,function(q){return new $t.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:q.ligGlyph}].concat($t.ushortList("component",q.components,q.components.length+1)))}))})))};var Jn_parse=function(S,U){return U=(S=new Ot(S,U=U||0)).parseVersion(1),P.argument(1===U||1.1===U,"Unsupported GSUB table version."),1===U?{version:U,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Qn)}:{version:U,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Qn),variations:S.parseFeatureVariationsList()}},Jn_make=function(S){return new $t.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $t.ScriptList(S.scripts)},{name:"features",type:"TABLE",value:new $t.FeatureList(S.features)},{name:"lookups",type:"TABLE",value:new $t.LookupList(S.lookups,Dr)}])},yr_parse=function(S,U){for(var q=new Vt.Parser(S,U),te=q.parseULong(),fe=(P.argument(1===te,"Unsupported META table version."),q.parseULong(),q.parseULong(),q.parseULong()),Me={},ke=0;ke<fe;ke++){var et=q.parseTag(),wt=q.parseULong(),Et=q.parseULong();wt=re.UTF8(S,U+wt,Et),Me[et]=wt}return Me},yr_make=function(S){var U,q=Object.keys(S).length,te="",fe=16+12*q,Me=new $t.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:fe},{name:"numTags",type:"ULONG",value:q}]);for(U in S){var ke=te.length;te+=S[U],Me.fields.push({name:"tag "+U,type:"TAG",value:U}),Me.fields.push({name:"offset "+U,type:"ULONG",value:fe+ke}),Me.fields.push({name:"length "+U,type:"ULONG",value:S[U].length})}return Me.fields.push({name:"stringPool",type:"CHARARRAY",value:te}),Me};function Vr(S){return Math.log(S)/Math.log(2)|0}function Er(S){for(;S.length%4!=0;)S.push(0);for(var U=0,q=0;q<S.length;q+=4)U+=(S[q]<<24)+(S[q+1]<<16)+(S[q+2]<<8)+S[q+3];return U%Math.pow(2,32)}function Lr(S,U,q,te){return new $t.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==S?S:""},{name:"checkSum",type:"ULONG",value:void 0!==U?U:0},{name:"offset",type:"ULONG",value:void 0!==q?q:0},{name:"length",type:"ULONG",value:void 0!==te?te:0}])}function To(S){for(var U=new $t.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),q=(U.tables=S,U.numTables=S.length,Math.pow(2,Vr(U.numTables))),te=(U.searchRange=16*q,U.entrySelector=Vr(q),U.rangeShift=16*U.numTables-U.searchRange,[]),fe=[],Me=U.sizeOf()+Lr().sizeOf()*U.numTables;Me%4!=0;)Me+=1,fe.push({name:"padding",type:"BYTE",value:0});for(var ke=0;ke<S.length;ke+=1){var et=S[ke],Et=(P.argument(4===et.tableName.length,"Table name"+et.tableName+" is invalid."),et.sizeOf()),wt=Lr(et.tableName,Er(et.encode()),Me,Et);for(te.push({name:wt.tag+" Table Record",type:"RECORD",value:wt}),fe.push({name:et.tableName+" table",type:"RECORD",value:et}),Me+=Et,P.argument(!isNaN(Me),"Something went wrong calculating the offset.");Me%4!=0;)Me+=1,fe.push({name:"padding",type:"BYTE",value:0})}return te.sort(function(zt,_e){return zt.value.tag>_e.value.tag?1:-1}),U.fields=U.fields.concat(te),U.fields=U.fields.concat(fe),U}function eo(S,U,q){for(var te=0;te<U.length;te+=1){var fe=S.charToGlyphIndex(U[te]);if(0<fe)return S.glyphs.get(fe).getMetrics()}return q}var wo_fontToTable=function(S){for(var U,q=[],te=[],fe=[],Me=[],ke=[],et=[],Et=[],wt=0,zt=0,_e=0,ae=0,we=0,ye=0;ye<S.glyphs.length;ye+=1){var $e=S.glyphs.get(ye),Lt=0|$e.unicode;if(isNaN($e.advanceWidth))throw new Error("Glyph "+$e.name+" ("+ye+"): advanceWidth is not a number.");if((Lt<U||void 0===U)&&0<Lt&&(U=Lt),wt<Lt&&(wt=Lt),(Lt=An_getUnicodeRange(Lt))<32)zt|=1<<Lt;else if(Lt<64)_e|=1<<Lt-32;else if(Lt<96)ae|=1<<Lt-64;else{if(!(Lt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");we|=1<<Lt-96}".notdef"!==$e.name&&(Lt=$e.getMetrics(),q.push(Lt.xMin),te.push(Lt.yMin),fe.push(Lt.xMax),Me.push(Lt.yMax),et.push(Lt.leftSideBearing),Et.push(Lt.rightSideBearing),ke.push($e.advanceWidth))}var Ht,nn={xMin:Math.min.apply(null,q),yMin:Math.min.apply(null,te),xMax:Math.max.apply(null,fe),yMax:Math.max.apply(null,Me),advanceWidthMax:Math.max.apply(null,ke),advanceWidthAvg:function(uo){for(var ni=0,rs=0;rs<uo.length;rs+=1)ni+=uo[rs];return ni/uo.length}(ke),minLeftSideBearing:Math.min.apply(null,et),maxLeftSideBearing:Math.max.apply(null,et),minRightSideBearing:Math.min.apply(null,Et)},$n=(nn.ascender=S.ascender,nn.descender=S.descender,D_make({flags:3,unitsPerEm:S.unitsPerEm,xMin:nn.xMin,yMin:nn.yMin,xMax:nn.xMax,yMax:nn.yMax,lowestRecPPEM:3,createdTimestamp:S.createdTimestamp})),Ln=T_make({ascender:nn.ascender,descender:nn.descender,advanceWidthMax:nn.advanceWidthMax,minLeftSideBearing:nn.minLeftSideBearing,minRightSideBearing:nn.minRightSideBearing,xMaxExtent:nn.maxLeftSideBearing+(nn.xMax-nn.xMin),numberOfHMetrics:S.glyphs.length}),Xn=Z_make(S.glyphs.length),Kn=An_make({xAvgCharWidth:Math.round(nn.advanceWidthAvg),usWeightClass:S.tables.os2.usWeightClass,usWidthClass:S.tables.os2.usWidthClass,usFirstCharIndex:U,usLastCharIndex:wt,ulUnicodeRange1:zt,ulUnicodeRange2:_e,ulUnicodeRange3:ae,ulUnicodeRange4:we,fsSelection:S.tables.os2.fsSelection,sTypoAscender:nn.ascender,sTypoDescender:nn.descender,sTypoLineGap:0,usWinAscent:nn.yMax,usWinDescent:Math.abs(nn.yMin),ulCodePageRange1:1,sxHeight:eo(S,"xyvw",{yMax:Math.round(nn.ascender/2)}).yMax,sCapHeight:eo(S,"HIKLEFJMNTZBDPRAGOQSUVWXY",nn).yMax,usDefaultChar:S.hasChar(" ")?32:0,usBreakChar:S.hasChar(" ")?32:0}),nr=L_make(S.glyphs),vr=Ve_make(S.glyphs),Tr=(Ir=S.getEnglishName("fontFamily"))+" "+(Vn=S.getEnglishName("fontSubfamily")),Kr=(Kr=S.getEnglishName("postScriptName"))||Ir.replace(/\s/g,"")+"-"+Vn,to={};for(Ht in S.names)to[Ht]=S.names[Ht];to.uniqueID||(to.uniqueID={en:S.getEnglishName("manufacturer")+":"+Tr}),to.postScriptName||(to.postScriptName={en:Kr}),to.preferredFamily||(to.preferredFamily=S.names.fontFamily),to.preferredSubfamily||(to.preferredSubfamily=S.names.fontSubfamily);var io=an_make(to,qr=[]),qr=0<qr.length?V_make(qr):void 0,fo=Bn_make(),Ir=(Tr=je_make(S.glyphs,{version:S.getEnglishName("version"),fullName:Tr,familyName:Ir,weightName:Vn,postScriptName:Kr,unitsPerEm:S.unitsPerEm,fontBBox:[0,nn.yMin,nn.ascender,nn.advanceWidthMax]}),S.metas&&0<Object.keys(S.metas).length?yr_make(S.metas):void 0),Vn=[$n,Ln,Xn,Kn,io,vr,fo,Tr,nr];qr&&Vn.push(qr),S.tables.gsub&&Vn.push(Jn_make(S.tables.gsub)),Ir&&Vn.push(Ir);for(var Br=Er((Kr=To(Vn)).encode()),$r=Kr.fields,lo=!1,kr=0;kr<$r.length;kr+=1)if("head table"===$r[kr].name){$r[kr].value.checkSumAdjustment=2981146554-Br,lo=!0;break}if(lo)return Kr;throw new Error("Could not find head table with checkSum to adjust.")};function ko(S,U){for(var q=0,te=S.length-1;q<=te;){var fe=q+te>>>1,Me=S[fe].tag;if(Me===U)return fe;Me<U?q=1+fe:te=fe-1}return-q-1}function No(S,U){for(var q=0,te=S.length-1;q<=te;){var fe=q+te>>>1,Me=S[fe];if(Me===U)return fe;Me<U?q=1+fe:te=fe-1}return-q-1}function $o(S,U){for(var q=0,te=S.length-1;q<=te;){var fe,Me=q+te>>>1,ke=(fe=S[Me]).start;if(ke===U)return fe;ke<U?q=1+Me:te=Me-1}if(0<q)return U>(fe=S[q-1]).end?0:fe}function Wr(S,U){this.font=S,this.tableName=U}function Vo(S){Wr.call(this,S,"gpos")}function oo(S){Wr.call(this,S,"gsub")}function ci(S,U,q){for(var te=S.subtables,fe=0;fe<te.length;fe++){var Me=te[fe];if(Me.substFormat===U)return Me}if(q)return te.push(q),q}function vi(S){for(var U=new ArrayBuffer(S.length),q=new Uint8Array(U),te=0;te<S.length;++te)q[te]=S[te];return U}function be(S,U){if(!S)throw U}function We(S,U,q,te,fe){var Me=0<(U&te)?(Me=S.parseByte(),q+(Me=U&fe?Me:-Me)):0<(U&fe)?q:q+S.parseShort();return Me}function dt(S,U,q){var te,fe=new Vt.Parser(U,q);if(S.numberOfContours=fe.parseShort(),S._xMin=fe.parseShort(),S._yMin=fe.parseShort(),S._xMax=fe.parseShort(),S._yMax=fe.parseShort(),0<S.numberOfContours){for(var Me=S.endPointIndices=[],ke=0;ke<S.numberOfContours;ke+=1)Me.push(fe.parseUShort());S.instructionLength=fe.parseUShort(),S.instructions=[];for(var et=0;et<S.instructionLength;et+=1)S.instructions.push(fe.parseByte());for(var Et=Me[Me.length-1]+1,wt=[],zt=0;zt<Et;zt+=1)if(te=fe.parseByte(),wt.push(te),0<(8&te))for(var _e=fe.parseByte(),ae=0;ae<_e;ae+=1)wt.push(te),zt+=1;if(P.argument(wt.length===Et,"Bad flags."),0<Me.length){var we,ye=[];if(0<Et){for(var $e=0;$e<Et;$e+=1)(we={}).onCurve=!!(1&(te=wt[$e])),we.lastPointOfContour=0<=Me.indexOf($e),ye.push(we);for(var Lt=0,Ht=0;Ht<Et;Ht+=1)(we=ye[Ht]).x=We(fe,te=wt[Ht],Lt,2,16),Lt=we.x;for(var nn=0,$n=0;$n<Et;$n+=1)(we=ye[$n]).y=We(fe,te=wt[$n],nn,4,32),nn=we.y}S.points=ye}else S.points=[]}else if(0===S.numberOfContours)S.points=[];else{S.isComposite=!0,S.points=[],S.components=[];for(var Ln=!0;Ln;){wt=fe.parseUShort();var Xn={glyphIndex:fe.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&wt)?0<(2&wt)?(Xn.dx=fe.parseShort(),Xn.dy=fe.parseShort()):Xn.matchedPoints=[fe.parseUShort(),fe.parseUShort()]:0<(2&wt)?(Xn.dx=fe.parseChar(),Xn.dy=fe.parseChar()):Xn.matchedPoints=[fe.parseByte(),fe.parseByte()],0<(8&wt)?Xn.xScale=Xn.yScale=fe.parseF2Dot14():0<(64&wt)?(Xn.xScale=fe.parseF2Dot14(),Xn.yScale=fe.parseF2Dot14()):0<(128&wt)&&(Xn.xScale=fe.parseF2Dot14(),Xn.scale01=fe.parseF2Dot14(),Xn.scale10=fe.parseF2Dot14(),Xn.yScale=fe.parseF2Dot14()),S.components.push(Xn),Ln=!!(32&wt)}if(256&wt){S.instructionLength=fe.parseUShort(),S.instructions=[];for(var Kn=0;Kn<S.instructionLength;Kn+=1)S.instructions.push(fe.parseByte())}}}function Se(S,U){for(var q=[],te=0;te<S.length;te+=1){var fe;q.push(fe={x:U.xScale*(fe=S[te]).x+U.scale01*fe.y+U.dx,y:U.scale10*fe.x+U.yScale*fe.y+U.dy,onCurve:fe.onCurve,lastPointOfContour:fe.lastPointOfContour})}return q}function vt(S){var U=new le;if(S)for(var q=function(_e){for(var ae=[],we=[],ye=0;ye<_e.length;ye+=1){var $e=_e[ye];we.push($e),$e.lastPointOfContour&&(ae.push(we),we=[])}return P.argument(0===we.length,"There are still points left in the current contour."),ae}(S),te=0;te<q.length;++te){var fe,Me=q[te],et=Me[0];(ke=Me[Me.length-1]).onCurve?U.moveTo(ke.x,ke.y):et.onCurve?U.moveTo(et.x,et.y):U.moveTo((fe={x:.5*(ke.x+et.x),y:.5*(ke.y+et.y)}).x,fe.y);for(var Et=0;Et<Me.length;++Et){var wt,ke=et;et=Me[(Et+1)%Me.length],ke.onCurve?U.lineTo(ke.x,ke.y):(wt=et,et.onCurve||(wt={x:.5*(ke.x+et.x),y:.5*(ke.y+et.y)}),U.quadraticCurveTo(ke.x,ke.y,wt.x,wt.y))}U.closePath()}return U}function Qt(S,U){if(U.isComposite)for(var q=0;q<U.components.length;q+=1){var fe=S.get((te=U.components[q]).glyphIndex);if(fe.getPath(),fe.points){var Me=void 0;if(void 0===te.matchedPoints)Me=Se(fe.points,te);else{if(te.matchedPoints[0]>U.points.length-1||te.matchedPoints[1]>fe.points.length-1)throw Error("Matched points out of range in "+U.name);var te,ke=U.points[te.matchedPoints[0]],et=Se([et=fe.points[te.matchedPoints[1]]],te={xScale:te.xScale,scale01:te.scale01,scale10:te.scale10,yScale:te.yScale,dx:0,dy:0})[0];te.dx=ke.x-et.x,te.dy=ke.y-et.y,Me=Se(fe.points,te)}U.points=U.points.concat(Me)}}return vt(U.points)}(Vo.prototype=Wr.prototype={searchTag:ko,binSearch:No,getTable:function(S){var U=this.font.tables[this.tableName];return!U&&S?this.font.tables[this.tableName]=this.createDefaultTable():U},getScriptNames:function(){var S=this.getTable();return S?S.scripts.map(function(U){return U.tag}):[]},getDefaultScriptName:function(){var S=this.getTable();if(S){for(var U=!1,q=0;q<S.scripts.length;q++){var te=S.scripts[q].tag;if("DFLT"===te)return te;"latn"===te&&(U=!0)}return U?"latn":void 0}},getScriptTable:function(S,U){var q,te=this.getTable(U);if(te)return q=te.scripts,0<=(te=ko(te.scripts,S=S||"DFLT"))?q[te].script:U?(q.splice(-1-te,0,U={tag:S,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),U.script):void 0},getLangSysTable:function(fe,U,q){var te;if(fe=this.getScriptTable(fe,q))return U&&"dflt"!==U&&"DFLT"!==U?0<=(te=ko(fe.langSysRecords,U))?fe.langSysRecords[te].langSys:q?(fe.langSysRecords.splice(-1-te,0,q={tag:U,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),q.langSys):void 0:fe.defaultLangSys},getFeatureTable:function(S,U,q,te){if(S=this.getLangSysTable(S,U,te)){for(var fe,Me=S.featureIndexes,ke=this.font.tables[this.tableName].features,et=0;et<Me.length;et++)if((fe=ke[Me[et]]).tag===q)return fe.feature;if(te)return P.assert(0===(U=ke.length)||q>=ke[U-1].tag,"Features must be added in alphabetical order."),ke.push(fe={tag:q,feature:{params:0,lookupListIndexes:[]}}),Me.push(U),fe.feature}},getLookupTables:function(Me,U,q,te,fe){var ke=[];if(Me=this.getFeatureTable(Me,U,q,fe)){for(var et,Et=Me.lookupListIndexes,wt=this.font.tables[this.tableName].lookups,zt=0;zt<Et.length;zt++)(et=wt[Et[zt]]).lookupType===te&&ke.push(et);if(0===ke.length&&fe)return U=wt.length,wt.push(et={lookupType:te,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Et.push(U),[et]}return ke},getGlyphClass:function(S,U){switch(S.format){case 1:return S.startGlyph<=U&&U<S.startGlyph+S.classes.length?S.classes[U-S.startGlyph]:0;case 2:var q=$o(S.ranges,U);return q?q.classId:0}},getCoverageIndex:function(S,U){switch(S.format){case 1:var q=No(S.glyphs,U);return 0<=q?q:-1;case 2:return(q=$o(S.ranges,U))?q.index+U-q.start:-1}},expandCoverage:function(S){if(1===S.format)return S.glyphs;for(var U=[],q=S.ranges,te=0;te<q.length;te++)for(var fe=q[te],ke=fe.end,et=fe.start;et<=ke;et++)U.push(et);return U}}).init=function(){var S=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(S)},Vo.prototype.getKerningValue=function(S,U,q){for(var te=0;te<S.length;te++)for(var fe=S[te].subtables,Me=0;Me<fe.length;Me++){var ke=fe[Me],et=this.getCoverageIndex(ke.coverage,U);if(!(et<0))switch(ke.posFormat){case 1:for(var Et=ke.pairSets[et],wt=0;wt<Et.length;wt++){var zt=Et[wt];if(zt.secondGlyph===q)return zt.value1&&zt.value1.xAdvance||0}break;case 2:var ae=this.getGlyphClass(ke.classDef1,U),_e=this.getGlyphClass(ke.classDef2,q);return(ae=ke.classRecords[ae][_e]).value1&&ae.value1.xAdvance||0}}return 0},Vo.prototype.getKerningTables=function(S,U){if(this.font.tables.gpos)return this.getLookupTables(S,U,"kern",2)},(oo.prototype=Wr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},oo.prototype.getSingle=function(S,U,q){for(var te=[],fe=this.getLookupTables(U,q,S,1),Me=0;Me<fe.length;Me++)for(var ke=fe[Me].subtables,et=0;et<ke.length;et++){var Et=ke[et],wt=this.expandCoverage(Et.coverage),zt=void 0;if(1===Et.substFormat){var _e=Et.deltaGlyphId;for(zt=0;zt<wt.length;zt++){var ae=wt[zt];te.push({sub:ae,by:ae+_e})}}else{var we=Et.substitute;for(zt=0;zt<wt.length;zt++)te.push({sub:wt[zt],by:we[zt]})}}return te},oo.prototype.getAlternates=function(S,U,q){for(var te=[],fe=this.getLookupTables(U,q,S,3),Me=0;Me<fe.length;Me++)for(var ke=fe[Me].subtables,et=0;et<ke.length;et++)for(var Et=ke[et],wt=this.expandCoverage(Et.coverage),zt=Et.alternateSets,_e=0;_e<wt.length;_e++)te.push({sub:wt[_e],by:zt[_e]});return te},oo.prototype.getLigatures=function(S,U,q){for(var te=[],fe=this.getLookupTables(U,q,S,4),Me=0;Me<fe.length;Me++)for(var ke=fe[Me].subtables,et=0;et<ke.length;et++)for(var Et=ke[et],wt=this.expandCoverage(Et.coverage),zt=Et.ligatureSets,_e=0;_e<wt.length;_e++)for(var ae=wt[_e],we=zt[_e],ye=0;ye<we.length;ye++){var $e=we[ye];te.push({sub:[ae].concat($e.components),by:$e.ligGlyph})}return te},oo.prototype.addSingle=function(S,U,q,te){q=ci(this.getLookupTables(q,te,S,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),P.assert(1===q.coverage.format,"Ligature: unable to modify coverage table format "+q.coverage.format),(S=this.binSearch(q.coverage.glyphs,te=U.sub))<0&&(q.coverage.glyphs.splice(S=-1-S,0,te),q.substitute.splice(S,0,0)),q.substitute[S]=U.by},oo.prototype.addAlternate=function(S,U,q,te){q=ci(this.getLookupTables(q,te,S,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),P.assert(1===q.coverage.format,"Ligature: unable to modify coverage table format "+q.coverage.format),(S=this.binSearch(q.coverage.glyphs,te=U.sub))<0&&(q.coverage.glyphs.splice(S=-1-S,0,te),q.alternateSets.splice(S,0,0)),q.alternateSets[S]=U.by},oo.prototype.addLigature=function(Me,Et,et,fe){(fe=(et=this.getLookupTables(et,fe,Me,4,!0)[0]).subtables[0])||(et.subtables[0]=fe={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),P.assert(1===fe.coverage.format,"Ligature: unable to modify coverage table format "+fe.coverage.format),Me=Et.sub[0];var ke=Et.sub.slice(1);if(et={ligGlyph:Et.by,components:ke},0<=(Et=this.binSearch(fe.coverage.glyphs,Me))){for(var wt=fe.ligatureSets[Et],zt=0;zt<wt.length;zt++)if(function(_e,ae){var we=_e.length;if(we===ae.length){for(var ye=0;ye<we;ye++)if(_e[ye]!==ae[ye])return;return 1}}(wt[zt].components,ke))return;wt.push(et)}else fe.coverage.glyphs.splice(Et=-1-Et,0,Me),fe.ligatureSets.splice(Et,0,[et])},oo.prototype.getFeature=function(S,U,q){if(/ss\d\d/.test(S))return this.getSingle(S,U,q);switch(S){case"aalt":case"salt":return this.getSingle(S,U,q).concat(this.getAlternates(S,U,q));case"dlig":case"liga":case"rlig":return this.getLigatures(S,U,q)}},oo.prototype.add=function(S,U,q,te){if(/ss\d\d/.test(S))return this.addSingle(S,U,q,te);switch(S){case"aalt":case"salt":return"number"==typeof U.by?this.addSingle(S,U,q,te):this.addAlternate(S,U,q,te);case"dlig":case"liga":case"rlig":return this.addLigature(S,U,q,te)}};var fr={getPath:vt,parse:function(S,U,q,te){for(var fe=new At.GlyphSet(te),Me=0;Me<q.length-1;Me+=1){var ke=q[Me];fe.push(Me,ke!==q[Me+1]?At.ttfGlyphLoader(te,Me,dt,S,U+ke,Qt):At.glyphLoader(te,Me))}return fe}};function Gr(S){this.font=S,this.getCommands=function(U){return fr.getPath(U).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function mo(S){return S}function ti(S){return Math.sign(S)*Math.round(Math.abs(S))}function Yo(S){return Math.sign(S)*Math.round(Math.abs(2*S))/2}function Ai(S){return Math.sign(S)*(Math.round(Math.abs(S)+.5)-.5)}function Mi(S){return Math.sign(S)*Math.ceil(Math.abs(S))}function Vi(S){return Math.sign(S)*Math.floor(Math.abs(S))}function Ii(S){var U=this.srPeriod,q=this.srPhase,te=1;return S<0&&(S=-S,te=-1),S+=this.srThreshold-q,S=Math.trunc(S/U)*U,(S+=q)<0?q*te:S*te}var Co={x:1,y:0,axis:"x",distance:function(S,U,q,te){return(q?S.xo:S.x)-(te?U.xo:U.x)},interpolate:function(S,U,q,te){var fe,Me,ke,et,Et,wt,zt;if(!te||te===this)return fe=S.xo-U.xo,Me=S.xo-q.xo,Et=U.x-U.xo,wt=q.x-q.xo,0===(zt=(ke=Math.abs(fe))+(et=Math.abs(Me)))?void(S.x=S.xo+(Et+wt)/2):void(S.x=S.xo+(Et*et+wt*ke)/zt);fe=te.distance(S,U,!0,!0),Me=te.distance(S,q,!0,!0),Et=te.distance(U,U,!1,!0),wt=te.distance(q,q,!1,!0),0===(zt=(ke=Math.abs(fe))+(et=Math.abs(Me)))?Co.setRelative(S,S,(Et+wt)/2,te,!0):Co.setRelative(S,S,(Et*et+wt*ke)/zt,te,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(S,U,q,te,fe){var Me,ke;te&&te!==this?(Me=fe?U.xo:U.x,ke=fe?U.yo:U.y,S.x=(Me+=q*te.x)+(S.y-(ke+=q*te.y))/te.normalSlope):S.x=(fe?U.xo:U.x)+q},slope:0,touch:function(S){S.xTouched=!0},touched:function(S){return S.xTouched},untouch:function(S){S.xTouched=!1}},Ao={x:0,y:1,axis:"y",distance:function(S,U,q,te){return(q?S.yo:S.y)-(te?U.yo:U.y)},interpolate:function(S,U,q,te){var fe,Me,ke,et,Et,wt,zt;if(!te||te===this)return fe=S.yo-U.yo,Me=S.yo-q.yo,Et=U.y-U.yo,wt=q.y-q.yo,0===(zt=(ke=Math.abs(fe))+(et=Math.abs(Me)))?void(S.y=S.yo+(Et+wt)/2):void(S.y=S.yo+(Et*et+wt*ke)/zt);fe=te.distance(S,U,!0,!0),Me=te.distance(S,q,!0,!0),Et=te.distance(U,U,!1,!0),wt=te.distance(q,q,!1,!0),0===(zt=(ke=Math.abs(fe))+(et=Math.abs(Me)))?Ao.setRelative(S,S,(Et+wt)/2,te,!0):Ao.setRelative(S,S,(Et*et+wt*ke)/zt,te,!0)},normalSlope:0,setRelative:function(S,U,q,te,fe){var Me,ke;te&&te!==this?(Me=fe?U.xo:U.x,ke=fe?U.yo:U.y,S.y=(ke+=q*te.y)+te.normalSlope*(S.x-(Me+=q*te.x))):S.y=(fe?U.yo:U.y)+q},slope:Number.POSITIVE_INFINITY,touch:function(S){S.yTouched=!0},touched:function(S){return S.yTouched},untouch:function(S){S.yTouched=!1}};function Yr(S,U){this.x=S,this.y=U,this.axis=void 0,this.slope=U/S,this.normalSlope=-S/U,Object.freeze(this)}function Eo(S,U){var q=Math.sqrt(S*S+U*U);return U/=q,1==(S/=q)&&0===U?Co:0===S&&1===U?Ao:new Yr(S,U)}function Fe(S,U,q,te){this.x=this.xo=Math.round(64*S)/64,this.y=this.yo=Math.round(64*U)/64,this.lastPointOfContour=q,this.onCurve=te,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Co),Object.freeze(Ao),Yr.prototype.distance=function(S,U,q,te){return this.x*Co.distance(S,U,q,te)+this.y*Ao.distance(S,U,q,te)},Yr.prototype.interpolate=function(S,fe,Me,te){var ke=te.distance(S,fe,!0,!0),et=te.distance(S,Me,!0,!0),Et=(fe=te.distance(fe,fe,!1,!0),Me=te.distance(Me,Me,!1,!0),(ke=Math.abs(ke))+(et=Math.abs(et)));this.setRelative(S,S,0===Et?(fe+Me)/2:(fe*et+Me*ke)/Et,te,!0)},Yr.prototype.setRelative=function(S,Me,Et,wt,et){var ke=et?Me.xo:Me.x,zt=(et=et?Me.yo:Me.y,Me=ke+Et*(wt=wt||this).x,ke=et+Et*wt.y,et=wt.normalSlope,S.y);S.x=((Et=this.slope)*(wt=S.x)-et*Me+ke-zt)/(Et-et),S.y=Et*(S.x-wt)+zt},Yr.prototype.touch=function(S){S.xTouched=!0,S.yTouched=!0},Fe.prototype.nextTouched=function(S){for(var U=this.nextPointOnContour;!S.touched(U)&&U!==this;)U=U.nextPointOnContour;return U},Fe.prototype.prevTouched=function(S){for(var U=this.prevPointOnContour;!S.touched(U)&&U!==this;)U=U.prevPointOnContour;return U};var rt=Object.freeze(new Fe(0,0)),Mt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function kt(S,U){switch(this.env=S,this.stack=[],this.prog=U,S){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Co,this.round=ti}}function Zt(S){for(var U=S.tZone=new Array(S.gZone.length),q=0;q<U.length;q++)U[q]=new Fe(0,0)}function Kt(S,U){var q,te=S.prog,fe=S.ip,Me=1;do{if(88===(q=te[++fe]))Me++;else if(89===q)Me--;else if(64===q)fe+=te[fe+1]+1;else if(65===q)fe+=2*te[fe+1]+1;else if(176<=q&&q<=183)fe+=q-176+1;else if(184<=q&&q<=191)fe+=2*(q-184+1);else if(U&&1===Me&&27===q)break}while(0<Me);S.ip=fe}function yn(S,U){y.DEBUG&&console.log(U.step,"SVTCA["+S.axis+"]"),U.fv=U.pv=U.dpv=S}function wn(S,U){y.DEBUG&&console.log(U.step,"SPVTCA["+S.axis+"]"),U.pv=U.dpv=S}function Sn(S,U){y.DEBUG&&console.log(U.step,"SFVTCA["+S.axis+"]"),U.fv=S}function xn(S,U){var q,te=(fe=U.stack).pop(),fe=fe.pop(),Me=U.z2[te],ke=U.z1[fe];y.DEBUG&&console.log("SPVTL["+S+"]",te,fe),te=S?(q=Me.y-ke.y,ke.x-Me.x):(q=ke.x-Me.x,ke.y-Me.y),U.pv=U.dpv=Eo(q,te)}function Un(S,U){var q,te=(fe=U.stack).pop(),fe=fe.pop(),Me=U.z2[te],ke=U.z1[fe];y.DEBUG&&console.log("SFVTL["+S+"]",te,fe),te=S?(q=Me.y-ke.y,ke.x-Me.x):(q=ke.x-Me.x,ke.y-Me.y),U.fv=Eo(q,te)}function Fn(S){y.DEBUG&&console.log(S.step,"POP[]"),S.stack.pop()}function zn(S,U){var q=U.stack.pop(),te=U.z0[q],fe=U.fv,Me=U.pv,ke=(y.DEBUG&&console.log(U.step,"MDAP["+S+"]",q),Me.distance(te,rt));S&&(ke=U.round(ke)),fe.setRelative(te,rt,ke,Me),fe.touch(te),U.rp0=U.rp1=q}function Yn(S,U){var q,te,fe,Me=U.z2,ke=Me.length-2;y.DEBUG&&console.log(U.step,"IUP["+S.axis+"]");for(var et=0;et<ke;et++)S.touched(q=Me[et])||(te=q.prevTouched(S))!==q&&(te===(fe=q.nextTouched(S))&&S.setRelative(q,q,S.distance(te,te,!1,!0),S,!0),S.interpolate(q,te,fe,S))}function pr(S,U){for(var q=U.stack,fe=(S?U.z0:U.z1)[S?U.rp1:U.rp2],Me=U.fv,ke=U.pv,et=U.loop,Et=U.z2;et--;){var wt=q.pop(),zt=Et[wt],_e=ke.distance(fe,fe,!1,!0);Me.setRelative(zt,zt,_e,ke),Me.touch(zt),y.DEBUG&&console.log(U.step,(1<U.loop?"loop "+(U.loop-et)+": ":"")+"SHP["+(S?"rp1":"rp2")+"]",wt)}U.loop=1}function br(S,U){for(var te=(S?U.z0:U.z1)[S?U.rp1:U.rp2],fe=U.fv,Me=U.pv,ke=U.stack.pop(),et=U.z2[U.contours[ke]],Et=et,wt=(y.DEBUG&&console.log(U.step,"SHC["+S+"]",ke),Me.distance(te,te,!1,!0));Et!==te&&fe.setRelative(Et,Et,wt,Me),(Et=Et.nextPointOnContour)!==et;);}function _r(S,U){var q,te,fe=(S?U.z0:U.z1)[fe=S?U.rp1:U.rp2],Me=U.fv,ke=U.pv,et=(et=U.stack).pop();switch(y.DEBUG&&console.log(U.step,"SHZ["+S+"]",et),et){case 0:q=U.tZone;break;case 1:q=U.gZone;break;default:throw new Error("Invalid zone")}for(var Et=ke.distance(fe,fe,!1,!0),wt=q.length-2,zt=0;zt<wt;zt++)Me.setRelative(te=q[zt],te,Et,ke)}function Fr(S,U){var q=(te=U.stack).pop()/64,te=te.pop(),fe=U.z1[te],ke=U.fv;ke.setRelative(fe,U.z0[U.rp0],q,U.pv),ke.touch(fe),y.DEBUG&&console.log(U.step,"MSIRP["+S+"]",q,te),U.rp1=U.rp0,U.rp2=te,S&&(U.rp0=te)}function Nr(S,U){var et=(q=U.stack).pop(),q=q.pop(),te=U.z0[q],fe=U.fv,Me=U.pv,ke=U.cvt[et];y.DEBUG&&console.log(U.step,"MIAP["+S+"]",et,"(",ke,")",q),et=Me.distance(te,rt),S&&(Math.abs(et-ke)<U.cvCutIn&&(et=ke),et=U.round(et)),fe.setRelative(te,rt,et,Me),0===U.zp0&&(te.xo=te.x,te.yo=te.y),fe.touch(te),U.rp0=U.rp1=q}function Rn(S,U){var q=U.stack,te=q.pop(),fe=U.z2[te];y.DEBUG&&console.log(U.step,"GC["+S+"]",te),q.push(64*U.dpv.distance(fe,rt,S,!1))}function go(S,U){var q=(te=U.stack).pop(),te=te.pop(),Me=U.dpv.distance(Me=U.z0[te],U.z1[q],S,S);y.DEBUG&&console.log(U.step,"MD["+S+"]",q,te,"->",Me),U.stack.push(Math.round(64*Me))}function Lo(S,U){var q=U.stack,te=q.pop(),fe=U.fv,Me=U.pv,ke=U.ppem,et=U.deltaBase+16*(S-1),Et=U.deltaShift,wt=U.z0;y.DEBUG&&console.log(U.step,"DELTAP["+S+"]",te,q);for(var zt=0;zt<te;zt++){var _e=q.pop(),ae=q.pop();et+((240&ae)>>4)===ke&&(0<=(ae=(15&ae)-8)&&ae++,y.DEBUG&&console.log(U.step,"DELTAPFIX",_e,"by",ae*Et),fe.setRelative(_e=wt[_e],_e,ae*Et,Me))}}function Rr(S,U){var q=U.stack,te=q.pop();y.DEBUG&&console.log(U.step,"ROUND[]"),q.push(64*U.round(te/64))}function Oi(S,U){var q=U.stack,te=q.pop(),fe=U.ppem,Me=U.deltaBase+16*(S-1),ke=U.deltaShift;y.DEBUG&&console.log(U.step,"DELTAC["+S+"]",te,q);for(var et=0;et<te;et++){var Et=q.pop(),wt=q.pop();Me+((240&wt)>>4)===fe&&(0<=(wt=(15&wt)-8)&&wt++,wt*=ke,y.DEBUG&&console.log(U.step,"DELTACFIX",Et,"by",wt),U.cvt[Et]+=wt)}}function ys(S,U){var q,te=(fe=U.stack).pop(),fe=fe.pop(),Me=U.z2[te],ke=U.z1[fe];y.DEBUG&&console.log(U.step,"SDPVTL["+S+"]",te,fe),te=S?(q=Me.y-ke.y,ke.x-Me.x):(q=ke.x-Me.x,ke.y-Me.y),U.dpv=Eo(q,te)}function ho(S,U){var q=U.stack,te=U.prog,fe=U.ip;y.DEBUG&&console.log(U.step,"PUSHB["+S+"]");for(var Me=0;Me<S;Me++)q.push(te[++fe]);U.ip=fe}function Ur(S,U){var q=U.ip,te=U.prog,fe=U.stack;y.DEBUG&&console.log(U.ip,"PUSHW["+S+"]");for(var Me=0;Me<S;Me++){var ke=te[++q]<<8|te[++q];32768&ke&&(ke=-(1+(65535^ke))),fe.push(ke)}U.ip=q}function Hn(S,U,q,te,fe,Me){var ke,et,zt,wt=Me.stack,Et=S&&wt.pop(),_e=(wt=wt.pop(),Me.z1[wt]),ae=Me.minDis,we=Me.fv,ye=Me.dpv,$e=ke=ye.distance(_e,zt=Me.z0[zt=Me.rp0],!0,!0),Lt=0<=$e?1:-1;$e=Math.abs($e),S&&(et=Me.cvt[Et],te&&Math.abs($e-et)<Me.cvCutIn&&($e=et)),q&&$e<ae&&($e=ae),te&&($e=Me.round($e)),we.setRelative(_e,zt,Lt*$e,ye),we.touch(_e),y.DEBUG&&console.log(Me.step,(S?"MIRP[":"MDRP[")+(U?"M":"m")+(q?">":"_")+(te?"R":"_")+(0===fe?"Gr":1===fe?"Bl":2===fe?"Wh":"")+"]",S?Et+"("+Me.cvt[Et]+","+et+")":"",wt,"(d =",ke,"->",Lt*$e,")"),Me.rp1=Me.rp0,Me.rp2=wt,U&&(Me.rp0=wt)}Gr.prototype.exec=function(S,U){if("number"!=typeof U)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var q=this.font,te=this._prepState;if(!te||te.ppem!==U){var fe=this._fpgmState;if(!fe){kt.prototype=Mt,(fe=this._fpgmState=new kt("fpgm",q.tables.fpgm)).funcs=[],fe.font=q,y.DEBUG&&(console.log("---EXEC FPGM---"),fe.step=-1);try{So(fe)}catch(wt){return console.log("Hinting error in FPGM:"+wt),void(this._errorState=3)}}kt.prototype=fe,(te=this._prepState=new kt("prep",q.tables.prep)).ppem=U;var Me=q.tables.cvt;if(Me)for(var ke=te.cvt=new Array(Me.length),et=U/q.unitsPerEm,Et=0;Et<Me.length;Et++)ke[Et]=Me[Et]*et;else te.cvt=[];y.DEBUG&&(console.log("---EXEC PREP---"),te.step=-1);try{So(te)}catch(wt){this._errorState<2&&console.log("Hinting error in PREP:"+wt),this._errorState=2}}if(!(1<this._errorState))try{return Go(S,te)}catch(wt){this._errorState<1&&(console.log("Hinting error:"+wt),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Go=function(S,U){var q=U.ppem/U.font.unitsPerEm,te=q,fe=S.components;if(kt.prototype=U,fe){for(var Me=U.font,ke=[],et=[],Et=0;Et<fe.length;Et++){var wt=fe[Et],zt=Me.glyphs.get(wt.glyphIndex),_e=new kt("glyf",zt.instructions);y.DEBUG&&(console.log("---EXEC COMP "+Et+"---"),_e.step=-1),Jo(zt,_e,q,te);for(var ae=Math.round(wt.dx*q),we=Math.round(wt.dy*te),ye=_e.gZone,$e=_e.contours,Lt=0;Lt<ye.length;Lt++){var Ht=ye[Lt];Ht.xTouched=Ht.yTouched=!1,Ht.xo=Ht.x=Ht.x+ae,Ht.yo=Ht.y=Ht.y+we}var nn=ke.length;ke.push.apply(ke,ye);for(var $n=0;$n<$e.length;$n++)et.push($e[$n]+nn)}S.instructions&&!_e.inhibitGridFit&&((_e=new kt("glyf",S.instructions)).gZone=_e.z0=_e.z1=_e.z2=ke,_e.contours=et,ke.push(new Fe(0,0),new Fe(Math.round(S.advanceWidth*q),0)),y.DEBUG&&(console.log("---EXEC COMPOSITE---"),_e.step=-1),So(_e),ke.length-=2)}else _e=new kt("glyf",S.instructions),y.DEBUG&&(console.log("---EXEC GLYPH---"),_e.step=-1),Jo(S,_e,q,te),ke=_e.gZone;return ke},Jo=function(S,U,q,te){for(var fe,Me,et=S.points||[],Et=et.length,wt=U.gZone=U.z0=U.z1=U.z2=[],zt=U.contours=[],_e=0;_e<Et;_e++)wt[_e]=new Fe((fe=et[_e]).x*q,fe.y*te,fe.lastPointOfContour,fe.onCurve);for(var ae=0;ae<Et;ae++)fe=wt[ae],Me||(Me=fe,zt.push(ae)),fe.lastPointOfContour?((fe.nextPointOnContour=Me).prevPointOnContour=fe,Me=void 0):(fe.nextPointOnContour=wt[ae+1]).prevPointOnContour=fe;if(!U.inhibitGridFit){if(y.DEBUG){console.log("PROCESSING GLYPH",U.stack);for(var we=0;we<Et;we++)console.log(we,wt[we].x,wt[we].y)}if(wt.push(new Fe(0,0),new Fe(Math.round(S.advanceWidth*q),0)),So(U),wt.length-=2,y.DEBUG){console.log("FINISHED GLYPH",U.stack);for(var ye=0;ye<Et;ye++)console.log(ye,wt[ye].x,wt[ye].y)}}},So=function(S){var U=S.prog;if(U){var q,te=U.length;for(S.ip=0;S.ip<te;S.ip++){if(y.DEBUG&&S.step++,!(q=ji[U[S.ip]]))throw new Error("unknown instruction: 0x"+Number(U[S.ip]).toString(16));q(S)}}},ji=[yn.bind(void 0,Ao),yn.bind(void 0,Co),wn.bind(void 0,Ao),wn.bind(void 0,Co),Sn.bind(void 0,Ao),Sn.bind(void 0,Co),xn.bind(void 0,0),xn.bind(void 0,1),Un.bind(void 0,0),Un.bind(void 0,1),function(S){var U=(q=S.stack).pop(),q=q.pop();y.DEBUG&&console.log(S.step,"SPVFS[]",U,q),S.pv=S.dpv=Eo(q,U)},function(S){var U=(q=S.stack).pop(),q=q.pop();y.DEBUG&&console.log(S.step,"SPVFS[]",U,q),S.fv=Eo(q,U)},function(S){var U=S.stack,q=S.pv;y.DEBUG&&console.log(S.step,"GPV[]"),U.push(16384*q.x),U.push(16384*q.y)},function(S){var U=S.stack,q=S.fv;y.DEBUG&&console.log(S.step,"GFV[]"),U.push(16384*q.x),U.push(16384*q.y)},function(S){S.fv=S.pv,y.DEBUG&&console.log(S.step,"SFVTPV[]")},function(U){var q=(ke=U.stack).pop(),te=ke.pop(),fe=ke.pop(),Me=ke.pop(),ke=ke.pop(),et=(Et=U.z0)[q],Et=Et[te],wt=(zt=U.z1)[fe],zt=zt[Me],_e=(U=U.z2[ke],y.DEBUG&&console.log("ISECT[], ",q,te,fe,Me,ke),q=et.x,te=et.y,et=wt.y,q*(Me=Et.y)-te*(fe=Et.x)),ae=(ke=wt.x)*(wt=zt.y)-et*(Et=zt.x);U.x=(_e*(ke-Et)-ae*(q-fe))/(zt=(q-fe)*(et-wt)-(te-Me)*(ke-Et)),U.y=(_e*(et-wt)-ae*(te-Me))/zt},function(S){S.rp0=S.stack.pop(),y.DEBUG&&console.log(S.step,"SRP0[]",S.rp0)},function(S){S.rp1=S.stack.pop(),y.DEBUG&&console.log(S.step,"SRP1[]",S.rp1)},function(S){S.rp2=S.stack.pop(),y.DEBUG&&console.log(S.step,"SRP2[]",S.rp2)},function(S){var U=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"SZP0[]",U),S.zp0=U){case 0:S.tZone||Zt(S),S.z0=S.tZone;break;case 1:S.z0=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var U=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"SZP1[]",U),S.zp1=U){case 0:S.tZone||Zt(S),S.z1=S.tZone;break;case 1:S.z1=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var U=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"SZP2[]",U),S.zp2=U){case 0:S.tZone||Zt(S),S.z2=S.tZone;break;case 1:S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var U=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"SZPS[]",U),S.zp0=S.zp1=S.zp2=U){case 0:S.tZone||Zt(S),S.z0=S.z1=S.z2=S.tZone;break;case 1:S.z0=S.z1=S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){S.loop=S.stack.pop(),y.DEBUG&&console.log(S.step,"SLOOP[]",S.loop)},function(S){y.DEBUG&&console.log(S.step,"RTG[]"),S.round=ti},function(S){y.DEBUG&&console.log(S.step,"RTHG[]"),S.round=Ai},function(S){var U=S.stack.pop();y.DEBUG&&console.log(S.step,"SMD[]",U),S.minDis=U/64},function(S){y.DEBUG&&console.log(S.step,"ELSE[]"),Kt(S,!1)},function(S){var U=S.stack.pop();y.DEBUG&&console.log(S.step,"JMPR[]",U),S.ip+=U-1},function(S){var U=S.stack.pop();y.DEBUG&&console.log(S.step,"SCVTCI[]",U),S.cvCutIn=U/64},void 0,void 0,function(S){var U=S.stack;y.DEBUG&&console.log(S.step,"DUP[]"),U.push(U[U.length-1])},Fn,function(S){y.DEBUG&&console.log(S.step,"CLEAR[]"),S.stack.length=0},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"SWAP[]"),U.push(q),U.push(te)},function(S){var U=S.stack;y.DEBUG&&console.log(S.step,"DEPTH[]"),U.push(U.length)},function(S){var U=S.stack,q=U.pop();y.DEBUG&&console.log(S.step,"CINDEX[]",q),U.push(U[U.length-q])},function(S){var U=S.stack,q=U.pop();y.DEBUG&&console.log(S.step,"MINDEX[]",q),U.push(U.splice(U.length-q,1)[0])},void 0,void 0,void 0,function(S){var U=(te=S.stack).pop(),q=te.pop(),te=(y.DEBUG&&console.log(S.step,"LOOPCALL[]",U,q),S.ip),fe=S.prog;S.prog=S.funcs[U];for(var Me=0;Me<q;Me++)So(S),y.DEBUG&&console.log(++S.step,Me+1<q?"next loopcall":"done loopcall",Me);S.ip=te,S.prog=fe},function(S){var U=S.stack.pop(),q=(y.DEBUG&&console.log(S.step,"CALL[]",U),S.ip),te=S.prog;S.prog=S.funcs[U],So(S),S.ip=q,S.prog=te,y.DEBUG&&console.log(++S.step,"returning from",U)},function(S){if("fpgm"!==S.env)throw new Error("FDEF not allowed here");var U=S.prog,q=S.ip,te=(te=S.stack).pop(),fe=q;for(y.DEBUG&&console.log(S.step,"FDEF[]",te);45!==U[++q];);S.ip=q,S.funcs[te]=U.slice(fe+1,q)},void 0,zn.bind(void 0,0),zn.bind(void 0,1),Yn.bind(void 0,Ao),Yn.bind(void 0,Co),pr.bind(void 0,0),pr.bind(void 0,1),br.bind(void 0,0),br.bind(void 0,1),_r.bind(void 0,0),_r.bind(void 0,1),function(S){for(var U=S.stack,q=S.loop,te=S.fv,fe=U.pop()/64,Me=S.z2;q--;){var ke=U.pop(),et=Me[ke];y.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-q)+": ":"")+"SHPIX[]",ke,fe),te.setRelative(et,et,fe),te.touch(et)}S.loop=1},function(S){for(var U=S.stack,q=S.rp1,te=S.rp2,fe=S.loop,Me=S.z0[q],ke=S.z1[te],et=S.fv,Et=S.dpv,wt=S.z2;fe--;){var zt=U.pop(),_e=wt[zt];y.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-fe)+": ":"")+"IP[]",zt,q,"<->",te),et.interpolate(_e,Me,ke,Et),et.touch(_e)}S.loop=1},Fr.bind(void 0,0),Fr.bind(void 0,1),function(S){for(var U=S.stack,te=S.z0[S.rp0],fe=S.loop,Me=S.fv,ke=S.pv,et=S.z1;fe--;){var Et=U.pop(),wt=et[Et];y.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-fe)+": ":"")+"ALIGNRP[]",Et),Me.setRelative(wt,te,0,ke),Me.touch(wt)}S.loop=1},function(S){y.DEBUG&&console.log(S.step,"RTDG[]"),S.round=Yo},Nr.bind(void 0,0),Nr.bind(void 0,1),function(S){var U=S.prog,q=S.ip,te=S.stack,fe=U[++q];y.DEBUG&&console.log(S.step,"NPUSHB[]",fe);for(var Me=0;Me<fe;Me++)te.push(U[++q]);S.ip=q},function(S){var U=S.ip,q=S.prog,te=S.stack,fe=q[++U];y.DEBUG&&console.log(S.step,"NPUSHW[]",fe);for(var Me=0;Me<fe;Me++){var ke=q[++U]<<8|q[++U];32768&ke&&(ke=-(1+(65535^ke))),te.push(ke)}S.ip=U},function(S){var te=S.stack,U=(U=S.store)||(S.store=[]),q=te.pop();te=te.pop(),y.DEBUG&&console.log(S.step,"WS",q,te),U[te]=q},function(fe){var U=fe.stack,q=fe.store,te=U.pop();y.DEBUG&&console.log(fe.step,"RS",te),U.push(fe=q&&q[te]||0)},function(S){var U=(q=S.stack).pop(),q=q.pop();y.DEBUG&&console.log(S.step,"WCVTP",U,q),S.cvt[q]=U/64},function(S){var U=S.stack,q=U.pop();y.DEBUG&&console.log(S.step,"RCVT",q),U.push(64*S.cvt[q])},Rn.bind(void 0,0),Rn.bind(void 0,1),void 0,go.bind(void 0,0),go.bind(void 0,1),function(S){y.DEBUG&&console.log(S.step,"MPPEM[]"),S.stack.push(S.ppem)},void 0,function(S){y.DEBUG&&console.log(S.step,"FLIPON[]"),S.autoFlip=!0},void 0,void 0,function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"LT[]",q,te),U.push(te<q?1:0)},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"LTEQ[]",q,te),U.push(te<=q?1:0)},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"GT[]",q,te),U.push(q<te?1:0)},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"GTEQ[]",q,te),U.push(q<=te?1:0)},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"EQ[]",q,te),U.push(q===te?1:0)},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"NEQ[]",q,te),U.push(q!==te?1:0)},function(S){var U=S.stack,q=U.pop();y.DEBUG&&console.log(S.step,"ODD[]",q),U.push(Math.trunc(q)%2?1:0)},function(S){var U=S.stack,q=U.pop();y.DEBUG&&console.log(S.step,"EVEN[]",q),U.push(Math.trunc(q)%2?0:1)},function(S){var U=S.stack.pop();y.DEBUG&&console.log(S.step,"IF[]",U),U||(Kt(S,!0),y.DEBUG&&console.log(S.step,"EIF[]"))},function(S){y.DEBUG&&console.log(S.step,"EIF[]")},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"AND[]",q,te),U.push(q&&te?1:0)},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"OR[]",q,te),U.push(q||te?1:0)},function(S){var U=S.stack,q=U.pop();y.DEBUG&&console.log(S.step,"NOT[]",q),U.push(q?0:1)},Lo.bind(void 0,1),function(S){var U=S.stack.pop();y.DEBUG&&console.log(S.step,"SDB[]",U),S.deltaBase=U},function(S){var U=S.stack.pop();y.DEBUG&&console.log(S.step,"SDS[]",U),S.deltaShift=Math.pow(.5,U)},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"ADD[]",q,te),U.push(te+q)},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"SUB[]",q,te),U.push(te-q)},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"DIV[]",q,te),U.push(64*te/q)},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"MUL[]",q,te),U.push(te*q/64)},function(S){var U=S.stack,q=U.pop();y.DEBUG&&console.log(S.step,"ABS[]",q),U.push(Math.abs(q))},function(S){var U=S.stack,q=U.pop();y.DEBUG&&console.log(S.step,"NEG[]",q),U.push(-q)},function(S){var U=S.stack,q=U.pop();y.DEBUG&&console.log(S.step,"FLOOR[]",q),U.push(64*Math.floor(q/64))},function(S){var U=S.stack,q=U.pop();y.DEBUG&&console.log(S.step,"CEILING[]",q),U.push(64*Math.ceil(q/64))},Rr.bind(void 0,0),Rr.bind(void 0,1),Rr.bind(void 0,2),Rr.bind(void 0,3),void 0,void 0,void 0,void 0,function(S){var U=(q=S.stack).pop(),q=q.pop();y.DEBUG&&console.log(S.step,"WCVTF[]",U,q),S.cvt[q]=U*S.ppem/S.font.unitsPerEm},Lo.bind(void 0,2),Lo.bind(void 0,3),Oi.bind(void 0,1),Oi.bind(void 0,2),Oi.bind(void 0,3),function(S){var U,q=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"SROUND[]",q),S.round=Ii,192&q){case 0:U=.5;break;case 64:U=1;break;case 128:U=2;break;default:throw new Error("invalid SROUND value")}switch(S.srPeriod=U,48&q){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*U;break;case 32:S.srPhase=.5*U;break;case 48:S.srPhase=.75*U;break;default:throw new Error("invalid SROUND value")}S.srThreshold=0==(q&=15)?0:(q/8-.5)*U},function(S){var U,q=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"S45ROUND[]",q),S.round=Ii,192&q){case 0:U=Math.sqrt(2)/2;break;case 64:U=Math.sqrt(2);break;case 128:U=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(S.srPeriod=U,48&q){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*U;break;case 32:S.srPhase=.5*U;break;case 48:S.srPhase=.75*U;break;default:throw new Error("invalid S45ROUND value")}S.srThreshold=0==(q&=15)?0:(q/8-.5)*U},void 0,void 0,function(S){y.DEBUG&&console.log(S.step,"ROFF[]"),S.round=mo},void 0,function(S){y.DEBUG&&console.log(S.step,"RUTG[]"),S.round=Mi},function(S){y.DEBUG&&console.log(S.step,"RDTG[]"),S.round=Vi},Fn,Fn,void 0,void 0,void 0,void 0,void 0,function(S){var U=S.stack.pop();y.DEBUG&&console.log(S.step,"SCANCTRL[]",U)},ys.bind(void 0,0),ys.bind(void 0,1),function(S){var U=S.stack,q=U.pop(),te=0;y.DEBUG&&console.log(S.step,"GETINFO[]",q),1&q&&(te=35),32&q&&(te|=4096),U.push(te)},void 0,function(S){var U=S.stack,q=U.pop(),te=U.pop(),fe=U.pop();y.DEBUG&&console.log(S.step,"ROLL[]"),U.push(te),U.push(q),U.push(fe)},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"MAX[]",q,te),U.push(Math.max(te,q))},function(S){var U=S.stack,q=U.pop(),te=U.pop();y.DEBUG&&console.log(S.step,"MIN[]",q,te),U.push(Math.min(te,q))},function(S){var U=S.stack.pop();y.DEBUG&&console.log(S.step,"SCANTYPE[]",U)},function(S){var U=S.stack.pop(),q=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"INSTCTRL[]",U,q),U){case 1:return void(S.inhibitGridFit=!!q);case 2:return void(S.ignoreCvt=!!q);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ho.bind(void 0,1),ho.bind(void 0,2),ho.bind(void 0,3),ho.bind(void 0,4),ho.bind(void 0,5),ho.bind(void 0,6),ho.bind(void 0,7),ho.bind(void 0,8),Ur.bind(void 0,1),Ur.bind(void 0,2),Ur.bind(void 0,3),Ur.bind(void 0,4),Ur.bind(void 0,5),Ur.bind(void 0,6),Ur.bind(void 0,7),Ur.bind(void 0,8),Hn.bind(void 0,0,0,0,0,0),Hn.bind(void 0,0,0,0,0,1),Hn.bind(void 0,0,0,0,0,2),Hn.bind(void 0,0,0,0,0,3),Hn.bind(void 0,0,0,0,1,0),Hn.bind(void 0,0,0,0,1,1),Hn.bind(void 0,0,0,0,1,2),Hn.bind(void 0,0,0,0,1,3),Hn.bind(void 0,0,0,1,0,0),Hn.bind(void 0,0,0,1,0,1),Hn.bind(void 0,0,0,1,0,2),Hn.bind(void 0,0,0,1,0,3),Hn.bind(void 0,0,0,1,1,0),Hn.bind(void 0,0,0,1,1,1),Hn.bind(void 0,0,0,1,1,2),Hn.bind(void 0,0,0,1,1,3),Hn.bind(void 0,0,1,0,0,0),Hn.bind(void 0,0,1,0,0,1),Hn.bind(void 0,0,1,0,0,2),Hn.bind(void 0,0,1,0,0,3),Hn.bind(void 0,0,1,0,1,0),Hn.bind(void 0,0,1,0,1,1),Hn.bind(void 0,0,1,0,1,2),Hn.bind(void 0,0,1,0,1,3),Hn.bind(void 0,0,1,1,0,0),Hn.bind(void 0,0,1,1,0,1),Hn.bind(void 0,0,1,1,0,2),Hn.bind(void 0,0,1,1,0,3),Hn.bind(void 0,0,1,1,1,0),Hn.bind(void 0,0,1,1,1,1),Hn.bind(void 0,0,1,1,1,2),Hn.bind(void 0,0,1,1,1,3),Hn.bind(void 0,1,0,0,0,0),Hn.bind(void 0,1,0,0,0,1),Hn.bind(void 0,1,0,0,0,2),Hn.bind(void 0,1,0,0,0,3),Hn.bind(void 0,1,0,0,1,0),Hn.bind(void 0,1,0,0,1,1),Hn.bind(void 0,1,0,0,1,2),Hn.bind(void 0,1,0,0,1,3),Hn.bind(void 0,1,0,1,0,0),Hn.bind(void 0,1,0,1,0,1),Hn.bind(void 0,1,0,1,0,2),Hn.bind(void 0,1,0,1,0,3),Hn.bind(void 0,1,0,1,1,0),Hn.bind(void 0,1,0,1,1,1),Hn.bind(void 0,1,0,1,1,2),Hn.bind(void 0,1,0,1,1,3),Hn.bind(void 0,1,1,0,0,0),Hn.bind(void 0,1,1,0,0,1),Hn.bind(void 0,1,1,0,0,2),Hn.bind(void 0,1,1,0,0,3),Hn.bind(void 0,1,1,0,1,0),Hn.bind(void 0,1,1,0,1,1),Hn.bind(void 0,1,1,0,1,2),Hn.bind(void 0,1,1,0,1,3),Hn.bind(void 0,1,1,1,0,0),Hn.bind(void 0,1,1,1,0,1),Hn.bind(void 0,1,1,1,0,2),Hn.bind(void 0,1,1,1,0,3),Hn.bind(void 0,1,1,1,1,0),Hn.bind(void 0,1,1,1,1,1),Hn.bind(void 0,1,1,1,1,2),Hn.bind(void 0,1,1,1,1,3)],bi=Array.from||function(S){return S.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Sr(S){(S=S||{}).empty||(be(S.familyName,"When creating a new Font object, familyName is required."),be(S.styleName,"When creating a new Font object, styleName is required."),be(S.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),be(S.ascender,"When creating a new Font object, ascender is required."),be(S.descender,"When creating a new Font object, descender is required."),be(S.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:S.familyName||" "},fontSubfamily:{en:S.styleName||" "},fullName:{en:S.fullName||S.familyName+" "+S.styleName},postScriptName:{en:S.postScriptName||(S.familyName+S.styleName).replace(/\s/g,"")},designer:{en:S.designer||" "},designerURL:{en:S.designerURL||" "},manufacturer:{en:S.manufacturer||" "},manufacturerURL:{en:S.manufacturerURL||" "},license:{en:S.license||" "},licenseURL:{en:S.licenseURL||" "},version:{en:S.version||"Version 0.1"},description:{en:S.description||" "},copyright:{en:S.copyright||" "},trademark:{en:S.trademark||" "}},this.unitsPerEm=S.unitsPerEm||1e3,this.ascender=S.ascender,this.descender=S.descender,this.createdTimestamp=S.createdTimestamp,this.tables={os2:{usWeightClass:S.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:S.widthClass||this.usWidthClasses.MEDIUM,fsSelection:S.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new At.GlyphSet(this,S.glyphs||[]),this.encoding=new Ft(this),this.position=new Vo(this),this.substitution=new oo(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Gr(this):void 0)}})}Sr.prototype.hasChar=function(S){return null!==this.encoding.charToGlyphIndex(S)},Sr.prototype.charToGlyphIndex=function(S){return this.encoding.charToGlyphIndex(S)},Sr.prototype.charToGlyph=function(S){return S=this.charToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},Sr.prototype.stringToGlyphs=function(S,U){U=U||this.defaultRenderOptions;for(var q=bi(S),te=[],fe=0;fe<q.length;fe+=1)te.push(this.charToGlyphIndex(q[fe]));var ke=te.length;if(U.features){S=U.script||this.substitution.getDefaultScriptName();var et=[];U.features.liga&&(et=et.concat(this.substitution.getFeature("liga",S,U.language))),U.features.rlig&&(et=et.concat(this.substitution.getFeature("rlig",S,U.language)));for(var Et=0;Et<ke;Et+=1)for(var wt=0;wt<et.length;wt++){for(var zt=et[wt],_e=zt.sub,ae=_e.length,we=0;we<ae&&_e[we]===te[Et+we];)we++;we===ae&&(te.splice(Et,ae,zt.by),ke=ke-ae+1)}}for(var ye=new Array(ke),$e=this.glyphs.get(0),Lt=0;Lt<ke;Lt+=1)ye[Lt]=this.glyphs.get(te[Lt])||$e;return ye},Sr.prototype.nameToGlyphIndex=function(S){return this.glyphNames.nameToGlyphIndex(S)},Sr.prototype.nameToGlyph=function(S){return S=this.nameToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},Sr.prototype.glyphIndexToName=function(S){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(S):""},Sr.prototype.getKerningValue=function(S,U){S=S.index||S,U=U.index||U;var q=this.position.defaultKerningTables;return q?this.position.getKerningValue(q,S,U):this.kerningPairs[S+","+U]||0},Sr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Sr.prototype.forEachGlyph=function(S,U,q,te,fe,Me){U=void 0!==U?U:0,q=void 0!==q?q:0;var ke,et=1/this.unitsPerEm*(te=void 0!==te?te:72),Et=this.stringToGlyphs(S,fe=fe||this.defaultRenderOptions);fe.kerning&&(S=fe.script||this.position.getDefaultScriptName(),ke=this.position.getKerningTables(S,fe.language));for(var wt=0;wt<Et.length;wt+=1){var zt=Et[wt];Me.call(this,zt,U,q,te,fe),zt.advanceWidth&&(U+=zt.advanceWidth*et),fe.kerning&&wt<Et.length-1&&(U+=(ke?this.position.getKerningValue(ke,zt.index,Et[wt+1].index):this.getKerningValue(zt,Et[wt+1]))*et),fe.letterSpacing?U+=fe.letterSpacing*te:fe.tracking&&(U+=fe.tracking/1e3*te)}return U},Sr.prototype.getPath=function(S,U,q,te,fe){var Me=new le;return this.forEachGlyph(S,U,q,te,fe,function(ke,et,Et,wt){ke=ke.getPath(et,Et,wt,fe,this),Me.extend(ke)}),Me},Sr.prototype.getPaths=function(S,U,q,te,fe){var Me=[];return this.forEachGlyph(S,U,q,te,fe,function(ke,et,Et,wt){ke=ke.getPath(et,Et,wt,fe,this),Me.push(ke)}),Me},Sr.prototype.getAdvanceWidth=function(S,U,q){return this.forEachGlyph(S,0,0,U,q,function(){})},Sr.prototype.draw=function(S,U,q,te,fe,Me){this.getPath(U,q,te,fe,Me).draw(S)},Sr.prototype.drawPoints=function(S,U,q,te,fe,Me){this.forEachGlyph(U,q,te,fe,Me,function(ke,et,Et,wt){ke.drawPoints(S,et,Et,wt)})},Sr.prototype.drawMetrics=function(S,U,q,te,fe,Me){this.forEachGlyph(U,q,te,fe,Me,function(ke,et,Et,wt){ke.drawMetrics(S,et,Et,wt)})},Sr.prototype.getEnglishName=function(S){if(S=this.names[S])return S.en},Sr.prototype.validate=function(){var S=this;function U(q){(q=S.getEnglishName(q))&&q.trim()}U("fontFamily"),U("weightName"),U("manufacturer"),U("copyright"),U("version")},Sr.prototype.toTables=function(){return wo_fontToTable(this)},Sr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Sr.prototype.toArrayBuffer=function(){for(var S=this.toTables().encode(),U=new ArrayBuffer(S.length),q=new Uint8Array(U),te=0;te<S.length;te++)q[te]=S[te];return U},Sr.prototype.download=function(S){var U=this.getEnglishName("fontFamily"),q=this.getEnglishName("fontSubfamily"),te=(S=S||U.replace(/\s/g,"")+"-"+q+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,te.byteLength,function(fe){fe.root.getFile(S,{create:!0},function(Me){Me.createWriter(function(ke){var et=new DataView(te);et=new Blob([et],{type:"font/opentype"}),ke.write(et),ke.addEventListener("writeend",function(){location.href=Me.toURL()},!1)})})},function(fe){throw new Error(fe.name+": "+fe.message)})):(U=o("fs"),q=function(fe){for(var Me=new v(fe.byteLength),ke=new Uint8Array(fe),et=0;et<Me.length;++et)Me[et]=ke[et];return Me}(te),U.writeFileSync(S,q))},Sr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Sr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Sr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Is_parse=function(S,U,q){for(var te,Me,ke,et=new Vt.Parser(S,U),Et=et.parseULong(),wt=(P.argument(65536===Et,"Unsupported fvar table version."),et.parseOffset16()),zt=(et.skip("uShort",1),et.parseUShort()),_e=et.parseUShort(),ae=et.parseUShort(),we=et.parseUShort(),ye=[],$e=0;$e<zt;$e++)ye.push((Me=q,ke={},te=new Vt.Parser(te=S,U+wt+$e*_e),ke.tag=te.parseTag(),ke.minValue=te.parseFixed(),ke.defaultValue=te.parseFixed(),ke.maxValue=te.parseFixed(),te.skip("uShort",1),ke.name=Me[te.parseUShort()]||{},ke));for(var Lt=[],Ht=U+wt+zt*_e,nn=0;nn<ae;nn++)Lt.push(function($n,Ln,Xn,Kn){var nr={},vr=new Vt.Parser($n,Ln);nr.name=Kn[vr.parseUShort()]||{},vr.skip("uShort",1),nr.coordinates={};for(var Kr=0;Kr<Xn.length;++Kr)nr.coordinates[Xn[Kr].tag]=vr.parseFixed();return nr}(S,Ht+nn*we,ye,q));return{axes:ye,instances:Lt}},Mo=new Array(10);Mo[1]=function(){var S=this.offset+this.relativeOffset,U=this.parseUShort();return 1===U?{posFormat:1,coverage:this.parsePointer(Ot.coverage),value:this.parseValueRecord()}:2===U?{posFormat:2,coverage:this.parsePointer(Ot.coverage),values:this.parseValueRecordList()}:void P.assert(!1,"0x"+S.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Mo[2]=function(){var S,U,q,te,Me=this.offset+this.relativeOffset,fe=this.parseUShort(),ke=(P.assert(1===fe||2===fe,"0x"+Me.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),Me=this.parsePointer(Ot.coverage),this.parseUShort()),et=this.parseUShort();return 1===fe?{posFormat:fe,coverage:Me,valueFormat1:ke,valueFormat2:et,pairSets:this.parseList(Ot.pointer(Ot.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ke),value2:this.parseValueRecord(et)}})))}:2===fe?(S=this.parsePointer(Ot.classDef),U=this.parsePointer(Ot.classDef),q=this.parseUShort(),te=this.parseUShort(),{posFormat:fe,coverage:Me,valueFormat1:ke,valueFormat2:et,classDef1:S,classDef2:U,class1Count:q,class2Count:te,classRecords:this.parseList(q,Ot.list(te,function(){return{value1:this.parseValueRecord(ke),value2:this.parseValueRecord(et)}}))}):void 0},Mo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Mo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Mo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Mo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Mo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Mo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Mo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Pi_parse=function(S,U){return U=(S=new Ot(S,U=U||0)).parseVersion(1),P.argument(1===U||1.1===U,"Unsupported GPOS table version "+U),1===U?{version:U,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Mo)}:{version:U,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Mo),variations:S.parseFeatureVariationsList()}},Xr_parse=function(S,U){if(0===(U=(S=new Vt.Parser(S,U)).parseUShort())){var q=S,te={},_e=(q.skip("uShort"),q.parseUShort()),fe=(P.argument(0===_e,"Unsupported kern sub-table version."),q.skip("uShort",2),q.parseUShort());q.skip("uShort",3);for(var Me=0;Me<fe;Me+=1){var ke=q.parseUShort(),et=q.parseUShort(),Et=q.parseShort();te[ke+","+et]=Et}return te}if(1!==U)throw new Error("Unsupported kern table version ("+U+").");var wt=S,zt={};if(wt.skip("uShort"),1<wt.parseULong()&&console.warn("Only the first kern subtable is supported."),wt.skip("uLong"),_e=255&wt.parseUShort(),wt.skip("uShort"),0==_e){var ae=wt.parseUShort();wt.skip("uShort",3);for(var we=0;we<ae;we+=1){var ye=wt.parseUShort(),$e=wt.parseUShort(),Lt=wt.parseShort();zt[ye+","+$e]=Lt}}return zt},Ri_parse=function(S,U,q,te){for(var fe=new Vt.Parser(S,U),Me=te?fe.parseUShort:fe.parseULong,ke=[],et=0;et<q+1;et+=1){var Et=Me.call(fe);te&&(Et*=2),ke.push(Et)}return ke};function _i(S,U){o("fs").readFile(S,function(q,te){if(q)return U(q.message);U(null,vi(te))})}function wi(S,U){var q=new XMLHttpRequest;q.open("get",S,!0),q.responseType="arraybuffer",q.onload=function(){return q.response?U(null,q.response):U("Font could not be loaded: "+q.statusText)},q.onerror=function(){U("Font could not be loaded")},q.send()}function Gi(S,U){for(var q=[],te=12,fe=0;fe<U;fe+=1){var Me=Vt.getTag(S,te),ke=Vt.getULong(S,te+4),et=Vt.getULong(S,te+8),Et=Vt.getULong(S,te+12);q.push({tag:Me,checksum:ke,offset:et,length:Et,compression:!1}),te+=16}return q}function Wn(q,U){if("WOFF"!==U.compression)return{data:q,offset:U.offset};q=new Uint8Array(q.buffer,U.offset+2,U.compressedLength-2);var te=new Uint8Array(U.length);if(H(q,te),te.byteLength!==U.length)throw new Error("Decompression error: "+U.tag+" decompressed length doesn't match recorded length");return{data:new DataView(te.buffer,0),offset:0}}function Ho(nn){var U,q,te,fe,Me,ke,et,Et,wt,zt,_e,ae,we,ye,$e=new Sr({empty:!0}),Lt=new DataView(nn,0),Ht=[];if("\0\x01\0\0"===(nn=Vt.getTag(Lt,0))||"true"===nn||"typ1"===nn)$e.outlinesFormat="truetype",Ht=Gi(Lt,te=Vt.getUShort(Lt,4));else if("OTTO"===nn)$e.outlinesFormat="cff",Ht=Gi(Lt,te=Vt.getUShort(Lt,4));else{if("wOFF"!==nn)throw new Error("Unsupported OpenType signature "+nn);if("\0\x01\0\0"===($n=Vt.getTag(Lt,4)))$e.outlinesFormat="truetype";else{if("OTTO"!==$n)throw new Error("Unsupported OpenType flavor "+nn);$e.outlinesFormat="cff"}Ht=function(Ir,Vn){for(var Br=[],$r=44,lo=0;lo<Vn;lo+=1){var kr=Vt.getTag(Ir,$r),uo=Vt.getULong(Ir,$r+4),ni=Vt.getULong(Ir,$r+8),rs=Vt.getULong(Ir,$r+12);Br.push({tag:kr,offset:uo,compression:ni<rs&&"WOFF",compressedLength:ni,length:rs}),$r+=20}return Br}(Lt,te=Vt.getUShort(Lt,12))}for(var Ln=0;Ln<te;Ln+=1){var Xn=Ht[Ln],Kn=void 0;switch(Xn.tag){case"cmap":Kn=Wn(Lt,Xn),$e.tables.cmap=Ve_parse(Kn.data,Kn.offset),$e.encoding=new Wt($e.tables.cmap);break;case"cvt ":Kn=Wn(Lt,Xn),ye=new Vt.Parser(Kn.data,Kn.offset),$e.tables.cvt=ye.parseShortList(Xn.length/2);break;case"fvar":Me=Xn;break;case"fpgm":Kn=Wn(Lt,Xn),ye=new Vt.Parser(Kn.data,Kn.offset),$e.tables.fpgm=ye.parseByteList(Xn.length);break;case"head":Kn=Wn(Lt,Xn),$e.tables.head=D_parse(Kn.data,Kn.offset),$e.unitsPerEm=$e.tables.head.unitsPerEm,U=$e.tables.head.indexToLocFormat;break;case"hhea":Kn=Wn(Lt,Xn),$e.tables.hhea=T_parse(Kn.data,Kn.offset),$e.ascender=$e.tables.hhea.ascender,$e.descender=$e.tables.hhea.descender,$e.numberOfHMetrics=$e.tables.hhea.numberOfHMetrics;break;case"hmtx":wt=Xn;break;case"ltag":Kn=Wn(Lt,Xn),q=V_parse(Kn.data,Kn.offset);break;case"maxp":Kn=Wn(Lt,Xn),$e.tables.maxp=Z_parse(Kn.data,Kn.offset),$e.numGlyphs=$e.tables.maxp.numGlyphs;break;case"name":ae=Xn;break;case"OS/2":Kn=Wn(Lt,Xn),$e.tables.os2=An_parse(Kn.data,Kn.offset);break;case"post":Kn=Wn(Lt,Xn),$e.tables.post=Bn_parse(Kn.data,Kn.offset),$e.glyphNames=new Gt($e.tables.post);break;case"prep":Kn=Wn(Lt,Xn),ye=new Vt.Parser(Kn.data,Kn.offset),$e.tables.prep=ye.parseByteList(Xn.length);break;case"glyf":ke=Xn;break;case"loca":_e=Xn;break;case"CFF ":fe=Xn;break;case"kern":zt=Xn;break;case"GPOS":et=Xn;break;case"GSUB":Et=Xn;break;case"meta":we=Xn}}if($n=Wn(Lt,ae),$e.tables.name=an_parse($n.data,$n.offset,q),$e.names=$e.tables.name,ke&&_e)nn=0===U,$n=Wn(Lt,_e),$n=Ri_parse($n.data,$n.offset,$e.numGlyphs,nn),nn=Wn(Lt,ke),$e.glyphs=fr.parse(nn.data,nn.offset,$n,$e);else{if(!fe)throw new Error("Font doesn't contain TrueType or CFF outlines.");nn=Wn(Lt,fe),je_parse(nn.data,nn.offset,$e)}for(var $n=Wn(Lt,wt),nr=(L_parse($n.data,$n.offset,$e.numberOfHMetrics,$e.numGlyphs,$e.glyphs),$e),vr=nr.tables.cmap.glyphIndexMap,Kr=Object.keys(vr),to=0;to<Kr.length;to+=1){var io,qr=Kr[to];(io=nr.glyphs.get(vr[qr])).addUnicode(parseInt(qr))}for(var Tr=0;Tr<nr.glyphs.length;Tr+=1)io=nr.glyphs.get(Tr),nr.cffEncoding?io.name=nr.isCIDFont?"gid"+Tr:nr.cffEncoding.charset[Tr]:nr.glyphNames.names&&(io.name=nr.glyphNames.glyphIndexToName(Tr));return zt?(nn=Wn(Lt,zt),$e.kerningPairs=Xr_parse(nn.data,nn.offset)):$e.kerningPairs={},et&&($n=Wn(Lt,et),$e.tables.gpos=Pi_parse($n.data,$n.offset),$e.position.init()),Et&&(nn=Wn(Lt,Et),$e.tables.gsub=Jn_parse(nn.data,nn.offset)),Me&&($n=Wn(Lt,Me),$e.tables.fvar=Is_parse($n.data,$n.offset,$e.names)),we&&(nn=Wn(Lt,we),$e.tables.meta=yr_parse(nn.data,nn.offset),$e.metas=$e.tables.meta),$e}y.Font=Sr,y.Glyph=tn,y.Path=le,y.BoundingBox=K,y._parse=Vt,y.parse=Ho,y.load=function(S,U){(typeof window>"u"?_i:wi)(S,function(q,te){if(q)return U(q);var fe;try{fe=Ho(te)}catch(Me){return U(Me,null)}return U(null,fe)})},y.loadSync=function(S){return Ho(vi(o("fs").readFileSync(S)))},Object.defineProperty(y,"__esModule",{value:!0})},g("object"==typeof $&&void 0!==ie?$:this.opentype={})}).call(this,o("buffer").Buffer)},{buffer:4,fs:2}],258:[function(o,ie,$){(function(v){function b(C,_){for(var s=0,l=C.length-1;0<=l;l--){var a=C[l];"."===a?C.splice(l,1):".."===a?(C.splice(l,1),s++):s&&(C.splice(l,1),s--)}if(_)for(;s--;)C.unshift("..");return C}function g(C,_){if(C.filter)return C.filter(_);for(var s=[],l=0;l<C.length;l++)_(C[l],l,C)&&s.push(C[l]);return s}$.resolve=function(){for(var C="",_=!1,s=arguments.length-1;-1<=s&&!_;s--){var l=0<=s?arguments[s]:v.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(C=l+"/"+C,_="/"===l.charAt(0))}return(_?"/":"")+(C=b(g(C.split("/"),function(a){return!!a}),!_).join("/"))||"."},$.normalize=function(C){var _=$.isAbsolute(C),s="/"===y(C,-1);return(C=(C=b(g(C.split("/"),function(l){return!!l}),!_).join("/"))||_?C:".")&&s&&(C+="/"),(_?"/":"")+C},$.isAbsolute=function(C){return"/"===C.charAt(0)},$.join=function(){var C=Array.prototype.slice.call(arguments,0);return $.normalize(g(C,function(_,s){if("string"!=typeof _)throw new TypeError("Arguments to path.join must be strings");return _}).join("/"))},$.relative=function(C,_){function s(p){for(var m=0;m<p.length&&""===p[m];m++);for(var w=p.length-1;0<=w&&""===p[w];w--);return w<m?[]:p.slice(m,w-m+1)}C=$.resolve(C).substr(1),_=$.resolve(_).substr(1);for(var l=s(C.split("/")),a=s(_.split("/")),d=Math.min(l.length,a.length),c=d,u=0;u<d;u++)if(l[u]!==a[u]){c=u;break}var h=[];for(u=c;u<l.length;u++)h.push("..");return(h=h.concat(a.slice(c))).join("/")},$.sep="/",$.delimiter=":",$.dirname=function(C){if("string"!=typeof C&&(C+=""),0===C.length)return".";for(var _=47===C.charCodeAt(0),s=-1,l=!0,a=C.length-1;1<=a;--a)if(47===C.charCodeAt(a)){if(!l){s=a;break}}else l=!1;return-1===s?_?"/":".":_&&1===s?"/":C.slice(0,s)},$.basename=function(C,_){return C=function(s){"string"!=typeof s&&(s+="");for(var l=0,a=-1,d=!0,c=s.length-1;0<=c;--c)if(47===s.charCodeAt(c)){if(!d){l=c+1;break}}else-1===a&&(d=!1,a=c+1);return-1===a?"":s.slice(l,a)}(C),_&&C.substr(-1*_.length)===_?C.substr(0,C.length-_.length):C},$.extname=function(C){"string"!=typeof C&&(C+="");for(var _=-1,s=0,l=-1,a=!0,d=0,c=C.length-1;0<=c;--c){var u=C.charCodeAt(c);if(47===u){if(a)continue;s=c+1;break}-1===l&&(a=!1,l=c+1),46===u?-1===_?_=c:1!==d&&(d=1):-1!==_&&(d=-1)}return-1===_||-1===l||0===d||1===d&&_===l-1&&_===s+1?"":C.slice(_,l)};var y=function(C,_,s){return C.substr(_,s)}}).call(this,o("_process"))},{_process:259}],259:[function(o,g,$){var v,b;function y(){throw new Error("setTimeout has not been defined")}function C(){throw new Error("clearTimeout has not been defined")}g=g.exports={};try{v="function"==typeof setTimeout?setTimeout:y}catch{v=y}try{b="function"==typeof clearTimeout?clearTimeout:C}catch{b=C}function _(m){if(v===setTimeout)return setTimeout(m,0);if((v===y||!v)&&setTimeout)return(v=setTimeout)(m,0);try{return v(m,0)}catch{try{return v.call(null,m,0)}catch{return v.call(this,m,0)}}}var s,l=[],a=!1,d=-1;function c(){a&&s&&(a=!1,s.length?l=s.concat(l):d=-1,l.length&&u())}function u(){if(!a){for(var m=_(c),w=(a=!0,l.length);w;){for(s=l,l=[];++d<w;)s&&s[d].run();d=-1,w=l.length}s=null,a=!1,function(R){if(b===clearTimeout)return clearTimeout(R);if((b===C||!b)&&clearTimeout)return(b=clearTimeout)(R);try{b(R)}catch{try{return b.call(null,R)}catch{return b.call(this,R)}}}(m)}}function h(m,w){this.fun=m,this.array=w}function p(){}g.nextTick=function(m){var w=new Array(arguments.length-1);if(1<arguments.length)for(var R=1;R<arguments.length;R++)w[R-1]=arguments[R];l.push(new h(m,w)),1!==l.length||a||_(u)},h.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=p,g.addListener=p,g.once=p,g.off=p,g.removeListener=p,g.removeAllListeners=p,g.emit=p,g.prependListener=p,g.prependOnceListener=p,g.listeners=function(m){return[]},g.binding=function(m){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(m){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},{}],260:[function(o,ie,$){ie=function(v){"use strict";var b,g=Object.prototype,y=g.hasOwnProperty,C=(E="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",_=E.asyncIterator||"@@asyncIterator",s=E.toStringTag||"@@toStringTag";function l(ee,re,G,ge){var le,Oe,Y,P;return re=re&&re.prototype instanceof m?re:m,re=Object.create(re.prototype),ge=new J(ge||[]),re._invoke=(le=ee,Oe=G,Y=ge,P=d,function(Te,Ge){if(P===u)throw new Error("Generator is already running");if(P===h){if("throw"===Te)throw Ge;return z()}for(Y.method=Te,Y.arg=Ge;;){var qe=Y.delegate;if(qe&&(qe=function ht(ze,st){var lt=ze.iterator[st.method];if(lt===b){if(st.delegate=null,"throw"===st.method){if(ze.iterator.return&&(st.method="return",st.arg=b,ht(ze,st),"throw"===st.method))return p;st.method="throw",st.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}return"throw"===(lt=a(lt,ze.iterator,st.arg)).type?(st.method="throw",st.arg=lt.arg,st.delegate=null,p):(lt=lt.arg)?lt.done?(st[ze.resultName]=lt.value,st.next=ze.nextLoc,"return"!==st.method&&(st.method="next",st.arg=b),st.delegate=null,p):lt:(st.method="throw",st.arg=new TypeError("iterator result is not an object"),st.delegate=null,p)}(qe,Y))){if(qe===p)continue;return qe}if("next"===Y.method)Y.sent=Y._sent=Y.arg;else if("throw"===Y.method){if(P===d)throw P=h,Y.arg;Y.dispatchException(Y.arg)}else"return"===Y.method&&Y.abrupt("return",Y.arg);if(P=u,"normal"===(qe=a(le,Oe,Y)).type){if(P=Y.done?h:c,qe.arg!==p)return{value:qe.arg,done:Y.done}}else"throw"===qe.type&&(P=h,Y.method="throw",Y.arg=qe.arg)}}),re}function a(ee,H,G){try{return{type:"normal",arg:ee.call(H,G)}}catch(K){return{type:"throw",arg:K}}}v.wrap=l;var d="suspendedStart",c="suspendedYield",u="executing",h="completed",p={};function m(){}function w(){}function R(){}var E,M,A=((E={})[C]=function(){return this},(M=(M=Object.getPrototypeOf)&&M(M(ne([]))))&&M!==g&&y.call(M,C)&&(E=M),R.prototype=m.prototype=Object.create(E));function B(ee){["next","throw","return"].forEach(function(H){ee[H]=function(G){return this._invoke(H,G)}})}function j(ee){var H;this._invoke=function(G,K){function le(){return new Promise(function(Oe,Y){!function P(ht,ge,Te,Ge){var qe;if("throw"!==(ht=a(ee[ht],ee,ge)).type)return(ge=(qe=ht.arg).value)&&"object"==typeof ge&&y.call(ge,"__await")?Promise.resolve(ge.__await).then(function(ze){P("next",ze,Te,Ge)},function(ze){P("throw",ze,Te,Ge)}):Promise.resolve(ge).then(function(ze){qe.value=ze,Te(qe)},function(ze){return P("throw",ze,Te,Ge)});Ge(ht.arg)}(G,K,Oe,Y)})}return H=H?H.then(le,le):le()}}function N(ee){var H={tryLoc:ee[0]};1 in ee&&(H.catchLoc=ee[1]),2 in ee&&(H.finallyLoc=ee[2],H.afterLoc=ee[3]),this.tryEntries.push(H)}function k(ee){var H=ee.completion||{};H.type="normal",delete H.arg,ee.completion=H}function J(ee){this.tryEntries=[{tryLoc:"root"}],ee.forEach(N,this),this.reset(!0)}function ne(ee){if(ee){var H,G=ee[C];if(G)return G.call(ee);if("function"==typeof ee.next)return ee;if(!isNaN(ee.length))return H=-1,(G=function K(){for(;++H<ee.length;)if(y.call(ee,H))return K.value=ee[H],K.done=!1,K;return K.value=b,K.done=!0,K}).next=G}return{next:z}}function z(){return{value:b,done:!0}}return(w.prototype=A.constructor=R).constructor=w,R[s]=w.displayName="GeneratorFunction",v.isGeneratorFunction=function(ee){return!!(ee="function"==typeof ee&&ee.constructor)&&(ee===w||"GeneratorFunction"===(ee.displayName||ee.name))},v.mark=function(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,R):(ee.__proto__=R,s in ee||(ee[s]="GeneratorFunction")),ee.prototype=Object.create(A),ee},v.awrap=function(ee){return{__await:ee}},B(j.prototype),j.prototype[_]=function(){return this},v.AsyncIterator=j,v.async=function(ee,H,G,K){var le=new j(l(ee,H,G,K));return v.isGeneratorFunction(H)?le:le.next().then(function(Oe){return Oe.done?Oe.value:le.next()})},B(A),A[s]="Generator",A[C]=function(){return this},A.toString=function(){return"[object Generator]"},v.keys=function(ee){var H,G=[];for(H in ee)G.push(H);return G.reverse(),function K(){for(;G.length;){var le=G.pop();if(le in ee)return K.value=le,K.done=!1,K}return K.done=!0,K}},v.values=ne,J.prototype={constructor:J,reset:function(ee){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(k),!ee)for(var H in this)"t"===H.charAt(0)&&y.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=b)},stop:function(){this.done=!0;var ee=this.tryEntries[0].completion;if("throw"===ee.type)throw ee.arg;return this.rval},dispatchException:function(ee){if(this.done)throw ee;var H=this;function G(re,ge){return Oe.type="throw",Oe.arg=ee,H.next=re,ge&&(H.method="next",H.arg=b),!!ge}for(var K=this.tryEntries.length-1;0<=K;--K){var le=this.tryEntries[K],Oe=le.completion;if("root"===le.tryLoc)return G("end");if(le.tryLoc<=this.prev){var Y=y.call(le,"catchLoc"),P=y.call(le,"finallyLoc");if(Y&&P){if(this.prev<le.catchLoc)return G(le.catchLoc,!0);if(this.prev<le.finallyLoc)return G(le.finallyLoc)}else if(Y){if(this.prev<le.catchLoc)return G(le.catchLoc,!0)}else{if(!P)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return G(le.finallyLoc)}}}},abrupt:function(ee,H){for(var G=this.tryEntries.length-1;0<=G;--G){var K=this.tryEntries[G];if(K.tryLoc<=this.prev&&y.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var le=K;break}}var Oe=(le=le&&("break"===ee||"continue"===ee)&&le.tryLoc<=H&&H<=le.finallyLoc?null:le)?le.completion:{};return Oe.type=ee,Oe.arg=H,le?(this.method="next",this.next=le.finallyLoc,p):this.complete(Oe)},complete:function(ee,H){if("throw"===ee.type)throw ee.arg;return"break"===ee.type||"continue"===ee.type?this.next=ee.arg:"return"===ee.type?(this.rval=this.arg=ee.arg,this.method="return",this.next="end"):"normal"===ee.type&&H&&(this.next=H),p},finish:function(ee){for(var H=this.tryEntries.length-1;0<=H;--H){var G=this.tryEntries[H];if(G.finallyLoc===ee)return this.complete(G.completion,G.afterLoc),k(G),p}},catch:function(ee){for(var H=this.tryEntries.length-1;0<=H;--H){var G,K,le=this.tryEntries[H];if(le.tryLoc===ee)return"throw"===(G=le.completion).type&&(K=G.arg,k(le)),K}throw new Error("illegal catch attempt")},delegateYield:function(ee,H,G){return this.delegate={iterator:ne(ee),resultName:H,nextLoc:G},"next"===this.method&&(this.arg=b),p}},v}("object"==typeof ie?ie.exports:{});try{regeneratorRuntime=ie}catch{Function("r","regeneratorRuntime = r")(ie)}},{}],261:[function(o,ie,$){!function(v){"use strict";var b,g,y,C,_,s,l,a,d,c;function u(k){if("string"!=typeof k&&(k=String(k)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(k))throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function h(k){return"string"!=typeof k?String(k):k}function p(k){var J={next:function(){var ne=k.shift();return{done:void 0===ne,value:ne}}};return g&&(J[Symbol.iterator]=function(){return J}),J}function m(k){this.map={},k instanceof m?k.forEach(function(J,ne){this.append(ne,J)},this):Array.isArray(k)?k.forEach(function(J){this.append(J[0],J[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(J){this.append(J,k[J])},this)}function w(k){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}function R(k){return new Promise(function(J,ne){k.onload=function(){J(k.result)},k.onerror=function(){ne(k.error)}})}function E(k){var J=new FileReader,ne=R(J);return J.readAsArrayBuffer(k),ne}function M(k){var J;return k.slice?k.slice(0):((J=new Uint8Array(k.byteLength)).set(new Uint8Array(k)),J.buffer)}function A(){return this.bodyUsed=!1,this._initBody=function(k){if(this._bodyInit=k)if("string"==typeof k)this._bodyText=k;else if(y&&Blob.prototype.isPrototypeOf(k))this._bodyBlob=k;else if(C&&FormData.prototype.isPrototypeOf(k))this._bodyFormData=k;else if(b&&URLSearchParams.prototype.isPrototypeOf(k))this._bodyText=k.toString();else if(_&&y&&l(k))this._bodyArrayBuffer=M(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!_||!ArrayBuffer.prototype.isPrototypeOf(k)&&!a(k))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=M(k)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof k?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y&&(this.blob=function(){var k=w(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var k,J,ne=w(this);if(ne)return ne;if(this._bodyBlob)return ne=this._bodyBlob,J=R(k=new FileReader),k.readAsText(ne),J;if(this._bodyArrayBuffer)return Promise.resolve(function(z){for(var ee=new Uint8Array(z),H=new Array(ee.length),G=0;G<ee.length;G++)H[G]=String.fromCharCode(ee[G]);return H.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},C&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}function B(k,J){var ne,z=(J=J||{}).body;if(k instanceof B){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,J.headers||(this.headers=new m(k.headers)),this.method=k.method,this.mode=k.mode,z||null==k._bodyInit||(z=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=J.credentials||this.credentials||"omit",!J.headers&&this.headers||(this.headers=new m(J.headers)),this.method=(ne=(k=J.method||this.method||"GET").toUpperCase(),-1<d.indexOf(ne)?ne:k),this.mode=J.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(z)}function j(k){var J=new FormData;return k.trim().split("&").forEach(function(ne){var z;ne&&(z=(ne=ne.split("=")).shift().replace(/\+/g," "),ne=ne.join("=").replace(/\+/g," "),J.append(decodeURIComponent(z),decodeURIComponent(ne)))}),J}function N(k,J){J=J||{},this.type="default",this.status=void 0===J.status?200:J.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in J?J.statusText:"OK",this.headers=new m(J.headers),this.url=J.url||"",this._initBody(k)}v.fetch||(b="URLSearchParams"in v,g="Symbol"in v&&"iterator"in Symbol,y="FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),C="FormData"in v,(_="ArrayBuffer"in v)&&(s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(k){return k&&DataView.prototype.isPrototypeOf(k)},a=ArrayBuffer.isView||function(k){return k&&-1<s.indexOf(Object.prototype.toString.call(k))}),m.prototype.append=function(k,J){k=u(k),J=h(J);var ne=this.map[k];this.map[k]=ne?ne+","+J:J},m.prototype.delete=function(k){delete this.map[u(k)]},m.prototype.get=function(k){return k=u(k),this.has(k)?this.map[k]:null},m.prototype.has=function(k){return this.map.hasOwnProperty(u(k))},m.prototype.set=function(k,J){this.map[u(k)]=h(J)},m.prototype.forEach=function(k,J){for(var ne in this.map)this.map.hasOwnProperty(ne)&&k.call(J,this.map[ne],ne,this)},m.prototype.keys=function(){var k=[];return this.forEach(function(J,ne){k.push(ne)}),p(k)},m.prototype.values=function(){var k=[];return this.forEach(function(J){k.push(J)}),p(k)},m.prototype.entries=function(){var k=[];return this.forEach(function(J,ne){k.push([ne,J])}),p(k)},g&&(m.prototype[Symbol.iterator]=m.prototype.entries),d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],B.prototype.clone=function(){return new B(this,{body:this._bodyInit})},A.call(B.prototype),A.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},N.error=function(){var k=new N(null,{status:0,statusText:""});return k.type="error",k},c=[301,302,303,307,308],N.redirect=function(k,J){if(-1===c.indexOf(J))throw new RangeError("Invalid status code");return new N(null,{status:J,headers:{location:k}})},v.Headers=m,v.Request=B,v.Response=N,v.fetch=function(k,J){return new Promise(function(ne,z){var ee=new B(k,J),H=new XMLHttpRequest;H.onload=function(){var G,K={status:H.status,statusText:H.statusText,headers:(K=H.getAllResponseHeaders()||"",G=new m,K.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Y){var P=(Y=Y.split(":")).shift().trim();P&&(Y=Y.join(":").trim(),G.append(P,Y))}),G)},le=(K.url="responseURL"in H?H.responseURL:K.headers.get("X-Request-URL"),"response"in H?H.response:H.responseText);ne(new N(le,K))},H.onerror=function(){z(new TypeError("Network request failed"))},H.ontimeout=function(){z(new TypeError("Network request failed"))},H.open(ee.method,ee.url,!0),"include"===ee.credentials?H.withCredentials=!0:"omit"===ee.credentials&&(H.withCredentials=!1),"responseType"in H&&y&&(H.responseType="blob"),ee.headers.forEach(function(G,K){H.setRequestHeader(K,G)}),H.send(void 0===ee._bodyInit?null:ee._bodyInit)})},v.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],262:[function(o,ie,$){"use strict";o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v,b=y(o("../core/main")),g=y(o("../color/color_conversion"));function y(s){return s&&s.__esModule?s:{default:s}}var C=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],_=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];b.default.prototype._rgbColorName=function(d){d=g.default._rgbaToHSBA(d);var l,a,c=[(v=d)[0],d[1],d[2]];0!==c[0]&&(c[0]=Math.round(100*c[0]),(d=c[0].toString().split(""))[a=d.length-1]=parseInt(d[a]),d[a]<2.5?d[a]=0:2.5<=d[a]&&d[a]<7.5&&(d[a]=5),2===d.length?(d[0]=parseInt(d[0]),7.5<=d[a]&&(d[a]=0,d[0]=d[0]+1),c[0]=10*d[0]+d[1]):c[0]=7.5<=d[a]?10:d[a]),c[2]=c[2]/255;for(var u=c.length-1;1<=u;u--)c[u]=c[u]<=.25?0:.25<c[u]&&c[u]<.75?.5:1;if(0===c[0]&&0===c[1]&&1===c[2]){for(var h=2;0<=h;h--)v[h]=Math.round(1e4*v[h])/1e4;for(var p=0;p<C.length;p++){if(C[p].h===v[0]&&C[p].s===v[1]&&C[p].b===v[2]){l=C[p].name;break}l="white"}}else for(var m=0;m<_.length;m++)if(_[m].h===c[0]&&_[m].s===c[1]&&_[m].b===c[2]){l=_[m].name;break}return l},$.default=o=b.default},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o},b="_Description",g="_fallbackDesc",y="_fallbackTable",C="_Label",_="_labelDesc",s="_labelTable";function l(a){if("label"===a||"fallback"===a)throw new Error("description should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")||a.endsWith("?")||a.endsWith("!")||(a+="."),a}v.default.prototype.describe=function(a,d){var c;v.default._validateParameters("describe",arguments),"string"==typeof a&&(c=this.canvas.id,a=l(a),this.dummyDOM||(this.dummyDOM=document.getElementById(c).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==a&&(this.descriptions.fallback.innerHTML=a):this._describeHTML("fallback",a),d===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==a&&(this.descriptions.label.innerHTML=a):this._describeHTML("label",a)))},v.default.prototype.describeElement=function(a,d,c){var u,h;v.default._validateParameters("describeElement",arguments),"string"==typeof d&&"string"==typeof a&&(u=this.canvas.id,d=l(d),h=function(p){if("label"===p||"fallback"===p)throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p+=":"),p}(a),a=a.replace(/[^a-zA-Z0-9]/g,""),h='<th scope="row">'.concat(h,"</th><td>").concat(d,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[a]?this.descriptions.fallbackElements[a].innerHTML!==h&&(this.descriptions.fallbackElements[a].innerHTML=h):this._describeElementHTML("fallback",a,h),c===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[a]?this.descriptions.labelElements[a].innerHTML!==h&&(this.descriptions.labelElements[a].innerHTML=h):this._describeElementHTML("label",a,h)))},v.default.prototype._describeHTML=function(a,d){var c,u=this.canvas.id;"fallback"===a?(this.dummyDOM.querySelector("#".concat(u+b))?this.dummyDOM.querySelector("#"+u+y).insertAdjacentHTML("beforebegin",'<p id="'.concat(u+g,'"></p>')):(c='<div id="'.concat(u).concat(b,'" role="region" aria-label="Canvas Description"><p id="').concat(u).concat(g,'"></p></div>'),this.dummyDOM.querySelector("#".concat(u,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(u,"accessibleOutput")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(u)).innerHTML=c),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(u).concat(g)),this.descriptions.fallback.innerHTML=d):"label"===a&&(this.dummyDOM.querySelector("#".concat(u+C))?this.dummyDOM.querySelector("#".concat(u+s))&&this.dummyDOM.querySelector("#".concat(u+s)).insertAdjacentHTML("beforebegin",'<p id="'.concat(u).concat(_,'"></p>')):(c='<div id="'.concat(u).concat(C,'" class="p5Label"><p id="').concat(u).concat(_,'"></p></div>'),this.dummyDOM.querySelector("#".concat(u,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(u,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#"+u).insertAdjacentHTML("afterend",c)),this.descriptions.label=this.dummyDOM.querySelector("#"+u+_),this.descriptions.label.innerHTML=d)},v.default.prototype._describeElementHTML=function(a,d,c){var u,h=this.canvas.id;"fallback"===a?(this.dummyDOM.querySelector("#".concat(h+b))?this.dummyDOM.querySelector("#"+h+y)||this.dummyDOM.querySelector("#"+h+g).insertAdjacentHTML("afterend",'<table id="'.concat(h).concat(y,'"><caption>Canvas elements and their descriptions</caption></table>')):(u='<div id="'.concat(h).concat(b,'" role="region" aria-label="Canvas Description"><table id="').concat(h).concat(y,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+h).innerHTML=u),(u=document.createElement("tr")).id=h+"_fte_"+d,this.dummyDOM.querySelector("#"+h+y).appendChild(u),this.descriptions.fallbackElements[d]=this.dummyDOM.querySelector("#".concat(h).concat("_fte_").concat(d)),this.descriptions.fallbackElements[d].innerHTML=c):"label"===a&&(this.dummyDOM.querySelector("#".concat(h+C))?this.dummyDOM.querySelector("#".concat(h+s))||this.dummyDOM.querySelector("#"+h+_).insertAdjacentHTML("afterend",'<table id="'.concat(h+s,'"></table>')):(u='<div id="'.concat(h).concat(C,'" class="p5Label"><table id="').concat(h).concat(s,'"></table></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",u)),(a=document.createElement("tr")).id=h+"_lte_"+d,this.dummyDOM.querySelector("#"+h+s).appendChild(a),this.descriptions.labelElements[d]=this.dummyDOM.querySelector("#".concat(h).concat("_lte_").concat(d)),this.descriptions.labelElements[d].innerHTML=c)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateGridOutput=function(v){var b,g,y,C,_,s,l,a;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(b=this._accessibleOutputs[v],_=(g=function(_,s){var l,a="",d="",c=0;for(l in s){var u,h=0;for(u in s[l]){var p='<li id="'.concat(_,"shape").concat(c,'">').concat(s[l][u].color," ").concat(l,",");"line"===l?p+=" location = ".concat(s[l][u].pos,", length = ").concat(s[l][u].length," pixels"):(p+=" location = ".concat(s[l][u].pos),"point"!==l&&(p+=", area = ".concat(s[l][u].area," %")),p+="</li>"),a+=p,h++,c++}d=1<h?"".concat(d," ").concat(h," ").concat(l,"s"):"".concat(d," ").concat(h," ").concat(l)}return{numShapes:[c,d],details:a}}(v,this.ingredients.shapes)).numShapes,l=this.width,a=this.height,s="".concat(s=this.ingredients.colors.background," canvas, ").concat(l," by ").concat(a," pixels, contains ").concat(_[0]),y=s="".concat(s,1===_[0]?" shape: ":" shapes: ").concat(_[1]),C=function(_,s){var l,a,d=0,c="",u=Array.from(Array(10),function(){return Array(10)});for(l in s)for(var h in s[l]){var p;p="line"!==l?'<a href="#'.concat(_,"shape").concat(d,'">').concat(s[l][h].color," ").concat(l,"</a>"):'<a href="#'.concat(_,"shape").concat(d,'">').concat(s[l][h].color," ").concat(l," midpoint</a>"),s[l][h].loc.locY<u.length&&s[l][h].loc.locX<u[s[l][h].loc.locY].length&&(u[s[l][h].loc.locY][s[l][h].loc.locX]=u[s[l][h].loc.locY][s[l][h].loc.locX]?u[s[l][h].loc.locY][s[l][h].loc.locX]+"  "+p:p,d++)}for(a in u){var m,w="<tr>";for(m in u[a])w+="<td>",void 0!==u[a][m]&&(w+=u[a][m]),w+="</td>";c=c+w+"</tr>"}return c}(v,this.ingredients.shapes),y!==b.summary.innerHTML&&(b.summary.innerHTML=y),C!==b.map.innerHTML&&(b.map.innerHTML=C),g.details!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=g.details),this._accessibleOutputs[v]=b)},$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function g(y,C,_){return 10===(C=Math.floor(y[0]/C*10))&&(C-=1),10===(y=Math.floor(y[1]/_*10))&&(y-=1),{locX:C,locY:y}}v.default.prototype.textOutput=function(y){v.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),y===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},v.default.prototype.gridOutput=function(y){v.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),y===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},v.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},v.default.prototype._createOutput=function(y,C){var _,s,l,a=this.canvas.id,d=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode),"");"Fallback"===C?(_=a+y,this.dummyDOM.querySelector("#".concat(s=a+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(a,"_Description"))?this.dummyDOM.querySelector("#".concat(a,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(a)).innerHTML='<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===C&&(_=a+y+(d=C),this.dummyDOM.querySelector("#".concat(s=a+"accessibleOutput"+C))||(this.dummyDOM.querySelector("#".concat(a,"_Label"))?this.dummyDOM.querySelector("#".concat(a,"_Label")):this.dummyDOM.querySelector("#".concat(a))).insertAdjacentHTML("afterend",'<div id="'.concat(s,'"></div>'))),this._accessibleOutputs[_]={},"textOutput"===y?(d="#".concat(a,"gridOutput").concat(d),l='<div id="'.concat(_,'">Text Output<div id="').concat(_,'Summary" aria-label="text output summary"><p id="').concat(_,'_summary"></p><ul id="').concat(_,'_list"></ul></div><table id="').concat(_,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(d)?this.dummyDOM.querySelector(d).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(s)).innerHTML=l,this._accessibleOutputs[_].list=this.dummyDOM.querySelector("#".concat(_,"_list"))):"gridOutput"===y&&(d="#".concat(a,"textOutput").concat(d),l='<div id="'.concat(_,'">Grid Output<p id="').concat(_,'_summary" aria-label="grid output summary"><table id="').concat(_,'_map" summary="grid output content"></table><ul id="').concat(_,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(d)?this.dummyDOM.querySelector(d).insertAdjacentHTML("afterend",l):this.dummyDOM.querySelector("#".concat(s)).innerHTML=l,this._accessibleOutputs[_].map=this.dummyDOM.querySelector("#".concat(_,"_map"))),this._accessibleOutputs[_].shapeDetails=this.dummyDOM.querySelector("#".concat(_,"_shapeDetails")),this._accessibleOutputs[_].summary=this.dummyDOM.querySelector("#".concat(_,"_summary"))},v.default.prototype._updateAccsOutput=function(){var y=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(y+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(y+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(y+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(y+"gridOutputLabel"))},v.default.prototype._accsBackground=function(y){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==y&&(this.ingredients.colors.backgroundRGBA=y,this.ingredients.colors.background=this._rgbColorName(y))},v.default.prototype._accsCanvasColors=function(y,C){"fill"===y?this.ingredients.colors.fillRGBA!==C&&(this.ingredients.colors.fillRGBA=C,this.ingredients.colors.fill=this._rgbColorName(C)):"stroke"===y&&this.ingredients.colors.strokeRGBA!==C&&(this.ingredients.colors.strokeRGBA=C,this.ingredients.colors.stroke=this._rgbColorName(C))},v.default.prototype._accsOutput=function(y,C){"ellipse"===y&&C[2]===C[3]?y="circle":"rectangle"===y&&C[2]===C[3]&&(y="square");var _,s,u,h,p,l={},a=!0,d=(h=C,u="rectangle"===(u=y)||"ellipse"===u||"arc"===u||"circle"===u||"square"===u?(p=Math.round(h[0]+h[2]/2),Math.round(h[1]+h[3]/2)):"triangle"===u?(p=(h[0]+h[2]+h[4])/3,(h[1]+h[3]+h[5])/3):"quadrilateral"===u?(p=(h[0]+h[2]+h[4]+h[6])/4,(h[1]+h[3]+h[5]+h[7])/4):"line"===u?(p=(h[0]+h[2])/2,(h[1]+h[3])/2):(p=h[0],h[1]),[p,u]);if("line"===y?(l.color=this.ingredients.colors.stroke,l.length=Math.round(this.dist(C[0],C[1],C[2],C[3])),_=this._getPos(C[0],[1]),s=this._getPos(C[2],[3]),l.loc=g(d,this.width,this.height),l.pos=_===s?"at ".concat(_):"from ".concat(_," to ").concat(s)):("point"===y?l.color=this.ingredients.colors.stroke:(l.color=this.ingredients.colors.fill,l.area=this._getArea(y,C)),l.pos=this._getPos.apply(this,function b(y){return function(C){if(Array.isArray(C)){for(var _=0,s=new Array(C.length);_<C.length;_++)s[_]=C[_];return s}}(y)||function(C){if(Symbol.iterator in Object(C)||"[object Arguments]"===Object.prototype.toString.call(C))return Array.from(C)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(d)),l.loc=g(d,this.width,this.height)),this.ingredients.shapes[y]){if(this.ingredients.shapes[y]!==[l]){for(var c in this.ingredients.shapes[y])JSON.stringify(this.ingredients.shapes[y][c])===JSON.stringify(l)&&(a=!1);!0===a&&this.ingredients.shapes[y].push(l)}}else this.ingredients.shapes[y]=[l]},v.default.prototype._getPos=function(s,_){s=new DOMPointReadOnly(s,_),_=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),_=(s=s.matrixTransform(_)).x,s=s.y;var l=this.width*this._pixelDensity,a=this.height*this._pixelDensity;return _<.4*l?s<.4*a?"top left":.6*a<s?"bottom left":"mid left":.6*l<_?s<.4*a?"top right":.6*a<s?"bottom right":"mid right":s<.4*a?"top middle":.6*a<s?"bottom middle":"middle"},v.default.prototype._getArea=function(y,C){var _,s,l=0,a=("arc"===y?(l=(_=((C[5]-C[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*C[2]*C[3]/8,"open"!==C[6]&&"chord"!==C[6]||(s=C[0],h=C[1],a=C[0]+C[2]/2*Math.cos(C[4]).toFixed(2),p=C[1]+C[3]/2*Math.sin(C[4]).toFixed(2),c=C[0]+C[2]/2*Math.cos(C[5]).toFixed(2),d=C[1]+C[3]/2*Math.sin(C[5]).toFixed(2),s=Math.abs(s*(p-d)+a*(d-h)+c*(h-p))/2,_>Math.PI?l+=s:l-=s)):"ellipse"===y||"circle"===y?l=3.14*C[2]/2*C[3]/2:"line"===y||"point"===y?l=0:"quadrilateral"===y?l=Math.abs((C[6]+C[0])*(C[7]-C[1])+(C[0]+C[2])*(C[1]-C[3])+(C[2]+C[4])*(C[3]-C[5])+(C[4]+C[6])*(C[5]-C[7]))/2:"rectangle"===y||"square"===y?l=C[2]*C[3]:"triangle"===y&&(l=Math.abs(C[0]*(C[3]-C[5])+C[2]*(C[5]-C[1])+C[4]*(C[1]-C[3]))/2),this.width*this._pixelDensity),d=this.height*this._pixelDensity,c=[new DOMPoint(0,0),new DOMPoint(a,0),new DOMPoint(a,d),new DOMPoint(0,d)],u=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),h=c.map(function(m){return m.matrixTransform(u)}),p=Math.abs((h[3].x+h[0].x)*(h[3].y-h[0].y)+(h[0].x+h[1].x)*(h[0].y-h[1].y)+(h[1].x+h[2].x)*(h[1].y-h[2].y)+(h[2].x+h[3].x)*(h[2].y-h[3].y))/2;return Math.round(100*l/p)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.concat"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateTextOutput=function(v){var b,g,y,C,_,s,l,a;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(b=this._accessibleOutputs[v],_=(g=function(_,s){var l,a="",d=0;for(l in s)for(var c in s[l]){var u='<li><a href="#'.concat(_,"shape").concat(d,'">').concat(s[l][c].color," ").concat(l,"</a>");"line"===l?u+=", ".concat(s[l][c].pos,", ").concat(s[l][c].length," pixels long.</li>"):(u+=", at ".concat(s[l][c].pos),"point"!==l&&(u+=", covering ".concat(s[l][c].area,"% of the canvas")),u+=".</li>"),a+=u,d++}return{numShapes:d,listShapes:a}}(v,this.ingredients.shapes)).numShapes,s=this.ingredients.colors.background,a=this.height,l="Your output is a, ".concat(l=this.width," by ").concat(a," pixels, ").concat(s," canvas containing the following"),y=l=1===_?"".concat(l," shape:"):"".concat(l," ").concat(_," shapes:"),C=function(_,s){var l,a="",d=0;for(l in s)for(var c in s[l]){var u='<tr id="'.concat(_,"shape").concat(d,'"><th>').concat(s[l][c].color," ").concat(l,"</th>");"line"===l?u+="<td>location = ".concat(s[l][c].pos,"</td><td>length = ").concat(s[l][c].length," pixels</td></tr>"):(u+="<td>location = ".concat(s[l][c].pos,"</td>"),"point"!==l&&(u+="<td> area = ".concat(s[l][c].area,"%</td>")),u+="</tr>"),a+=u,d++}return a}(v,this.ingredients.shapes),y!==b.summary.innerHTML&&(b.summary.innerHTML=y),g.listShapes!==b.list.innerHTML&&(b.list.innerHTML=g.listShapes),C!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=C),this._accessibleOutputs[v]=b)},$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(o,ie,$){"use strict";var v=(v=o("./core/main"))&&v.__esModule?v:{default:v};o("./core/constants"),o("./core/environment"),o("./core/friendly_errors/stacktrace"),o("./core/friendly_errors/validate_params"),o("./core/friendly_errors/file_errors"),o("./core/friendly_errors/fes_core"),o("./core/friendly_errors/sketch_reader"),o("./core/helpers"),o("./core/legacy"),o("./core/preload"),o("./core/p5.Element"),o("./core/p5.Graphics"),o("./core/p5.Renderer"),o("./core/p5.Renderer2D"),o("./core/rendering"),o("./core/shim"),o("./core/structure"),o("./core/transform"),o("./core/shape/2d_primitives"),o("./core/shape/attributes"),o("./core/shape/curves"),o("./core/shape/vertex"),o("./accessibility/outputs"),o("./accessibility/textOutput"),o("./accessibility/gridOutput"),o("./accessibility/color_namer"),o("./color/color_conversion"),o("./color/creating_reading"),o("./color/p5.Color"),o("./color/setting"),o("./data/p5.TypedDict"),o("./data/local_storage.js"),o("./dom/dom"),o("./accessibility/describe"),o("./events/acceleration"),o("./events/keyboard"),o("./events/mouse"),o("./events/touch"),o("./image/filters"),o("./image/image"),o("./image/loading_displaying"),o("./image/p5.Image"),o("./image/pixels"),o("./io/files"),o("./io/p5.Table"),o("./io/p5.TableRow"),o("./io/p5.XML"),o("./math/calculation"),o("./math/math"),o("./math/noise"),o("./math/p5.Vector"),o("./math/random"),o("./math/trigonometry"),o("./typography/attributes"),o("./typography/loading_displaying"),o("./typography/p5.Font"),o("./utilities/array_functions"),o("./utilities/conversion"),o("./utilities/string_functions"),o("./utilities/time_date"),o("./webgl/3d_primitives"),o("./webgl/interaction"),o("./webgl/light"),o("./webgl/loading"),o("./webgl/material"),o("./webgl/p5.Camera"),o("./webgl/p5.DataArray"),o("./webgl/p5.Geometry"),o("./webgl/p5.Matrix"),o("./webgl/p5.Quat"),o("./webgl/p5.RendererGL.Immediate"),o("./webgl/p5.RendererGL"),o("./webgl/p5.RendererGL.Retained"),o("./webgl/p5.Framebuffer"),o("./webgl/p5.Shader"),o("./webgl/p5.RenderBuffer"),o("./webgl/p5.Texture"),o("./webgl/text"),o("./core/init"),ie.exports=v.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.ColorConversion={_hsbaToHSLA:function(v){var g=v[1],y=v[2],C=(2-g)*y/2;return 0!=C&&(1==C?g=0:C<.5?g/=2-g:g=g*y/(2-2*C)),[v[0],g,C,v[3]]},_hsbaToRGBA:function(v){var b,g,y,C,_,s=6*v[0],l=v[1],a=v[2];return 0===l?[a,a,a,v[3]]:(g=a*(1-l),y=a*(1-l*(s-(b=Math.floor(s)))),l=a*(1-l*(1+b-s)),s=1===b?(C=y,_=a,g):2===b?(C=g,_=a,l):3===b?(C=g,_=y,a):4===b?(C=l,_=g,a):5===b?(C=a,_=g,y):(C=a,_=l,g),[C,_,s,v[3]])},_hslaToHSBA:function(v){var g=v[1],y=v[2],C=y<.5?(1+g)*y:y+g-y*g;return[v[0],g=2*(C-y)/C,C,v[3]]},_hslaToRGBA:function(v){var b,g=6*v[0],y=v[1],C=v[2];return 0===y?[C,C,C,v[3]]:[(b=function(_,s,l){return _<0?_+=6:6<=_&&(_-=6),_<1?s+(l-s)*_:_<3?l:_<4?s+(l-s)*(4-_):s})(2+g,y=2*C-(C=C<.5?(1+y)*C:C+y-C*y),C),b(g,y,C),b(g-2,y,C),v[3]]},_rgbaToHSBA:function(v){var b,g,y=v[0],C=v[1],_=v[2],s=Math.max(y,C,_),l=s-Math.min(y,C,_);return 0==l?g=b=0:(g=l/s,y===s?b=(C-_)/l:C===s?b=2+(_-y)/l:_===s&&(b=4+(y-C)/l),b<0?b+=6:6<=b&&(b-=6)),[b/6,g,s,v[3]]},_rgbaToHSLA:function(v){var b,g,a,y=v[0],C=v[1],_=v[2],s=Math.max(y,C,_),l=s+(a=Math.min(y,C,_));return 0==(a=s-a)?g=b=0:(g=l<1?a/l:a/(2-l),y===s?b=(C-_)/a:C===s?b=2+(_-y)/a:_===s&&(b=4+(y-C)/a),b<0?b+=6:6<=b&&(b-=6)),[b/6,g,l/2,v[3]]}},$.default=o=o.default.ColorConversion},{"../core/main":283}],269:[function(o,ie,$){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.map"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(_=o("../core/main"))&&_.__esModule?_:{default:_},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=c?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Color"),o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),g.default.prototype.alpha=function(s){return g.default._validateParameters("alpha",arguments),this.color(s)._getAlpha()},g.default.prototype.blue=function(s){return g.default._validateParameters("blue",arguments),this.color(s)._getBlue()},g.default.prototype.brightness=function(s){return g.default._validateParameters("brightness",arguments),this.color(s)._getBrightness()},g.default.prototype.color=function(){for(var s,l=arguments.length,a=new Array(l),d=0;d<l;d++)a[d]=arguments[d];return g.default._validateParameters("color",a),a[0]instanceof g.default.Color?a[0]:(s=Array.isArray(a[0])?a[0]:a,new g.default.Color(this,s))},g.default.prototype.green=function(s){return g.default._validateParameters("green",arguments),this.color(s)._getGreen()},g.default.prototype.hue=function(s){return g.default._validateParameters("hue",arguments),this.color(s)._getHue()},g.default.prototype.lerpColor=function(s,l,a){g.default._validateParameters("lerpColor",arguments);var d,c,u,h=this._colorMode,p=this._colorMaxes;if(h===y.RGB)c=s.levels.map(function(m){return m/255}),u=l.levels.map(function(m){return m/255});else if(h===y.HSB)s._getBrightness(),l._getBrightness(),c=s.hsba,u=l.hsba;else{if(h!==y.HSL)throw new Error("".concat(h," cannot be used for interpolation."));s._getLightness(),l._getLightness(),c=s.hsla,u=l.hsla}return a=Math.max(Math.min(a,1),0),void 0===this.lerp&&(this.lerp=function(m,w,R){return R*(w-m)+m}),h===y.RGB?d=this.lerp(c[0],u[0],a):(.5<Math.abs(c[0]-u[0])&&(c[0]>u[0]?u[0]+=1:c[0]+=1),1<=(d=this.lerp(c[0],u[0],a))&&--d),s=this.lerp(c[1],u[1],a),l=this.lerp(c[2],u[2],a),c=this.lerp(c[3],u[3],a),this.color(d*=p[h][0],s*=p[h][1],l*=p[h][2],c*=p[h][3])},g.default.prototype.lightness=function(s){return g.default._validateParameters("lightness",arguments),this.color(s)._getLightness()},g.default.prototype.red=function(s){return g.default._validateParameters("red",arguments),this.color(s)._getRed()},g.default.prototype.saturation=function(s){return g.default._validateParameters("saturation",arguments),this.color(s)._getSaturation()};var _=g.default;$.default=_},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(d,ie,$){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(m)}function b(m){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(m)}d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.get-own-property-descriptor"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.trim"),d("core-js/modules/es.weak-map"),d("core-js/modules/web.dom-collections.iterator"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.trim"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=s(d("../core/main")),y=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==b(m)&&"function"!=typeof m)return{default:m};var w=_();if(w&&w.has(m))return w.get(m);var R,E={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in m){var A;Object.prototype.hasOwnProperty.call(m,R)&&((A=M?Object.getOwnPropertyDescriptor(m,R):null)&&(A.get||A.set)?Object.defineProperty(E,R,A):E[R]=m[R])}return E.default=m,w&&w.set(m,E),E}(d("../core/constants")),C=s(d("./color_conversion"));function _(){var m;return"function"!=typeof WeakMap?null:(_=function(){return m},m=new WeakMap)}function s(m){return m&&m.__esModule?m:{default:m}}function l(m,w){for(var R=0;R<w.length;R++){var E=w[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}var a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},p=(d=/\s*/,/(\d{1,3})/),c=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,u=new RegExp("".concat(c.source,"%")),h={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(d.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",u.source,",",u.source,",",u.source,"\\)$"].join(d.source),"i"),RGBA:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",c.source,"\\)$"].join(d.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",u.source,",",u.source,",",u.source,",",c.source,"\\)$"].join(d.source),"i"),HSL:new RegExp(["^hsl\\(",p.source,",",u.source,",",u.source,"\\)$"].join(d.source),"i"),HSLA:new RegExp(["^hsla\\(",p.source,",",u.source,",",u.source,",",c.source,"\\)$"].join(d.source),"i"),HSB:new RegExp(["^hsb\\(",p.source,",",u.source,",",u.source,"\\)$"].join(d.source),"i"),HSBA:new RegExp(["^hsba\\(",p.source,",",u.source,",",u.source,",",c.source,"\\)$"].join(d.source),"i")};g.default.Color=function(){function m(M,A){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(M._colorMode,M._colorMaxes),![y.RGB,y.HSL,y.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=m._parseInputs.apply(this,A),this._calculateLevels()}var w,R,E;return w=m,E=[{key:"_parseInputs",value:function(M,A,B,j){var N,k=arguments.length,J=this.mode,ne=this.maxes[J],z=[];if(3<=k){for(z[0]=M/ne[0],z[1]=A/ne[1],z[2]=B/ne[2],z[3]="number"==typeof j?j/ne[3]:1,N=z.length-1;0<=N;--N){var ee=z[N];ee<0?z[N]=0:1<ee&&(z[N]=1)}return J===y.HSL?C.default._hslaToRGBA(z):J===y.HSB?C.default._hsbaToRGBA(z):z}if(1===k&&"string"==typeof M){if(B=M.trim().toLowerCase(),a[B])return m._parseInputs.call(this,a[B]);if(h.HEX3.test(B))return(z=h.HEX3.exec(B).slice(1).map(function(H){return parseInt(H+H,16)/255}))[3]=1,z;if(h.HEX6.test(B))return(z=h.HEX6.exec(B).slice(1).map(function(H){return parseInt(H,16)/255}))[3]=1,z;if(h.HEX4.test(B))return h.HEX4.exec(B).slice(1).map(function(H){return parseInt(H+H,16)/255});if(h.HEX8.test(B))return h.HEX8.exec(B).slice(1).map(function(H){return parseInt(H,16)/255});if(h.RGB.test(B))return(z=h.RGB.exec(B).slice(1).map(function(H){return H/255}))[3]=1,z;if(h.RGB_PERCENT.test(B))return(z=h.RGB_PERCENT.exec(B).slice(1).map(function(H){return parseFloat(H)/100}))[3]=1,z;if(h.RGBA.test(B))return h.RGBA.exec(B).slice(1).map(function(H,G){return 3===G?parseFloat(H):H/255});if(h.RGBA_PERCENT.test(B))return h.RGBA_PERCENT.exec(B).slice(1).map(function(H,G){return 3===G?parseFloat(H):parseFloat(H)/100});if(h.HSL.test(B)?(z=h.HSL.exec(B).slice(1).map(function(H,G){return 0===G?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:h.HSLA.test(B)&&(z=h.HSLA.exec(B).slice(1).map(function(H,G){return 0===G?parseInt(H,10)/360:3===G?parseFloat(H):parseInt(H,10)/100})),(z=z.map(function(H){return Math.max(Math.min(H,1),0)})).length)return C.default._hslaToRGBA(z);if(h.HSB.test(B)?(z=h.HSB.exec(B).slice(1).map(function(H,G){return 0===G?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:h.HSBA.test(B)&&(z=h.HSBA.exec(B).slice(1).map(function(H,G){return 0===G?parseInt(H,10)/360:3===G?parseFloat(H):parseInt(H,10)/100})),z.length){for(N=z.length-1;0<=N;--N)z[N]=Math.max(Math.min(z[N],1),0);return C.default._hsbaToRGBA(z)}z=[1,1,1,1]}else{if(1!==k&&2!==k||"number"!=typeof M)throw new Error("".concat(arguments,"is not a valid color representation."));z[0]=M/ne[2],z[1]=M/ne[2],z[2]=M/ne[2],z[3]="number"==typeof A?A/ne[3]:1,z=z.map(function(H){return Math.max(Math.min(H,1),0)})}return z}}],(R=[{key:"toString",value:function(M){var A=this.levels,B=this._array,j=B[3];switch(M){case"#rrggbb":return"#".concat(A[0]<16?"0".concat(A[0].toString(16)):A[0].toString(16),A[1]<16?"0".concat(A[1].toString(16)):A[1].toString(16),A[2]<16?"0".concat(A[2].toString(16)):A[2].toString(16));case"#rrggbbaa":return"#".concat(A[0]<16?"0".concat(A[0].toString(16)):A[0].toString(16),A[1]<16?"0".concat(A[1].toString(16)):A[1].toString(16),A[2]<16?"0".concat(A[2].toString(16)):A[2].toString(16),A[3]<16?"0".concat(A[3].toString(16)):A[3].toString(16));case"#rgb":return"#".concat(Math.round(15*B[0]).toString(16),Math.round(15*B[1]).toString(16),Math.round(15*B[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*B[0]).toString(16),Math.round(15*B[1]).toString(16),Math.round(15*B[2]).toString(16),Math.round(15*B[3]).toString(16));case"rgb":return"rgb(".concat(A[0],", ",A[1],", ",A[2],")");case"rgb%":return"rgb(".concat((100*B[0]).toPrecision(3),"%, ",(100*B[1]).toPrecision(3),"%, ",(100*B[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*B[0]).toPrecision(3),"%, ",(100*B[1]).toPrecision(3),"%, ",(100*B[2]).toPrecision(3),"%, ",(100*B[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[y.HSB][0],", ",this.hsba[1]*this.maxes[y.HSB][1],", ",this.hsba[2]*this.maxes[y.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[y.HSB][0],", ",this.hsba[1]*this.maxes[y.HSB][1],", ",this.hsba[2]*this.maxes[y.HSB][2],", ",j,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[y.HSL][0],", ",this.hsla[1]*this.maxes[y.HSL][1],", ",this.hsla[2]*this.maxes[y.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[y.HSL][0],", ",this.hsla[1]*this.maxes[y.HSL][1],", ",this.hsla[2]*this.maxes[y.HSL][2],", ",j,")");case"hsla%":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");default:return"rgba(".concat(A[0],",",A[1],",",A[2],",",j,")")}}},{key:"setRed",value:function(M){this._array[0]=M/this.maxes[y.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(M){this._array[1]=M/this.maxes[y.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(M){this._array[2]=M/this.maxes[y.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(M){this._array[3]=M/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var M=this._array,A=this.levels=new Array(M.length),B=M.length-1;0<=B;--B)A[B]=Math.round(255*M[B]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(M,A){this.mode=M,this.maxes=A}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[y.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[y.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[y.RGB][1]}},{key:"_getHue",value:function(){return this.mode===y.HSB?(this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[y.HSB][0]):(this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[y.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[y.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[y.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===y.HSB?(this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[y.HSB][1]):(this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[y.HSL][1])}}])&&l(w.prototype,R),E&&l(w,E),m}(),$.default=p=g.default.Color},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(o,ie,$){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.fill"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(_=o("../core/main"))&&_.__esModule?_:{default:_},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=c?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Color"),g.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},g.default.prototype.endClip=function(){this._renderer.endClip()},g.default.prototype.clip=function(s,l){this._renderer.beginClip(l),s(),this._renderer.endClip(l)},g.default.prototype.background=function(){var s;return(s=this._renderer).background.apply(s,arguments),this},g.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},g.default.prototype.colorMode=function(s,l,a,d,c){return g.default._validateParameters("colorMode",arguments),s!==y.RGB&&s!==y.HSB&&s!==y.HSL||(this._colorMode=s,s=this._colorMaxes[s],2===arguments.length?(s[0]=l,s[1]=l,s[2]=l,s[3]=l):4===arguments.length?(s[0]=l,s[1]=a,s[2]=d):5===arguments.length&&(s[0]=l,s[1]=a,s[2]=d,s[3]=c)),this},g.default.prototype.fill=function(){var s;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(s=this._renderer).fill.apply(s,arguments),this},g.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},g.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},g.default.prototype.stroke=function(){var s;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(s=this._renderer).stroke.apply(s,arguments),this},g.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},g.default.prototype.noErase=function(){return this._renderer.noErase(),this};var _=g.default;$.default=_},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.QUADRATIC=$.LINEAR=$._CTX_MIDDLE=$._DEFAULT_LEADMULT=$._DEFAULT_TEXT_FILL=$.WORD=$.CHAR=$.BOLDITALIC=$.BOLD=$.ITALIC=$.NORMAL=$.BLUR=$.ERODE=$.DILATE=$.POSTERIZE=$.INVERT=$.OPAQUE=$.GRAY=$.THRESHOLD=$.BURN=$.DODGE=$.SOFT_LIGHT=$.HARD_LIGHT=$.OVERLAY=$.REPLACE=$.SCREEN=$.MULTIPLY=$.EXCLUSION=$.SUBTRACT=$.DIFFERENCE=$.LIGHTEST=$.DARKEST=$.ADD=$.REMOVE=$.BLEND=$.UP_ARROW=$.TAB=$.SHIFT=$.RIGHT_ARROW=$.RETURN=$.OPTION=$.LEFT_ARROW=$.ESCAPE=$.ENTER=$.DOWN_ARROW=$.DELETE=$.CONTROL=$.BACKSPACE=$.ALT=$.AUTO=$.HSL=$.HSB=$.RGB=$.MITER=$.BEVEL=$.ROUND=$.SQUARE=$.PROJECT=$.PIE=$.CHORD=$.OPEN=$.CLOSE=$.TESS=$.QUAD_STRIP=$.QUADS=$.TRIANGLE_STRIP=$.TRIANGLE_FAN=$.TRIANGLES=$.LINE_LOOP=$.LINE_STRIP=$.LINES=$.POINTS=$.BASELINE=$.BOTTOM=$.TOP=$.CENTER=$.LEFT=$.RIGHT=$.RADIUS=$.CORNERS=$.CORNER=$.RAD_TO_DEG=$.DEG_TO_RAD=$.RADIANS=$.DEGREES=$.TWO_PI=$.TAU=$.QUARTER_PI=$.PI=$.HALF_PI=$.WAIT=$.TEXT=$.MOVE=$.HAND=$.CROSS=$.ARROW=$.WEBGL2=$.WEBGL=$.P2D=$.VERSION=void 0,$.RGBA=$.HALF_FLOAT=$.FLOAT=$.UNSIGNED_INT=$.UNSIGNED_BYTE=$.COVER=$.CONTAIN=$.FALLBACK=$.LABEL=$.AXES=$.GRID=$._DEFAULT_FILL=$._DEFAULT_STROKE=$.PORTRAIT=$.LANDSCAPE=$.SMOOTH=$.FLAT=$.MIRROR=$.CLAMP=$.REPEAT=$.NEAREST=$.IMAGE=$.IMMEDIATE=$.TEXTURE=$.FILL=$.STROKE=$.CURVE=$.BEZIER=void 0;var v=Math.PI,b=($.VERSION="1.10.0",$.P2D="p2d",$.WEBGL="webgl",$.WEBGL2="webgl2",$.ARROW="default",$.CROSS="crosshair",$.HAND="pointer",$.MOVE="move",$.TEXT="text",$.WAIT="wait",v/2);$.HALF_PI=b,$.PI=b=v,$.QUARTER_PI=b=v/4,$.TAU=b=2*v,$.TWO_PI=b=2*v,$.DEGREES="degrees",$.RADIANS="radians",$.DEG_TO_RAD=b=v/180,$.RAD_TO_DEG=b=180/v,$.CORNER="corner",$.CORNERS="corners",$.RADIUS="radius",$.RIGHT="right",$.LEFT="left",$.CENTER="center",$.TOP="top",$.BOTTOM="bottom",$.BASELINE="alphabetic",$.POINTS=0,$.LINES=1,$.LINE_STRIP=3,$.LINE_LOOP=2,$.TRIANGLES=4,$.TRIANGLE_FAN=6,$.TRIANGLE_STRIP=5,$.QUADS="quads",$.QUAD_STRIP="quad_strip",$.TESS="tess",$.CLOSE="close",$.OPEN="open",$.CHORD="chord",$.PIE="pie",$.PROJECT="square",$.SQUARE="butt",$.ROUND="round",$.BEVEL="bevel",$.MITER="miter",$.RGB="rgb",$.HSB="hsb",$.HSL="hsl",$.AUTO="auto",$.ALT=18,$.BACKSPACE=8,$.CONTROL=17,$.DELETE=46,$.DOWN_ARROW=40,$.ENTER=13,$.ESCAPE=27,$.LEFT_ARROW=37,$.OPTION=18,$.RETURN=13,$.RIGHT_ARROW=39,$.SHIFT=16,$.TAB=9,$.UP_ARROW=38,$.BLEND="source-over",$.REMOVE="destination-out",$.ADD="lighter",$.DARKEST="darken",$.LIGHTEST="lighten",$.DIFFERENCE="difference",$.SUBTRACT="subtract",$.EXCLUSION="exclusion",$.MULTIPLY="multiply",$.SCREEN="screen",$.REPLACE="copy",$.OVERLAY="overlay",$.HARD_LIGHT="hard-light",$.SOFT_LIGHT="soft-light",$.DODGE="color-dodge",$.BURN="color-burn",$.THRESHOLD="threshold",$.GRAY="gray",$.OPAQUE="opaque",$.INVERT="invert",$.POSTERIZE="posterize",$.DILATE="dilate",$.ERODE="erode",$.BLUR="blur",$.NORMAL="normal",$.ITALIC="italic",$.BOLD="bold",$.BOLDITALIC="bold italic",$.CHAR="CHAR",$.WORD="WORD",$._DEFAULT_TEXT_FILL="#000000",$._DEFAULT_LEADMULT=1.25,$._CTX_MIDDLE="middle",$.LINEAR="linear",$.QUADRATIC="quadratic",$.BEZIER="bezier",$.CURVE="curve",$.STROKE="stroke",$.FILL="fill",$.TEXTURE="texture",$.IMMEDIATE="immediate",$.IMAGE="image",$.NEAREST="nearest",$.REPEAT="repeat",$.CLAMP="clamp",$.MIRROR="mirror",$.FLAT="flat",$.SMOOTH="smooth",$.LANDSCAPE="landscape",$.PORTRAIT="portrait",$._DEFAULT_STROKE="#000000",$._DEFAULT_FILL="#FFFFFF",$.GRID="grid",$.AXES="axes",$.LABEL="label",$.FALLBACK="fallback",$.CONTAIN="contain",$.COVER="cover",$.UNSIGNED_BYTE="unsigned-byte",$.UNSIGNED_INT="unsigned-int",$.FLOAT="float",$.HALF_FLOAT="half-float",$.RGBA="rgba"},{}],273:[function(o,ie,$){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}function b(c){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(c)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(y=o("./main"))&&y.__esModule?y:{default:y},y=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==b(c)&&"function"!=typeof c)return{default:c};var u=C();if(u&&u.has(c))return u.get(c);var h,p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in c){var w;Object.prototype.hasOwnProperty.call(c,h)&&((w=m?Object.getOwnPropertyDescriptor(c,h):null)&&(w.get||w.set)?Object.defineProperty(p,h,w):p[h]=c[h])}return p.default=c,u&&u.set(c,p),p}(o("./constants"));function C(){var c;return"function"!=typeof WeakMap?null:(C=function(){return c},c=new WeakMap)}var _=[y.ARROW,y.CROSS,y.HAND,y.MOVE,y.TEXT,y.WAIT],s=(g.default.prototype._frameRate=0,g.default.prototype._lastFrameTime=window.performance.now(),g.default.prototype._targetFrameRate=60,window.print),l=!1;function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function d(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}g.default.prototype.print=function(){var c;arguments.length?(c=console).log.apply(c,arguments):l||(s(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(l=!0))},g.default.prototype.frameCount=0,g.default.prototype.deltaTime=0,g.default.prototype.focused=document.hasFocus(),g.default.prototype.cursor=function(c,u,h){var p,m="auto",w=this._curElement.elt;_.includes(c)?m=c:"string"==typeof c&&(p="",u&&h&&"number"==typeof u&&"number"==typeof h&&(p="".concat(u," ").concat(h)),m="http://"===c.substring(0,7)||"https://"===c.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(c)?"url(".concat(c,") ").concat(p,", auto"):c),w.style.cursor=m},g.default.prototype.frameRate=function(c){return g.default._validateParameters("frameRate",arguments),"number"!=typeof c||c<0?this._frameRate:(this._setProperty("_targetFrameRate",c),0===c&&this._setProperty("_frameRate",c),this)},g.default.prototype.getFrameRate=function(){return this.frameRate()},g.default.prototype.setFrameRate=function(c){return this.frameRate(c)},g.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},g.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},g.default.prototype.webglVersion=y.P2D,g.default.prototype.displayWidth=screen.width,g.default.prototype.displayHeight=screen.height,g.default.prototype.windowWidth=0,g.default.prototype.windowHeight=0,g.default.prototype._onresize=function(c){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",d());var u=this._isGlobal?window:this;"function"!=typeof u.windowResized||void 0===(u=u.windowResized(c))||u||c.preventDefault()},g.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",d())},g.default.prototype.width=0,g.default.prototype.height=0,g.default.prototype.fullscreen=function(c){if(g.default._validateParameters("fullscreen",arguments),void 0===c)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(c){if(c=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},g.default.prototype.pixelDensity=function(c){var u;return g.default._validateParameters("pixelDensity",arguments),"number"==typeof c?(c!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=c),(u=this).resizeCanvas(this.width,this.height,!0)):u=this._pixelDensity,u},g.default.prototype.displayDensity=function(){return window.devicePixelRatio},g.default.prototype.getURL=function(){return location.href},g.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(c){return""!==c})},g.default.prototype.getURLParams=function(){for(var c,u=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,h={};null!=(c=u.exec(location.search));)c.index===u.lastIndex&&u.lastIndex++,h[c[1]]=c[2];return h},$.default=o=g.default},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(_=o("../main"))&&_.__esModule?_:{default:_};function b(s,l){l=l||console.log.bind(console),g||C(),g.some(function(a){var d;if(s.message&&null!==s.message.match("\\W?".concat(a.name,"\\W")))return d="function"===a.type?"".concat(a.name,"()"):a.name,l("Did you just try to use p5.js's ".concat(d," ").concat(a.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(y)),!0})}o("../internationalization");var g=null,C=null,y=(v.default._friendlyError=v.default._checkForUserDefinedFunctions=v.default._fesErrorMonitor=function(){},g=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),_=(C=function(){function s(a){return Object.getOwnPropertyNames(a).filter(function(d){return"_"!==d[0]&&!(d in l)&&(l[d]=!0)}).map(function(d){var c="function"==typeof a[d]?"function":d===d.toUpperCase()?"constant":"variable";return{name:d,type:c}})}var l={};(g=[].concat(s(v.default.prototype),s(o("../constants")))).sort(function(a,d){return d.name.length-a.name.length})},v.default.prototype._helpForMisusedAtTopLevelCode=b,"complete"!==document.readyState&&(window.addEventListener("error",b,!1),window.addEventListener("load",function(){window.removeEventListener("error",b,!1)})),v.default);$.default=_},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(v=o("../main"))&&v.__esModule?v:{default:v};o("../internationalization"),v.default._friendlyFileLoadError=function(){},$.default=o=v.default},{"../internationalization":281,"../main":283}],276:[function(o,ie,$){"use strict";function v(P){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(P)}function b(P){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(re){return v(re)}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":v(re)})(P)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=function H(P){return P&&P.__esModule?P:{default:P}}(o("../main"));function z(){var P;return"function"!=typeof WeakMap?null:(z=function(){return P},P=new WeakMap)}o("../internationalization"),function ee(P){if(P&&P.__esModule)return P;if(null===P||"object"!==b(P)&&"function"!=typeof P)return{default:P};var re=z();if(re&&re.has(P))return re.get(P);var ge,Te,Ge={},qe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ge in P)Object.prototype.hasOwnProperty.call(P,ge)&&((Te=qe?Object.getOwnPropertyDescriptor(P,ge):null)&&(Te.get||Te.set)?Object.defineProperty(Ge,ge,Te):Ge[ge]=P[ge]);return Ge.default=P,re&&re.set(P,Ge),Ge}(o("../constants")),g.default._fesCodeReader=function(){},$.default=g.default},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(o,ie,$){"use strict";function v(){var b=/(^|@)\S+:\d+/,g=/^\s*at .*(\S+:\d+|\(native\))/m,y=/^(eval@)?(\[native code])?$/;return{parse:function(C){return void 0!==C.stacktrace||void 0!==C["opera#sourceloc"]?this.parseOpera(C):C.stack&&C.stack.match(g)?this.parseV8OrIE(C):C.stack?this.parseFFOrSafari(C):void 0},extractLocation:function(C){return-1===C.indexOf(":")?[C]:[(C=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(C.replace(/[()]/g,"")))[1],C[2]||void 0,C[3]||void 0]},parseV8OrIE:function(C){return C.stack.split("\n").filter(function(_){return!!_.match(g)},this).map(function(_){var l=(s=(_=-1<_.indexOf("(eval ")?_.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):_).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),s=(s=l?s.replace(l[0],""):s).split(/\s+/).slice(1);return l=this.extractLocation(l?l[1]:s.pop()),{functionName:s.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(l[0])?void 0:l[0],lineNumber:l[1],columnNumber:l[2],source:_}},this)},parseFFOrSafari:function(C){return C.stack.split("\n").filter(function(_){return!_.match(y)},this).map(function(_){var s,l;return-1===(_=-1<_.indexOf(" > eval")?_.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):_).indexOf("@")&&-1===_.indexOf(":")?{functionName:_}:{functionName:(l=_.match(s=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&l[1]?l[1]:void 0,fileName:(l=this.extractLocation(_.replace(s,"")))[0],lineNumber:l[1],columnNumber:l[2],source:_}},this)},parseOpera:function(C){return!C.stacktrace||-1<C.message.indexOf("\n")&&C.message.split("\n").length>C.stacktrace.split("\n").length?this.parseOpera9(C):C.stack?this.parseOpera11(C):this.parseOpera10(C)},parseOpera9:function(C){for(var _=/Line (\d+).*script (?:in )?(\S+)/i,s=C.message.split("\n"),l=[],a=2,d=s.length;a<d;a+=2){var c=_.exec(s[a]);c&&l.push({fileName:c[2],lineNumber:c[1],source:s[a]})}return l},parseOpera10:function(C){for(var _=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=C.stacktrace.split("\n"),l=[],a=0,d=s.length;a<d;a+=2){var c=_.exec(s[a]);c&&l.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:s[a]})}return l},parseOpera11:function(C){return C.stack.split("\n").filter(function(_){return!!_.match(b)&&!_.match(/^Error created at/)},this).map(function(_){var s,a=_.split("@"),l=this.extractLocation(a.pop());return{functionName:(a=a.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(s=a.match(/\(([^)]*)\)/)?a.replace(/^[^(]+\(([^)]*)\)$/,"$1"):s)||"[arguments not available]"===s?void 0:s.split(","),fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:_}},this)}}}o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../main"))&&o.__esModule?o:{default:o}).default._getErrorStackParser=function(){return new v},$.default=o=o.default},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(o,ie,$){"use strict";function v(C){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(b=o("../main"))&&b.__esModule?b:{default:b};function g(){var C;return"function"!=typeof WeakMap?null:(g=function(){return C},C=new WeakMap)}function y(C){return(y="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(C)}(function(C){if(!(C&&C.__esModule||null===C||"object"!==y(C)&&"function"!=typeof C)){var _=g();if(_&&_.has(C))return _.get(C);var s,l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in C){var d;Object.prototype.hasOwnProperty.call(C,s)&&((d=a?Object.getOwnPropertyDescriptor(C,s):null)&&(d.get||d.set)?Object.defineProperty(l,s,d):l[s]=C[s])}l.default=C,_&&_.set(C,l)}})(o("../constants")),o("../internationalization"),b.default._validateParameters=b.default._clearValidateParamsCache=function(){},$.default=o=b.default},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(o,ie,$){"use strict";function v(C){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(C)}function b(C){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=function(C){if(C&&C.__esModule)return C;if(null===C||"object"!==b(C)&&"function"!=typeof C)return{default:C};var _=y();if(_&&_.has(C))return _.get(C);var s,l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in C){var d;Object.prototype.hasOwnProperty.call(C,s)&&((d=a?Object.getOwnPropertyDescriptor(C,s):null)&&(d.get||d.set)?Object.defineProperty(l,s,d):l[s]=C[s])}return l.default=C,_&&_.set(C,l),l}(o("./constants"));function y(){var C;return"function"!=typeof WeakMap?null:(y=function(){return C},C=new WeakMap)}$.default={modeAdjust:function(C,_,s,l,a){return a===g.CORNER?{x:C,y:_,w:s,h:l}:a===g.CORNERS?{x:C,y:_,w:s-C,h:l-_}:a===g.RADIUS?{x:C-s,y:_-l,w:2*s,h:2*l}:a===g.CENTER?{x:C-.5*s,y:_-.5*l,w:s,h:l}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(o,ie,$){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(b=o("../core/main"))&&b.__esModule?b:{default:b};o("./internationalization");var b=Promise.resolve();Promise.all([new Promise(function(g,y){"complete"===document.readyState?g():window.addEventListener("load",g,!1)}),b]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!v.default.instance&&new v.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(o,ie,$){"use strict";o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.setTranslatorLanguage=$.currentTranslatorLanguage=$.availableTranslatorLanguages=$.initialize=$.translator=void 0;var v,g=C(o("i18next")),y=C(o("i18next-browser-languagedetector"));function C(l){return l&&l.__esModule?l:{default:l}}function _(l,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}var s=function(){function l(u,h){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.init(u,h)}var a,d;return a=l,(d=[{key:"fetchWithTimeout",value:function(u,h){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(u,h),new Promise(function(m,w){return setTimeout(function(){return w(new Error("timeout"))},p)})])}},{key:"init",value:function(u){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=u,this.options=h}},{key:"read",value:function(u,h,p){var m=this.options.loadPath;u===this.options.fallback?p(null,v[u][h]):undefined.includes(u)?(m=this.services.interpolator.interpolate(m,{lng:u,ns:h}),this.loadUrl(m,p)):p("Not found",!1)}},{key:"loadUrl",value:function(u,h){this.fetchWithTimeout(u).then(function(p){if(p.ok)return p.json();throw new Error("failed loading ".concat(u))},function(){throw new Error("failed loading ".concat(u))}).then(function(p){return h(null,p)}).catch(h)}}])&&_(a.prototype,d),l}();s.type="backend",$.translator=function(l,a){console.debug("p5.js translator called before translations were loaded"),g.default.t(l,a)},$.initialize=function(){return g.default.use(y.default).use(s).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:v}).then(function(l){$.translator=l},function(l){return console.debug("Translations failed to load (".concat(l,")"))})},$.availableTranslatorLanguages=function(){return g.default.languages},$.currentTranslatorLanguage=function(l){return g.default.language},$.setTranslatorLanguage=function(l){return g.default.changeLanguage(l||void 0,function(a){return console.debug("Translations failed to load (".concat(a,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},$.default=o=o.default},{"./main":283}],283:[function(o,ie,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,o("./shim");var g=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var a=y();if(a&&a.has(l))return a.get(l);var d,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var h;Object.prototype.hasOwnProperty.call(l,d)&&((h=u?Object.getOwnPropertyDescriptor(l,d):null)&&(h.get||h.set)?Object.defineProperty(c,d,h):c[d]=l[d])}return c.default=l,a&&a.set(l,c),c}(o("./constants"));function y(){var l;return"function"!=typeof WeakMap?null:(y=function(){return l},l=new WeakMap)}function C(l,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}var _,s=function(){function l(u,m){var p=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=m,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},m=Object.getOwnPropertyNames(l.prototype._registeredMethods);var w=!0,R=!1,E=void 0;try{for(var M,A=m[Symbol.iterator]();!(w=(M=A.next()).done);w=!0){var B=M.value;this._registeredMethods[B]=l.prototype._registeredMethods[B].slice()}}catch(G){R=!0,E=G}finally{try{w||null==A.return||A.return()}finally{if(R)throw E}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),l.prototype.callRegisteredHooksFor=function(G){var K=this||l.prototype,le=this._isGlobal?window:this;if(K._registeredMethods.hasOwnProperty(G)){K=K._registeredMethods[G];var Oe=!0,Y=void(G=!1);try{for(var P,re=K[Symbol.iterator]();!(Oe=(P=re.next()).done);Oe=!0){var ge=P.value;"function"==typeof ge&&ge.call(le)}}catch(qe){G=!0,Y=qe}finally{try{Oe||null==re.return||re.return()}finally{if(G)throw Y}}}},this._start=function(){p._userNode&&"string"==typeof p._userNode&&(p._userNode=document.getElementById(p._userNode));var G=p._isGlobal?window:p;if(G.preload){p.callRegisteredHooksFor("beforePreload");var K,le=document.getElementById(p._loadingScreenId),Oe=(le||((le=document.createElement("div")).innerHTML="Loading...",le.style.position="absolute",le.id=p._loadingScreenId,(p._userNode||document.body).appendChild(le)),p._preloadMethods);for(K in Oe){Oe[K]=Oe[K]||l;var Y=Oe[K];Y!==l.prototype&&Y!==l||(p._isGlobal&&(window[K]=p._wrapPreload(p,K)),Y=p),p._registeredPreloadMethods[K]=Y[K],Y[K]=p._wrapPreload(Y,K)}G.preload(),p._runIfPreloadsAreDone()}else p._setup(),p._recording||p._draw()},this._runIfPreloadsAreDone=function(){var G,K=this._isGlobal?window:this;0===K._preloadCount&&((G=document.getElementById(K._loadingScreenId))&&G.parentNode.removeChild(G),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),K._setup(),this._recording||K._draw()))},this._decrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||"function"!=typeof G.preload||(G._setProperty("_preloadCount",G._preloadCount-1),G._runIfPreloadsAreDone())},this._wrapPreload=function(G,K){var le=this;return function(){le._incrementPreload();for(var Oe=arguments.length,Y=new Array(Oe),P=0;P<Oe;P++)Y[P]=arguments[P];return le._registeredPreloadMethods[K].apply(G,Y)}},this._incrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||G._setProperty("_preloadCount",G._preloadCount+1)},this._setup=function(){p.callRegisteredHooksFor("beforeSetup"),p.createCanvas(p._defaultCanvasSize.width,p._defaultCanvasSize.height,"p2d");var G=p._isGlobal?window:p;if("function"==typeof G.preload)for(var K in p._preloadMethods)G[K]=p._preloadMethods[K][K],G[K]&&p&&(G[K]=G[K].bind(p));p._millisStart=window.performance.now(),G._preloadDone=!0,"function"==typeof G.setup&&G.setup();var le=document.getElementsByTagName("canvas"),Oe=!0,Y=!1,P=void 0;try{for(var re,ge=le[Symbol.iterator]();!(Oe=(re=ge.next()).done);Oe=!0){var Te=re.value;"true"===Te.dataset.hidden&&(Te.style.visibility="",delete Te.dataset.hidden)}}catch(Ge){Y=!0,P=Ge}finally{try{Oe||null==ge.return||ge.return()}finally{if(Y)throw P}}p._lastTargetFrameTime=window.performance.now(),p._lastRealFrameTime=window.performance.now(),p._setupDone=!0,(p._accessibleOutputs.grid||p._accessibleOutputs.text)&&p._updateAccsOutput(),p.callRegisteredHooksFor("afterSetup")},this._draw=function(K){K=K||window.performance.now();var Oe=1e3/p._targetFrameRate;(!p._loop||Oe-5<=K-p._lastTargetFrameTime)&&(p.deltaTime=K-p._lastRealFrameTime,p._setProperty("deltaTime",p.deltaTime),p._frameRate=1e3/p.deltaTime,p.redraw(),p._lastTargetFrameTime=Math.max(p._lastTargetFrameTime+Oe,K),p._lastRealFrameTime=K,void 0!==p._updateMouseCoords&&(p._updateMouseCoords(),p._setProperty("movedX",0),p._setProperty("movedY",0))),p._loop&&(p._requestAnimId=window.requestAnimationFrame(p._draw))},this._setProperty=function(G,K){p[G]=K,p._isGlobal&&(window[G]=K)},this.remove=function(){if(p._startListener&&window.removeEventListener("load",p._startListener,!1),(G=document.getElementById(p._loadingScreenId))&&(G.parentNode.removeChild(G),p._incrementPreload()),p._curElement){for(var K in p._loop=!1,p._requestAnimId&&window.cancelAnimationFrame(p._requestAnimId),p._events)window.removeEventListener(K,p._events[K]);var le=!0,G=!1,Oe=void 0;try{for(var Y,P=p._elements[Symbol.iterator]();!(le=(Y=P.next()).done);le=!0){var re,ge=Y.value;for(re in ge.elt&&ge.elt.parentNode&&ge.elt.parentNode.removeChild(ge.elt),ge._events)ge.elt.removeEventListener(re,ge._events[re])}}catch(ze){G=!0,Oe=ze}finally{try{le||null==P.return||P.return()}finally{if(G)throw Oe}}var Te=p;p._registeredMethods.remove.forEach(function(ze){void 0!==ze&&ze.call(Te)})}if(p._isGlobal){for(var Ge in l.prototype)try{delete window[Ge]}catch{window[Ge]=void 0}for(var qe in p)if(p.hasOwnProperty(qe))try{delete window[qe]}catch{window[qe]=void 0}l.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(G){void 0!==G&&G.call(this)},this),this._setupPromisePreloads();var j,N,k=this._createFriendlyGlobalFunctionBinder();if(u)u(this),l._checkForUserDefinedFunctions(this);else{for(var J in this._isGlobal=!0,l.instance=this,l.prototype)"function"==typeof l.prototype[J]?(j=J.substring(2),this._events.hasOwnProperty(j)||(Math.hasOwnProperty(J)&&Math[J]===l.prototype[J]?k(J,l.prototype[J]):k(J,l.prototype[J].bind(this)))):k(J,l.prototype[J]);for(var ne in this)this.hasOwnProperty(ne)&&k(ne,this[ne])}for(N in this._events){var z=this["_on".concat(N)];z&&(z=z.bind(this),window.addEventListener(N,z,{passive:!1}),this._events[N]=z)}function ee(){p._setProperty("focused",!0)}function H(){p._setProperty("focused",!1)}window.addEventListener("focus",ee),window.addEventListener("blur",H),this.registerMethod("remove",function(){window.removeEventListener("focus",ee),window.removeEventListener("blur",H)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var a,d;return a=l,(d=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=g.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(u,h){l.prototype._preloadMethods.hasOwnProperty(u)||(l.prototype._preloadMethods[u]=h)}},{key:"registerMethod",value:function(u,h){var p=this||l.prototype;p._registeredMethods.hasOwnProperty(u)||(p._registeredMethods[u]=[]),p._registeredMethods[u].push(h)}},{key:"unregisterMethod",value:function(u,h){var p=this||l.prototype;if(p._registeredMethods.hasOwnProperty(u)){for(var m=p._registeredMethods[u],w=[],R=0;R<m.length;R++)m[R]===h&&w.push(R);for(var E=w.length-1;0<=E;E--)m.splice(w[E],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},h=u.globalObject||window;return u.log||console.log.bind(console),function(p,m){h[p]=m}}}])&&C(a.prototype,d),l}();for(_ in s.instance=null,s.disableFriendlyErrors=!1,g)s.prototype[_]=g[_];s.VERSION=g.VERSION,s.prototype._preloadMethods={loadJSON:s.prototype,loadImage:s.prototype,loadStrings:s.prototype,loadXML:s.prototype,loadBytes:s.prototype,loadTable:s.prototype,loadFont:s.prototype,loadModel:s.prototype,loadShader:s.prototype},s.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},s.prototype._registeredPreloadMethods={},$.default=s},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};function b(g,y){for(var C=0;C<y.length;C++){var _=y[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}v.default.Element=function(){function g(s,l){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.elt=s,this._pInst=this._pixelsState=l,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var y,C,_;return y=g,_=[{key:"_adjustListener",value:function(s,l,a){return!1===l?v.default.Element._detachListener(s,a):v.default.Element._attachListener(s,l,a),this}},{key:"_attachListener",value:function(s,l,a){a._events[s]&&v.default.Element._detachListener(s,a),l=l.bind(a),a.elt.addEventListener(s,l,!1),a._events[s]=l}},{key:"_detachListener",value:function(s,l){l.elt.removeEventListener(s,l._events[s],!1),l._events[s]=null}}],(C=[{key:"parent",value:function(s){return void 0===s?this.elt.parentNode:("string"==typeof s?("#"===s[0]&&(s=s.substring(1)),s=document.getElementById(s)):s instanceof v.default.Element&&(s=s.elt),s.appendChild(this.elt),this)}},{key:"id",value:function(s){return void 0===s?this.elt.id:(this.elt.id=s,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(s){return void 0===s?this.elt.className:(this.elt.className=s,this)}},{key:"mousePressed",value:function(s){return v.default.Element._adjustListener("mousedown",function(l){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(l),s.call(this,l)},this),this}},{key:"doubleClicked",value:function(s){return v.default.Element._adjustListener("dblclick",s,this),this}},{key:"mouseWheel",value:function(s){return v.default.Element._adjustListener("wheel",s,this),this}},{key:"mouseReleased",value:function(s){return v.default.Element._adjustListener("mouseup",s,this),this}},{key:"mouseClicked",value:function(s){return v.default.Element._adjustListener("click",s,this),this}},{key:"mouseMoved",value:function(s){return v.default.Element._adjustListener("mousemove",s,this),this}},{key:"mouseOver",value:function(s){return v.default.Element._adjustListener("mouseover",s,this),this}},{key:"mouseOut",value:function(s){return v.default.Element._adjustListener("mouseout",s,this),this}},{key:"touchStarted",value:function(s){return v.default.Element._adjustListener("touchstart",s,this),this}},{key:"touchMoved",value:function(s){return v.default.Element._adjustListener("touchmove",s,this),this}},{key:"touchEnded",value:function(s){return v.default.Element._adjustListener("touchend",s,this),this}},{key:"dragOver",value:function(s){return v.default.Element._adjustListener("dragover",s,this),this}},{key:"dragLeave",value:function(s){return v.default.Element._adjustListener("dragleave",s,this),this}},{key:"_setProperty",value:function(s,l){this[s]=l}}])&&b(y.prototype,C),_&&b(y,_),g}(),$.default=o=v.default.Element},{"./main":283}],285:[function(o,ie,$){"use strict";function v(h){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-prototype-of"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(u=o("./main"))&&u.__esModule?u:{default:u},y=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==b(h)&&"function"!=typeof h)return{default:h};var p=C();if(p&&p.has(h))return p.get(h);var m,w={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var E;Object.prototype.hasOwnProperty.call(h,m)&&((E=R?Object.getOwnPropertyDescriptor(h,m):null)&&(E.get||E.set)?Object.defineProperty(w,m,E):w[m]=h[m])}return w.default=h,p&&p.set(h,w),w}(o("./constants"));function C(){var h;return"function"!=typeof WeakMap?null:(C=function(){return h},h=new WeakMap)}function _(h,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}function s(h,p){return(s=Object.setPrototypeOf||function(m,w){return m.__proto__=w,m})(h,p)}function a(h,p){return!p||"object"!==b(p)&&"function"!=typeof p?d(h):p}function d(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function c(h){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(h)}g.default.Graphics=function(h){var p=R;if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),h&&s(p,h);var w=function l(h){return function(){var p,m=c(h);return a(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=c(this).constructor,Reflect.construct(m,arguments,p)):m.apply(this,arguments))}}(R);function R(E,M,ne,B,j){var N;if(!(this instanceof R))throw new TypeError("Cannot call a class as a function");J=j||document.createElement("canvas"),(N=w.call(this,J,B)).canvas=J;var k,J=ne||y.P2D;for(k in ne=B._userNode||document.body,j||ne.appendChild(N.canvas),g.default.prototype)N[k]||(N[k]="function"==typeof g.default.prototype[k]?g.default.prototype[k].bind(d(N)):g.default.prototype[k]);return g.default.prototype._initializeInstanceVariables.apply(d(N)),N.width=E,N.height=M,N._pixelDensity=B._pixelDensity,J===y.WEBGL?(N._renderer=new g.default.RendererGL(N.canvas,d(N),!1),E=(j=N._renderer._adjustDimensions(E,M)).adjustedWidth,M=j.adjustedHeight):N._renderer=new g.default.Renderer2D(N.canvas,d(N),!1),B._elements.push(d(N)),Object.defineProperty(d(N),"deltaTime",{get:function(){return this._pInst.deltaTime}}),N._renderer.resize(E,M),N._renderer._applyDefaults(),a(N,d(N))}return p=R,(h=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var E,M=this._pInst._elements.indexOf(this);for(E in-1!==M&&this._pInst._elements.splice(M,1),this._events)this.elt.removeEventListener(E,this._events[E]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(E){return new g.default.Framebuffer(this,E)}}])&&_(p.prototype,h),R}(g.default.Element);var u=g.default.Graphics;$.default=u},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(o,ie,$){"use strict";function v(h){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(c=o("./main"))&&c.__esModule?c:{default:c},g=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==C(h)&&"function"!=typeof h)return{default:h};var p=y();if(p&&p.has(h))return p.get(h);var m,w={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var E;Object.prototype.hasOwnProperty.call(h,m)&&((E=R?Object.getOwnPropertyDescriptor(h,m):null)&&(E.get||E.set)?Object.defineProperty(w,m,E):w[m]=h[m])}return w.default=h,p&&p.set(h,w),w}(o("../core/constants"));function y(){var h;return"function"!=typeof WeakMap?null:(y=function(){return h},h=new WeakMap)}function C(h){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(h)}function _(h,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}function s(h,p){return(s=Object.setPrototypeOf||function(m,w){return m.__proto__=w,m})(h,p)}function a(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function d(h){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(h)}var c=function(h){var p=R;if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),h&&s(p,h);var w=function l(h){return function(){var p,m,w=d(h);return p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=d(this).constructor,Reflect.construct(w,arguments,p)):w.apply(this,arguments),w=this,!(m=p)||"object"!==C(m)&&"function"!=typeof m?a(w):m}}(R);function R(E,M,A){var B;if(this instanceof R)return(B=w.call(this,E,M)).canvas=E,B._pixelsState=M,A?(B._isMainCanvas=!0,B._pInst._setProperty("_curElement",a(B)),B._pInst._setProperty("canvas",B.canvas),B._pInst._setProperty("width",B.width),B._pInst._setProperty("height",B.height)):(B.canvas.style.display="none",B._styles=[]),B._clipping=!1,B._clipInvert=!1,B._textSize=12,B._textLeading=15,B._textFont="sans-serif",B._textStyle=g.NORMAL,B._textAscent=null,B._textDescent=null,B._textAlign=g.LEFT,B._textBaseline=g.BASELINE,B._textWrap=g.WORD,B._rectMode=g.CORNER,B._ellipseMode=g.CENTER,B._curveTightness=0,B._imageMode=g.CORNER,B._tint=null,B._doStroke=!0,B._doFill=!0,B._strokeSet=!1,B._fillSet=!1,B._leadingSet=!1,B._pushPopDepth=0,B;throw new TypeError("Cannot call a class as a function")}return p=R,(h=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(E){this._pushPopDepth--,E.properties&&Object.assign(this,E.properties)}},{key:"beginClip",value:function(){var E=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=E.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(E,M){this.width=E,this.height=M,this.elt.width=E*this._pInst._pixelDensity,this.elt.height=M*this._pInst._pixelDensity,this.elt.style.width="".concat(E,"px"),this.elt.style.height="".concat(M,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(E,M,A,B){var j=this._pixelsState,N=j._pixelDensity,k=this.canvas;if(void 0===E&&void 0===M)E=M=0,A=j.width,B=j.height;else if(E*=N,M*=N,void 0===A&&void 0===B)return E<0||M<0||E>=k.width||M>=k.height?[0,0,0,0]:this._getPixel(E,M);return(j=new b.default.Image(A*N,B*N)).pixelDensity(N),j.canvas.getContext("2d").drawImage(k,E,M,A*N,B*N,0,0,A*N,B*N),j}},{key:"textLeading",value:function(E){return"number"==typeof E?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",E),this._pInst):this._textLeading}},{key:"textStyle",value:function(E){return E?(E!==g.NORMAL&&E!==g.ITALIC&&E!==g.BOLD&&E!==g.BOLDITALIC||this._setProperty("_textStyle",E),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(E,M){return void 0!==E?(this._setProperty("_textAlign",E),void 0!==M&&this._setProperty("_textBaseline",M),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(E){return this._setProperty("_textWrap",E),this._textWrap}},{key:"text",value:function(E,M,A,B,j){var N,k,J,ne,z=this._pInst,ee=this._textWrap,H=Number.MAX_VALUE,G=A;if((this._doFill||this._doStroke)&&void 0!==E){if(N=(E=(E="string"!=typeof E?E.toString():E).replace(/(\t)/g,"  ")).split("\n"),void 0!==B){switch(this._rectMode===g.CENTER&&(M-=B/2),this._textAlign){case g.CENTER:M+=B/2;break;case g.RIGHT:M+=B}if(void 0!==j){this._rectMode===g.CENTER&&(A-=j/2,G-=j/2),E=A;var K=z.textAscent();switch(this._textBaseline){case g.BOTTOM:ne=A+j,A=Math.max(ne,A),G+=K;break;case g.CENTER:ne=A+j/2,A=Math.max(ne,A),G+=K/2}H=A+j-K,this._textBaseline===g.CENTER&&(H=E+j-K/2)}else this._textBaseline!==g.BOTTOM&&this._textBaseline!==g.CENTER||(G=A-(E=z.textSize()*this._textLeading)/2,H=A+E/2);if(ee===g.WORD){for(var le=[],Oe=0;Oe<N.length;Oe++){for(var Y="",P=N[Oe].split(" "),re=0;re<P.length;re++)k="".concat(Y+P[re])+" ",Y=B<(J=this.textWidth(k))&&0<Y.length?(le.push(Y),"".concat(P[re])+" "):k;le.push(Y)}var ge=0;this._textBaseline===g.CENTER?ge=(le.length-1)*z.textLeading()/2:this._textBaseline===g.BOTTOM&&(ge=(le.length-1)*z.textLeading());for(var Te=0;Te<N.length;Te++){Y="",P=N[Te].split(" ");for(var Ge=0;Ge<P.length;Ge++)k="".concat(Y+P[Ge])+" ",B<(J=this.textWidth(k))&&0<Y.length?(this._renderText(z,Y.trim(),M,A-ge,H,G),Y="".concat(P[Ge])+" ",A+=z.textLeading()):Y=k;this._renderText(z,Y.trim(),M,A-ge,H,G),A+=z.textLeading()}}else{for(var qe=[],ht=0;ht<N.length;ht++)for(var ze=N[ht].split(Y=""),st=0;st<ze.length;st++)k="".concat(Y+ze[st]),(J=this.textWidth(k))<=B?Y+=ze[st]:B<J&&0<Y.length&&(qe.push(Y),Y="".concat(ze[st]));qe.push(Y);var lt=0;this._textBaseline===g.CENTER?lt=(qe.length-1)*z.textLeading()/2:this._textBaseline===g.BOTTOM&&(lt=(qe.length-1)*z.textLeading());for(var Be=0;Be<N.length;Be++){ze=N[Be].split(Y="");for(var Qe=0;Qe<ze.length;Qe++)k="".concat(Y+ze[Qe]),(J=this.textWidth(k))<=B?Y+=ze[Qe]:B<J&&0<Y.length&&(this._renderText(z,Y.trim(),M,A-lt,H,G),A+=z.textLeading(),Y="".concat(ze[Qe]))}this._renderText(z,Y.trim(),M,A-lt,H,G),A+=z.textLeading()}}else{var Je=0;this._textBaseline===g.CENTER?Je=(N.length-1)*z.textLeading()/2:this._textBaseline===g.BOTTOM&&(Je=(N.length-1)*z.textLeading());for(var ot=0;ot<N.length;ot++)this._renderText(z,N[ot],M,A-Je,H,G-Je),A+=z.textLeading()}return z}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var E=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===C(E)&&E.font&&E.font.supported}},{key:"_updateTextMetrics",value:function(){var E,M,A,B,j,N;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((E=document.createElement("span")).style.fontFamily=this._textFont,E.style.fontSize="".concat(this._textSize,"px"),E.innerHTML="ABCjgq|",(N=document.createElement("div")).style.display="inline-block",N.style.width="1px",N.style.height="0px",(M=document.createElement("div")).appendChild(E),M.appendChild(N),M.style.height="0px",M.style.overflow="hidden",document.body.appendChild(M),N.style.verticalAlign="baseline",B=u(N),j=u(E),A=B[1]-j[1],N.style.verticalAlign="bottom",B=u(N),j=u(E),N=B[1]-j[1]-A,document.body.removeChild(M),this._setProperty("_textAscent",A),this._setProperty("_textDescent",N)),this}}])&&_(p.prototype,h),R}(b.default.Element);function u(h){var p=0,m=0;if(h.offsetParent)for(;p+=h.offsetLeft,m+=h.offsetTop,h=h.offsetParent;);else p+=h.offsetLeft,m+=h.offsetTop;return[p,m]}c.prototype.textSize=function(h){return"number"==typeof h?(this._setProperty("_textSize",h),this._leadingSet||this._setProperty("_textLeading",h*g._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},b.default.Renderer=c,$.default=o=b.default.Renderer},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(h,ie,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function b(p){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(m){return v(m)}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":v(m)})(p)}h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.for-each"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.number.to-fixed"),h("core-js/modules/es.object.get-own-property-descriptor"),h("core-js/modules/es.object.get-prototype-of"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.reflect.construct"),h("core-js/modules/es.reflect.get"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.weak-map"),h("core-js/modules/web.dom-collections.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.for-each"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.number.to-fixed"),h("core-js/modules/es.object.get-prototype-of"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(u=h("./main"))&&u.__esModule?u:{default:u},y=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==b(p)&&"function"!=typeof p)return{default:p};var m=C();if(m&&m.has(p))return m.get(p);var w,R={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in p){var M;Object.prototype.hasOwnProperty.call(p,w)&&((M=E?Object.getOwnPropertyDescriptor(p,w):null)&&(M.get||M.set)?Object.defineProperty(R,w,M):R[w]=p[w])}return R.default=p,m&&m.set(p,R),R}(h("./constants"));function C(){var p;return"function"!=typeof WeakMap?null:(C=function(){return p},p=new WeakMap)}function _(p,m){for(var w=0;w<m.length;w++){var R=m[w];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(p,R.key,R)}}function s(p,m,w){return(s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,E,M){if(A=function(B,j){for(;!Object.prototype.hasOwnProperty.call(B,j)&&null!==(B=d(B)););return B}(A,E))return(A=Object.getOwnPropertyDescriptor(A,E)).get?A.get.call(M):A.value})(p,m,w||p)}function l(p,m){return(l=Object.setPrototypeOf||function(w,R){return w.__proto__=R,w})(p,m)}function d(p){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(p)}h("./p5.Renderer");var c="rgba(0,0,0,0)",u=function(p){var m=E;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),p&&l(m,p);var R=function a(p){return function(){var m,w=d(p);if(m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(m=d(this).constructor,Reflect.construct(w,arguments,m)):w.apply(this,arguments),w=this,!m||"object"!==b(m)&&"function"!=typeof m){if(void 0!==w)return w;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return m}}(E);function E(M,A,B){if(this instanceof E)return(M=R.call(this,M,A,B)).drawingContext=M.canvas.getContext("2d"),M._pInst._setProperty("drawingContext",M.drawingContext),M;throw new TypeError("Cannot call a class as a function")}return m=E,(p=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new g.default.Graphics(this.width,this.height,y.WEBGL,(this._pInst instanceof g.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=y.BLEND,this._setFill(y._DEFAULT_FILL),this._setStroke(y._DEFAULT_STROKE),this.drawingContext.lineCap=y.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(M,A){s(d(E.prototype),"resize",this).call(this,M,A),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var M,A;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof g.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(M=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(M,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(M=this._getFill(),A=(A=this._pInst).color.apply(A,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(A.levels),A=A.toString(),this._setFill(A),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(M),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var M=(M=this._pInst).color.apply(M,arguments);this._setFill(M.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",M.levels)}},{key:"stroke",value:function(){var M=(M=this._pInst).color.apply(M,arguments);this._setStroke(M.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",M.levels)}},{key:"erase",value:function(M,A){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,M=this._pInst.color(255,M).toString(),this.drawingContext.fillStyle=M,this._cachedStrokeStyle=this.drawingContext.strokeStyle,M=this._pInst.color(255,A).toString(),this.drawingContext.strokeStyle=M,A=this._cachedBlendMode,this.blendMode(y.REMOVE),this._cachedBlendMode=A,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(d(E.prototype),"beginClip",this).call(this,M),this._cachedFillStyle=this.drawingContext.fillStyle,M=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=M,this._cachedStrokeStyle=this.drawingContext.strokeStyle,M=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=M,M=this._cachedBlendMode,this.blendMode(y.BLEND),this._cachedBlendMode=M,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),s(d(E.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(M,A,B,j,N,k,J,ne,z){M.gifProperties&&M._animateGif(this._pInst);try{g.default.MediaElement&&M instanceof g.default.MediaElement&&M._ensureCanvas();var ee=(ee=this._tint&&M.canvas?this._getTintedImageCanvas(M):ee)||M.canvas||M.elt,H=1;M.width&&0<M.width&&(H=ee.width/M.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(ee,H*A,H*B,H*j,H*N,k,J,ne,z),this._isErasing&&this._pInst.erase()}catch(G){if("NS_ERROR_NOT_AVAILABLE"!==G.name)throw G}}},{key:"_getTintedImageCanvas",value:function(M){if(!M.canvas)return M;M.tintCanvas||(M.tintCanvas=document.createElement("canvas")),M.tintCanvas.width!==M.canvas.width&&(M.tintCanvas.width=M.canvas.width),M.tintCanvas.height!==M.canvas.height&&(M.tintCanvas.height=M.canvas.height);var A=M.tintCanvas.getContext("2d");return A.save(),A.clearRect(0,0,M.canvas.width,M.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(A.drawImage(M.canvas,0,0),A.globalCompositeOperation="luminosity",A.drawImage(M.canvas,0,0),A.globalCompositeOperation="color",A.drawImage(M.canvas,0,0),A.globalCompositeOperation="multiply",A.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),A.fillRect(0,0,M.canvas.width,M.canvas.height),A.globalCompositeOperation="destination-in"),A.globalAlpha=this._tint[3]/255,A.drawImage(M.canvas,0,0),A.restore(),M.tintCanvas}},{key:"blendMode",value:function(M){if(M===y.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(M!==y.BLEND&&M!==y.REMOVE&&M!==y.DARKEST&&M!==y.LIGHTEST&&M!==y.DIFFERENCE&&M!==y.MULTIPLY&&M!==y.EXCLUSION&&M!==y.SCREEN&&M!==y.REPLACE&&M!==y.OVERLAY&&M!==y.HARD_LIGHT&&M!==y.SOFT_LIGHT&&M!==y.DODGE&&M!==y.BURN&&M!==y.ADD)throw new Error("Mode ".concat(M," not recognized."));this._cachedBlendMode=M,this.drawingContext.globalCompositeOperation=M}}},{key:"blend",value:function(){for(var M=this.drawingContext.globalCompositeOperation,A=arguments.length,B=new Array(A),j=0;j<A;j++)B[j]=arguments[j];var N=B[B.length-1],k=Array.prototype.slice.call(B,0,B.length-1);this.drawingContext.globalCompositeOperation=N,g.default.prototype.copy.apply(this,k),this.drawingContext.globalCompositeOperation=M}},{key:"_getPixel",value:function(M,A){return[(M=this.drawingContext.getImageData(M,A,1,1).data)[0],M[1],M[2],M[3]]}},{key:"loadPixels",value:function(){var A,M=this._pixelsState,B=this.drawingContext.getImageData(0,0,B=this.width*(A=M._pixelDensity),A*=this.height);M._setProperty("imageData",B),M._setProperty("pixels",B.data)}},{key:"set",value:function(M,A,B){M=Math.floor(M),A=Math.floor(A);var j=this._pixelsState;if(B instanceof g.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(j._pixelDensity,j._pixelDensity),this.drawingContext.clearRect(M,A,B.width,B.height),this.drawingContext.drawImage(B.canvas,M,A),this.drawingContext.restore();else{var N=0,k=0,J=0,ne=0,z=4*(A*j._pixelDensity*(this.width*j._pixelDensity)+M*j._pixelDensity);if(j.imageData||j.loadPixels(),"number"==typeof B)z<j.pixels.length&&(J=k=N=B,ne=255);else if(Array.isArray(B)){if(B.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");z<j.pixels.length&&(N=B[0],k=B[1],J=B[2],ne=B[3])}else B instanceof g.default.Color&&z<j.pixels.length&&(N=B.levels[0],k=B.levels[1],J=B.levels[2],ne=B.levels[3]);for(var ee=0;ee<j._pixelDensity;ee++)for(var H=0;H<j._pixelDensity;H++)j.pixels[z=4*((A*j._pixelDensity+H)*this.width*j._pixelDensity+(M*j._pixelDensity+ee))]=N,j.pixels[z+1]=k,j.pixels[z+2]=J,j.pixels[z+3]=ne}}},{key:"updatePixels",value:function(M,A,B,j){var N=this._pixelsState,k=N._pixelDensity;void 0===M&&void 0===A&&void 0===B&&void 0===j&&(A=M=0,B=this.width,j=this.height),M*=k,A*=k,B*=k,j*=k,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=N.imageData),this.drawingContext.putImageData(N.imageData,M,A,0,0,B,j)}},{key:"_acuteArcToBezier",value:function(M,A){var k=A/2,B=Math.cos(k),ne=Math.sin(k),j=1/Math.tan(k),N=(k=M+k,Math.cos(k)),J=(k=Math.sin(k),(4-B)/3);return ne+=(B-J)*j,{ax:Math.cos(M).toFixed(7),ay:Math.sin(M).toFixed(7),bx:(J*N+ne*k).toFixed(7),by:(J*k-ne*N).toFixed(7),cx:(J*N-ne*k).toFixed(7),cy:(J*k+ne*N).toFixed(7),dx:Math.cos(M+A).toFixed(7),dy:Math.sin(M+A).toFixed(7)}}},{key:"arc",value:function(M,A,B,j,N,k,J){var ne,z=this.drawingContext,ee=B/2,H=j/2,G=[];for(M+=ee,A+=H;1e-5<=k-N;)ne=Math.min(k-N,y.HALF_PI),G.push(this._acuteArcToBezier(N,ne)),N+=ne;return this._doFill&&(this._clipping||z.beginPath(),G.forEach(function(K,le){0===le&&z.moveTo(M+K.ax*ee,A+K.ay*H),z.bezierCurveTo(M+K.bx*ee,A+K.by*H,M+K.cx*ee,A+K.cy*H,M+K.dx*ee,A+K.dy*H)}),J!==y.PIE&&null!=J||z.lineTo(M,A),z.closePath(),this._clipping||z.fill()),this._doStroke&&(this._clipping||z.beginPath(),G.forEach(function(K,le){0===le&&z.moveTo(M+K.ax*ee,A+K.ay*H),z.bezierCurveTo(M+K.bx*ee,A+K.by*H,M+K.cx*ee,A+K.cy*H,M+K.dx*ee,A+K.dy*H)}),J===y.PIE?(z.lineTo(M,A),z.closePath()):J===y.CHORD&&z.closePath(),this._clipping||z.stroke()),this}},{key:"ellipse",value:function(ne){var A=this.drawingContext,B=this._doFill,j=this._doStroke,N=parseFloat(ne[0]),k=parseFloat(ne[1]),J=parseFloat(ne[2]);if(ne=parseFloat(ne[3]),B&&!j){if(this._getFill()===c)return this}else if(!B&&j&&this._getStroke()===c)return this;N+=J/2,k+=ne/2,J/=2,ne/=2,this._clipping||A.beginPath(),A.ellipse(N,k,J,ne,0,0,2*Math.PI),!this._clipping&&B&&A.fill(),!this._clipping&&j&&A.stroke()}},{key:"line",value:function(M,A,B,j){var N=this.drawingContext;return this._doStroke&&this._getStroke()!==c&&(this._clipping||N.beginPath(),N.moveTo(M,A),N.lineTo(B,j),N.stroke()),this}},{key:"point",value:function(M,A){var B,j,N=this.drawingContext;return this._doStroke&&this._getStroke()!==c?(B=this._getStroke(),j=this._getFill(),this._clipping||this._setFill(B),this._clipping||N.beginPath(),N.arc(M,A,N.lineWidth/2,0,y.TWO_PI,!1),void(this._clipping||(N.fill(),this._setFill(j)))):this}},{key:"quad",value:function(M,A,B,j,N,k,J,ne){var z=this.drawingContext,ee=this._doFill,H=this._doStroke;if(ee&&!H){if(this._getFill()===c)return this}else if(!ee&&H&&this._getStroke()===c)return this;return this._clipping||z.beginPath(),z.moveTo(M,A),z.lineTo(B,j),z.lineTo(N,k),z.lineTo(J,ne),z.closePath(),!this._clipping&&ee&&z.fill(),!this._clipping&&H&&z.stroke(),this}},{key:"rect",value:function(H){var A,B,j=H[0],N=H[1],k=H[2],J=H[3],ne=H[4],z=H[5],ee=H[6],G=(H=H[7],this.drawingContext),K=this._doFill,le=this._doStroke;if(K&&!le){if(this._getFill()===c)return this}else if(!K&&le&&this._getStroke()===c)return this;return this._clipping||G.beginPath(),void 0===ne?G.rect(j,N,k,J):(void 0===z&&(z=ne),void 0===ee&&(ee=z),void 0===H&&(H=ee),le=(K=Math.abs(k))/2,B=(A=Math.abs(J))/2,A<2*(ne=K<2*ne?le:ne)&&(ne=B),A<2*(z=K<2*z?le:z)&&(z=B),A<2*(ee=K<2*ee?le:ee)&&(ee=B),A<2*(H=K<2*H?le:H)&&(H=B),this._clipping||G.beginPath(),G.moveTo(j+ne,N),G.arcTo(j+k,N,j+k,N+J,z),G.arcTo(j+k,N+J,j,N+J,ee),G.arcTo(j,N+J,j,N,H),G.arcTo(j,N,j+k,N,ne),G.closePath()),!this._clipping&&this._doFill&&G.fill(),!this._clipping&&this._doStroke&&G.stroke(),this}},{key:"triangle",value:function(ee){var A=this.drawingContext,B=this._doFill,j=this._doStroke,N=ee[0],k=ee[1],J=ee[2],ne=ee[3],z=ee[4];if(ee=ee[5],B&&!j){if(this._getFill()===c)return this}else if(!B&&j&&this._getStroke()===c)return this;this._clipping||A.beginPath(),A.moveTo(N,k),A.lineTo(J,ne),A.lineTo(z,ee),A.closePath(),!this._clipping&&B&&A.fill(),!this._clipping&&j&&A.stroke()}},{key:"endShape",value:function(M,A,B,j,N,k,J){if(0!==A.length&&(this._doStroke||this._doFill)){var ne,z,ee,H=M===y.CLOSE,G=(H&&!k&&A.push(A[0]),A.length);if(B&&null===J){if(3<G){var K=[],le=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(A[1][0],A[1][1]),z=1;z+2<G;z++)K[0]=[(ne=A[z])[0],ne[1]],K[1]=[ne[0]+(le*A[z+1][0]-le*A[z-1][0])/6,ne[1]+(le*A[z+1][1]-le*A[z-1][1])/6],K[2]=[A[z+1][0]+(le*A[z][0]-le*A[z+2][0])/6,A[z+1][1]+(le*A[z][1]-le*A[z+2][1])/6],K[3]=[A[z+1][0],A[z+1][1]],this.drawingContext.bezierCurveTo(K[1][0],K[1][1],K[2][0],K[2][1],K[3][0],K[3][1]);H&&this.drawingContext.lineTo(A[z+1][0],A[z+1][1]),this._doFillStrokeClose(H)}}else if(j&&null===J){for(this._clipping||this.drawingContext.beginPath(),z=0;z<G;z++)A[z].isVert?A[z].moveTo?this.drawingContext.moveTo(A[z][0],A[z][1]):this.drawingContext.lineTo(A[z][0],A[z][1]):this.drawingContext.bezierCurveTo(A[z][0],A[z][1],A[z][2],A[z][3],A[z][4],A[z][5]);this._doFillStrokeClose(H)}else if(N&&null===J){for(this._clipping||this.drawingContext.beginPath(),z=0;z<G;z++)A[z].isVert?A[z].moveTo?this.drawingContext.moveTo(A[z][0],A[z][1]):this.drawingContext.lineTo(A[z][0],A[z][1]):this.drawingContext.quadraticCurveTo(A[z][0],A[z][1],A[z][2],A[z][3]);this._doFillStrokeClose(H)}else if(J===y.POINTS)for(z=0;z<G;z++)ne=A[z],this._doStroke&&this._pInst.stroke(ne[6]),this._pInst.point(ne[0],ne[1]);else if(J===y.LINES)for(z=0;z+1<G;z+=2)ne=A[z],this._doStroke&&this._pInst.stroke(A[z+1][6]),this._pInst.line(ne[0],ne[1],A[z+1][0],A[z+1][1]);else if(J===y.TRIANGLES)for(z=0;z+2<G;z+=3)ne=A[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(ne[0],ne[1]),this.drawingContext.lineTo(A[z+1][0],A[z+1][1]),this.drawingContext.lineTo(A[z+2][0],A[z+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(A[z+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(A[z+2][6]),this.drawingContext.stroke());else if(J===y.TRIANGLE_STRIP)for(z=0;z+1<G;z++)ne=A[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(A[z+1][0],A[z+1][1]),this.drawingContext.lineTo(ne[0],ne[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[z+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(A[z+1][5]),z+2<G&&(this.drawingContext.lineTo(A[z+2][0],A[z+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[z+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(A[z+2][5])),this._doFillStrokeClose(H);else if(J===y.TRIANGLE_FAN){if(2<G){for(this._clipping||this.drawingContext.beginPath(),z=2;z<G;z++)ne=A[z],this.drawingContext.moveTo(A[0][0],A[0][1]),this.drawingContext.lineTo(A[z-1][0],A[z-1][1]),this.drawingContext.lineTo(ne[0],ne[1]),this.drawingContext.lineTo(A[0][0],A[0][1]),z<G-1&&(this._doFill&&ne[5]!==A[z+1][5]||this._doStroke&&ne[6]!==A[z+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(ne[5]),this.drawingContext.fill(),this._pInst.fill(A[z+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(ne[6]),this.drawingContext.stroke(),this._pInst.stroke(A[z+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(H)}}else if(J===y.QUADS)for(z=0;z+3<G;z+=4){for(ne=A[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(ne[0],ne[1]),ee=1;ee<4;ee++)this.drawingContext.lineTo(A[z+ee][0],A[z+ee][1]);this.drawingContext.lineTo(ne[0],ne[1]),!this._clipping&&this._doFill&&this._pInst.fill(A[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[z+3][6]),this._doFillStrokeClose(H)}else if(J===y.QUAD_STRIP){if(3<G)for(z=0;z+1<G;z+=2)ne=A[z],this._clipping||this.drawingContext.beginPath(),z+3<G?(this.drawingContext.moveTo(A[z+2][0],A[z+2][1]),this.drawingContext.lineTo(ne[0],ne[1]),this.drawingContext.lineTo(A[z+1][0],A[z+1][1]),this.drawingContext.lineTo(A[z+3][0],A[z+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(A[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[z+3][6])):(this.drawingContext.moveTo(ne[0],ne[1]),this.drawingContext.lineTo(A[z+1][0],A[z+1][1])),this._doFillStrokeClose(H)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(A[0][0],A[0][1]),z=1;z<G;z++)(ne=A[z]).isVert&&(ne.moveTo?(H&&this.drawingContext.closePath(),this.drawingContext.moveTo(ne[0],ne[1])):this.drawingContext.lineTo(ne[0],ne[1]));this._doFillStrokeClose(H)}k=N=j=B=!1,H&&A.pop()}return this}},{key:"strokeCap",value:function(M){return M!==y.ROUND&&M!==y.SQUARE&&M!==y.PROJECT||(this.drawingContext.lineCap=M),this}},{key:"strokeJoin",value:function(M){return M!==y.ROUND&&M!==y.BEVEL&&M!==y.MITER||(this.drawingContext.lineJoin=M),this}},{key:"strokeWeight",value:function(M){return this.drawingContext.lineWidth=void 0===M||0===M?1e-4:M,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(M){M!==this._cachedFillStyle&&(this.drawingContext.fillStyle=M,this._cachedFillStyle=M)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(M){M!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=M,this._cachedStrokeStyle=M)}},{key:"bezier",value:function(M,A,B,j,N,k,J,ne){return this._pInst.beginShape(),this._pInst.vertex(M,A),this._pInst.bezierVertex(B,j,N,k,J,ne),this._pInst.endShape(),this}},{key:"curve",value:function(M,A,B,j,N,k,J,ne){return this._pInst.beginShape(),this._pInst.curveVertex(M,A),this._pInst.curveVertex(B,j),this._pInst.curveVertex(N,k),this._pInst.curveVertex(J,ne),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(M){M&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(M,A,B,j,N,k){this.drawingContext.transform(M,A,B,j,N,k)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(M){this.drawingContext.rotate(M)}},{key:"scale",value:function(M,A){return this.drawingContext.scale(M,A),this}},{key:"translate",value:function(M,A){return M instanceof g.default.Vector&&(A=M.y,M=M.x),this.drawingContext.translate(M,A),this}},{key:"_renderText",value:function(M,A,B,j,N,k){if(!(j<k||N<=j))return M.push(),this._isOpenType()?this._textFont._renderPath(A,B,j,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(A,B,j),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(y._DEFAULT_TEXT_FILL),this.drawingContext.fillText(A,B,j))),M.pop(),M}},{key:"textWidth",value:function(M){return this._isOpenType()?this._textFont._textWidth(M,this._textSize):this.drawingContext.measureText(M).width}},{key:"_applyTextProperties",value:function(){var M=this._pInst,A=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),A=this._textFont,this._isOpenType()&&(A=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),A||"sans-serif");return/\s/.exec(A)&&(A='"'.concat(A,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(A),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===y.CENTER?y._CTX_MIDDLE:this._textBaseline,M}},{key:"push",value:function(){return this.drawingContext.save(),s(d(E.prototype),"push",this).call(this)}},{key:"pop",value:function(M){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,s(d(E.prototype),"pop",this).call(this,M)}}])&&_(m.prototype,p),E}(g.default.Renderer);u.prototype.text=function(p,m,w,A,E){var M;return void 0!==A&&this.drawingContext.textBaseline===y.BASELINE&&(M=!0,this.drawingContext.textBaseline=y.TOP),A=g.default.Renderer.prototype.text.apply(this,arguments),M&&(this.drawingContext.textBaseline=y.BASELINE),A},g.default.Renderer2D=u,$.default=h=g.default.Renderer2D},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(o=o("./main"))&&o.__esModule?o:{default:o};function b(){return{}}v.default.prototype._promisePreloads=[];var g=!(v.default.prototype.registerPromisePreload=function(y){v.default.prototype._promisePreloads.push(y)});v.default.prototype._setupPromisePreloads=function(){var y=!0,C=!1,_=void 0;try{for(var s,l=this._promisePreloads[Symbol.iterator]();!(y=(s=l.next()).done);y=!0){var a=s.value,d=this,c=a.method,u=a.addCallbacks,h=a.legacyPreloadSetup,p=a.target||this,m=p[c].bind(p);if(p===v.default.prototype){if(g)continue;d=null,m=p[c]}p[c]=this._wrapPromisePreload(d,m,u),h&&(p[h.method]=this._legacyPreloadGenerator(d,h,p[c]))}}catch(w){C=!0,_=w}finally{try{y||null==l.return||l.return()}finally{if(C)throw _}}g=!0},v.default.prototype._wrapPromisePreload=function(y,C,_){var s=function(){for(var l=this,a=(this._incrementPreload(),null),d=null,c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];if(_)for(var p=u.length-1;0<=p&&!d&&"function"==typeof u[p];p--)d=a,a=u.pop();var m=Promise.resolve(C.apply(this,u));return a&&m.then(a),d&&m.catch(d),m.then(function(){return l._decrementPreload()}),m};return y?s.bind(y):s},v.default.prototype._legacyPreloadGenerator=function(y,l,_){var s=l.createBaseObject||b;return l=function(){var a=this;this._incrementPreload();for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];var h=s.apply(this,c);return _.apply(this,c).then(function(p){Object.assign(h,p),a._decrementPreload()}),h},y?l.bind(y):l}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(o,ie,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(s=o("./main"))&&s.__esModule?s:{default:s},g=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==C(l)&&"function"!=typeof l)return{default:l};var a=y();if(a&&a.has(l))return a.get(l);var d,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var h;Object.prototype.hasOwnProperty.call(l,d)&&((h=u?Object.getOwnPropertyDescriptor(l,d):null)&&(h.get||h.set)?Object.defineProperty(c,d,h):c[d]=l[d])}return c.default=l,a&&a.set(l,c),c}(o("./constants"));function y(){var l;return"function"!=typeof WeakMap?null:(y=function(){return l},l=new WeakMap)}function C(l){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("./p5.Graphics"),o("./p5.Renderer2D"),o("../webgl/p5.RendererGL");var _="defaultCanvas0",s=(b.default.prototype.createCanvas=function(l,a,d,c){var u,h,p;if(b.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(d=g.P2D,c=arguments[2]):u=d||g.P2D,c)(p=document.getElementById(_))&&p.parentNode.removeChild(p),p=c,this._defaultGraphicsCreated=!1;else{if(u===g.WEBGL)(p=document.getElementById(_))&&(p.parentNode.removeChild(p),h=this._renderer,this._elements=this._elements.filter(function(w){return w!==h})),(p=document.createElement("canvas")).id=_,p.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)p=this.canvas;else{p=c||document.createElement("canvas");for(var m=0;document.getElementById("defaultCanvas".concat(m));)m++;_="defaultCanvas".concat(m),p.id=_,p.classList.add("p5Canvas")}this._setupDone||(p.dataset.hidden=!0,p.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(d=document.createElement("main"),document.body.appendChild(d)),document.getElementsByTagName("main")[0])).appendChild(p)}return u===g.WEBGL?(this._setProperty("_renderer",new b.default.RendererGL(p,this,!0)),this._elements.push(this._renderer),l=(c=this._renderer._adjustDimensions(l,a)).adjustedWidth,a=c.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new b.default.Renderer2D(p,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(l,a),this._renderer._applyDefaults(),this._renderer},b.default.prototype.resizeCanvas=function(l,a,d){if(b.default._validateParameters("resizeCanvas",arguments),this._renderer){var c,u,h,p={};for(c in this.drawingContext){var m=this.drawingContext[c];"object"!==C(m)&&"function"!=typeof m&&(p[c]=m)}for(h in this._renderer instanceof b.default.RendererGL&&(l=(u=this._renderer._adjustDimensions(l,a)).adjustedWidth,a=u.adjustedHeight),this.width=l,this.height=a,this._renderer.resize(l,a),p)try{this.drawingContext[h]=p[h]}catch{}d||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},b.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},b.default.prototype.createGraphics=function(l,a){for(var d=arguments.length,c=new Array(2<d?d-2:0),u=2;u<d;u++)c[u-2]=arguments[u];return c[0]instanceof HTMLCanvasElement&&(c[1]=c[0],c[0]=g.P2D),b.default._validateParameters("createGraphics",arguments),new b.default.Graphics(l,a,c[0],this,c[1])},b.default.prototype.createFramebuffer=function(l){return new b.default.Framebuffer(this,l)},b.default.prototype.clearDepth=function(l){this._assert3d("clearDepth"),this._renderer.clearDepth(l)},b.default.prototype.blendMode=function(l){b.default._validateParameters("blendMode",arguments),l===g.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),l=g.BLEND),this._renderer.blendMode(l)},b.default);$.default=s},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(o,ie,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=s(o("../main")),y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var d=_();if(d&&d.has(a))return d.get(a);var c,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var p;Object.prototype.hasOwnProperty.call(a,c)&&((p=h?Object.getOwnPropertyDescriptor(a,c):null)&&(p.get||p.set)?Object.defineProperty(u,c,p):u[c]=a[c])}return u.default=a,d&&d.set(a,u),u}(o("../constants")),C=s(o("../helpers"));function _(){var a;return"function"!=typeof WeakMap?null:(_=function(){return a},a=new WeakMap)}function s(a){return a&&a.__esModule?a:{default:a}}o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),g.default.prototype._normalizeArcAngles=function(a,d,c,u,h){var p;return a-=y.TWO_PI*Math.floor(a/y.TWO_PI),d-=y.TWO_PI*Math.floor(d/y.TWO_PI),p=Math.min(Math.abs(a-d),y.TWO_PI-Math.abs(a-d)),h&&(a=a<=y.HALF_PI?Math.atan(c/u*Math.tan(a)):a>y.HALF_PI&&a<=3*y.HALF_PI?Math.atan(c/u*Math.tan(a))+y.PI:Math.atan(c/u*Math.tan(a))+y.TWO_PI,d=d<=y.HALF_PI?Math.atan(c/u*Math.tan(d)):d>y.HALF_PI&&d<=3*y.HALF_PI?Math.atan(c/u*Math.tan(d))+y.PI:Math.atan(c/u*Math.tan(d))+y.TWO_PI),d<a&&(d+=y.TWO_PI),{start:a,stop:d,correspondToSamePoint:p<1e-5}},g.default.prototype.arc=function(a,d,c,u,h,p,m,w){return g.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&h!==p&&(h=this._toRadians(h),p=this._toRadians(p),c=Math.abs(c),u=Math.abs(u),a=C.default.modeAdjust(a,d,c,u,this._renderer._ellipseMode),(d=this._normalizeArcAngles(h,p,a.w,a.h,!0)).correspondToSamePoint?this._renderer.ellipse([a.x,a.y,a.w,a.h,w]):(this._renderer.arc(a.x,a.y,a.w,a.h,d.start,d.stop,m,w),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[a.x,a.y,a.w,a.h,d.start,d.stop,m]))),this},g.default.prototype.ellipse=function(a,d,c,u,h){return g.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},g.default.prototype.circle=function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];g.default._validateParameters("circle",d);var u=d.slice(0,2);return u.push(d[2],d[2]),this._renderEllipse.apply(this,function l(a){return function(d){if(Array.isArray(d)){for(var c=0,u=new Array(d.length);c<d.length;c++)u[c]=d[c];return u}}(a)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u))},g.default.prototype._renderEllipse=function(a,d,c,u,h){return(this._renderer._doStroke||this._renderer._doFill)&&(c<0&&(c=Math.abs(c)),void 0===u?u=c:u<0&&(u=Math.abs(u)),a=C.default.modeAdjust(a,d,c,u,this._renderer._ellipseMode),this._renderer.ellipse([a.x,a.y,a.w,a.h,h]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[a.x,a.y,a.w,a.h])),this},g.default.prototype.line=function(){for(var a,d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];return g.default._validateParameters("line",c),this._renderer._doStroke&&(a=this._renderer).line.apply(a,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",c),this},g.default.prototype.point=function(){for(var a,d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];return g.default._validateParameters("point",c),this._renderer._doStroke&&(1===c.length&&c[0]instanceof g.default.Vector?this._renderer.point.call(this._renderer,c[0].x,c[0].y,c[0].z):((a=this._renderer).point.apply(a,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",c))),this},g.default.prototype.quad=function(){for(var a,d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];return g.default._validateParameters("quad",c),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&c.length<12?this._renderer.quad.call(this._renderer,c[0],c[1],0,c[2],c[3],0,c[4],c[5],0,c[6],c[7],0,c[8],c[9]):((a=this._renderer).quad.apply(a,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",c))),this},g.default.prototype.rect=function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];return g.default._validateParameters("rect",d),this._renderRect.apply(this,d)},g.default.prototype.square=function(a,d,c,u,h,p,m){return g.default._validateParameters("square",arguments),this._renderRect.call(this,a,d,c,c,u,h,p,m)},g.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var a=C.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),d=[a.x,a.y,a.w,a.h],c=4;c<arguments.length;c++)d[c]=arguments[c];this._renderer.rect(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[a.x,a.y,a.w,a.h])}return this},g.default.prototype.triangle=function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];return g.default._validateParameters("triangle",d),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",d),this},$.default=o=g.default},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(o,ie,$){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(_=o("../main"))&&_.__esModule?_:{default:_},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=c?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}g.default.prototype.ellipseMode=function(s){return g.default._validateParameters("ellipseMode",arguments),s!==y.CORNER&&s!==y.CORNERS&&s!==y.RADIUS&&s!==y.CENTER||(this._renderer._ellipseMode=s),this},g.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},g.default.prototype.rectMode=function(s){return g.default._validateParameters("rectMode",arguments),s!==y.CORNER&&s!==y.CORNERS&&s!==y.RADIUS&&s!==y.CENTER||(this._renderer._rectMode=s),this},g.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},g.default.prototype.strokeCap=function(s){return g.default._validateParameters("strokeCap",arguments),s!==y.ROUND&&s!==y.SQUARE&&s!==y.PROJECT||this._renderer.strokeCap(s),this},g.default.prototype.strokeJoin=function(s){return g.default._validateParameters("strokeJoin",arguments),s!==y.ROUND&&s!==y.BEVEL&&s!==y.MITER||this._renderer.strokeJoin(s),this},g.default.prototype.strokeWeight=function(s){return g.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(s),this};var _=g.default;$.default=_},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(b=o("../main"))&&b.__esModule?b:{default:b};o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),v.default.prototype.bezier=function(){for(var g,y=arguments.length,C=new Array(y),_=0;_<y;_++)C[_]=arguments[_];return v.default._validateParameters("bezier",C),(this._renderer._doStroke||this._renderer._doFill)&&(g=this._renderer).bezier.apply(g,C),this},v.default.prototype.bezierDetail=function(g){return v.default._validateParameters("bezierDetail",arguments),this._bezierDetail=g,this},v.default.prototype.bezierPoint=function(g,y,C,_,s){v.default._validateParameters("bezierPoint",arguments);var l=1-s;return Math.pow(l,3)*g+3*Math.pow(l,2)*s*y+3*l*Math.pow(s,2)*C+Math.pow(s,3)*_},v.default.prototype.bezierTangent=function(g,y,C,_,s){v.default._validateParameters("bezierTangent",arguments);var l=1-s;return 3*_*Math.pow(s,2)-3*C*Math.pow(s,2)+6*C*l*s-6*y*l*s+3*y*Math.pow(l,2)-3*g*Math.pow(l,2)},v.default.prototype.curve=function(){for(var g,y=arguments.length,C=new Array(y),_=0;_<y;_++)C[_]=arguments[_];return v.default._validateParameters("curve",C),this._renderer._doStroke&&(g=this._renderer).curve.apply(g,C),this},v.default.prototype.curveDetail=function(g){return v.default._validateParameters("curveDetail",arguments),this._curveDetail=g<3?3:g,this},v.default.prototype.curveTightness=function(g){return v.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=g,this},v.default.prototype.curvePoint=function(g,y,C,_,s){v.default._validateParameters("curvePoint",arguments);var l=this._renderer._curveTightness,a=s*s*s,d=s*s;return g*((l-1)/2*a+(1-l)*d+(l-1)/2*s)+y*((l+3)/2*a+(-5-l)/2*d+1)+C*((-3-l)/2*a+(l+2)*d+(1-l)/2*s)+_*((1-l)/2*a+(l-1)/2*d)},v.default.prototype.curveTangent=function(g,y,C,_,d){v.default._validateParameters("curveTangent",arguments);var l=this._renderer._curveTightness,a=d*d*3;return g*((l-1)/2*a+(1-l)*(d*=2)+(l-1)/2)+y*((l+3)/2*a+(-5-l)/2*d)+C*((-3-l)/2*a+(l+2)*d+(1-l)/2)+_*((1-l)/2*a+(l-1)/2*d)};var b=v.default;$.default=b},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(o,ie,$){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(m)}function b(m){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(p=o("../main"))&&p.__esModule?p:{default:p},y=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==b(m)&&"function"!=typeof m)return{default:m};var w=C();if(w&&w.has(m))return w.get(m);var R,E={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in m){var A;Object.prototype.hasOwnProperty.call(m,R)&&((A=M?Object.getOwnPropertyDescriptor(m,R):null)&&(A.get||A.set)?Object.defineProperty(E,R,A):E[R]=m[R])}return E.default=m,w&&w.set(m,E),E}(o("../constants"));function C(){var m;return"function"!=typeof WeakMap?null:(C=function(){return m},m=new WeakMap)}var _=null,s=[],l=[],a=!1,d=!1,c=!1,u=!1,h=!0,p=(g.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(l=[],u=!0),this},g.default.prototype.beginShape=function(m){var w;return g.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(w=this._renderer).beginShape.apply(w,arguments):(_=m===y.POINTS||m===y.LINES||m===y.TRIANGLES||m===y.TRIANGLE_FAN||m===y.TRIANGLE_STRIP||m===y.QUADS||m===y.QUAD_STRIP?m:null,s=[],l=[]),this},g.default.prototype.bezierVertex=function(){for(var m,w=arguments.length,R=new Array(w),E=0;E<w;E++)R[E]=arguments[E];if(g.default._validateParameters("bezierVertex",R),this._renderer.isP3D)(m=this._renderer).bezierVertex.apply(m,R);else if(0===s.length)g.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{a=!0;for(var M=[],A=0;A<R.length;A++)M[A]=R[A];M.isVert=!1,(u?l:s).push(M)}return this},g.default.prototype.curveVertex=function(){for(var m,w=arguments.length,R=new Array(w),E=0;E<w;E++)R[E]=arguments[E];return g.default._validateParameters("curveVertex",R),this._renderer.isP3D?(m=this._renderer).curveVertex.apply(m,R):(d=!0,this.vertex(R[0],R[1])),this},g.default.prototype.endContour=function(){if(!this._renderer.isP3D){var m=l[0].slice();m.isVert=l[0].isVert,m.moveTo=!1,l.push(m),h&&(s.push(s[0]),h=!1);for(var w=0;w<l.length;w++)s.push(l[w])}return this},g.default.prototype.endShape=function(m){var w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(g.default._validateParameters("endShape",arguments),w<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),w=1),this._renderer.isP3D)this._renderer.endShape(m,d,a,c,u,_,w);else{if(1!==w&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===s.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(w=m===y.CLOSE)&&!u&&s.push(s[0]),this._renderer.endShape(m,s,d,a,c,u,_),h=!(u=c=a=d=!1),w&&s.pop()}return this},g.default.prototype.quadraticVertex=function(){for(var m,w=arguments.length,R=new Array(w),E=0;E<w;E++)R[E]=arguments[E];if(g.default._validateParameters("quadraticVertex",R),this._renderer.isP3D)(m=this._renderer).quadraticVertex.apply(m,R);else{if(this._contourInited)return(m={}).x=R[0],m.y=R[1],m.x3=R[2],m.y3=R[3],m.type=y.QUADRATIC,this._contourVertices.push(m),this;if(0<s.length){c=!0;for(var M=[],A=0;A<R.length;A++)M[A]=R[A];M.isVert=!1,(u?l:s).push(M)}else g.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},g.default.prototype.vertex=function(m,w,R,E,M){var A;return this._renderer.isP3D?(A=this._renderer).vertex.apply(A,arguments):((A=[]).isVert=!0,A[0]=m,A[1]=w,A[2]=0,A[3]=0,A[4]=0,A[5]=this._renderer._getFill(),A[6]=this._renderer._getStroke(),R&&(A.moveTo=R),(u?(0===l.length&&(A.moveTo=!0),l):s).push(A)),this},g.default.prototype.normal=function(m,w,R){var E;return this._assert3d("normal"),g.default._validateParameters("normal",arguments),(E=this._renderer).normal.apply(E,arguments),this},g.default);$.default=p},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(o,ie,$){},{}],295:[function(o,ie,$){"use strict";o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.assign"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var v=this._styles.pop();v?(this._renderer.pop(v.renderer),Object.assign(this,v.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(v){if(!this._inUserDraw&&this._setupDone){var b=parseInt(v),g=((isNaN(b)||b<1)&&(b=1),this._isGlobal?window:this);if("function"==typeof g.draw){void 0===g.setup&&g.scale(g._pixelDensity,g._pixelDensity);for(var y=0;y<b;y++){g.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),g._renderer.isP3D&&g._renderer._update(),g._setProperty("frameCount",g.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{g.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},$.default=o=o.default},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};v.default.prototype.applyMatrix=function(){var g=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||g?(g=this._renderer).applyMatrix.apply(g,function b(g){return function(y){if(Array.isArray(y)){for(var C=0,_=new Array(y.length);C<y.length;C++)_[C]=y[C];return _}}(g)||function(y){if(Symbol.iterator in Object(y)||"[object Arguments]"===Object.prototype.toString.call(y))return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(g=this._renderer).applyMatrix.apply(g,arguments),this},v.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},v.default.prototype.rotate=function(g,y){return v.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(g),y),this},v.default.prototype.rotateX=function(g){return this._assert3d("rotateX"),v.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(g)),this},v.default.prototype.rotateY=function(g){return this._assert3d("rotateY"),v.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(g)),this},v.default.prototype.rotateZ=function(g){return this._assert3d("rotateZ"),v.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(g)),this},v.default.prototype.scale=function(g,y,C){var _;return v.default._validateParameters("scale",arguments),g instanceof v.default.Vector?(g=(_=g).x,y=_.y,C=_.z):Array.isArray(g)&&(g=(_=g)[0],y=_[1],C=_[2]||1),isNaN(y)?y=C=g:isNaN(C)&&(C=1),this._renderer.scale(g,y,C),this},v.default.prototype.shearX=function(g){return v.default._validateParameters("shearX",arguments),g=this._toRadians(g),this._renderer.applyMatrix(1,0,Math.tan(g),1,0,0),this},v.default.prototype.shearY=function(g){return v.default._validateParameters("shearY",arguments),g=this._toRadians(g),this._renderer.applyMatrix(1,Math.tan(g),0,1,0,0),this},v.default.prototype.translate=function(g,y,C){return v.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(g,y,C):this._renderer.translate(g,y),this},$.default=o=v.default},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(o,ie,$){"use strict";function v(C){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator");var b=(o=o("../core/main"))&&o.__esModule?o:{default:o};function g(C){return function(_){if(Array.isArray(_)){for(var s=0,l=new Array(_.length);s<_.length;s++)l[s]=_[s];return l}}(C)||function(_){if(Symbol.iterator in Object(_)||"[object Arguments]"===Object.prototype.toString.call(_))return Array.from(_)}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(C){return(y="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(C)}b.default.prototype.storeItem=function(C,_){"string"!=typeof C&&console.log("The argument that you passed to storeItem() - ".concat(C," is not a string.")),C.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(C," must not end with 'p5TypeID'.")),void 0===_&&console.log("You cannot store undefined variables using storeItem().");var s=y(_);switch(s){case"number":case"boolean":_=_.toString();break;case"object":_ instanceof b.default.Color?s="p5.Color":_ instanceof b.default.Vector&&(s="p5.Vector",_=[_.x,_.y,_.z]),_=JSON.stringify(_)}localStorage.setItem(C,_),C="".concat(C,"p5TypeID"),localStorage.setItem(C,s)},b.default.prototype.getItem=function(C){var _=localStorage.getItem(C),s=localStorage.getItem("".concat(C,"p5TypeID"));if(void 0===s)console.log("Unable to determine type of item stored under ".concat(C,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==_)switch(s){case"number":_=parseFloat(_);break;case"boolean":_="true"===_;break;case"object":_=JSON.parse(_);break;case"p5.Color":_=JSON.parse(_),_=this.color.apply(this,g(_.levels));break;case"p5.Vector":_=JSON.parse(_),_=this.createVector.apply(this,g(_))}return _},b.default.prototype.clearStorage=function(){var C=this;Object.keys(localStorage).forEach(function(_){_.endsWith("p5TypeID")&&C.removeItem(_.replace("p5TypeID",""))})},b.default.prototype.removeItem=function(C){"string"!=typeof C&&console.log("The argument that you passed to removeItem() - ".concat(C," is not a string.")),localStorage.removeItem(C),localStorage.removeItem("".concat(C,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(o,ie,$){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}function b(c){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(c)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(o=o("../core/main"))&&o.__esModule?o:{default:o};function y(c,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),u&&C(c,u)}function C(c,u){return(C=Object.setPrototypeOf||function(h,p){return h.__proto__=p,h})(c,u)}function _(c){return function(){var u,h=s(c);if(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(u=s(this).constructor,Reflect.construct(h,arguments,u)):h.apply(this,arguments),h=this,!u||"object"!==b(u)&&"function"!=typeof u){if(void 0!==h)return h;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return u}}function s(c){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(c)}function l(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function a(c,u){for(var h=0;h<u.length;h++){var p=u[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}function d(c,u,h){u&&a(c.prototype,u),h&&a(c,h)}g.default.prototype.createStringDict=function(c,u){return g.default._validateParameters("createStringDict",arguments),new g.default.StringDict(c,u)},g.default.prototype.createNumberDict=function(c,u){return g.default._validateParameters("createNumberDict",arguments),new g.default.NumberDict(c,u)},g.default.TypedDict=function(){function c(u,h){return l(this,c),u instanceof Object?this.data=u:(this.data={},this.data[u]=h),this}return d(c,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(u){return this.data.hasOwnProperty(u)}},{key:"get",value:function(u){if(this.data.hasOwnProperty(u))return this.data[u];console.log("".concat(u," does not exist in this Dictionary"))}},{key:"set",value:function(u,h){this._validate(h)?this.data[u]=h:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(u){for(var h in u)this.set(h,u[h])}},{key:"create",value:function(u,h){u instanceof Object&&void 0===h?this._addObj(u):void 0!==u?this.set(u,h):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(u){if(!this.data.hasOwnProperty(u))throw new Error("".concat(u," does not exist in this Dictionary"));delete this.data[u]}},{key:"print",value:function(){for(var u in this.data)console.log("key:".concat(u," value:").concat(this.data[u]))}},{key:"saveTable",value:function(u){var h,p="";for(h in this.data)p+="".concat(h,",").concat(this.data[h],"\n");var m=new Blob([p],{type:"text/csv"});g.default.prototype.downloadFile(m,u||"mycsv","csv")}},{key:"saveJSON",value:function(u,h){g.default.prototype.saveJSON(this.data,u,h)}},{key:"_validate",value:function(u){return!0}}]),c}(),g.default.StringDict=function(){y(u,g.default.TypedDict);var c=_(u);function u(){l(this,u);for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return c.call.apply(c,[this].concat(p))}return d(u,[{key:"_validate",value:function(h){return"string"==typeof h}}]),u}(),g.default.NumberDict=function(){y(u,g.default.TypedDict);var c=_(u);function u(){l(this,u);for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return c.call.apply(c,[this].concat(p))}return d(u,[{key:"_validate",value:function(h){return"number"==typeof h}},{key:"add",value:function(h,p){this.data.hasOwnProperty(h)?this.data[h]+=p:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"sub",value:function(h,p){this.add(h,-p)}},{key:"mult",value:function(h,p){this.data.hasOwnProperty(h)?this.data[h]*=p:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"div",value:function(h,p){this.data.hasOwnProperty(h)?this.data[h]/=p:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"_valueTest",value:function(h){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var p,m=this.data[Object.keys(this.data)[0]];for(p in this.data)this.data[p]*h<m*h&&(m=this.data[p]);return m}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(h){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var p=Object.keys(this.data)[0],m=1;m<Object.keys(this.data).length;m++)Object.keys(this.data)[m]*h<p*h&&(p=Object.keys(this.data)[m]);return p}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),u}(),$.default=o=g.default.TypedDict},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(o,ie,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(o=o("../core/main"))&&o.__esModule?o:{default:o};function g(p,m){for(var w=0;w<m.length;w++){var R=m[w];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(p,R.key,R)}}function y(p,m,w){m&&g(p.prototype,m),w&&g(p,w)}function C(p,m){return(C=Object.setPrototypeOf||function(w,R){return w.__proto__=R,w})(p,m)}function s(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(p)}function a(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p){return(d="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(m){return v(m)}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":v(m)})(p)}function c(p,m,w){return(m._userNode||document.body).appendChild(p),w=new(w?b.default.MediaElement:b.default.Element)(p,m),m._elements.push(w),w}function u(p,A,w,R){var E=document.createElement(A),M=("string"==typeof(w=w||"")&&(w=[w]),!0),B=void(A=!1);try{for(var j,N=w[Symbol.iterator]();!(M=(j=N.next()).done);M=!0){var k=j.value,J=document.createElement("source");J.setAttribute("src",k),E.appendChild(J)}}catch(z){A=!0,B=z}finally{try{M||null==N.return||N.return()}finally{if(A)throw B}}"function"==typeof R&&E.addEventListener("canplaythrough",function z(){R(),E.removeEventListener("canplaythrough",z)});var ne=c(E,p,!0);return ne.loadedmetadata=!1,E.addEventListener("loadedmetadata",function(){ne.width=E.videoWidth,ne.height=E.videoHeight,0===ne.elt.width&&(ne.elt.width=E.videoWidth),0===ne.elt.height&&(ne.elt.height=E.videoHeight),ne.presetPlaybackRate&&(ne.elt.playbackRate=ne.presetPlaybackRate,delete ne.presetPlaybackRate),ne.loadedmetadata=!0}),ne}function h(p,m,w,R){a(this,h),this.callback=p,this.time=m,this.id=w,this.val=R}b.default.prototype.select=function(p,m){return b.default._validateParameters("select",arguments),(m=this._getContainer(m).querySelector(p))?this._wrapElement(m):null},b.default.prototype.selectAll=function(p,m){b.default._validateParameters("selectAll",arguments);var w=[],R=this._getContainer(m).querySelectorAll(p);if(R)for(var E=0;E<R.length;E++){var M=this._wrapElement(R[E]);w.push(M)}return w},b.default.prototype._getContainer=function(p){var m=document;return"string"==typeof p?m=document.querySelector(p)||document:p instanceof b.default.Element?m=p.elt:p instanceof HTMLElement&&(m=p),m},b.default.prototype._wrapElement=function(p){var m,w=Array.prototype.slice.call(p.children);return"INPUT"===p.tagName&&"checkbox"===p.type?((m=new b.default.Element(p,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},m):"VIDEO"===p.tagName||"AUDIO"===p.tagName?new b.default.MediaElement(p,this):"SELECT"===p.tagName?this.createSelect(new b.default.Element(p,this)):0<w.length&&w.every(function(R){return"INPUT"===R.tagName||"LABEL"===R.tagName})&&("DIV"===p.tagName||"SPAN"===p.tagName)?this.createRadio(new b.default.Element(p,this)):new b.default.Element(p,this)},b.default.prototype.removeElements=function(p){b.default._validateParameters("removeElements",arguments),this._elements.filter(function(m){return!(m.elt instanceof HTMLCanvasElement)}).map(function(m){return m.remove()})},b.default.Element.prototype.changed=function(p){return b.default.Element._adjustListener("change",p,this),this},b.default.Element.prototype.input=function(p){return b.default.Element._adjustListener("input",p,this),this},b.default.prototype.createDiv=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",m=document.createElement("div");return m.innerHTML=p,c(m,this)},b.default.prototype.createP=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",m=document.createElement("p");return m.innerHTML=p,c(m,this)},b.default.prototype.createSpan=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",m=document.createElement("span");return m.innerHTML=p,c(m,this)},b.default.prototype.createImg=function(){b.default._validateParameters("createImg",arguments);var p,m=document.createElement("img"),w=arguments;return 1<w.length&&"string"==typeof w[1]&&(m.alt=w[1]),2<w.length&&"string"==typeof w[2]&&(m.crossOrigin=w[2]),m.src=w[0],p=c(m,this),m.addEventListener("load",function(){p.width=m.offsetWidth||m.width,p.height=m.offsetHeight||m.height;var R=w[w.length-1];"function"==typeof R&&R(p)}),p},b.default.prototype.createA=function(p,m,w){b.default._validateParameters("createA",arguments);var R=document.createElement("a");return R.href=p,R.innerHTML=m,w&&(R.target=w),c(R,this)},b.default.prototype.createSlider=function(p,m,w,R){b.default._validateParameters("createSlider",arguments);var E=document.createElement("input");return E.type="range",E.min=p,E.max=m,0===R?E.step=1e-18:R&&(E.step=R),"number"==typeof w&&(E.value=w),c(E,this)},b.default.prototype.createButton=function(p,m){b.default._validateParameters("createButton",arguments);var w=document.createElement("button");return w.innerHTML=p,m&&(w.value=m),c(w,this)},b.default.prototype.createCheckbox=function(){for(var p=arguments.length,m=new Array(p),w=0;w<p;w++)m[w]=arguments[w];b.default._validateParameters("createCheckbox",m);var R=document.createElement("div"),E=document.createElement("input"),M=(E.type="checkbox",document.createElement("label")),A=(M.appendChild(E),R.appendChild(M),c(R,this));return A.checked=function(){var B=A.elt.firstElementChild.getElementsByTagName("input")[0];if(B){if(0===arguments.length)return B.checked;B.checked=!(arguments.length<=0||!arguments[0])}return A},this.value=function(B){return A.value=B,this},m[0]&&(A.value(m[0]),(R=document.createElement("span")).innerHTML=m[0],M.appendChild(R)),m[1]&&(E.checked=!0),A},b.default.prototype.createSelect=function(){for(var p,m=arguments.length,w=new Array(m),R=0;R<m;R++)w[R]=arguments[R];b.default._validateParameters("createSelect",w);var E,M=w[0];return M instanceof b.default.Element&&M.elt instanceof HTMLSelectElement?this.elt=(p=M).elt:M instanceof HTMLSelectElement?(p=c(M,this),this.elt=M):(E=document.createElement("select"),M&&"boolean"==typeof M&&E.setAttribute("multiple","true"),p=c(E,this),this.elt=E),p.option=function(A,B){var j;if(void 0!==A){for(var N,k=0;k<this.elt.length;k+=1)if(this.elt[k].textContent===A){j=k;break}void 0!==j?!1===B?this.elt.remove(j):this.elt[j].value=B:((N=document.createElement("option")).textContent=A,N.value=void 0===B?A:B,this.elt.appendChild(N),this._pInst._elements.push(N))}},p.selected=function(A){if(void 0!==A){for(var B=0;B<this.elt.length;B+=1)this.elt[B].value.toString()===A.toString()&&(this.elt.selectedIndex=B);return this}if(this.elt.getAttribute("multiple")){var j=[],N=!0,k=!1,J=void 0;try{for(var ne,z=this.elt.selectedOptions[Symbol.iterator]();!(N=(ne=z.next()).done);N=!0)j.push(ne.value.value)}catch(H){k=!0,J=H}finally{try{N||null==z.return||z.return()}finally{if(k)throw J}}return j}return this.elt.value},p.disable=function(A){if("string"==typeof A)for(var B=0;B<this.elt.length;B++)this.elt[B].value.toString()===A&&(this.elt[B].disabled=!0,this.elt[B].selected=!1);else this.elt.disabled=!0;return this},p.enable=function(A){if("string"==typeof A)for(var B=0;B<this.elt.length;B++)this.elt[B].value.toString()===A&&(this.elt[B].disabled=!1,this.elt[B].selected=!1);else{this.elt.disabled=!1;for(var j=0;j<this.elt.length;j++)this.elt[j].disabled=!1,this.elt[j].selected=!1}return this},p},b.default.prototype.createRadio=function(){function p(A){return A instanceof HTMLInputElement&&"radio"===A.type}function m(A){return A instanceof HTMLLabelElement}var w,R,E,M=arguments.length<=0?void 0:arguments[0];return M instanceof b.default.Element&&(M.elt instanceof HTMLDivElement||M.elt instanceof HTMLSpanElement)?(w=M,this.elt=M.elt):M instanceof HTMLDivElement||M instanceof HTMLSpanElement?(w=c(M,this),R=this.elt=M,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(E=arguments.length<=1?void 0:arguments[1])):("string"==typeof M&&(E=M),R=document.createElement("div"),w=c(R,this),this.elt=R),w._name=E||"radioOption",w._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(A){return p(A)||m(A)&&p(A.firstElementChild)}).map(function(A){return p(A)?A:A.firstElementChild})},w.option=function(A,B){var j,N,k,J=!0,ne=!1,z=void 0;try{for(var ee,H=w._getOptionsArray()[Symbol.iterator]();!(J=(ee=H.next()).done);J=!0){var G=ee.value;if(G.value===A){j=G;break}}}catch(K){ne=!0,z=K}finally{try{J||null==H.return||H.return()}finally{if(ne)throw z}}return void 0===j&&((j=document.createElement("input")).setAttribute("type","radio"),j.setAttribute("value",A)),j.setAttribute("name",w._name),m(j.parentElement)?N=j.parentElement:(N=document.createElement("label")).insertAdjacentElement("afterbegin",j),N.lastElementChild instanceof HTMLSpanElement?k=N.lastElementChild:(k=document.createElement("span"),j.insertAdjacentElement("afterend",k)),k.innerHTML=void 0===B?A:B,this.elt.appendChild(N),j},w.remove=function(A){var B=!0,j=!1,N=void 0;try{for(var k,J=w._getOptionsArray()[Symbol.iterator]();!(B=(k=J.next()).done);B=!0){var ne=k.value;if(ne.value===A)return void(m(ne.parentElement)?ne.parentElement:ne).remove()}}catch(z){j=!0,N=z}finally{try{B||null==J.return||J.return()}finally{if(j)throw N}}},w.value=function(){var A="",B=!0,j=!1,N=void 0;try{for(var k,J=w._getOptionsArray()[Symbol.iterator]();!(B=(k=J.next()).done);B=!0){var ne=k.value;if(ne.checked){A=ne.value;break}}}catch(z){j=!0,N=z}finally{try{B||null==J.return||J.return()}finally{if(j)throw N}}return A},w.selected=function(A){var B=null;if(void 0===A){var j=!0,N=!1,k=void 0;try{for(var J,ne=w._getOptionsArray()[Symbol.iterator]();!(j=(J=ne.next()).done);j=!0){var z=J.value;if(z.checked){B=z;break}}}catch(le){N=!0,k=le}finally{try{j||null==ne.return||ne.return()}finally{if(N)throw k}}}else{w._getOptionsArray().forEach(function(Y){Y.checked=!1,Y.removeAttribute("checked")});var ee=!0;N=!1,k=void 0;try{for(var H,G=w._getOptionsArray()[Symbol.iterator]();!(ee=(H=G.next()).done);ee=!0){var K=H.value;K.value===A&&(K.setAttribute("checked",!0),K.checked=!0,B=K)}}catch(Y){N=!0,k=Y}finally{try{ee||null==G.return||G.return()}finally{if(N)throw k}}}return B},w.disable=function(){var A=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],B=!0,j=!1,N=void 0;try{for(var k,J=w._getOptionsArray()[Symbol.iterator]();!(B=(k=J.next()).done);B=!0)k.value.setAttribute("disabled",A)}catch(ne){j=!0,N=ne}finally{try{B||null==J.return||J.return()}finally{if(j)throw N}}},w},b.default.prototype.createColorPicker=function(p){b.default._validateParameters("createColorPicker",arguments);var m=document.createElement("input");return m.type="color",p?p instanceof b.default.Color?m.value=p.toString("#rrggbb"):(b.default.prototype._colorMode="rgb",b.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},m.value=b.default.prototype.color(p).toString("#rrggbb")):m.value="#000000",(m=c(m,this)).color=function(){return p&&(p.mode&&(b.default.prototype._colorMode=p.mode),p.maxes&&(b.default.prototype._colorMaxes=p.maxes)),b.default.prototype.color(this.elt.value)},m},b.default.prototype.createInput=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",w=(b.default._validateParameters("createInput",arguments),document.createElement("input"));return w.setAttribute("value",p),w.setAttribute("type",m),c(w,this)},b.default.prototype.createFileInput=function(p){var m,w=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(b.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(m=document.createElement("input")).setAttribute("type","file"),w&&m.setAttribute("multiple",!0),m.addEventListener("change",function(R){var E=!0,M=!1,A=void 0;try{for(var B,j=R.target.files[Symbol.iterator]();!(E=(B=j.next()).done);E=!0)b.default.File._load(B.value,p)}catch(k){M=!0,A=k}finally{try{E||null==j.return||j.return()}finally{if(M)throw A}}},!1),c(m,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},b.default.prototype.createVideo=function(p,m){return b.default._validateParameters("createVideo",arguments),u(this,"video",p,m)},b.default.prototype.createAudio=function(p,m){return b.default._validateParameters("createAudio",arguments),u(this,"audio",p,m)},b.default.prototype.VIDEO="video",b.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(p){var m=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return m?new Promise(function(w,R){m.call(navigator,p,w,R)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),b.default.prototype.createCapture=function(){for(var p=arguments.length,m=new Array(p),w=0;w<p;w++)m[w]=arguments[w];if(b.default._validateParameters("createCapture",m),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var R,E=!0,M=!0,A=!1,B=0,j=m;B<j.length;B++){var N=j[B];N===b.default.prototype.VIDEO?M=!1:N===b.default.prototype.AUDIO?E=!1:"object"===d(N)?(void 0!==N.flipped&&(A=N.flipped,delete N.flipped),k=Object.assign({},k,N)):"function"==typeof N&&(R=N)}var k=Object.assign({},{video:E,audio:M},k),J=document.createElement("video"),ne=(J.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(k).then(function(z){try{"srcObject"in J?J.srcObject=z:J.src=window.URL.createObjectURL(z)}catch{J.src=z}}).catch(function(z){"NotFoundError"===z.name&&b.default._friendlyError("No webcam found on this device","createCapture"),"NotAllowedError"===z.name&&b.default._friendlyError("Access to the camera was denied","createCapture"),console.error(z)}),c(J,this,!0));return ne.loadedmetadata=!1,J.addEventListener("loadedmetadata",function(){J.play(),J.width?(ne.width=J.width,ne.height=J.height,A&&(ne.elt.style.transform="scaleX(-1)")):(ne.width=ne.elt.width=J.videoWidth,ne.height=ne.elt.height=J.videoHeight),ne.loadedmetadata=!0,R&&R(J.srcObject)}),ne.flipped=A,ne},b.default.prototype.createElement=function(p,m){return b.default._validateParameters("createElement",arguments),p=document.createElement(p),void 0!==m&&(p.innerHTML=m),c(p,this)},b.default.Element.prototype.addClass=function(p){return this.elt.className?this.hasClass(p)||(this.elt.className=this.elt.className+" "+p):this.elt.className=p,this},b.default.Element.prototype.removeClass=function(p){return this.elt.classList.remove(p),this},b.default.Element.prototype.hasClass=function(p){return this.elt.classList.contains(p)},b.default.Element.prototype.toggleClass=function(p){return this.elt.classList.contains(p)?this.elt.classList.remove(p):this.elt.classList.add(p),this},b.default.Element.prototype.child=function(p){return void 0===p?this.elt.childNodes:("string"==typeof p?("#"===p[0]&&(p=p.substring(1)),p=document.getElementById(p)):p instanceof b.default.Element&&(p=p.elt),p instanceof HTMLElement&&this.elt.appendChild(p),this)},b.default.Element.prototype.center=function(p){var m=this.elt.style.display,w="none"===this.elt.style.display,R="none"===this.parent().style.display,E={x:this.elt.offsetLeft,y:this.elt.offsetTop},M=(w&&this.show(),R&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),A=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===p||void 0===p?this.position(M/2+this.parent().offsetLeft,A/2+this.parent().offsetTop):"horizontal"===p?this.position(M/2+this.parent().offsetLeft,E.y):"vertical"===p&&this.position(E.x,A/2+this.parent().offsetTop),this.style("display",m),w&&this.hide(),R&&this.parent().hide(),this},b.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},b.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},b.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=p,this},b.default.Element.prototype._rotate=function(){var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=p,this},b.default.Element.prototype.style=function(p,m){if(void 0===(m=m instanceof b.default.Color?"rgba("+m.levels[0]+","+m.levels[1]+","+m.levels[2]+","+m.levels[3]/255+")":m)){if(-1===p.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(p);for(var w=p.split(";"),R=0;R<w.length;R++){var E=w[R].split(":");E[0]&&E[1]&&(this.elt.style[E[0].trim()]=E[1].trim())}}else this.elt.style[p]=m,"width"!==p&&"height"!==p&&"left"!==p&&"top"!==p||(m=window.getComputedStyle(this.elt).getPropertyValue(p).replace(/[^\d.]/g,""),this[p]=Math.round(parseFloat(m,10)));return this},b.default.Element.prototype.attribute=function(p,m){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===m?this.elt.getAttribute(p):(this.elt.setAttribute(p,m),this);if(void 0===m)return this.elt.firstChild.getAttribute(p);for(var w=0;w<this.elt.childNodes.length;w++)this.elt.childNodes[w].setAttribute(p,m)},b.default.Element.prototype.removeAttribute=function(p){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var m=0;m<this.elt.childNodes.length;m++)this.elt.childNodes[m].removeAttribute(p);return this.elt.removeAttribute(p),this},b.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},b.default.Element.prototype.show=function(){return this.elt.style.display="block",this},b.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},b.default.Element.prototype.size=function(p,m){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var w=p,R=m,E=b.default.prototype.AUTO;if(w!==E||R!==E){if(w===E?w=m*this.width/this.height:R===E&&(R=p*this.height/this.width),this.elt instanceof HTMLCanvasElement){var M,A={},B=this.elt.getContext("2d");for(M in B)A[M]=B[M];for(M in this.elt.setAttribute("width",w*this._pInst._pixelDensity),this.elt.setAttribute("height",R*this._pInst._pixelDensity),this.elt.style.width=w+"px",this.elt.style.height=R+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),A)this.elt.getContext("2d")[M]=A[M]}else this.elt.style.width=w+"px",this.elt.style.height=R+"px",this.elt.width=w,this.elt.height=R;this.width=w,this.height=R,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",w),this._pInst._setProperty("height",R))}return this},b.default.Element.prototype.remove=function(){this instanceof b.default.MediaElement&&(this.stop(),null!==(m=this.elt.srcObject)&&m.getTracks().forEach(function(w){w.stop()}));var p,m=this._pInst._elements.indexOf(this);for(p in-1!==m&&this._pInst._elements.splice(m,1),this._events)this.elt.removeEventListener(p,this._events[p]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},b.default.Element.prototype.drop=function(p,m){var w;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",w=function(R){R.preventDefault()}),this.elt.addEventListener("dragleave",w)),b.default.Element._attachListener("drop",function(E){E.preventDefault(),"function"==typeof m&&m.call(this,E),E=E.dataTransfer.files;var M=!0,A=!1,B=void 0;try{for(var j,N=E[Symbol.iterator]();!(M=(j=N.next()).done);M=!0)b.default.File._load(j.value,p)}catch(J){A=!0,B=J}finally{try{M||null==N.return||N.return()}finally{if(A)throw B}}},this)):console.log("The File APIs are not fully supported in this browser."),this},b.default.Element.prototype.draggable=function(p){var m,w="ontouchstart"in window,R=0,E=0,M=0,A=0,B=w?"touchend":"mouseup",j=w?"touchmove":"mousemove";function N(J){var ne;J=J||window.event,A=w?(ne=J.changedTouches,R=M-parseInt(ne[0].clientX),E=A-parseInt(ne[0].clientY),M=parseInt(ne[0].clientX),parseInt(ne[0].clientY)):(R=M-parseInt(J.clientX),E=A-parseInt(J.clientY),M=parseInt(J.clientX),parseInt(J.clientY)),p.style.left=p.offsetLeft-R+"px",p.style.top=p.offsetTop-E+"px"}function k(){document.removeEventListener(B,k,!1),document.removeEventListener(j,N,!1)}return void 0===p?m=p=this.elt:p!==this.elt&&p.elt!==this.elt&&(p=p.elt,m=this.elt),m.addEventListener(w?"touchstart":"mousedown",function(J){var ne;return J=J||window.event,A=w?(ne=J.changedTouches,M=parseInt(ne[0].clientX),parseInt(ne[0].clientY)):(M=parseInt(J.clientX),parseInt(J.clientY)),document.addEventListener(B,k,!1),document.addEventListener(j,N,!1),!1},!1),m.style.cursor="move",this},o=function(p){var m=R;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),p&&C(m,p);var w=function _(p){return function(){var m,w,R=l(p);return m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(m=l(this).constructor,Reflect.construct(R,arguments,m)):R.apply(this,arguments),R=this,!(w=m)||"object"!==d(w)&&"function"!=typeof w?s(R):w}}(R);function R(E,M){a(this,R);var A=s(M=w.call(this,E,M));return M.elt.crossOrigin="anonymous",M._prevTime=0,M._cueIDCounter=0,M._cues=[],M.pixels=[],M._pixelsState=s(M),M._pixelDensity=1,M._modified=!1,M._frameOnCanvas=-1,Object.defineProperty(A,"src",{get:function(){var B=A.elt.children[0].src,j=A.elt.src===window.location.href?"":A.elt.src;return B===window.location.href?j:B},set:function(B){for(var j=0;j<A.elt.children.length;j++)A.elt.removeChild(A.elt.children[j]);var N=document.createElement("source");N.src=B,E.appendChild(N),A.elt.src=B,A.modified=!0}}),A._onended=function(){},A.elt.onended=function(){A._onended(A)},M}return y(R,[{key:"play",value:function(){var E;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(E=this.elt.play())&&E.catch&&E.catch(function(M){"NotAllowedError"===M.name?console.error(M):console.error("Media play method encountered an unexpected error",M)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var E=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(E)},{passive:!0,once:!0})}},{key:"autoplay",value:function(E){var M=this,A=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",E),E&&!A&&(E=function(){return M._setupAutoplayFailDetection()},4===this.elt.readyState?E():this.elt.addEventListener("canplay",E,{passive:!0,once:!0})),this}},{key:"volume",value:function(E){if(void 0===E)return this.elt.volume;this.elt.volume=E}},{key:"speed",value:function(E){if(void 0===E)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=E:this.presetPlaybackRate=E}},{key:"time",value:function(E){return void 0===E?this.elt.currentTime:(this.elt.currentTime=E,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var E=arguments.length,M=new Array(E),A=0;A<E;A++)M[A]=arguments[A];return b.default.Renderer2D.prototype.loadPixels.apply(this,M)}},{key:"updatePixels",value:function(E,M,A,B){return this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.updatePixels.call(this,E,M,A,B)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var E=arguments.length,M=new Array(E),A=0;A<E;A++)M[A]=arguments[A];return b.default.Renderer2D.prototype.get.apply(this,M)}},{key:"_getPixel",value:function(){this.loadPixels();for(var E=arguments.length,M=new Array(E),A=0;A<E;A++)M[A]=arguments[A];return b.default.Renderer2D.prototype._getPixel.apply(this,M)}},{key:"set",value:function(E,M,A){this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.set.call(this,E,M,A),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var E=arguments.length,M=new Array(E),A=0;A<E;A++)M[A]=arguments[A];b.default.prototype.copy.apply(this,M)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var E=arguments.length,M=new Array(E),A=0;A<E;A++)M[A]=arguments[A];b.default.Image.prototype.mask.apply(this,M)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(E){this._modified=E}},{key:"onended",value:function(E){return this._onended=E,this}},{key:"connect",value:function(E){var M,A;if("function"==typeof b.default.prototype.getAudioContext)M=b.default.prototype.getAudioContext(),A=b.default.soundOut.input;else try{A=(M=E.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=M.createMediaElementSource(this.elt),this.audioSourceNode.connect(A)),this.audioSourceNode.connect(E?E.input?E.input:E:A)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(E,j,A){var B=this._cueIDCounter++;return j=new h(j,E,B,A),this._cues.push(j),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),B}},{key:"removeCue",value:function(E){for(var M=0;M<this._cues.length;M++)this._cues[M].id===E&&(console.log(E),this._cues.splice(M,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var E=this.time(),M=0;M<this._cues.length;M++){var A=this._cues[M].time;this._prevTime<A&&A<=E&&this._cues[M].callback(this._cues[M].val)}this._prevTime=E}}]),R}(b.default.Element),b.default.MediaElement=o,o=function(){function p(m,w){a(this,p),this.file=m,this._pInst=w,w=m.type.split("/"),this.type=w[0],this.subtype=w[1],this.name=m.name,this.size=m.size,this.data=void 0}return y(p,null,[{key:"_createLoader",value:function(m,w){var R=new FileReader;return R.onload=function(E){var M,A=new b.default.File(m);"application/json"===A.file.type?A.data=JSON.parse(E.target.result):"text/xml"===A.file.type?(M=(new DOMParser).parseFromString(E.target.result,"text/xml"),A.data=new b.default.XML(M.documentElement)):A.data=E.target.result,w(A)},R}},{key:"_load",value:function(m,w){var R;/^text\//.test(m.type)||"application/json"===m.type?b.default.File._createLoader(m,w).readAsText(m):/^(video|audio)\//.test(m.type)?((R=new b.default.File(m)).data=URL.createObjectURL(m),w(R)):b.default.File._createLoader(m,w).readAsDataURL(m)}}]),p}(),b.default.File=o,$.default=o=b.default},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(d,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(d=d("../core/main"))&&d.__esModule?d:{default:d};v.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",v.default.prototype.accelerationX=0,v.default.prototype.accelerationY=0,v.default.prototype.accelerationZ=0,v.default.prototype.pAccelerationX=0,v.default.prototype.pAccelerationY=0,v.default.prototype.pAccelerationZ=0,v.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},v.default.prototype.rotationX=0,v.default.prototype.rotationY=0,v.default.prototype.rotationZ=0,v.default.prototype.pRotationX=0,v.default.prototype.pRotationY=0;var b=v.default.prototype.pRotationZ=0,g=0,y=0,C="clockwise",_="clockwise",s="clockwise",l=(v.default.prototype.pRotateDirectionX=void 0,v.default.prototype.pRotateDirectionY=void 0,v.default.prototype.pRotateDirectionZ=void 0,v.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},v.default.prototype.turnAxis=void 0,.5),a=30;v.default.prototype.setMoveThreshold=function(c){v.default._validateParameters("setMoveThreshold",arguments),l=c},v.default.prototype.setShakeThreshold=function(c){v.default._validateParameters("setShakeThreshold",arguments),a=c},v.default.prototype._ondeviceorientation=function(c){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(c.beta)),this._setProperty("rotationY",this._fromDegrees(c.gamma)),this._setProperty("rotationZ",this._fromDegrees(c.alpha)),this._handleMotion()},v.default.prototype._ondevicemotion=function(c){this._updatePAccelerations(),this._setProperty("accelerationX",2*c.acceleration.x),this._setProperty("accelerationY",2*c.acceleration.y),this._setProperty("accelerationZ",2*c.acceleration.z),this._handleMotion()},v.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var c,u,h,p,m,w=this._isGlobal?window:this;"function"==typeof w.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>l||Math.abs(this.accelerationY-this.pAccelerationY)>l||Math.abs(this.accelerationZ-this.pAccelerationZ)>l)&&w.deviceMoved(),"function"==typeof w.deviceTurned&&(u=this._toDegrees(this.rotationX)+180,h=this._toDegrees(this.pRotationX)+180,c=b+180,0<u-h&&u-h<270||u-h<-270?C="clockwise":(u-h<0||270<u-h)&&(C="counter-clockwise"),C!==this.pRotateDirectionX&&(c=u),90<Math.abs(u-c)&&Math.abs(u-c)<270&&(c=u,this._setProperty("turnAxis","X"),w.deviceTurned()),this.pRotateDirectionX=C,b=c-180,h=this._toDegrees(this.rotationY)+180,u=this._toDegrees(this.pRotationY)+180,c=g+180,0<h-u&&h-u<270||h-u<-270?_="clockwise":(h-u<0||270<h-this.pRotationY)&&(_="counter-clockwise"),_!==this.pRotateDirectionY&&(c=h),90<Math.abs(h-c)&&Math.abs(h-c)<270&&(c=h,this._setProperty("turnAxis","Y"),w.deviceTurned()),this.pRotateDirectionY=_,g=c-180,0<(u=this._toDegrees(this.rotationZ))-(h=this._toDegrees(this.pRotationZ))&&u-h<270||u-h<-270?s="clockwise":(u-h<0||270<u-h)&&(s="counter-clockwise"),s!==this.pRotateDirectionZ&&(y=u),90<Math.abs(u-y)&&Math.abs(u-y)<270&&(y=u,this._setProperty("turnAxis","Z"),w.deviceTurned()),this.pRotateDirectionZ=s,this._setProperty("turnAxis",void 0)),"function"==typeof w.deviceShaken&&(null!==this.pAccelerationX&&(p=Math.abs(this.accelerationX-this.pAccelerationX),m=Math.abs(this.accelerationY-this.pAccelerationY)),a<p+m&&w.deviceShaken())},$.default=d=v.default},{"../core/main":283}],301:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.isKeyPressed=!1,v.default.prototype.keyIsPressed=!1,v.default.prototype.key="",v.default.prototype.keyCode=0,v.default.prototype._onkeydown=function(b){var g;this._downKeys[b.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",b.which),this._downKeys[b.which]=!0,this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),"function"!=typeof(g=this._isGlobal?window:this).keyPressed||b.charCode||!1===g.keyPressed(b)&&b.preventDefault())},v.default.prototype._onkeyup=function(b){this._downKeys[b.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),this._setProperty("keyCode",b.which);var g=this._isGlobal?window:this;"function"==typeof g.keyReleased&&!1===g.keyReleased(b)&&b.preventDefault()},v.default.prototype._onkeypress=function(b){var g;b.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",b.which),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),"function"==typeof(g=this._isGlobal?window:this).keyTyped&&!1===g.keyTyped(b)&&b.preventDefault())},v.default.prototype._onblur=function(b){this._downKeys={}},v.default.prototype.keyIsDown=function(b){return v.default._validateParameters("keyIsDown",arguments),this._downKeys[b]||!1},v.default.prototype._areDownKeys=function(){for(var b in this._downKeys)if(this._downKeys.hasOwnProperty(b)&&!0===this._downKeys[b])return!0;return!1},$.default=o=v.default},{"../core/main":283}],302:[function(o,ie,$){"use strict";function v(_){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(_)}function b(_){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(s){return v(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(_)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(g=o("../core/main"))&&g.__esModule?g:{default:g},y=function(_){if(_&&_.__esModule)return _;if(null===_||"object"!==b(_)&&"function"!=typeof _)return{default:_};var s=C();if(s&&s.has(_))return s.get(_);var l,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in _){var c;Object.prototype.hasOwnProperty.call(_,l)&&((c=d?Object.getOwnPropertyDescriptor(_,l):null)&&(c.get||c.set)?Object.defineProperty(a,l,c):a[l]=_[l])}return a.default=_,s&&s.set(_,a),a}(o("../core/constants"));function C(){var _;return"function"!=typeof WeakMap?null:(C=function(){return _},_=new WeakMap)}g.default.prototype.movedX=0,g.default.prototype.movedY=0,g.default.prototype._hasMouseInteracted=!1,g.default.prototype.mouseX=0,g.default.prototype.mouseY=0,g.default.prototype.pmouseX=0,g.default.prototype.pmouseY=0,g.default.prototype.winMouseX=0,g.default.prototype.winMouseY=0,g.default.prototype.pwinMouseX=0,g.default.prototype.pwinMouseY=0,g.default.prototype.mouseButton=0,g.default.prototype.mouseIsPressed=!1,g.default.prototype._updateNextMouseCoords=function(_){var s,l,a,d,c;null!==this._curElement&&(!_.touches||0<_.touches.length)&&(l=this.width,a=this.height,(d=_)&&!d.clientX&&(d.touches?d=d.touches[0]:d.changedTouches&&(d=d.changedTouches[0])),c=(s=this._curElement.elt).getBoundingClientRect(),a={x:(d.clientX-c.left)/(l=s.scrollWidth/l||1),y:(d.clientY-c.top)/(s=s.scrollHeight/a||1),winX:d.clientX,winY:d.clientY,id:d.identifier},this._setProperty("movedX",_.movementX),this._setProperty("movedY",_.movementY),this._setProperty("mouseX",a.x),this._setProperty("mouseY",a.y),this._setProperty("winMouseX",a.winX),this._setProperty("winMouseY",a.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},g.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},g.default.prototype._setMouseButton=function(_){this._setProperty("mouseButton",1===_.button?y.CENTER:2===_.button?y.RIGHT:y.LEFT)},g.default.prototype._onmousemove=function(_){var s=this._isGlobal?window:this;this._updateNextMouseCoords(_),this.mouseIsPressed?"function"==typeof s.mouseDragged?!1===s.mouseDragged(_)&&_.preventDefault():"function"==typeof s.touchMoved&&!1===s.touchMoved(_)&&_.preventDefault():"function"==typeof s.mouseMoved&&!1===s.mouseMoved(_)&&_.preventDefault()},g.default.prototype._onmousedown=function(_){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(_),this._updateNextMouseCoords(_),this.touchstart||("function"==typeof s.mousePressed?!1===s.mousePressed(_)&&_.preventDefault():"function"==typeof s.touchStarted&&!1===s.touchStarted(_)&&_.preventDefault(),this.touchstart=!1)},g.default.prototype._onmouseup=function(_){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof s.mouseReleased?!1===s.mouseReleased(_)&&_.preventDefault():"function"==typeof s.touchEnded&&!1===s.touchEnded(_)&&_.preventDefault(),this.touchend=!1)},g.default.prototype._ondragend=g.default.prototype._onmouseup,g.default.prototype._ondragover=g.default.prototype._onmousemove,g.default.prototype._onclick=function(_){var s=this._isGlobal?window:this;"function"==typeof s.mouseClicked&&!1===s.mouseClicked(_)&&_.preventDefault()},g.default.prototype._ondblclick=function(_){var s=this._isGlobal?window:this;"function"==typeof s.doubleClicked&&!1===s.doubleClicked(_)&&_.preventDefault()},g.default.prototype._mouseWheelDeltaY=0,g.default.prototype._pmouseWheelDeltaY=0,g.default.prototype._onwheel=function(_){var s=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",_.deltaY),"function"==typeof s.mouseWheel&&(_.delta=_.deltaY,!1===s.mouseWheel(_)&&_.preventDefault())},g.default.prototype.requestPointerLock=function(){var _=this._curElement.elt;return _.requestPointerLock=_.requestPointerLock||_.mozRequestPointerLock,_.requestPointerLock?(_.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},g.default.prototype.exitPointerLock=function(){document.exitPointerLock()},$.default=o=g.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(v){if(null!==this._curElement){for(var b=[],g=0;g<v.touches.length;g++)b[g]=function(c,d,u,s){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=c.getBoundingClientRect();return d=c.scrollWidth/d||1,c=c.scrollHeight/u||1,{x:((u=s.touches[l]||s.changedTouches[l]).clientX-a.left)/d,y:(u.clientY-a.top)/c,winX:u.clientX,winY:u.clientY,id:u.identifier}}(this._curElement.elt,this.width,this.height,v,g);this._setProperty("touches",b)}},o.default.prototype._ontouchstart=function(v){var b=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(v),this._updateNextMouseCoords(v),this._updateMouseCoords(),"function"==typeof b.touchStarted&&(!1===b.touchStarted(v)&&v.preventDefault(),this.touchstart=!0)},o.default.prototype._ontouchmove=function(v){var b=this._isGlobal?window:this;this._updateTouchCoords(v),this._updateNextMouseCoords(v),"function"==typeof b.touchMoved?!1===b.touchMoved(v)&&v.preventDefault():"function"==typeof b.mouseDragged&&!1===b.mouseDragged(v)&&v.preventDefault()},o.default.prototype._ontouchend=function(v){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(v),this._updateNextMouseCoords(v);var b=this._isGlobal?window:this;"function"==typeof b.touchEnded&&(!1===b.touchEnded(v)&&v.preventDefault(),this.touchend=!0)},$.default=o=o.default},{"../core/main":283}],304:[function(o,ie,$){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v,b,g,y,C={_toPixels:function(_){var s,l;return _ instanceof ImageData?_.data:_.getContext("2d")?_.getContext("2d").getImageData(0,0,_.width,_.height).data:_.getContext("webgl")?(l=(s=_.getContext("webgl")).drawingBufferWidth*s.drawingBufferHeight*4,l=new Uint8Array(l),s.readPixels(0,0,_.width,_.height,s.RGBA,s.UNSIGNED_BYTE,l),l):void 0},_getARGB:function(_,s){return _[3+(s*=4)]<<24&4278190080|_[s]<<16&16711680|_[1+s]<<8&65280|255&_[2+s]},_setPixels:function(_,s){for(var l,a=0,d=_.length;a<d;a++)_[0+(l=4*a)]=(16711680&s[a])>>>16,_[1+l]=(65280&s[a])>>>8,_[2+l]=255&s[a],_[3+l]=(4278190080&s[a])>>>24},_toImageData:function(_){return _ instanceof ImageData?_:_.getContext("2d").getImageData(0,0,_.width,_.height)},_createImageData:function(_,s){return C._tmpCanvas=document.createElement("canvas"),C._tmpCtx=C._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(_,s)},apply:function(_,c,l){var a=_.getContext("2d"),d=a.getImageData(0,0,_.width,_.height);(c=c(d,l))instanceof ImageData?a.putImageData(c,0,0,0,0,_.width,_.height):a.putImageData(d,0,0,0,0,_.width,_.height)},threshold:function(_){for(var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,l=C._toPixels(_),a=Math.floor(255*s),d=0;d<l.length;d+=4)l[d]=l[d+1]=l[d+2]=a<=.2126*l[d]+.7152*l[d+1]+.0722*l[d+2]?255:0},gray:function(_){for(var s=C._toPixels(_),l=0;l<s.length;l+=4)s[l]=s[l+1]=s[l+2]=.2126*s[l]+.7152*s[l+1]+.0722*s[l+2]},opaque:function(_){for(var s=C._toPixels(_),l=0;l<s.length;l+=4)s[l+3]=255;return s},invert:function(_){for(var s=C._toPixels(_),l=0;l<s.length;l+=4)s[l]=255-s[l],s[l+1]=255-s[l+1],s[l+2]=255-s[l+2]},posterize:function(_){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,l=C._toPixels(_);if(s<2||255<s)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var a=s-1,d=0;d<l.length;d+=4){var u=l[d+1],h=l[d+2];l[d]=255*(l[d]*s>>8)/a,l[d+1]=255*(u*s>>8)/a,l[d+2]=255*(h*s>>8)/a}},dilate:function(_){for(var s,l,a,d,c,u,h,p,m,w=C._toPixels(_),R=0,E=w.length?w.length/4:0,M=new Int32Array(E);R<E;)for(l=(s=R)+_.width;R<l;)d=a=C._getARGB(w,R),(m=R-1)<s&&(m=R),l<=(p=R+1)&&(p=R),(c=R-_.width)<0&&(c=0),E<=(u=R+_.width)&&(u=R),c=C._getARGB(w,c),m=C._getARGB(w,m),u=C._getARGB(w,u),(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(h=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(a=m,d=h),d<(h=77*((m=C._getARGB(w,p))>>16&255)+151*(m>>8&255)+28*(255&m))&&(a=m,d=h),d<(p=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(a=c,d=p),d<(m=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(a=u,d=m),M[R++]=a;C._setPixels(w,M)},erode:function(_){for(var s,l,a,d,c,u,h,p,m,w=C._toPixels(_),R=0,E=w.length?w.length/4:0,M=new Int32Array(E);R<E;)for(l=(s=R)+_.width;R<l;)d=a=C._getARGB(w,R),(m=R-1)<s&&(m=R),l<=(p=R+1)&&(p=R),(c=R-_.width)<0&&(c=0),E<=(u=R+_.width)&&(u=R),c=C._getARGB(w,c),m=C._getARGB(w,m),u=C._getARGB(w,u),(h=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(a=m,d=h),(h=77*((m=C._getARGB(w,p))>>16&255)+151*(m>>8&255)+28*(255&m))<d&&(a=m,d=h),(p=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<d&&(a=c,d=p),(m=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<d&&(a=u,d=m),M[R++]=a;C._setPixels(w,M)},blur:function(_,s){for(var l,a,d,c,u,h,p,m,w,R,E=C._toPixels(_),M=_.width,A=_.height,B=M*A,j=new Int32Array(B),N=0;N<B;N++)j[N]=C._getARGB(E,N);var k,J,ne,z,ee,H,G,K,le=new Int32Array(B),Oe=new Int32Array(B),Y=new Int32Array(B),P=new Int32Array(B),re=0,ge=3.5*s|0;if(v!==(ge=ge<1?1:ge<248?ge:248)){b=1+(v=ge)<<1,g=new Int32Array(b),y=new Array(b);for(var Te=0;Te<b;Te++)y[Te]=new Int32Array(256);for(var Ge=1,qe=ge-1;Ge<ge;Ge++){g[ge+Ge]=g[qe]=H=qe*qe,G=y[ge+Ge],K=y[qe--];for(var ht=0;ht<256;ht++)G[ht]=K[ht]=H*ht}ee=g[ge]=ge*ge,G=y[ge];for(var ze=0;ze<256;ze++)G[ze]=ee*ze}for(J=0;J<A;J++){for(k=0;k<M;k++){if(c=d=a=u=l=0,(h=k-v)<0)R=-h,h=0;else{if(M<=h)break;R=0}for(ne=R;ne<b&&!(M<=h);ne++){var st=j[h+re];u+=(z=y[ne])[(-16777216&st)>>>24],a+=z[(16711680&st)>>16],d+=z[(65280&st)>>8],c+=z[255&st],l+=g[ne],h++}le[p=re+k]=u/l,Oe[p]=a/l,Y[p]=d/l,P[p]=c/l}re+=M}for(w=(m=-v)*M,J=re=0;J<A;J++){for(k=0;k<M;k++){if(c=d=a=u=l=0,m<0)R=p=-m,h=k;else{if(A<=m)break;R=0,p=m,h=k+w}for(ne=R;ne<b&&!(A<=p);ne++)u+=(z=y[ne])[le[h]],a+=z[Oe[h]],d+=z[Y[h]],c+=z[P[h]],l+=g[ne],p++,h+=M;j[k+re]=u/l<<24|a/l<<16|d/l<<8|c/l}re+=M,w+=M,m++}C._setPixels(E,j)}};$.default=C},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=g(o("../core/main")),b=g(o("omggif"));function g(C){return C&&C.__esModule?C:{default:C}}function y(C){return function(_){if(Array.isArray(_)){for(var s=0,l=new Array(_.length);s<_.length;s++)l[s]=_[s];return l}}(C)||function(_){if(Symbol.iterator in Object(_)||"[object Arguments]"===Object.prototype.toString.call(_))return Array.from(_)}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.createImage=function(C,_){return v.default._validateParameters("createImage",arguments),new v.default.Image(C,_)},v.default.prototype.saveCanvas=function(){for(var C,_,s,l,a,d,c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];switch(v.default._validateParameters("saveCanvas",u),u[0]instanceof HTMLCanvasElement?(C=u[0],u.shift()):u[0]instanceof v.default.Element?(C=u[0].elt,u.shift()):u[0]instanceof v.default.Framebuffer?((a=this.createGraphics((l=u[0]).width,l.height)).pixelDensity(pixelDensity()),l.loadPixels(),a.loadPixels(),a.pixels.set(l.pixels),a.updatePixels(),C=a.elt,u.shift()):C=this._curElement&&this._curElement.elt,1<=u.length&&(_=u[0]),s=(s=2<=u.length?u[1]:s)||v.default.prototype._checkFileExtension(_,s)[1]||"png"){default:d="image/png";break;case"webp":d="image/webp";break;case"jpeg":case"jpg":d="image/jpeg"}C.toBlob(function(p){v.default.prototype.downloadFile(p,_,s),a&&a.remove()},d)},v.default.prototype.encodeAndDownloadGif=function(C,_){for(var s=C.gifProperties,a=(1===(l=s.loopLimit)?l=null:null===l&&(l=0),new Uint8Array(C.width*C.height*s.numFrames)),d=[],c={},u=0;u<s.numFrames;u++){for(var h=new Set,p=s.frames[u].image.data,m=p.length,w=new Uint32Array(C.width*C.height),R=0,E=0;R<m;R+=4,E++){var M=p[R+0]<<16|p[R+1]<<8|p[R+2];h.add(M),w[E]=M}var A=y(h).sort().toString();void 0===c[A]?c[A]={freq:1,frames:[u]}:(c[A].freq+=1,c[A].frames.push(u)),d.push(w)}for(var N=[],B=Object.keys(c).sort(function(Y,P){return c[P].freq-c[Y].freq}),j=B[0].split(",").map(function(Y){return parseInt(Y)}),k=(N=N.concat(c[j].frames),new Set(j)),J=1;J<B.length;J++){var ne=B[J].split(",").map(function(Y){return parseInt(Y)}).filter(function(Y){return!k.has(Y)});if(j.length+ne.length<=256){for(var z=0;z<ne.length;z++)j.push(ne[z]),k.add(ne[z]);N=N.concat(c[B[J]].frames)}}N=new Set(N);for(var ee={},H=0;H<j.length;H++)ee[j[H]]||(ee[j[H]]=H);for(var G=1;G<j.length;)G<<=1;j.length=G;for(var l={loop:l,palette:new Uint32Array(j)},K=new b.default.GifWriter(a,C.width,C.height,l),le={},Oe=0;Oe<s.numFrames;Oe++)!function(P){var re=!N.has(P),ge=re?[]:j,Te=new Uint8Array(C.width*C.height),Ge={},qe=new Set,ht=(d[P].forEach(function(Qe,Je){re?(void 0===Ge[Qe]&&(Ge[Qe]=ge.length,ge.push(Qe)),Te[Je]=Ge[Qe]):Te[Je]=ee[Qe],0<P&&d[P-1][Je]!==Qe&&qe.add(Qe)}),{});if(0<(ze=ge.filter(function(Qe){return!qe.has(Qe)})).length){var ze,st=(re?Ge:ee)[ze=ze[0]];if(0<P){for(var lt=0;lt<d[P].length;lt++)d[P-1][lt]===d[P][lt]&&(Te[lt]=st);ht.transparent=st,le.frameOpts.disposal=1}}if(ht.delay=s.frames[P].delay/10,re){for(var Be=1;Be<ge.length;)Be<<=1;ge.length=Be,ht.palette=new Uint32Array(ge)}0<P&&K.addFrame(0,0,C.width,C.height,le.pixelPaletteIndex,le.frameOpts),le={pixelPaletteIndex:Te,frameOpts:ht}}(Oe);le.frameOpts.disposal=1,K.addFrame(0,0,C.width,C.height,le.pixelPaletteIndex,le.frameOpts),l=new Blob([a.slice(0,K.end())],{type:"image/gif"}),v.default.prototype.downloadFile(l,_,"gif")},v.default.prototype.saveFrames=function(C,_,s,d,a){v.default._validateParameters("saveFrames",arguments),s=v.default.prototype.constrain(s=s||3,0,15),s*=1e3,d=v.default.prototype.constrain(d||15,0,22);var c=0,u=v.default.prototype._makeFrame,h=this._curElement.elt,p=[],m=setInterval(function(){p.push(u(C+c,_,h)),c++},1e3/d);setTimeout(function(){if(clearInterval(m),a)a(p);else for(var w=0,R=p;w<R.length;w++){var E=R[w];v.default.prototype.downloadFile(E.imageData,E.filename,E.ext)}p=[]},.01+s)},v.default.prototype._makeFrame=function(C,_,a){var l;if(a=this?this._curElement.elt:a,_)switch(_.toLowerCase()){case"png":default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}else _="png",l="image/png";a=(a=a.toDataURL(l)).replace(l,"image/octet-stream");var d={};return d.imageData=a,d.filename=C,d.ext=_,d},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(o,ie,$){"use strict";function v(h){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,o("regenerator-runtime/runtime");var g=a(o("../core/main")),y=a(o("../core/helpers")),C=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==b(h)&&"function"!=typeof h)return{default:h};var p=l();if(p&&p.has(h))return p.get(h);var m,w={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var E;Object.prototype.hasOwnProperty.call(h,m)&&((E=R?Object.getOwnPropertyDescriptor(h,m):null)&&(E.get||E.set)?Object.defineProperty(w,m,E):w[m]=h[m])}return w.default=h,p&&p.set(h,w),w}(o("../core/constants")),_=a(o("omggif")),s=o("gifenc");function l(){var h;return"function"!=typeof WeakMap?null:(l=function(){return h},h=new WeakMap)}function a(h){return h&&h.__esModule?h:{default:h}}function d(h,p,m,w,R,E,M){try{var A=h[E](M),B=A.value}catch(j){return void m(j)}A.done?p(B):Promise.resolve(B).then(w,R)}function u(h,p){return 0<h&&h<p?h:p}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),g.default.prototype.loadImage=function(h,p,m){g.default._validateParameters("loadImage",arguments);var w=new g.default.Image(1,1,this),R=this,E=new Request(h,{method:"GET",mode:"cors"});return fetch(h,E).then(function(M){var A,B=M.headers.get("content-type");null===B&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),B&&B.includes("image/gif")?M.arrayBuffer().then(function(j){if(j){j=new Uint8Array(j);for(var N=w,k=p,J=m,ne=function(re){R._decrementPreload()}.bind(R),z=new _.default.GifReader(j),ee=(N.width=N.canvas.width=z.width,N.height=N.canvas.height=z.height,[]),H=z.numFrames(),G=new Uint8ClampedArray(N.width*N.height*4),K=0;K<H;K++){var le=z.frameInfo(K),Oe=N.drawingContext.getImageData(0,0,N.width,N.height),Y=(G=Oe.data.slice(),function(re,ge){try{ge.decodeAndBlitFrameRGBA(re,G)}catch(Te){g.default._friendlyFileLoadError(8,N.src),"function"==typeof J?J(Te):console.error(Te)}}(K,z),new ImageData(G,N.width,N.height));0===(N.drawingContext.putImageData(Y,0,0),Y=le.delay)&&(Y=10),ee.push({image:N.drawingContext.getImageData(0,0,N.width,N.height),delay:10*Y}),2===le.disposal?N.drawingContext.clearRect(le.x,le.y,le.width,le.height):3===le.disposal&&N.drawingContext.putImageData(Oe,0,0,le.x,le.y,le.width,le.height)}null===(j=z.loopCount())?j=1:0===j&&(j=null),N.drawingContext.putImageData(ee[0].image,0,0),1<ee.length&&(N.gifProperties={displayIndex:0,loopLimit:j,loopCount:0,frames:ee,numFrames:H,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof k&&k(N),ne()}},function(j){"function"==typeof m?(m(j),R._decrementPreload()):console.error(j)}):((A=new Image).onload=function(){w.width=w.canvas.width=A.width,w.height=w.canvas.height=A.height,w.drawingContext.drawImage(A,0,0),w.modified=!0,"function"==typeof p&&p(w),R._decrementPreload()},A.onerror=function(j){g.default._friendlyFileLoadError(0,A.src),"function"==typeof m?(m(j),R._decrementPreload()):console.error(j)},0!==h.indexOf("data:image/")&&(A.crossOrigin="Anonymous"),A.src=h),w.modified=!0}).catch(function(M){g.default._friendlyFileLoadError(0,h),"function"==typeof m?(m(M),R._decrementPreload()):console.error(M)}),w},g.default.prototype.saveGif=function(){h=O.mark(function m(w,R){var E,M,A,B,j,N,k,J,ne,z,ee,H,G,K,le,Oe,Y,P,re,ge,Te,Ge,qe,ht,ze,st,lt=arguments;return O.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(E=2<lt.length&&void 0!==lt[2]?lt[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof w)throw TypeError("fileName parameter must be a string");Be.next=3;break;case 3:if("number"!=typeof R)throw TypeError("Duration parameter must be a number");Be.next=5;break;case 5:if(A=E&&E.units||"seconds",B=E&&E.silent||!1,j=E&&E.notificationDuration||0,N=E&&E.notificationID||"progressBar","number"!=typeof(M=E&&E.delay||0))throw TypeError("Delay parameter must be a number");Be.next=12;break;case 12:if("seconds"!==A&&"frames"!==A)throw TypeError('Units parameter must be either "frames" or "seconds"');Be.next=14;break;case 14:if("boolean"!=typeof B)throw TypeError("Silent parameter must be a boolean");Be.next=16;break;case 16:if("number"!=typeof j)throw TypeError("Notification duration parameter must be a number");Be.next=18;break;case 18:if("string"!=typeof N)throw TypeError("Notification ID parameter must be a string");Be.next=20;break;case 20:return this._recording=!0,k=(k=1/(z=(z=this._targetFrameRate)!==1/0&&void 0!==z&&0!==z?z:60)*1e3)<20?20:k,ne=(J="seconds"===A?R*z:R)+(z="seconds"===A?M*z:M),this.frameCount=z,ee=this._pixelDensity,this.pixelDensity(1),H=[],null!==document.getElementById(N)&&document.getElementById(N).remove(),B||((G=this.createP("")).id(N),G.style("font-size","16px"),G.style("font-family","Montserrat"),G.style("background-color","#ffffffa0"),G.style("padding","8px"),G.style("border-radius","10px"),G.position(0,0)),this._renderer instanceof g.default.RendererGL&&(le=this.drawingContext,K=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4)),this.noLoop(),Be.next=39,Promise.resolve();case 39:if(z<ne)return this.redraw(),ht=void 0,ht=this._renderer instanceof g.default.RendererGL?(K=new Uint8Array(le.drawingBufferWidth*le.drawingBufferHeight*4),le.readPixels(0,0,le.drawingBufferWidth,le.drawingBufferHeight,le.RGBA,le.UNSIGNED_BYTE,K),function(Qe,Je,ot){for(var Ze=parseInt(ot/2),yt=4*Je,Ct=new Uint8Array(4*Je),sn=0;sn<Ze;++sn){var $t=sn*yt,un=(ot-sn-1)*yt;Ct.set(Qe.subarray($t,$t+yt)),Qe.copyWithin($t,un,un+yt),Qe.set(Ct,un)}return Qe}(K,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,H.push(ht),z++,B||G.html("Saved frame <b>"+H.length.toString()+"</b> out of "+J.toString()),Be.next=48,new Promise(function(Qe){return setTimeout(Qe,0)});Be.next=50;break;case 48:Be.next=39;break;case 50:B||G.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(ee),Oe=(0,s.GIFEncoder)(),Y=function(Qe){for(var Je=new Uint8Array(Qe.length*Qe[0].length),ot=0;ot<Qe.length;ot++)Je.set(Qe[ot],ot*Qe[0].length);var Ze=(0,s.quantize)(Je,256,{format:"rgba4444",oneBitAlpha:!0});return 256===Ze.length?Ze[Ze.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Ze.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Ze}(H),P={},re=function(Qe){for(var Je=Qe.length/4,ot=new Uint8Array(Je),Ze=0;Ze<Je;Ze++){var yt=Qe[4*Ze]<<24|Qe[4*Ze+1]<<16|Qe[4*Ze+2]<<8|Qe[4*Ze+3];void 0===P[yt]&&(P[yt]=(0,s.nearestColorIndex)(Y,Qe.slice(4*Ze,4*(Ze+1)))),ot[Ze]=P[yt]}return ot},ge=Y.length-1,Te=[],Ge=0;case 60:if(!(Ge<H.length)){Be.next=71;break}if(qe=re(H[Ge]),ht=qe.slice(),0===Ge)Oe.writeFrame(qe,this.width,this.height,{palette:Y,delay:k,dispose:1});else{for(ze=0;ze<qe.length;ze++)qe[ze]===Te[ze]&&(qe[ze]=ge);Oe.writeFrame(qe,this.width,this.height,{delay:k,transparent:!0,transparentIndex:ge,dispose:1})}return Te=ht,B||G.html("Rendered frame <b>"+Ge.toString()+"</b> out of "+J.toString()),Be.next=68,new Promise(function(Qe){return setTimeout(Qe,0)});case 68:Ge++,Be.next=60;break;case 71:Oe.finish(),st=Oe.bytesView(),st=new Blob([st],{type:"image/gif"}),H=[],this._recording=!1,this.loop(),B||(G.html("Done. Downloading your gif!\u{1f338}"),0<j&&setTimeout(function(){return G.remove()},1e3*j)),g.default.prototype.downloadFile(st,w,"gif");case 80:case"end":return Be.stop()}},m,this)});var h,p=function(){var m=this,w=arguments;return new Promise(function(R,E){var M=h.apply(m,w);function A(j){d(M,R,E,A,B,"next",j)}function B(j){d(M,R,E,A,B,"throw",j)}A(void 0)})};return function(m,w){return p.apply(this,arguments)}}(),g.default.prototype.image=function(h,p,m,w,z,ee,H,G,le,j,N,k){g.default._validateParameters("image",arguments);var K=h.width,J=h.height,ne=(k=k||C.CENTER,N=N||C.CENTER,h.elt&&(K=void 0!==K?K:h.elt.width,J=void 0!==J?J:h.elt.height),h.elt&&h.elt.videoWidth&&!h.canvas&&(K=void 0!==K?K:h.elt.videoWidth,J=void 0!==J?J:h.elt.videoHeight),w||K);z=z||J,ee=ee||0,H=H||0,G=u(void 0!==G?G:K,K),K=u(void 0!==le?le:J,J),le=1,h.elt&&!h.canvas&&h.elt.style.width&&(le=h.elt.videoWidth&&!w?h.elt.videoWidth:h.elt.width,le/=parseInt(h.elt.style.width,10)),ee*=le,H*=le,K*=le,G*=le,J=function c(h,p,m,w,R,E,M,A,B,j,N){var k,J,ne,z,ee,H,G,K,le;return h===C.COVER&&(k=p,ne=m,G=E,K=M,H=A,le=B,J=j,z=N,G/=ee=Math.max(G/J,K/z),K/=ee,ee=H,H=le,k===C.CENTER?ee+=(J-G)/2:k===C.RIGHT&&(ee+=J-G),ne===C.CENTER?H+=(z-K)/2:ne===C.BOTTOM&&(H+=z-K),A=(le={x:ee,y:H,w:G,h:K}).x,B=le.y,j=le.w,N=le.h),h===C.CONTAIN&&(k=p,J=m,ne=w,z=R,ee=E,H=M,G=j,K=N,G/=le=Math.max(G/ee,K/H),K/=le,le=ne,ne=z,k===C.CENTER?le+=(ee-G)/2:k===C.RIGHT&&(le+=ee-G),J===C.CENTER?ne+=(H-K)/2:J===C.BOTTOM&&(ne+=H-K),w=(h={x:le,y:ne,w:G,h:K}).x,R=h.y,E=h.w,M=h.h),{sx:A,sy:B,sw:j,sh:N,dx:w,dy:R,dw:E,dh:M}}(j,N,k,(J=y.default.modeAdjust(p,m,ne,z,this._renderer._imageMode)).x,J.y,J.w,J.h,ee,H,G,K),this._renderer.image(h,J.sx,J.sy,J.sw,J.sh,J.dx,J.dy,J.dw,J.dh)},g.default.prototype.tint=function(){for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];g.default._validateParameters("tint",p);var w=this.color.apply(this,p);this._renderer._tint=w.levels},g.default.prototype.noTint=function(){this._renderer._tint=null},g.default.prototype._getTintedImageCanvas=g.default.Renderer2D.prototype._getTintedImageCanvas,g.default.prototype.imageMode=function(h){g.default._validateParameters("imageMode",arguments),h!==C.CORNER&&h!==C.CORNERS&&h!==C.CENTER||(this._renderer._imageMode=h)},$.default=o=g.default},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=g(o("../core/main")),b=g(o("./filters"));function g(C){return C&&C.__esModule?C:{default:C}}function y(C,_){for(var s=0;s<_.length;s++){var l=_[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(C,l.key,l)}}v.default.Image=function(){function C(a,d){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");this.width=a,this.height=d,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var _,s;return _=C,(s=[{key:"pixelDensity",value:function(a){return void 0!==a?(a<=0&&(v.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),a=1),this._pixelDensity=a,this.width/=a,this.height/=a,this):this._pixelDensity}},{key:"_animateGif",value:function(u){var d,c=this.gifProperties;u=u._lastRealFrameTime||window.performance.now(),0===c.lastChangeTime&&(c.lastChangeTime=u),c.playing&&(c.timeDisplayed=u-c.lastChangeTime,c.timeDisplayed>=(d=c.frames[c.displayIndex].delay)&&(d=Math.floor(c.timeDisplayed/d),c.timeDisplayed=0,c.lastChangeTime=u,c.displayIndex+=d,c.loopCount=Math.floor(c.displayIndex/c.numFrames),null!==c.loopLimit&&c.loopCount>=c.loopLimit?c.playing=!1:(this.drawingContext.putImageData(c.frames[u=c.displayIndex%c.numFrames].image,0,0),c.displayIndex=u,this.setModified(!0))))}},{key:"_setProperty",value:function(a,d){this[a]=d,this.setModified(!0)}},{key:"loadPixels",value:function(){v.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(a,d,c,u){v.default.Renderer2D.prototype.updatePixels.call(this,a,d,c,u),this.setModified(!0)}},{key:"get",value:function(a,d,c,u){return v.default._validateParameters("p5.Image.get",arguments),v.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];return v.default.Renderer2D.prototype._getPixel.apply(this,d)}},{key:"set",value:function(a,d,c){v.default.Renderer2D.prototype.set.call(this,a,d,c),this.setModified(!0)}},{key:"resize",value:function(a,d){0===a&&0===d?(a=this.canvas.width,d=this.canvas.height):0===a?a=this.canvas.width*d/this.canvas.height:0===d&&(d=this.canvas.height*a/this.canvas.width),a=Math.floor(a),d=Math.floor(d);var c=document.createElement("canvas");if(c.width=a,c.height=d,this.gifProperties)for(var u=this.gifProperties,h=0;h<u.numFrames;h++){for(var p=this.drawingContext.createImageData(a,d),m=(A=A=M=E=R=void 0,u.frames[h].image),w=p,R=0,E=0;E<w.height;E++)for(var M=0;M<w.width;M++){var A=Math.floor(M*m.width/w.width);A=4*(Math.floor(E*m.height/w.height)*m.width+A),w.data[R++]=m.data[A++],w.data[R++]=m.data[A++],w.data[R++]=m.data[A++],w.data[R++]=m.data[+A]}u.frames[h].image=p}c.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,c.width,c.height),this.canvas.width=this.width=a,this.canvas.height=this.height=d,this.drawingContext.drawImage(c,0,0,a,d,0,0,a,d),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];v.default.prototype.copy.apply(this,d)}},{key:"mask",value:function(a){var d=this.drawingContext.globalCompositeOperation,c=this._pixelDensity,u=1,h=[a=void 0===a?this:a,0,0,(u=a instanceof v.default.Renderer?a._pInst._pixelDensity:u)*a.width,u*a.height,0,0,c*this.width,c*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var p=0;p<this.gifProperties.frames.length;p++)this.drawingContext.putImageData(this.gifProperties.frames[p].image,0,0),this.copy.apply(this,h),this.gifProperties.frames[p].image=this.drawingContext.getImageData(0,0,c*this.width,c*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,h);this.drawingContext.globalCompositeOperation=d,this.setModified(!0)}},{key:"filter",value:function(a,d){b.default.apply(this.canvas,b.default[a],d),this.setModified(!0)}},{key:"blend",value:function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];v.default._validateParameters("p5.Image.blend",arguments),v.default.prototype.blend.apply(this,d),this.setModified(!0)}},{key:"setModified",value:function(a){this._modified=a}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(a,d){this.gifProperties?v.default.prototype.encodeAndDownloadGif(this,a):v.default.prototype.saveCanvas(this.canvas,a,d)}},{key:"reset",value:function(){var a;this.gifProperties&&((a=this.gifProperties).playing=!0,a.timeSinceStart=0,a.timeDisplayed=0,a.lastChangeTime=0,a.loopCount=0,a.displayIndex=0,this.drawingContext.putImageData(a.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var a;if(this.gifProperties)return(a=this.gifProperties).displayIndex%a.numFrames}},{key:"setFrame",value:function(a){var d;this.gifProperties&&(a<(d=this.gifProperties).numFrames&&0<=a?(d.timeDisplayed=0,d.lastChangeTime=0,d.displayIndex=a,this.drawingContext.putImageData(d.frames[a].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(a,d){if(this.gifProperties){var c=this.gifProperties;if(d<c.numFrames&&0<=d)c.frames[d].delay=a;else{var u=!0,h=void(d=!1);try{for(var p,m=c.frames[Symbol.iterator]();!(u=(p=m.next()).done);u=!0)p.value.delay=a}catch(R){d=!0,h=R}finally{try{u||null==m.return||m.return()}finally{if(d)throw h}}}}}}])&&y(_.prototype,s),C}(),$.default=o=v.default.Image},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(o,ie,$){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=g(o("../core/main")),b=g(o("./filters"));function g(y){return y&&y.__esModule?y:{default:y}}o("../color/p5.Color"),v.default.prototype.pixels=[],v.default.prototype.blend=function(){for(var y,C=arguments.length,_=new Array(C),s=0;s<C;s++)_[s]=arguments[s];v.default._validateParameters("blend",_),this._renderer?(y=this._renderer).blend.apply(y,_):v.default.Renderer2D.prototype.blend.apply(this,_)},v.default.prototype.copy=function(){for(var y,C,_,s,l,a,d,c,u,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];if(v.default._validateParameters("copy",p),9===p.length)y=p[0],C=p[1],_=p[2],s=p[3],l=p[4],a=p[5],d=p[6],c=p[7],u=p[8];else{if(8!==p.length)throw new Error("Signature not supported");y=this,C=p[0],_=p[1],s=p[2],l=p[3],a=p[4],d=p[5],c=p[6],u=p[7]}v.default.prototype._copyHelper(this,y,C,_,s,l,a,d,c,u)},v.default.prototype._copyHelper=function(y,C,_,s,l,a,d,c,u,h){var p=C.canvas.width/C.width,m=0,w=0;C._renderer&&C._renderer.isP3D&&(m=C.width/2,w=C.height/2),y._renderer&&y._renderer.isP3D?(y.push(),y.resetMatrix(),y.noLights(),y.blendMode(y.BLEND),y.imageMode(y.CORNER),v.default.RendererGL.prototype.image.call(y._renderer,C,_+m,s+w,l,a,d,c,u,h),y.pop()):y.drawingContext.drawImage(C.canvas,p*(_+m),p*(s+w),p*l,p*a,d,c,u,h)},v.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},v.default.prototype.filter=function(){for(var y=arguments.length,C=new Array(y),_=0;_<y;_++)C[_]=arguments[_];v.default._validateParameters("filter",C);var d=function(){var c,u={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof v.default.Shader?u.shader=arguments.length<=0?void 0:arguments[0]:(u.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(u.value=arguments.length<=1?void 0:arguments[1]),!1===((c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c])&&(u.useWebGL=!1)),u}.apply(void 0,C),s=d.shader,l=d.operation,a=d.value;d=d.useWebGL,this._renderer.isP3D&&s?v.default.RendererGL.prototype.filter.call(this._renderer,s):d||this._renderer.isP3D?(!d&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?v.default.RendererGL.prototype.filter.call(this._renderer,l,a):((s=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),s.filter.apply(s,C),this.copy(s._renderer,0,0,this.width,this.height,0,0,this.width,this.height),s.clear())):b.default.apply(void 0!==this.canvas?this.canvas:this.elt,b.default[l],a)},v.default.prototype.get=function(y,C,_,s){var l;return v.default._validateParameters("get",arguments),(l=this._renderer).get.apply(l,arguments)},v.default.prototype.loadPixels=function(){for(var y=arguments.length,C=new Array(y),_=0;_<y;_++)C[_]=arguments[_];v.default._validateParameters("loadPixels",C),this._renderer.loadPixels()},v.default.prototype.set=function(y,C,_){this._renderer.set(y,C,_)},v.default.prototype.updatePixels=function(y,C,_,s){v.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(y,C,_,s)},$.default=o=v.default},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(o,ie,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=C(o("../core/main")),g=(o("whatwg-fetch"),o("es6-promise/auto"),C(o("fetch-jsonp"))),y=C(o("file-saver"));function C(a){return a&&a.__esModule?a:{default:a}}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}function s(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function l(a,d){d&&!0!==d&&"true"!==d||(d="");var c="";return(a=a||"untitled")&&a.includes(".")&&(c=a.split(".").pop()),d&&c!==d&&(c=d,a="".concat(a,".").concat(c)),[a,c]}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),b.default.prototype.loadJSON=function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];b.default._validateParameters("loadJSON",d);for(var u,h,p,m=d[0],w={},R="json",E=1;E<d.length;E++){var M=d[E];"string"==typeof M?"jsonp"!==M&&"json"!==M||(R=M):"function"==typeof M?u?h=M:u=M:"object"===_(M)&&(M.hasOwnProperty("jsonpCallback")||M.hasOwnProperty("jsonpCallbackFunction"))&&(R="jsonp",p=M)}var A=this;return this.httpDo(m,"GET",p,R,function(B){for(var j in B)w[j]=B[j];void 0!==u&&u(B),A._decrementPreload()},function(B){if(b.default._friendlyFileLoadError(5,m),!h)throw B;h(B)}),w},b.default.prototype.loadStrings=function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];b.default._validateParameters("loadStrings",d);for(var u,h,p=[],m=1;m<d.length;m++){var w=d[m];"function"==typeof w&&(void 0===u?u=w:void 0===h&&(h=w))}var R=this;return b.default.prototype.httpDo.call(this,d[0],"GET","text",function(E){for(var M=E.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),A=0,B=M.length;A<B;A+=32768)Array.prototype.push.apply(p,M.slice(A,Math.min(A+32768,B)));void 0!==u&&u(p),R._decrementPreload()},function(E){if(b.default._friendlyFileLoadError(3,E),!h)throw E;h(E)}),p},b.default.prototype.loadTable=function(a){var d,c,u,h=[],p=!1,m=a.substring(a.lastIndexOf(".")+1,a.length);"csv"===m?u=",":"ssv"===m?u=";":"tsv"===m&&(u="\t");for(var w=1;w<arguments.length;w++)"function"==typeof arguments[w]?void 0===d?d=arguments[w]:void 0===c&&(c=arguments[w]):"string"==typeof arguments[w]&&(h.push(arguments[w]),"header"===arguments[w]&&(p=!0),"csv"===arguments[w]?u=",":"ssv"===arguments[w]?u=";":"tsv"===arguments[w]&&(u="\t"));var R=new b.default.Table,E=this;return this.httpDo(a,"GET","table",function(M){for(var A,B,j={},k=[],J=0,ne=null,z=function(){j.currentState=0,j.token=""},ee=function(){ne.push(j.token),z()},H=function(){j.currentState=4,k.push(ne),ne=null};;){if(null==(A=M[J++])){if(j.escaped)throw new Error("Unclosed quote in file.");if(ne){ee(),H();break}}if(null===ne&&(j.escaped=!1,ne=[],z()),0===j.currentState){if('"'===A){j.escaped=!0,j.currentState=1;continue}j.currentState=1}if(1===j.currentState&&j.escaped)if('"'===A)'"'===M[J]?(j.token+='"',J++):(j.escaped=!1,j.currentState=2);else{if("\r"===A)continue;j.token+=A}else"\r"===A?("\n"===M[J]&&J++,ee(),H()):"\n"===A?(ee(),H()):A===u?ee():1===j.currentState&&(j.token+=A)}if(p)R.columns=k.shift();else for(var G=0;G<k[0].length;G++)R.columns[G]="null";for(var K=0;K<k.length;K++)(1!==k[K].length||"undefined"!==k[K][0]&&""!==k[K][0])&&((B=new b.default.TableRow).arr=k[K],B.obj=function(le,Oe){if(void 0===(Oe=Oe||[]))for(var Y=0;Y<le.length;Y++)Oe[Y.toString()]=Y;return Object.fromEntries(Oe.map(function(P,re){return[P,le[re]]}))}(k[K],R.columns),R.addRow(B));"function"==typeof d&&d(R),E._decrementPreload()},function(M){b.default._friendlyFileLoadError(2,a),c?c(M):console.error(M)}),R},b.default.prototype.loadXML=function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];for(var u,h,p=new b.default.XML,m=1;m<d.length;m++){var w=d[m];"function"==typeof w&&(void 0===u?u=w:void 0===h&&(h=w))}var R=this;return this.httpDo(d[0],"GET","xml",function(E){for(var M in E)p[M]=E[M];void 0!==u&&u(p),R._decrementPreload()},function(E){if(b.default._friendlyFileLoadError(1,E),!h)throw E;h(E)}),p},b.default.prototype.loadBytes=function(a,d,c){var u={},h=this;return this.httpDo(a,"GET","arrayBuffer",function(p){u.bytes=new Uint8Array(p),"function"==typeof d&&d(u),h._decrementPreload()},function(p){if(b.default._friendlyFileLoadError(6,a),!c)throw p;c(p)}),u},b.default.prototype.httpGet=function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];return b.default._validateParameters("httpGet",d),d.splice(1,0,"GET"),b.default.prototype.httpDo.apply(this,d)},b.default.prototype.httpPost=function(){for(var a=arguments.length,d=new Array(a),c=0;c<a;c++)d[c]=arguments[c];return b.default._validateParameters("httpPost",d),d.splice(1,0,"POST"),b.default.prototype.httpDo.apply(this,d)},b.default.prototype.httpDo=function(){for(var a,d,c,u={},h=0,p="text/plain",m=arguments.length-1;0<m&&"function"==typeof(m<0||arguments.length<=m?void 0:arguments[m]);m--)h++;var R=arguments.length<=0?void 0:arguments[0];if(2==(w=arguments.length-h)&&"string"==typeof R&&"object"===_(arguments.length<=1?void 0:arguments[1]))N=new Request(R,arguments.length<=1?void 0:arguments[1]),d=arguments.length<=2?void 0:arguments[2],c=arguments.length<=3?void 0:arguments[3];else{for(var E,M="GET",A=1;A<arguments.length;A++){var B=A<0||arguments.length<=A?void 0:arguments[A];if("string"==typeof B)"GET"===B||"POST"===B||"PUT"===B||"DELETE"===B?M=B:"json"===B||"jsonp"===B||"binary"===B||"arrayBuffer"===B||"xml"===B||"text"===B||"table"===B?a=B:E=B;else if("number"==typeof B)E=B.toString();else if("object"===_(B))if(B.hasOwnProperty("jsonpCallback")||B.hasOwnProperty("jsonpCallbackFunction"))for(var j in B)u[j]=B[j];else p=B instanceof b.default.XML?(E=B.serialize(),"application/xml"):(E=JSON.stringify(B),"application/json");else"function"==typeof B&&(d?c=B:d=B)}var w="GET"===M?new Headers:new Headers({"Content-Type":p}),N=new Request(R,{method:M,mode:"cors",body:E,headers:w})}return(w=(w="jsonp"===(a=a||(R.includes("json")?"json":R.includes("xml")?"xml":"text"))?(0,g.default)(R,u):fetch(N)).then(function(k){if(!k.ok)throw(J=new Error(k.body)).status=k.status,J.ok=!1,J;var J=0;switch((J="jsonp"!==a?k.headers.get("content-length"):J)&&64e6<J&&b.default._friendlyFileLoadError(7,R),a){case"json":case"jsonp":return k.json();case"binary":return k.blob();case"arrayBuffer":return k.arrayBuffer();case"xml":return k.text().then(function(ne){return ne=(new DOMParser).parseFromString(ne,"text/xml"),new b.default.XML(ne.documentElement)});default:return k.text()}})).then(d||function(){}),w.catch(c||console.error),w},window.URL=window.URL||window.webkitURL,b.default.prototype._pWriters=[],b.default.prototype.createWriter=function(a,d){var c,u;for(u in b.default.prototype._pWriters)if(b.default.prototype._pWriters[u].name===a)return c=new b.default.PrintWriter(a+this.millis(),d),b.default.prototype._pWriters.push(c),c;return c=new b.default.PrintWriter(a,d),b.default.prototype._pWriters.push(c),c},b.default.PrintWriter=function(a,d){var c=this;this.name=a,this.content="",this.write=function(u){this.content+=u},this.print=function(u){this.content+="".concat(u,"\n")},this.clear=function(){this.content=""},this.close=function(){var u,h=[];for(u in h.push(this.content),b.default.prototype.writeFile(h,a,d),b.default.prototype._pWriters)b.default.prototype._pWriters[u].name===this.name&&b.default.prototype._pWriters.splice(u,1);c.clear(),c={}}},b.default.prototype.save=function(a,d,c){var u=arguments,h=(this._curElement||this).elt;if(0===u.length)b.default.prototype.saveCanvas(h);else if(u[0]instanceof b.default.Renderer||u[0]instanceof b.default.Graphics)b.default.prototype.saveCanvas(u[0].elt,u[1],u[2]);else if(1===u.length&&"string"==typeof u[0])b.default.prototype.saveCanvas(h,u[0]);else switch(l(u[1],u[2])[1]){case"json":return void b.default.prototype.saveJSON(u[0],u[1],u[2]);case"txt":return void b.default.prototype.saveStrings(u[0],u[1],u[2]);default:u[0]instanceof Array?b.default.prototype.saveStrings(u[0],u[1],u[2]):u[0]instanceof b.default.Table?b.default.prototype.saveTable(u[0],u[1],u[2]):u[0]instanceof b.default.Image?b.default.prototype.saveCanvas(u[0].canvas,u[1]):u[0]instanceof b.default.SoundFile&&b.default.prototype.saveSound(u[0],u[1],u[2],u[3])}},b.default.prototype.saveJSON=function(a,d,c){b.default._validateParameters("saveJSON",arguments),c=c?JSON.stringify(a):JSON.stringify(a,void 0,2),this.saveStrings(c.split("\n"),d,"json")},b.default.prototype.saveJSONObject=b.default.prototype.saveJSON,b.default.prototype.saveJSONArray=b.default.prototype.saveJSON,b.default.prototype.saveStrings=function(a,d,c,u){b.default._validateParameters("saveStrings",arguments);for(var h=this.createWriter(d,c||"txt"),p=0;p<a.length;p++)h.write(u?a[p]+"\r\n":a[p]+"\n");h.close(),h.clear()},b.default.prototype.saveTable=function(a,d,c){b.default._validateParameters("saveTable",arguments),u=void 0===c?d.substring(d.lastIndexOf(".")+1,d.length):c;var u,h=this.createWriter(d,u),p=a.columns,m="tsv"===u?"\t":",";if("html"!==u){if("0"!==p[0]){for(var w=0;w<p.length;w++)h.write(w<p.length-1?p[w]+m:p[w]);h.write("\n")}for(var R=0;R<a.rows.length;R++){var E=void 0;for(E=0;E<a.rows[R].arr.length;E++)E<a.rows[R].arr.length-1?"csv"===u&&String(a.rows[R].arr[E]).includes(",")?h.write('"'+a.rows[R].arr[E]+'"'+m):h.write(a.rows[R].arr[E]+m):"csv"===u&&String(a.rows[R].arr[E]).includes(",")?h.write('"'+a.rows[R].arr[E]+'"'):h.write(a.rows[R].arr[E]);h.write("\n")}}else{if(h.print("<html>"),h.print("<head>"),h.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),h.print("</head>"),h.print("<body>"),h.print("  <table>"),"0"!==p[0]){h.print("    <tr>");for(var M=0;M<p.length;M++){var A=s(p[M]);h.print("      <td>".concat(A)),h.print("      </td>")}h.print("    </tr>")}for(var B=0;B<a.rows.length;B++){h.print("    <tr>");for(var j=0;j<a.columns.length;j++){var N=s(a.rows[B].getString(j));h.print("      <td>".concat(N)),h.print("      </td>")}h.print("    </tr>")}h.print("  </table>"),h.print("</body>"),h.print("</html>")}h.close(),h.clear()},b.default.prototype.writeFile=function(h,d,c){var u="application/octet-stream";b.default.prototype._isSafari()&&(u="text/plain"),h=new Blob(h,{type:u}),b.default.prototype.downloadFile(h,d,c)},b.default.prototype.downloadFile=function(a,h,p){var u;p=(h=l(h,p))[0],a instanceof Blob?y.default.saveAs(a,p):((u=document.createElement("a")).href=a,u.download=p,u.onclick=function(m){document.body.removeChild(m.target),m.stopPropagation()},u.style.display="none",document.body.appendChild(u),b.default.prototype._isSafari()&&(a=(a='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(h[1],'"'),alert(a)),u.click())},b.default.prototype._checkFileExtension=l,b.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},$.default=o=b.default},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g,y){for(var C=0;C<y.length;C++){var _=y[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}v.default.Table=function(){function g(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=s}var y,C;return y=g,(C=[{key:"addRow",value:function(s){if(void 0===(s=s||new v.default.TableRow).arr||void 0===s.obj)throw new Error("invalid TableRow: ".concat(s));return(s.table=this).rows.push(s),s}},{key:"removeRow",value:function(s){this.rows[s].table=null,s=this.rows.splice(s+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(s)}},{key:"getRow",value:function(s){return this.rows[s]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(s,l){if("string"==typeof l){for(var a=0;a<this.rows.length;a++)if(this.rows[a].obj[l]===s)return this.rows[a]}else for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[l]===s)return this.rows[d];return null}},{key:"findRows",value:function(s,l){var a=[];if("string"==typeof l)for(var d=0;d<this.rows.length;d++)this.rows[d].obj[l]===s&&a.push(this.rows[d]);else for(var c=0;c<this.rows.length;c++)this.rows[c].arr[l]===s&&a.push(this.rows[c]);return a}},{key:"matchRow",value:function(s,l){if("number"==typeof l){for(var a=0;a<this.rows.length;a++)if(this.rows[a].arr[l].match(s))return this.rows[a]}else for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[l].match(s))return this.rows[d];return null}},{key:"matchRows",value:function(s,l){var a=[];if("number"==typeof l)for(var d=0;d<this.rows.length;d++)this.rows[d].arr[l].match(s)&&a.push(this.rows[d]);else for(var c=0;c<this.rows.length;c++)this.rows[c].obj[l].match(s)&&a.push(this.rows[c]);return a}},{key:"getColumn",value:function(s){var l=[];if("string"==typeof s)for(var a=0;a<this.rows.length;a++)l.push(this.rows[a].obj[s]);else for(var d=0;d<this.rows.length;d++)l.push(this.rows[d].arr[s]);return l}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(s){this.columns.push(s||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(s,l){for(var a=[],d=0;d<s.length;d++)a.push(s.charAt(d).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var c=new RegExp(a.join("|"),"g");if(void 0===l)for(var u=0;u<this.columns.length;u++)for(var h=0;h<this.rows.length;h++){var p=(p=this.rows[h].arr[u]).replace(c,"");this.rows[h].arr[u]=p,this.rows[h].obj[this.columns[u]]=p}else if("string"==typeof l)for(var m=0;m<this.rows.length;m++){var w=(w=this.rows[m].obj[l]).replace(c,""),R=(this.rows[m].obj[l]=w,this.columns.indexOf(l));this.rows[m].arr[R]=w}else for(var E=0;E<this.rows.length;E++){var M=(M=this.rows[E].arr[l]).replace(c,"");this.rows[E].arr[l]=M,this.rows[E].obj[this.columns[l]]=M}}},{key:"trim",value:function(s){var l=new RegExp(" ","g");if(void 0===s)for(var a=0;a<this.columns.length;a++)for(var d=0;d<this.rows.length;d++){var c=(c=this.rows[d].arr[a]).replace(l,"");this.rows[d].arr[a]=c,this.rows[d].obj[this.columns[a]]=c}else if("string"==typeof s)for(var u=0;u<this.rows.length;u++){var h=(h=this.rows[u].obj[s]).replace(l,""),p=(this.rows[u].obj[s]=h,this.columns.indexOf(s));this.rows[u].arr[p]=h}else for(var m=0;m<this.rows.length;m++){var w=(w=this.rows[m].arr[s]).replace(l,"");this.rows[m].arr[s]=w,this.rows[m].obj[this.columns[s]]=w}}},{key:"removeColumn",value:function(d){var l,a;"string"==typeof d?a=this.columns.indexOf(l=d):l=this.columns[a=d],d=this.columns.splice(a+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(d);for(var c=0;c<this.rows.length;c++){var u=this.rows[c].arr,h=u.splice(a+1,u.length);u.pop(),this.rows[c].arr=u.concat(h),delete this.rows[c].obj[l]}}},{key:"set",value:function(s,l,a){this.rows[s].set(l,a)}},{key:"setNum",value:function(s,l,a){this.rows[s].setNum(l,a)}},{key:"setString",value:function(s,l,a){this.rows[s].setString(l,a)}},{key:"get",value:function(s,l){return this.rows[s].get(l)}},{key:"getNum",value:function(s,l){return this.rows[s].getNum(l)}},{key:"getString",value:function(s,l){return this.rows[s].getString(l)}},{key:"getObject",value:function(s){for(var l,a={},d=0;d<this.rows.length;d++)if(l=this.rows[d].obj,"string"==typeof s){if(!(0<=this.columns.indexOf(s)))throw new Error('This table has no column named "'.concat(s,'"'));a[l[s]]=l}else a[d]=this.rows[d].obj;return a}},{key:"getArray",value:function(){for(var s=[],l=0;l<this.rows.length;l++)s.push(this.rows[l].arr);return s}}])&&b(y.prototype,C),g}(),$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(o,ie,$){"use strict";function v(b,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.TableRow=function(){function b(_,s){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var l=[];_&&(l=_.split(s=s||",")),this.arr=l,this.obj=Object.fromEntries(l.entries()),this.table=null}var g,y;return g=b,(y=[{key:"set",value:function(_,s){if("string"==typeof _){var l=this.table.columns.indexOf(_);if(!(0<=l))throw new Error('This table has no column named "'.concat(_,'"'));this.obj[_]=s,this.arr[l]=s}else{if(!(_<this.table.columns.length))throw new Error("Column #".concat(_," is out of the range of this table"));this.arr[_]=s,this.obj[l=this.table.columns[_]]=s}}},{key:"setNum",value:function(_,s){s=parseFloat(s),this.set(_,s)}},{key:"setString",value:function(_,s){s=s.toString(),this.set(_,s)}},{key:"get",value:function(_){return("string"==typeof _?this.obj:this.arr)[_]}},{key:"getNum",value:function(_){var s=parseFloat("string"==typeof _?this.obj[_]:this.arr[_]);if("NaN"===s.toString())throw"Error: ".concat(this.obj[_]," is NaN (Not a Number)");return s}},{key:"getString",value:function(_){return("string"==typeof _?this.obj:this.arr)[_].toString()}}])&&v(g.prototype,y),b}(),$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(y,C){for(var _=0;_<C.length;_++){var s=C[_];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(y,s.key,s)}}v.default.XML=function(){function y(l){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var C,_;return C=y,(_=[{key:"getParent",value:function(){return new v.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var a=this.DOM.innerHTML,d=this.DOM.attributes,c=document.implementation.createDocument(null,"default").createElement(l);c.innerHTML=a;for(var u=0;u<d.length;u++)c.setAttribute(d[u].nodeName,d[u].nodeValue);this.DOM=c}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],a=0;a<this.DOM.childNodes.length;a++)l.push(this.DOM.childNodes[a].nodeName);return l}},{key:"getChildren",value:function(l){return function g(y){for(var C=[],_=0;_<y.length;_++)C.push(new v.default.XML(y[_]));return C}(l?this.DOM.getElementsByTagName(l):this.DOM.children)}},{key:"getChild",value:function(l){if("string"!=typeof l)return new v.default.XML(this.DOM.children[l]);var a=!0,d=!1,c=void 0;try{for(var u,h=this.DOM.children[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){var p=u.value;if(p.tagName===l)return new v.default.XML(p)}}catch(m){d=!0,c=m}finally{try{a||null==h.return||h.return()}finally{if(d)throw c}}}},{key:"addChild",value:function(l){l instanceof v.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var a=-1;if("string"==typeof l){for(var d=0;d<this.DOM.children.length;d++)if(this.DOM.children[d].tagName===l){a=d;break}}else a=l;-1!==a&&this.DOM.removeChild(this.DOM.children[a])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],a=!0,d=!1,c=void 0;try{for(var u,h=this.DOM.attributes[Symbol.iterator]();!(a=(u=h.next()).done);a=!0)l.push(u.value.nodeName)}catch(m){d=!0,c=m}finally{try{a||null==h.return||h.return()}finally{if(d)throw c}}return l}},{key:"hasAttribute",value:function(l){var a={},d=!0,c=!1,u=void 0;try{for(var h,p=this.DOM.attributes[Symbol.iterator]();!(d=(h=p.next()).done);d=!0){var m=h.value;a[m.nodeName]=m.nodeValue}}catch(w){c=!0,u=w}finally{try{d||null==p.return||p.return()}finally{if(c)throw u}}return!!a[l]}},{key:"getNum",value:function(l,a){var d={},c=!0,u=!1,h=void 0;try{for(var p,m=this.DOM.attributes[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var w=p.value;d[w.nodeName]=w.nodeValue}}catch(R){u=!0,h=R}finally{try{c||null==m.return||m.return()}finally{if(u)throw h}}return Number(d[l])||a||0}},{key:"getString",value:function(l,a){var d={},c=!0,u=!1,h=void 0;try{for(var p,m=this.DOM.attributes[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var w=p.value;d[w.nodeName]=w.nodeValue}}catch(R){u=!0,h=R}finally{try{c||null==m.return||m.return()}finally{if(u)throw h}}return d[l]?String(d[l]):a||null}},{key:"setAttribute",value:function(l,a){this.DOM.setAttribute(l,a)}},{key:"getContent",value:function(l){var a=this.DOM.textContent;return(a=a.replace(/\s\s+/g,","))||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&b(C.prototype,_),y}(),$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g){return function(y){if(Array.isArray(y)){for(var C=0,_=new Array(y.length);C<y.length;C++)_[C]=y[C];return _}}(g)||function(y){if(Symbol.iterator in Object(y)||"[object Arguments]"===Object.prototype.toString.call(y))return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.abs=Math.abs,v.default.prototype.ceil=Math.ceil,v.default.prototype.constrain=function(g,y,C){return v.default._validateParameters("constrain",arguments),Math.max(Math.min(g,C),y)},v.default.prototype.dist=function(){for(var g=arguments.length,y=new Array(g),C=0;C<g;C++)y[C]=arguments[C];return v.default._validateParameters("dist",y),4===y.length?Math.hypot(y[2]-y[0],y[3]-y[1]):6===y.length?Math.hypot(y[3]-y[0],y[4]-y[1],y[5]-y[2]):void 0},v.default.prototype.exp=Math.exp,v.default.prototype.floor=Math.floor,v.default.prototype.lerp=function(g,y,C){return v.default._validateParameters("lerp",arguments),C*(y-g)+g},v.default.prototype.log=Math.log,v.default.prototype.mag=function(g,y){return v.default._validateParameters("mag",arguments),Math.hypot(g,y)},v.default.prototype.map=function(g,y,C,_,s,l){return v.default._validateParameters("map",arguments),g=(g-y)/(C-y)*(s-_)+_,l?_<s?this.constrain(g,_,s):this.constrain(g,s,_):g},v.default.prototype.max=function(){for(var g=function(s){return Math.max.apply(Math,b(s))},y=arguments.length,C=new Array(y),_=0;_<y;_++)C[_]=arguments[_];return Array.isArray(C[0])?g(C[0]):g(C)},v.default.prototype.min=function(){for(var g=function(s){return Math.min.apply(Math,b(s))},y=arguments.length,C=new Array(y),_=0;_<y;_++)C[_]=arguments[_];return Array.isArray(C[0])?g(C[0]):g(C)},v.default.prototype.norm=function(g,y,C){return v.default._validateParameters("norm",arguments),this.map(g,y,C,0,1)},v.default.prototype.pow=Math.pow,v.default.prototype.round=function(g,y){return y?(y=Math.pow(10,y),Math.round(g*y)/y):Math.round(g)},v.default.prototype.sq=function(g){return g*g},v.default.prototype.sqrt=Math.sqrt,v.default.prototype.fract=function(_){v.default._validateParameters("fract",arguments);var y,C=0;return _=Number(_),isNaN(_)||Math.abs(_)===1/0?_:(_<0&&(_=-_,C=1),String(_).includes(".")&&!String(_).includes("e")?(y=+("0"+(y=String(_)).slice(y.indexOf("."))),Math.abs(C-y)):_<1?Math.abs(C-_):0)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(y,C,_){return(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(s,l,a){var d=[null];return d.push.apply(d,l),l=new(Function.bind.apply(s,d)),a&&g(l,a.prototype),l}).apply(null,arguments)}function g(y,C){return(g=Object.setPrototypeOf||function(_,s){return _.__proto__=s,_})(y,C)}v.default.prototype.createVector=function(y,C,_){return this instanceof v.default?b(v.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new v.default.Vector(y,C,_)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(_,ie,$){"use strict";function v(s){return.5*(1-Math.cos(s*Math.PI))}Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,_=(_=_("../core/main"))&&_.__esModule?_:{default:_};var b,g=4095,y=4,C=.5;_.default.prototype.noise=function(s){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==b){b=new Array(4096);for(var d=0;d<4096;d++)b[d]=Math.random()}s<0&&(s=-s),l<0&&(l=-l),a<0&&(a=-a);for(var c,u,h=Math.floor(s),p=Math.floor(l),m=Math.floor(a),w=s-h,R=l-p,E=a-m,M=0,A=.5,B=0;B<y;B++){var j=h+(p<<4)+(m<<8),N=v(w),k=v(R),J=b[j&g];J+=N*(b[j+1&g]-J),c=b[j+16&g],J+=k*((c+=N*(b[j+16+1&g]-c))-J),c=b[(j+=256)&g],c+=N*(b[j+1&g]-c),u=b[j+16&g],c+=k*((u+=N*(b[j+16+1&g]-u))-c),M+=(J+=v(E)*(c-J))*A,A*=C,h<<=1,p<<=1,m<<=1,1<=(w*=2)&&(h++,w--),1<=(R*=2)&&(p++,R--),1<=(E*=2)&&(m++,E--)}return M},_.default.prototype.noiseDetail=function(s,l){0<s&&(y=s),0<l&&(C=l)},_.default.prototype.noiseSeed=function(s){d=4294967296;var a,d,c_rand=function(){return(a=(1664525*a+1013904223)%d)/d};(function(h){a=(null==h?Math.random()*d:h)>>>0})(s),b=new Array(4096);for(var u=0;u<4096;u++)b[u]=c_rand()},$.default=_=_.default},{"../core/main":283}],316:[function(o,ie,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.string.sub"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(s=o("../core/main"))&&s.__esModule?s:{default:s},y=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var a=C();if(a&&a.has(l))return a.get(l);var d,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var h;Object.prototype.hasOwnProperty.call(l,d)&&((h=u?Object.getOwnPropertyDescriptor(l,d):null)&&(h.get||h.set)?Object.defineProperty(c,d,h):c[d]=l[d])}return c.default=l,a&&a.set(l,c),c}(o("../core/constants"));function C(){var l;return"function"!=typeof WeakMap?null:(C=function(){return l},l=new WeakMap)}function _(l,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}g.default.Vector=function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var h,p,m="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],h=(arguments.length<=2?void 0:arguments[2])||0,p=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(h=(arguments.length<=0?void 0:arguments[0])||0,p=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=h,this.y=p,this.z=m}var a,d,c;return a=l,c=[{key:"fromAngle",value:function(u){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new g.default.Vector(h*Math.cos(u),h*Math.sin(u),0)}},{key:"fromAngles",value:function(E,w){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,m=Math.cos(w),R=(w=Math.sin(w),Math.cos(E));return E=Math.sin(E),new g.default.Vector(p*E*w,-p*R,p*E*m)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*y.TWO_PI)}},{key:"random3D",value:function(){var u=Math.random()*y.TWO_PI,h=2*Math.random()-1,p=(m=Math.sqrt(1-h*h))*Math.cos(u),m=m*Math.sin(u);return new g.default.Vector(p,m,h)}},{key:"copy",value:function(u){return u.copy(u)}},{key:"add",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1],R=h[2];return R?R.set(m):(R=m.copy(),3===h.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),R.add(w),R}},{key:"rem",value:function(u,h){if(u instanceof g.default.Vector&&h instanceof g.default.Vector)return(u=u.copy()).rem(h),u}},{key:"sub",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1],R=h[2];return R?R.set(m):(R=m.copy(),3===h.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),R.sub(w),R}},{key:"mult",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1],R=h[2];return R?R.set(m):(R=m.copy(),3===h.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),R.mult(w),R}},{key:"rotate",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1],R=h[2];return 2===h.length?R=m.copy():(R instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),R.set(m)),R.rotate(w),R}},{key:"div",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1],R=h[2];return R?R.set(m):(R=m.copy(),3===h.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),R.div(w),R}},{key:"dot",value:function(u,h){return u.dot(h)}},{key:"cross",value:function(u,h){return u.cross(h)}},{key:"dist",value:function(u,h){return u.dist(h)}},{key:"lerp",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1],R=h[2],E=h[3];return E?E.set(m):(E=m.copy(),4===h.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),E.lerp(w,R),E}},{key:"slerp",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1],R=h[2],E=h[3];return E?E.set(m):(E=m.copy(),4===h.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),E.slerp(w,R),E}},{key:"mag",value:function(u){return u.mag()}},{key:"magSq",value:function(u){return u.magSq()}},{key:"normalize",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1];return h.length<2?w=m.copy():(w instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),w.set(m)),w.normalize()}},{key:"limit",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1],R=h[2];return h.length<3?R=m.copy():(R instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),R.set(m)),R.limit(w)}},{key:"setMag",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1],R=h[2];return h.length<3?R=m.copy():(R instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),R.set(m)),R.setMag(w)}},{key:"heading",value:function(u){return u.heading()}},{key:"angleBetween",value:function(u,h){return u.angleBetween(h)}},{key:"reflect",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1],R=h[2];return h.length<3?R=m.copy():(R instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),R.set(m)),R.reflect(w)}},{key:"array",value:function(u){return u.array()}},{key:"equals",value:function(u,h){var p;return u instanceof g.default.Vector?p=u:Array.isArray(u)?p=(new g.default.Vector).set(u):g.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),p.equals(h)}}],(d=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(u,h,p){return u instanceof g.default.Vector?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):Array.isArray(u)?(this.x=u[0]||0,this.y=u[1]||0,this.z=u[2]||0):(this.x=u||0,this.y=h||0,this.z=p||0),this}},{key:"copy",value:function(){return this.isPInst?new g.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new g.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(u,h,p){return u instanceof g.default.Vector?(this.x+=u.x||0,this.y+=u.y||0,this.z+=u.z||0):Array.isArray(u)?(this.x+=u[0]||0,this.y+=u[1]||0,this.z+=u[2]||0):(this.x+=u||0,this.y+=h||0,this.z+=p||0),this}},{key:"calculateRemainder2D",value:function(u,h){return 0!==u&&(this.x=this.x%u),0!==h&&(this.y=this.y%h),this}},{key:"calculateRemainder3D",value:function(u,h,p){return 0!==u&&(this.x=this.x%u),0!==h&&(this.y=this.y%h),0!==p&&(this.z=this.z%p),this}},{key:"rem",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m,w,R,E=h[0],M=h[1],A=h[2];if(E instanceof g.default.Vector){if([E.x,E.y,E.z].every(Number.isFinite))return m=parseFloat(E.x),w=parseFloat(E.y),R=parseFloat(E.z),this.calculateRemainder3D(m,w,R)}else if(Array.isArray(E)){if(E.every(Number.isFinite))return 2===E.length?this.calculateRemainder2D(E[0],E[1]):3===E.length?this.calculateRemainder3D(E[0],E[1],E[2]):void 0}else if(1===h.length){if(Number.isFinite(E)&&0!==E)return this.x=this.x%E,this.y=this.y%E,this.z=this.z%E,this}else if(2===h.length){if(h.every(Number.isFinite))return this.calculateRemainder2D(E,M)}else if(3===h.length&&h.every(Number.isFinite))return this.calculateRemainder3D(E,M,A)}},{key:"sub",value:function(u,h,p){return u instanceof g.default.Vector?(this.x-=u.x||0,this.y-=u.y||0,this.z-=u.z||0):Array.isArray(u)?(this.x-=u[0]||0,this.y-=u[1]||0,this.z-=u[2]||0):(this.x-=u||0,this.y-=h||0,this.z-=p||0),this}},{key:"mult",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m,w=h[0],R=h[1],E=h[2];return w instanceof g.default.Vector?Number.isFinite(w.x)&&Number.isFinite(w.y)&&Number.isFinite(w.z)&&"number"==typeof w.x&&"number"==typeof w.y&&"number"==typeof w.z?(this.x*=w.x,this.y*=w.y,this.z*=w.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(w)?w.every(function(M){return Number.isFinite(M)})&&w.every(function(M){return"number"==typeof M})?1===w.length?(this.x*=w[0],this.y*=w[0],this.z*=w[0]):2===w.length?(this.x*=w[0],this.y*=w[1]):3===w.length&&(this.x*=w[0],this.y*=w[1],this.z*=w[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(m=h).every(function(M){return Number.isFinite(M)})&&m.every(function(M){return"number"==typeof M})?(1===h.length&&(this.x*=w,this.y*=w,this.z*=w),2===h.length&&(this.x*=w,this.y*=R),3===h.length&&(this.x*=w,this.y*=R,this.z*=E)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=h[0],w=h[1],R=h[2];if(m instanceof g.default.Vector)if(Number.isFinite(m.x)&&Number.isFinite(m.y)&&Number.isFinite(m.z)&&"number"==typeof m.x&&"number"==typeof m.y&&"number"==typeof m.z){var E=0===m.z&&0===this.z;if(0===m.x||0===m.y||!E&&0===m.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=m.x,this.y/=m.y,E||(this.z/=m.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(m))if(m.every(Number.isFinite)&&m.every(function(M){return"number"==typeof M})){if(m.some(function(M){return 0===M}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===m.length?(this.x/=m[0],this.y/=m[0],this.z/=m[0]):2===m.length?(this.x/=m[0],this.y/=m[1]):3===m.length&&(this.x/=m[0],this.y/=m[1],this.z/=m[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(h.every(Number.isFinite)&&h.every(function(M){return"number"==typeof M})){if(h.some(function(M){return 0===M}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===h.length&&(this.x/=m,this.y/=m,this.z/=m),2===h.length&&(this.x/=m,this.y/=w),3===h.length&&(this.x/=m,this.y/=w,this.z/=R)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var u=this.x,h=this.y,p=this.z;return u*u+h*h+p*p}},{key:"dot",value:function(u,h,p){return u instanceof g.default.Vector?this.dot(u.x,u.y,u.z):this.x*(u||0)+this.y*(h||0)+this.z*(p||0)}},{key:"cross",value:function(m){var h=this.y*m.z-this.z*m.y,p=this.z*m.x-this.x*m.z;return m=this.x*m.y-this.y*m.x,this.isPInst?new g.default.Vector(this._fromRadians,this._toRadians,h,p,m):new g.default.Vector(h,p,m)}},{key:"dist",value:function(u){return u.copy().sub(this).mag()}},{key:"normalize",value:function(){var u=this.mag();return 0!==u&&this.mult(1/u),this}},{key:"limit",value:function(u){var h=this.magSq();return u*u<h&&this.div(Math.sqrt(h)).mult(u),this}},{key:"setMag",value:function(u){return this.normalize().mult(u)}},{key:"heading",value:function(){var u=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(u):u}},{key:"setHeading",value:function(u){this.isPInst&&(u=this._toRadians(u));var h=this.mag();return this.x=h*Math.cos(u),this.y=h*Math.sin(u),this}},{key:"rotate",value:function(h){h=this.heading()+h;var p=(this.isPInst&&(h=this._toRadians(h)),this.mag());return this.x=Math.cos(h)*p,this.y=Math.sin(h)*p,this}},{key:"angleBetween",value:function(u){var h;return this.magSq()*u.magSq()==0?NaN:(h=this.cross(u),u=Math.atan2(h.mag(),this.dot(u))*Math.sign(h.z||1),this.isPInst?this._fromRadians(u):u)}},{key:"lerp",value:function(u,h,p,m){return u instanceof g.default.Vector?this.lerp(u.x,u.y,u.z,h):(this.x+=(u-this.x)*m||0,this.y+=(h-this.y)*m||0,this.z+=(p-this.z)*m||0,this)}},{key:"slerp",value:function(u,h){if(0!==h){if(1===h)return this.set(u);var p=this.mag(),m=u.mag();if(p*m==0)this.mult(1-h).add(u.x*h,u.y*h,u.z*h);else{var w=this.cross(u),R=w.mag(),E=Math.atan2(R,this.dot(u));if(0<R)w.x/=R,w.y/=R,w.z/=R;else{if(E<.5*Math.PI)return this.mult(1-h).add(u.x*h,u.y*h,u.z*h),this;0===this.z&&0===u.z?w.set(0,0,1):0!==this.x?w.set(this.y,-this.x,0).normalize():w.set(1,0,0)}R=w.cross(this),w=(u=1-h+h*m/p)*Math.cos(h*E),m=u*Math.sin(h*E),this.x=this.x*w+R.x*m,this.y=this.y*w+R.y*m,this.z=this.z*w+R.z*m}}return this}},{key:"reflect",value:function(u){return u=g.default.Vector.normalize(u),this.sub(u.mult(2*this.dot(u)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(R,h,p){var m,w;return R=R instanceof g.default.Vector?(m=R.x||0,w=R.y||0,R.z||0):Array.isArray(R)?(m=R[0]||0,w=R[1]||0,R[2]||0):(m=R||0,w=h||0,p||0),this.x===m&&this.y===w&&this.z===R}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(u){return Math.abs(+(u||0))<=Number.EPSILON?0:u}}])&&_(a.prototype,d),c&&_(a,c),l}();var s=g.default.Vector;$.default=s},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(C,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(C=C("../core/main"))&&C.__esModule?C:{default:C},b="_lcg_random_state",g=4294967296,y=0;v.default.prototype._lcg=function(_){return this[_]=(1664525*this[_]+1013904223)%g,this[_]/g},v.default.prototype._lcgSetSeed=function(_,s){this[_]=(null==s?Math.random()*g:s)>>>0},v.default.prototype.randomSeed=function(_){this._lcgSetSeed(b,_),this._gaussian_previous=!1},v.default.prototype.random=function(_,s){var l,a;return v.default._validateParameters("random",arguments),l=null!=this[b]?this._lcg(b):Math.random(),void 0===_?l:void 0===s?Array.isArray(_)?_[Math.floor(l*_.length)]:l*_:(s<_&&(a=_,_=s,s=a),l*(s-_)+_)},v.default.prototype.randomGaussian=function(_){var s,l,a,d,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)s=y,this._gaussian_previous=!1;else{for(;1<=(d=(l=this.random(2)-1)*l+(a=this.random(2)-1)*a););s=l*(d=Math.sqrt(-2*Math.log(d)/d)),y=a*d,this._gaussian_previous=!0}return s*c+(_||0)},$.default=C=v.default},{"../core/main":283}],318:[function(o,ie,$){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(_=o("../core/main"))&&_.__esModule?_:{default:_},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=c?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}g.default.prototype._angleMode=y.RADIANS,g.default.prototype.acos=function(s){return this._fromRadians(Math.acos(s))},g.default.prototype.asin=function(s){return this._fromRadians(Math.asin(s))},g.default.prototype.atan=function(s){return this._fromRadians(Math.atan(s))},g.default.prototype.atan2=function(s,l){return this._fromRadians(Math.atan2(s,l))},g.default.prototype.cos=function(s){return Math.cos(this._toRadians(s))},g.default.prototype.sin=function(s){return Math.sin(this._toRadians(s))},g.default.prototype.tan=function(s){return Math.tan(this._toRadians(s))},g.default.prototype.degrees=function(s){return s*y.RAD_TO_DEG},g.default.prototype.radians=function(s){return s*y.DEG_TO_RAD},g.default.prototype.angleMode=function(s){if(g.default._validateParameters("angleMode",arguments),void 0===s)return this._angleMode;s!==y.DEGREES&&s!==y.RADIANS||s!==this._angleMode&&(s===y.RADIANS?(this._setProperty("pRotationX",this.pRotationX*y.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*y.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*y.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*y.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*y.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*y.RAD_TO_DEG)),this._angleMode=s)},g.default.prototype._toRadians=function(s){return this._angleMode===y.DEGREES?s*y.DEG_TO_RAD:s},g.default.prototype._toDegrees=function(s){return this._angleMode===y.RADIANS?s*y.RAD_TO_DEG:s},g.default.prototype._fromRadians=function(s){return this._angleMode===y.DEGREES?s*y.RAD_TO_DEG:s},g.default.prototype._fromDegrees=function(s){return this._angleMode===y.RADIANS?s*y.DEG_TO_RAD:s};var _=g.default;$.default=_},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(o,ie,$){"use strict";o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.textAlign=function(b,g){var y;return v.default._validateParameters("textAlign",arguments),(y=this._renderer).textAlign.apply(y,arguments)},v.default.prototype.textLeading=function(b){var g;return v.default._validateParameters("textLeading",arguments),(g=this._renderer).textLeading.apply(g,arguments)},v.default.prototype.textSize=function(b){var g;return v.default._validateParameters("textSize",arguments),(g=this._renderer).textSize.apply(g,arguments)},v.default.prototype.textStyle=function(b){var g;return v.default._validateParameters("textStyle",arguments),(g=this._renderer).textStyle.apply(g,arguments)},v.default.prototype.textWidth=function(){for(var b=arguments.length,g=new Array(b),y=0;y<b;y++)g[y]=arguments[y];if(g[0]+="",v.default._validateParameters("textWidth",g),0===g[0].length)return 0;for(var C=g[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),_=[],s=0;s<C.length;s++)_.push(this._renderer.textWidth(C[s]));return Math.max.apply(Math,_)},v.default.prototype.textAscent=function(){for(var b=arguments.length,g=new Array(b),y=0;y<b;y++)g[y]=arguments[y];return v.default._validateParameters("textAscent",g),this._renderer.textAscent()},v.default.prototype.textDescent=function(){for(var b=arguments.length,g=new Array(b),y=0;y<b;y++)g[y]=arguments[y];return v.default._validateParameters("textDescent",g),this._renderer.textDescent()},v.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},v.default.prototype.textWrap=function(b){return v.default._validateParameters("textWrap",[b]),this._renderer.textWrap(b)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(o,ie,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.split"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(l=o("../core/main"))&&l.__esModule?l:{default:l},y=s(o("../core/constants")),C=s(o("opentype.js"));function _(){var a;return"function"!=typeof WeakMap?null:(_=function(){return a},a=new WeakMap)}function s(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var d=_();if(d&&d.has(a))return d.get(a);var c,u,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&((u=p?Object.getOwnPropertyDescriptor(a,c):null)&&(u.get||u.set)?Object.defineProperty(h,c,u):h[c]=a[c]);return h.default=a,d&&d.set(a,h),h}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),g.default.prototype.loadFont=function(a,d,c){g.default._validateParameters("loadFont",arguments);var u=new g.default.Font(this),h=this;return C.load(a,function(w,R){if(w)return g.default._friendlyFileLoadError(4,a),void 0!==c?c(w):void console.error(w,a);u.font=R,void 0!==d&&d(u),h._decrementPreload();var E=(R=(w=a.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:w.slice(R+1);["ttf","otf","woff","woff2"].includes(E)&&(E=w.slice(0,-1!==R?R:0),(w=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(E,";\nsrc: url(").concat(a,");\n}\n"))),document.head.appendChild(w))}),u},g.default.prototype.text=function(a,d,c,u,h){var p;return g.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(p=this._renderer).text.apply(p,arguments):this},g.default.prototype.textFont=function(a,d){if(g.default._validateParameters("textFont",arguments),arguments.length){if(a)return this._renderer._setProperty("_textFont",a),d&&(this._renderer._setProperty("_textSize",d),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",d*y._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var l=g.default;$.default=l},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(o,ie,$){"use strict";function v(M){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(M)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(b=o("../core/main"))&&b.__esModule?b:{default:b},g=function(M){if(M&&M.__esModule)return M;if(null===M||"object"!==C(M)&&"function"!=typeof M)return{default:M};var A=y();if(A&&A.has(M))return A.get(M);var B,j={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(B in M){var k;Object.prototype.hasOwnProperty.call(M,B)&&((k=N?Object.getOwnPropertyDescriptor(M,B):null)&&(k.get||k.set)?Object.defineProperty(j,B,k):j[B]=M[B])}return j.default=M,A&&A.set(M,j),j}(o("../core/constants"));function y(){var M;return"function"!=typeof WeakMap?null:(y=function(){return M},M=new WeakMap)}function C(M){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(A){return v(A)}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":v(A)})(M)}function _(M,A){for(var B=0;B<A.length;B++){var j=A[B];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,j.key,j)}}function s(M,A){var B=M.length;return M[A<0?A%B+B:A%B]}function l(M,A,B,j){var N,k,J;return j?(void 0===l.tmpPoint1&&(l.tmpPoint1=[],l.tmpPoint2=[]),J=l.tmpPoint2,(k=l.tmpPoint1).x=A.x-M.x,k.y=A.y-M.y,J.x=B.x-A.x,J.y=B.y-A.y,N=k.x*J.x+k.y*J.y,k=Math.sqrt(k.x*k.x+k.y*k.y),J=Math.sqrt(J.x*J.x+J.y*J.y),Math.acos(N/(k*J))<j):(A[0]-M[0])*(B[1]-M[1])-(B[0]-M[0])*(A[1]-M[1])==0}function a(P,ge,re,Te,Ge,k,J,ne,z){var ee=1-z,H=(G=Math.pow(ee,3))*P+3*(K=Math.pow(ee,2))*z*re+3*ee*z*z*Ge+(le=(Y=z*z)*z)*J,G=G*ge+3*K*z*Te+3*ee*z*z*k+le*ne,K=P+2*z*(re-P)+Y*(Ge-2*re+P),le=ge+2*z*(Te-ge)+Y*(k-2*Te+ge),Oe=re+2*z*(Ge-re)+Y*(J-2*Ge+re),Y=Te+2*z*(k-Te)+Y*(ne-2*k+Te);return P=ee*P+z*re,re=ee*ge+z*Te,ge=ee*Ge+z*J,Te=ee*k+z*ne,Ge=90-180*Math.atan2(K-Oe,le-Y)/Math.PI,(Oe<K||le<Y)&&(Ge+=180),{x:H,y:G,m:{x:K,y:le},n:{x:Oe,y:Y},start:{x:P,y:re},end:{x:ge,y:Te},alpha:Ge}}function d(M,A,B,j,N,k,J,ne,z){return null==z?R(M,A,B,j,N,k,J,ne):a(M,A,B,j,N,k,J,ne,function(ee,H,G,K,le,Oe,Y,P,re){if(!(re<0||R(ee,H,G,K,le,Oe,Y,P)<re)){var ge,Te=.5,Ge=1-Te;for(ge=R(ee,H,G,K,le,Oe,Y,P,Ge);.01<Math.abs(ge-re);)ge=R(ee,H,G,K,le,Oe,Y,P,Ge+=(ge<re?1:-1)*(Te/=2));return Ge}}(M,A,B,j,N,k,J,ne,z))}function c(M,A,B){for(var j,N,k,J,ne,z=0,ee=0,H=(M=function(G,K){function le(Ze,yt,Ct){var sn,$t;if(!Ze)return["C",yt.x,yt.y,yt.x,yt.y,yt.x,yt.y];switch(Ze[0]in{T:1,Q:1}||(yt.qx=yt.qy=null),Ze[0]){case"M":yt.X=Ze[1],yt.Y=Ze[2];break;case"A":Ze=["C"].concat(h.apply(0,[yt.x,yt.y].concat(Ze.slice(1))));break;case"S":$t="C"===Ct||"S"===Ct?(sn=2*yt.x-yt.bx,2*yt.y-yt.by):(sn=yt.x,yt.y),Ze=["C",sn,$t].concat(Ze.slice(1));break;case"T":"Q"===Ct||"T"===Ct?(yt.qx=2*yt.x-yt.qx,yt.qy=2*yt.y-yt.qy):(yt.qx=yt.x,yt.qy=yt.y),Ze=["C"].concat(w(yt.x,yt.y,yt.qx,yt.qy,Ze[1],Ze[2]));break;case"Q":yt.qx=Ze[1],yt.qy=Ze[2],Ze=["C"].concat(w(yt.x,yt.y,Ze[1],Ze[2],Ze[3],Ze[4]));break;case"L":Ze=["C"].concat(m(yt.x,yt.y,Ze[1],Ze[2]));break;case"H":Ze=["C"].concat(m(yt.x,yt.y,Ze[1],yt.y));break;case"V":Ze=["C"].concat(m(yt.x,yt.y,yt.x,Ze[1]));break;case"Z":Ze=["C"].concat(m(yt.x,yt.y,yt.X,yt.Y))}return Ze}function Oe(Ze,yt){if(7<Ze[yt].length){Ze[yt].shift();for(var Ct=Ze[yt];Ct.length;)qe[yt]="A",ge&&(ht[yt]="A"),Ze.splice(yt++,0,["C"].concat(Ct.splice(0,6)));Ze.splice(yt,1),P=Math.max(re.length,ge&&ge.length||0)}}function Y(Ze,yt,Ct,sn,$t){Ze&&yt&&"M"===Ze[$t][0]&&"M"!==yt[$t][0]&&(yt.splice($t,0,["M",sn.x,sn.y]),Ct.bx=0,Ct.by=0,Ct.x=Ze[$t][1],Ct.y=Ze[$t][2],P=Math.max(re.length,ge&&ge.length||0))}var P,re=u(G),ge=K,Te={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ge={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},qe=[],ht=[],ze="",st="";P=Math.max(re.length,ge&&ge.length||0);for(var lt=0;lt<P;lt++){"C"!==(ze=re[lt]?re[lt][0]:ze)&&(qe[lt]=ze,lt&&(st=qe[lt-1])),re[lt]=le(re[lt],Te,st),"A"!==qe[lt]&&"C"===ze&&(qe[lt]="C"),Oe(re,lt),ge&&("C"!==(ze=ge[lt]?ge[lt][0]:ze)&&(ht[lt]=ze,lt&&(st=ht[lt-1])),ge[lt]=le(ge[lt],Ge,st),"A"!==ht[lt]&&"C"===ze&&(ht[lt]="C"),Oe(ge,lt)),Y(re,ge,Te,Ge,lt),Y(ge,re,Ge,Te,lt);var Be=re[lt],Qe=ge&&ge[lt],Je=Be.length,ot=ge&&Qe.length;Te.x=Be[Je-2],Te.y=Be[Je-1],Te.bx=parseFloat(Be[Je-4])||Te.x,Te.by=parseFloat(Be[Je-3])||Te.y,Ge.bx=ge&&(parseFloat(Qe[ot-4])||Ge.x),Ge.by=ge&&(parseFloat(Qe[ot-3])||Ge.y),Ge.x=ge&&Qe[ot-2],Ge.y=ge&&Qe[ot-1]}return ge?[re,ge]:re}(M)).length;ee<H;ee++){if("M"===(k=M[ee])[0])j=+k[1],N=+k[2];else{if(A<z+(J=d(j,N,k[1],k[2],k[3],k[4],k[5],k[6]))&&!B)return{x:(ne=d(j,N,k[1],k[2],k[3],k[4],k[5],k[6],A-z)).x,y:ne.y,alpha:ne.alpha};z+=J,j=+k[5],N=+k[6]}k.shift()}return(ne=B?z:a(j,N,k[0],k[1],k[2],k[3],k[4],k[5],1)).alpha?{x:ne.x,y:ne.y,alpha:ne.alpha}:ne}function u(M){var A=[],B=0,j=0,N=0,k=0,J=0;if(M){"M"===M[0][0]&&(N=B=+M[0][1],k=j=+M[0][2],J++,A[0]=["M",B,j]);for(var ne,z,ee=3===M.length&&"M"===M[0][0]&&"R"===M[1][0].toUpperCase()&&"Z"===M[2][0].toUpperCase(),H=J,G=M.length;H<G;H++){if(A.push(ne=[]),(z=M[H])[0]!==z[0].toUpperCase())switch(ne[0]=z[0].toUpperCase(),ne[0]){case"A":ne[1]=z[1],ne[2]=z[2],ne[3]=z[3],ne[4]=z[4],ne[5]=z[5],ne[6]=+(z[6]+B),ne[7]=+(z[7]+j);break;case"V":ne[1]=+z[1]+j;break;case"H":ne[1]=+z[1]+B;break;case"R":for(var K,le=2,Oe=(K=[B,j].concat(z.slice(1))).length;le<Oe;le++)K[le]=+K[le]+B,K[++le]=+K[le]+j;A.pop(),A=A.concat(p(K,ee));break;case"M":N=+z[1]+B,k=+z[2]+j;break;default:for(var Y=1,P=z.length;Y<P;Y++)ne[Y]=+z[Y]+(Y%2?B:j)}else if("R"===z[0])K=[B,j].concat(z.slice(1)),A.pop(),A=A.concat(p(K,ee)),ne=["R"].concat(z.slice(-2));else for(var re=0,ge=z.length;re<ge;re++)ne[re]=z[re];switch(ne[0]){case"Z":B=N,j=k;break;case"H":B=ne[1];break;case"V":j=ne[1];break;case"M":N=ne[ne.length-2],k=ne[ne.length-1];break;default:B=ne[ne.length-2],j=ne[ne.length-1]}}}return A}function h(M,A,B,j,ge,qe,Te,ne,z,ee){function H(ot,Ze,yt){return{x:ot*Math.cos(yt)-Ze*Math.sin(yt),y:ot*Math.sin(yt)+Ze*Math.cos(yt)}}var G,re=120*(P=Math.PI)/180,K=P/180*(+ge||0),le=[],Oe=(ee?(lt=ee[0],G=ee[1],ze=ee[2],st=ee[3]):(M=(Ge=H(M,A,-K)).x,A=Ge.y,1<(Oe=(Y=(M-(ne=(Ge=H(ne,z,-K)).x))/2)*Y/(B*B)+(Ge=(A-(z=Ge.y))/2)*Ge/(j*j))&&(B*=Oe=Math.sqrt(Oe),j*=Oe),Oe=B*B,ht=j*j,ze=(qe=(qe===Te?-1:1)*Math.sqrt(Math.abs((Oe*ht-Oe*Ge*Ge-ht*Y*Y)/(Oe*Ge*Ge+ht*Y*Y))))*B*Ge/j+(M+ne)/2,st=qe*-j*Y/B+(A+z)/2,lt=Math.asin(((A-st)/j).toFixed(9)),G=Math.asin(((z-st)/j).toFixed(9)),(lt=M<ze?P-lt:lt)<0&&(lt=2*P+lt),(G=ne<ze?P-G:G)<0&&(G=2*P+G),Te&&G<lt&&(lt-=2*P),!Te&&lt<G&&(G-=2*P)),G-lt),Y=(Math.abs(Oe)>re&&(ht=G,Ge=ne,qe=z,G=lt+re*(Te&&lt<G?1:-1),le=h(ne=ze+B*Math.cos(G),z=st+j*Math.sin(G),B,j,ge,0,Te,Ge,qe,[G,ht,ze,st])),Oe=G-lt,Math.cos(lt)),P=Math.sin(lt),Ge=(re=Math.cos(G),ge=Math.sin(G),4/3*B*(Te=Math.tan(Oe/4))),ht=[M,A],ze=[M+Ge*P,A-(qe=4/3*j*Te)*Y],st=[ne+Ge*ge,z-qe*re],lt=[ne,z];if(ze[0]=2*ht[0]-ze[0],ze[1]=2*ht[1]-ze[1],ee)return[ze,st,lt].concat(le);for(var Be=[],Qe=0,Je=(le=[ze,st,lt].concat(le).join().split(",")).length;Qe<Je;Qe++)Be[Qe]=Qe%2?H(le[Qe-1],le[Qe],K).y:H(le[Qe],le[Qe+1],K).x;return Be}function p(M,A){for(var B=[],j=0,N=M.length;j<N-2*!A;j+=2){var k=[{x:+M[j-2],y:+M[j-1]},{x:+M[j],y:+M[j+1]},{x:+M[j+2],y:+M[j+3]},{x:+M[j+4],y:+M[j+5]}];A?j?N-4===j?k[3]={x:+M[0],y:+M[1]}:N-2===j&&(k[2]={x:+M[0],y:+M[1]},k[3]={x:+M[2],y:+M[3]}):k[0]={x:+M[N-2],y:+M[N-1]}:N-4===j?k[3]=k[2]:j||(k[0]={x:+M[j],y:+M[j+1]}),B.push(["C",(6*k[1].x-k[0].x+k[2].x)/6,(6*k[1].y-k[0].y+k[2].y)/6,(k[1].x+6*k[2].x-k[3].x)/6,(k[1].y+6*k[2].y-k[3].y)/6,k[2].x,k[2].y])}return B}function m(M,A,B,j){return[M,A,B,j,B,j]}function w(M,A,B,j,N,k){return[1/3*M+2/3*B,1/3*A+2/3*j,1/3*N+2/3*B,1/3*k+2/3*j,N,k]}function R(M,A,B,j,N,k,J,ne,z){for(var ee=(z=1<(z=null==z?1:z)?1:z<0?0:z)/2,H=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],G=0,K=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],le=0;le<12;le++){var Oe=E(Y=ee*H[le]+ee,M,B,N,J),Y=E(Y,A,j,k,ne);G+=K[le]*Math.sqrt(Oe*Oe+Y*Y)}return ee*G}function E(M,A,B,j,N){return M*(M*(-3*A+9*B-9*j+3*N)+6*A-12*B+6*j)-3*A+3*B}b.default.Font=function(){function M(N){if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");this.parent=N,this.cache={},this.font=void 0}var A,B;return A=M,(B=[{key:"textBounds",value:function(N){var k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,J=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,ne=4<arguments.length?arguments[4]:void 0,z=ne&&ne.renderer&&ne.renderer._pInst||this.parent,ee=z._renderer.drawingContext,H=(H=3<arguments.length?arguments[3]:void 0)||z._renderer._textSize;if(!qe){for(var G=[],K=[],le=[],Oe=(le[0]=[],[]),Y=this._scale(H),P=z._renderer.textLeading(),re=0,ge=(this.font.forEachGlyph(N,k,J,H,ne,function(st,lt,Be,Qe){var Je=st.getMetrics();0===st.index?le[re+=1]=[]:(le[re].push(lt+Je.xMin*Y),le[re].push(lt+Je.xMax*Y),Oe.push(Be+re*P+-Je.yMin*Y),Oe.push(Be+re*P+-Je.yMax*Y))}),0<le[re].length&&(G[re]=Math.min.apply(null,le[re]),K[re]=Math.max.apply(null,le[re])),0),Te=0;Te<=re;Te++){G[Te]=Math.min.apply(null,le[Te]),K[Te]=Math.max.apply(null,le[Te]);var Ge=K[Te]-G[Te];ge<Ge&&(ge=Ge)}var qe={x:ee=Math.min.apply(null,G),y:J=Math.min.apply(null,Oe),h:Math.max.apply(null,Oe)-J,w:ge,advance:ee-k};H=this._handleAlignment(z._renderer,N,qe.x,qe.y,qe.w+qe.advance),qe.x=H.x,qe.y=H.y}return qe}},{key:"textToPoints",value:function(N,k,J,ne,z){var ee=k,H=[],G=N.split(/\r?\n|\r|\n/g);ne=ne||this.parent._renderer._textSize;for(var K,le,Oe,Y=0;Y<G.length;Y++){var P=0;k=ee;for(var re=(re=G[Y]).replace("\t","  "),ge=this._getGlyphs(re),Te=0;Te<ge.length;Te++){if(le=re,!((Oe=ge)[K=Te].name&&"space"===Oe[K].name||le.length===Oe.length&&" "===le[K]))for(var Ge=function(st){for(var lt,Be=[],Qe=0;Qe<st.length;Qe++)"M"===st[Qe].type&&(lt&&Be.push(lt),lt=[]),lt.push((ot=void 0,ot=[(Je=st[Qe]).type],"M"===Je.type||"L"===Je.type?ot.push(Je.x,Je.y):"C"===Je.type?ot.push(Je.x1,Je.y1,Je.x2,Je.y2,Je.x,Je.y):"Q"===Je.type&&ot.push(Je.x1,Je.y1,Je.x,Je.y),ot));var Je,ot;return Be.push(lt),Be}(ge[Te].getPath(k,J,ne).commands),qe=0;qe<Ge.length;qe++)for(var ht=function(st,lt){lt=function(yt,Ct){if("object"!==C(yt))yt=Ct;else for(var sn in Ct)void 0===yt[sn]&&(yt[sn]=Ct[sn]);return yt}(lt,{sampleFactor:.1,simplifyThreshold:0});for(var Be=c(st,0,1),Qe=Be/(Be*lt.sampleFactor),Je=[],ot=0;ot<Be;ot+=Qe)Je.push(c(st,ot));return lt.simplifyThreshold&&function(Ze){for(var yt=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,sn=Ze.length-1;3<Ze.length&&0<=sn;--sn)l(s(Ze,sn-1),s(Ze,sn),s(Ze,sn+1),yt)&&Ze.splice(sn%Ze.length,1)}(Je,lt.simplifyThreshold),Je}(Ge[qe],z),ze=0;ze<ht.length;ze++)ht[ze].x+=P,H.push(ht[ze]);P+=ge[Te].advanceWidth*this._scale(ne)}J+=this.parent._renderer._textLeading}return H}},{key:"_getGlyphs",value:function(N){return this.font.stringToGlyphs(N)}},{key:"_getPath",value:function(N,ee,J,ne){var z=(ne&&ne.renderer&&ne.renderer._pInst||this.parent)._renderer;return ee=this._handleAlignment(z,N,ee,J),this.font.getPath(N,ee.x,ee.y,z._textSize,ne)}},{key:"_getPathData",value:function(N,k,J,ne){var z=3;return"string"==typeof N&&2<arguments.length?N=this._getPath(N,k,J,ne):"object"===C(k)&&(ne=k),ne&&"number"==typeof ne.decimals&&(z=ne.decimals),N.toPathData(z)}},{key:"_getSVG",value:function(N,k,J,ne){var z=3;return"string"==typeof N&&2<arguments.length?N=this._getPath(N,k,J,ne):"object"===C(k)&&(ne=k),ne&&("number"==typeof ne.decimals&&(z=ne.decimals),"number"==typeof ne.strokeWidth&&(N.strokeWidth=ne.strokeWidth),void 0!==ne.fill&&(N.fill=ne.fill),void 0!==ne.stroke&&(N.stroke=ne.stroke)),N.toSVG(z)}},{key:"_renderPath",value:function(H,K,le,ne){var z=ne&&ne.renderer||this.parent._renderer,ee=z.drawingContext,G=(H=("object"===C(H)&&H.commands?H:this._getPath(H,K,le,ne)).commands,z._clipping||ee.beginPath(),!0);K=!1,le=void 0;try{for(var Oe,Y=H[Symbol.iterator]();!(G=(Oe=Y.next()).done);G=!0){var P=Oe.value;"M"===P.type?ee.moveTo(P.x,P.y):"L"===P.type?ee.lineTo(P.x,P.y):"C"===P.type?ee.bezierCurveTo(P.x1,P.y1,P.x2,P.y2,P.x,P.y):"Q"===P.type?ee.quadraticCurveTo(P.x1,P.y1,P.x,P.y):"Z"===P.type&&ee.closePath()}}catch(re){K=!0,le=re}finally{try{G||null==Y.return||Y.return()}finally{if(K)throw le}}return z._doStroke&&z._strokeSet&&!z._clipping&&ee.stroke(),z._doFill&&!z._clipping&&(z._fillSet||z._setFill(g._DEFAULT_TEXT_FILL),ee.fill()),this}},{key:"_textWidth",value:function(N,k){return this.font.getAdvanceWidth(N,k)}},{key:"_textAscent",value:function(N){return this.font.ascender*this._scale(N)}},{key:"_textDescent",value:function(N){return-this.font.descender*this._scale(N)}},{key:"_scale",value:function(N){return 1/this.font.unitsPerEm*(N||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(N,k,J,ne,z){var ee=N._textSize;switch(void 0===z&&(z=this._textWidth(k,ee)),N._textAlign){case g.CENTER:J-=z/2;break;case g.RIGHT:J-=z}switch(N._textBaseline){case g.TOP:ne+=this._textAscent(ee);break;case g.CENTER:ne+=this._textAscent(ee)/2;break;case g.BOTTOM:ne-=this._textDescent(ee)}return{x:J,y:ne}}}])&&_(A.prototype,B),M}(),$.default=o=b.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(o,ie,$){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.append=function(v,b){return v.push(b),v},o.default.prototype.arrayCopy=function(v,b,g,y,C){var _,s;v=void 0!==C?(s=Math.min(C,v.length),_=y,v.slice(b,s+b)):(s=void 0!==g?(s=g,Math.min(s,v.length)):v.length,g=b,v.slice(_=0,s)),Array.prototype.splice.apply(g,[_,s].concat(v))},o.default.prototype.concat=function(v,b){return v.concat(b)},o.default.prototype.reverse=function(v){return v.reverse()},o.default.prototype.shorten=function(v){return v.pop(),v},o.default.prototype.shuffle=function(v,b){for(var g,y,C=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v),_=(v=b||C?v:v.slice()).length;1<_;)g=this.random(0,1)*_|0,y=v[--_],v[_]=v[g],v[g]=y;return v},o.default.prototype.sort=function(v,y){var g=y?v.slice(0,Math.min(y,v.length)):v;return y=y?v.slice(Math.min(y,v.length)):[],(g="string"==typeof g[0]?g.sort():g.sort(function(C,_){return C-_})).concat(y)},o.default.prototype.splice=function(v,b,g){return Array.prototype.splice.apply(v,[g,0].concat(b)),v},o.default.prototype.subset=function(v,b,g){return v.slice(b,void 0!==g?b+g:v.length)},$.default=o=o.default},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(o,ie,$){"use strict";o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.float=function(b){return b instanceof Array?b.map(parseFloat):parseFloat(b)},v.default.prototype.int=function(b){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return b===1/0||"Infinity"===b?1/0:b===-1/0||"-Infinity"===b?-1/0:"string"==typeof b?parseInt(b,g):"number"==typeof b?0|b:"boolean"==typeof b?b?1:0:b instanceof Array?b.map(function(y){return v.default.prototype.int(y,g)}):void 0},v.default.prototype.str=function(b){return b instanceof Array?b.map(v.default.prototype.str):String(b)},v.default.prototype.boolean=function(b){return"number"==typeof b?0!==b:"string"==typeof b?"true"===b.toLowerCase():"boolean"==typeof b?b:b instanceof Array?b.map(v.default.prototype.boolean):void 0},v.default.prototype.byte=function(b){return"number"==typeof(b=v.default.prototype.int(b,10))?(b+128)%256-128:b instanceof Array?b.map(v.default.prototype.byte):void 0},v.default.prototype.char=function(b){return"number"!=typeof b||isNaN(b)?b instanceof Array?b.map(v.default.prototype.char):"string"==typeof b?v.default.prototype.char(parseInt(b,10)):void 0:String.fromCharCode(b)},v.default.prototype.unchar=function(b){return"string"==typeof b&&1===b.length?b.charCodeAt(0):b instanceof Array?b.map(v.default.prototype.unchar):void 0},v.default.prototype.hex=function(b,g){if(g=null==g?8:g,b instanceof Array)return b.map(function(C){return v.default.prototype.hex(C,g)});if(b===1/0||b===-1/0)return(b===1/0?"F":"0").repeat(g);if("number"==typeof b){b<0&&(b=4294967295+b+1);for(var y=Number(b).toString(16).toUpperCase();y.length<g;)y="0".concat(y);return y.length>=g?y.substring(y.length-g,y.length):y}},v.default.prototype.unhex=function(b){return b instanceof Array?b.map(v.default.prototype.unhex):parseInt("0x".concat(b),16)},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(s=o("../core/main"))&&s.__esModule?s:{default:s};function b(l,a){return function(d){if(Array.isArray(d))return d}(l)||function(d,c){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d)){var u=[],h=!0,p=!1,m=void 0;try{for(var w,R=d[Symbol.iterator]();!(h=(w=R.next()).done)&&(u.push(w.value),!c||u.length!==c);h=!0);}catch(E){p=!0,m=E}finally{try{h||null==R.return||R.return()}finally{if(p)throw m}}return u}}(l,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(l,a,d){var c=(u=b(l.toString().split("."),2))[0],u=u[1];return void 0===d?(c=c.padStart(a,"0"),u?c+"."+u:c):(c=(l=b(l.toFixed(d).toString().split("."),2))[0],u=l[1],c=c.padStart(a,"0"),void 0===u?c:c+"."+u)}function y(u,a){var d=(u=u.toString()).indexOf("."),c=-1!==d?u.substring(d):"";if(u=(u=-1!==d?u.substring(0,d):u).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===a)c="";else if(void 0!==a)if(a>c.length)for(var h=a-(c+=-1===d?".":"").length+1,p=0;p<h;p++)c+="0";else c=c.substring(0,a+1);return u+c}function C(l){return 0<parseFloat(l)?"+".concat(l.toString()):l.toString()}function _(l){return 0<=parseFloat(l)?" ".concat(l.toString()):l.toString()}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),v.default.prototype.join=function(l,a){return v.default._validateParameters("join",arguments),l.join(a)},v.default.prototype.match=function(l,a){return v.default._validateParameters("match",arguments),l.match(a)},v.default.prototype.matchAll=function(l,a){v.default._validateParameters("matchAll",arguments);for(var d=new RegExp(a,"g"),c=d.exec(l),u=[];null!==c;)u.push(c),c=d.exec(l);return u},v.default.prototype.nf=function(l,a,d){return v.default._validateParameters("nf",arguments),l instanceof Array?l.map(function(c){return g(c,a,d)}):"[object Arguments]"===Object.prototype.toString.call(l)?3===l.length?this.nf(l[0],l[1],l[2]):2===l.length?this.nf(l[0],l[1]):this.nf(l[0]):g(l,a,d)},v.default.prototype.nfc=function(l,a){return v.default._validateParameters("nfc",arguments),l instanceof Array?l.map(function(d){return y(d,a)}):y(l,a)},v.default.prototype.nfp=function(){for(var l=arguments.length,a=new Array(l),d=0;d<l;d++)a[d]=arguments[d];v.default._validateParameters("nfp",a);var c=v.default.prototype.nf.apply(this,a);return c instanceof Array?c.map(C):C(c)},v.default.prototype.nfs=function(){for(var l=arguments.length,a=new Array(l),d=0;d<l;d++)a[d]=arguments[d];v.default._validateParameters("nfs",a);var c=v.default.prototype.nf.apply(this,a);return c instanceof Array?c.map(_):_(c)},v.default.prototype.split=function(l,a){return v.default._validateParameters("split",arguments),l.split(a)},v.default.prototype.splitTokens=function(l,a){var d,c;return v.default._validateParameters("splitTokens",arguments),c=void 0!==a?(c=/\]/g.exec(a),(d=/\[/g.exec(a))&&c?(a=a.slice(0,c.index)+a.slice(c.index+1),d=/\[/g.exec(a),a=a.slice(0,d.index)+a.slice(d.index+1),new RegExp("[\\[".concat(a,"\\]]"),"g")):c?(a=a.slice(0,c.index)+a.slice(c.index+1),new RegExp("[".concat(a,"\\]]"),"g")):d?(a=a.slice(0,d.index)+a.slice(d.index+1),new RegExp("[".concat(a,"\\[]"),"g")):new RegExp("[".concat(a,"]"),"g")):/\s/g,l.split(c).filter(function(u){return u})},v.default.prototype.trim=function(l){return v.default._validateParameters("trim",arguments),l instanceof Array?l.map(this.trim):l.trim()};var s=v.default;$.default=s},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.day=function(){return(new Date).getDate()},o.default.prototype.hour=function(){return(new Date).getHours()},o.default.prototype.minute=function(){return(new Date).getMinutes()},o.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return(new Date).getMonth()+1},o.default.prototype.second=function(){return(new Date).getSeconds()},o.default.prototype.year=function(){return(new Date).getFullYear()},$.default=o=o.default},{"../core/main":283}],326:[function(o,ie,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(s=o("../core/main"))&&s.__esModule?s:{default:s},y=(o("./p5.Geometry"),function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var a=C();if(a&&a.has(l))return a.get(l);var d,c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var h;Object.prototype.hasOwnProperty.call(l,d)&&((h=u?Object.getOwnPropertyDescriptor(l,d):null)&&(h.get||h.set)?Object.defineProperty(c,d,h):c[d]=l[d])}return c.default=l,a&&a.set(l,c),c}(o("../core/constants")));function C(){var l;return"function"!=typeof WeakMap?null:(C=function(){return l},l=new WeakMap)}function _(l,a,d,c,u,h,p){l=l<=0?1:l,a=a<0?0:a,d=d<=0?l:d,c=c<3?3:c;for(var m,w,R=(h=void 0===h||h)?-2:0,E=(u=u<1?1:u)+((p=void 0===p?0!==a:p)?2:0),M=Math.atan2(l-a,d),A=Math.sin(M),B=Math.cos(M),j=R;j<=E;++j){var N=j/u,k=d*N,J=void 0;for(J=j<0?(N=k=0,l):u<j?(k=d,N=1,a):l+(a-l)*N,-2!==j&&j!==u+2||(J=0),k-=d/2,m=0;m<c;++m){var ne=m/(c-1),ee=2*Math.PI*ne,z=Math.sin(ee),H=(ee=Math.cos(ee),this.vertices.push(new g.default.Vector(z*J,k,ee*J)));H=j<0?new g.default.Vector(0,-1,0):u<j&&a?new g.default.Vector(0,1,0):new g.default.Vector(z*B,A,ee*B),this.vertexNormals.push(H),this.uvs.push(ne,N)}}var G=0;if(h){for(w=0;w<c;++w)this.faces.push([G+w,G+c+(w+1)%c,G+c+w]);G+=2*c}for(j=0;j<u;++j){for(m=0;m<c;++m){var K=(m+1)%c;this.faces.push([G+m,G+K,G+c+K]),this.faces.push([G+m,G+c+K,G+c+m])}G+=c}if(p)for(G+=c,m=0;m<c;++m)this.faces.push([G+m,G+(m+1)%c,G+c])}g.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},g.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},g.default.prototype.buildGeometry=function(l){return this._renderer.buildGeometry(l)},g.default.prototype.freeGeometry=function(l){this._renderer._freeBuffers(l.gid)},g.default.prototype.plane=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,h=(this._assert3d("plane"),g.default._validateParameters("plane",arguments),"plane|".concat(c,"|").concat(u));return this._renderer.geometryInHash(h)||((l=new g.default.Geometry(c,u,function(){for(var p,m,w=0;w<=this.detailY;w++)for(var R=w/this.detailY,E=0;E<=this.detailX;E++)m=new g.default.Vector((p=E/this.detailX)-.5,R-.5,0),this.vertices.push(m),this.uvs.push(p,R)})).computeFaces().computeNormals(),c<=1&&u<=1?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(h,l)),this._renderer.drawBuffersScaled(h,a,d,1),this},g.default.prototype.box=function(l,a,d,c,u){this._assert3d("box"),g.default._validateParameters("box",arguments),void 0===l&&(l=50),void 0===a&&(a=l),void 0===d&&(d=a);var h,p=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===u&&(u=p?1:4),p="box|".concat(c=void 0===c?p?1:4:c,"|").concat(u),this._renderer.geometryInHash(p)||((h=new g.default.Geometry(c,u,function(){var m=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(w,R){R*=4;for(var E=0;E<4;E++){var M=new g.default.Vector((2*(1&(M=w[E]))-1)/2,((2&M)-1)/2,((4&M)/2-1)/2);m.vertices.push(M),m.uvs.push(1&E,(2&E)/2)}m.faces.push([R,1+R,2+R]),m.faces.push([2+R,1+R,3+R])})})).computeNormals(),c<=4&&u<=4?h._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(p,h)),this._renderer.drawBuffersScaled(p,l,a,d),this},g.default.prototype.sphere=function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),g.default._validateParameters("sphere",arguments),this.ellipsoid(l,l,l,a,d),this},g.default.prototype.cylinder=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,h=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],m=(this._assert3d("cylinder"),g.default._validateParameters("cylinder",arguments),"cylinder|".concat(c,"|").concat(u,"|").concat(h,"|").concat(p));return this._renderer.geometryInHash(m)||(l=new g.default.Geometry(c,u),_.call(l,1,1,1,c,u,h,p),c<=24&&u<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(m,l)),this._renderer.drawBuffersScaled(m,a,d,a),this},g.default.prototype.cone=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,h=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=(this._assert3d("cone"),g.default._validateParameters("cone",arguments),"cone|".concat(c,"|").concat(u,"|").concat(h));return this._renderer.geometryInHash(p)||(l=new g.default.Geometry(c,u),_.call(l,1,0,1,c,u,h,!1),c<=24&&u<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,a,d,a),this},g.default.prototype.ellipsoid=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,p=(this._assert3d("ellipsoid"),g.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(u,"|").concat(h));return this._renderer.geometryInHash(p)||((l=new g.default.Geometry(u,h,function(){for(var m=0;m<=this.detailY;m++)for(var w=m/this.detailY,R=Math.PI*w-Math.PI/2,E=Math.cos(R),M=Math.sin(R),A=0;A<=this.detailX;A++){var B=A/this.detailX,N=2*Math.PI*B,j=Math.cos(N);N=Math.sin(N),N=new g.default.Vector(E*N,M,E*j),this.vertices.push(N),this.vertexNormals.push(N),this.uvs.push(B,w)}})).computeFaces(),u<=24&&h<=24?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,a,d,c),this},g.default.prototype.torus=function(l,p,d,c){if(this._assert3d("torus"),g.default._validateParameters("torus",arguments),void 0===l)l=50;else if(!l)return;if(void 0===p)p=10;else if(!p)return;void 0===d&&(d=24),void 0===c&&(c=16);var u,h=(p/l).toPrecision(4);return p="torus|".concat(h,"|").concat(d,"|").concat(c),this._renderer.geometryInHash(p)||((u=new g.default.Geometry(d,c,function(){for(var m=0;m<=this.detailY;m++)for(var w=m/this.detailY,R=2*Math.PI*w,E=Math.cos(R),M=Math.sin(R),A=1+h*E,B=0;B<=this.detailX;B++){var j=B/this.detailX,N=2*Math.PI*j,J=Math.cos(N),k=(N=Math.sin(N),new g.default.Vector(A*J,A*N,h*M));J=new g.default.Vector(E*J,E*N,M),this.vertices.push(k),this.vertexNormals.push(J),this.uvs.push(j,w)}})).computeFaces(),d<=24&&c<=16?u._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,u)),this._renderer.drawBuffersScaled(p,l,l,l),this},g.default.RendererGL.prototype.point=function(l,a){var d=[];return d.push(new g.default.Vector(l,a,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(d,this.immediateMode.buffers.point),this},g.default.RendererGL.prototype.triangle=function(p){var a=p[0],d=p[1],c=p[2],u=p[3],h=p[4],m=(p=p[5],this.geometryInHash("tri")||((m=new g.default.Geometry(1,1,function(){var E=[];E.push(new g.default.Vector(0,0,0)),E.push(new g.default.Vector(1,0,0)),E.push(new g.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=E,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),m.computeNormals(),this.createBuffers("tri",m)),this.uModelMatrix.copy());try{var w=Math.sign(a*u-c*d+c*p-h*u+h*d-a*p),R=new g.default.Matrix([c-a,u-d,0,0,h-a,p-d,0,0,0,0,w,0,a,d,0,1]).mult(this.uModelMatrix);this.uModelMatrix=R,this.drawBuffers("tri")}finally{this.uModelMatrix=m}return this},g.default.RendererGL.prototype.ellipse=function(l){this.arc(l[0],l[1],l[2],l[3],0,y.TWO_PI,y.OPEN,l[4])},g.default.RendererGL.prototype.arc=function(){var l,a=arguments.length<=0?void 0:arguments[0],d=arguments.length<=1?void 0:arguments[1],c=arguments.length<=2?void 0:arguments[2],u=arguments.length<=3?void 0:arguments[3],h=arguments.length<=4?void 0:arguments[4],p=arguments.length<=5?void 0:arguments[5],m=arguments.length<=6?void 0:arguments[6],w=(arguments.length<=7?void 0:arguments[7])||25,R=(Math.abs(p-h)>=y.TWO_PI?"".concat(E="ellipse","|"):"".concat(E="arc","|").concat(h,"|").concat(p,"|").concat(m,"|")).concat(w,"|"),E=(this.geometryInHash(R)||((l=new g.default.Geometry(w,1,function(){if(h.toFixed(10)!==p.toFixed(10)){m!==y.PIE&&void 0!==m||(this.vertices.push(new g.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var M=0;M<=w;M++){var B=M/w*(p-h)+h,A=.5+Math.cos(B)/2;B=.5+Math.sin(B)/2,this.vertices.push(new g.default.Vector(A,B,0)),this.uvs.push([A,B]),M<w-1&&(this.faces.push([0,M+1,M+2]),this.edges.push([M+1,M+2]))}switch(m){case y.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case y.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case y.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),w<=50?l._edgesToVertices(l):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(E," with more than 50 detail")),this.createBuffers(R,l)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,d,0]),this.uModelMatrix.scale(c,u,1),this.drawBuffers(R)}finally{this.uModelMatrix=E}return this},g.default.RendererGL.prototype.rect=function(l){var a=l[0],d=l[1],c=l[2],u=l[3];if(void 0===l[4]){var m=this._pInst._glAttributes.perPixelLighting,h=l[4]||(m?1:24),p=l[5]||(m?1:16),w=(m="rect|".concat(h,"|").concat(p),this.geometryInHash(m)||((w=new g.default.Geometry(h,p,function(){for(var H=0;H<=this.detailY;H++)for(var G=H/this.detailY,K=0;K<=this.detailX;K++){var le=K/this.detailX,Oe=new g.default.Vector(le,G,0);this.vertices.push(Oe),this.uvs.push(le,G)}0<h&&0<p&&(this.edges=[[0,h],[h,(h+1)*(p+1)-1],[(h+1)*(p+1)-1,(h+1)*p],[(h+1)*p,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(m,w)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,d,0]),this.uModelMatrix.scale(c,u,1),this.drawBuffers(m)}finally{this.uModelMatrix=w}}else{m=l[4],w=void 0===l[5]?m:l[5];var R=void 0===l[6]?w:l[6],N=(l=void 0===l[7]?R:l[7],c),E=u,M=((N+=a)<a&&(B=a,a=N,N=B),(E+=d)<d&&(B=d,d=E,E=B),(B=Math.min((N-a)/2,(E-d)/2))<m&&(m=B),B<w&&(w=B),B<R&&(R=B),B<l&&(l=B),a),A=d,B=N,j=(a=E,this.beginShape(),0!==w?(this.vertex(B-w,A),this.quadraticVertex(B,A,B,A+w)):this.vertex(B,A),0!==R?(this.vertex(B,a-R),this.quadraticVertex(B,a,B-R,a)):this.vertex(B,a),0!==l?(this.vertex(M+l,a),this.quadraticVertex(M,a,M,a-l)):this.vertex(M,a),0!==m?(this.vertex(M,A+m),this.quadraticVertex(M,A,M+m,A)):this.vertex(M,A),!(this.immediateMode.geometry.uvs.length=0));d=!1,N=void 0;try{for(var k,J=this.immediateMode.geometry.vertices[Symbol.iterator]();!(j=(k=J.next()).done);j=!0){var ne=k.value;this.immediateMode.geometry.uvs.push((ne.x-M)/c,(ne.y-A)/u)}}catch(Y){d=!0,N=Y}finally{try{j||null==J.return||J.return()}finally{if(d)throw N}}this.endShape(y.CLOSE)}return this},g.default.RendererGL.prototype.quad=function(l,a,d,c,u,h,p,m,w,R,E,M){var A=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,B=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,j="quad|".concat(l,"|").concat(a,"|").concat(d,"|").concat(c,"|").concat(u,"|").concat(h,"|").concat(p,"|").concat(m,"|").concat(w,"|").concat(R,"|").concat(E,"|").concat(M,"|").concat(A,"|").concat(B);if(!this.geometryInHash(j)){var N=new g.default.Geometry(A,B,function(){for(var K=1/(this.detailX-1),le=1/(this.detailY-1),Oe=0;Oe<this.detailY;Oe++)for(var Y=0;Y<this.detailX;Y++){var P=Y*K,re=Oe*le;this.vertices.push(new g.default.Vector((1-P)*((1-re)*l+re*R)+P*((1-re)*c+re*p),(1-P)*((1-re)*a+re*E)+P*((1-re)*u+re*m),(1-P)*((1-re)*d+re*M)+P*((1-re)*h+re*w))),this.uvs.push([P,re])}});N.faces=[];for(var k=0;k<B-1;k++)for(var J=0;J<A-1;J++){var ne=J+k*A,z=J+1+(k+1)*A,ee=J+(k+1)*A;N.faces.push([ne,J+1+k*A,z]),N.faces.push([ne,z,ee])}N.computeNormals();for(var H=[N.edges.length=0,2,3,1],G=0;G<H.length;G++)N.edges.push([H[G],H[(G+1)%H.length]]);N._edgesToVertices(),this.createBuffers(j,N)}return this.drawBuffers(j),this},g.default.RendererGL.prototype.bezier=function(l,a,d,c,u,h,p,m,w,R,E,M){8===arguments.length&&(E=m,R=p,m=h,p=u,u=c,c=d,d=h=w=M=0);var A=this._pInst._bezierDetail||20;this.beginShape();for(var B=0;B<=A;B++){var j=Math.pow(1-B/A,3),N=B/A*3*Math.pow(1-B/A,2),k=3*Math.pow(B/A,2)*(1-B/A),J=Math.pow(B/A,3);this.vertex(l*j+c*N+p*k+R*J,a*j+u*N+m*k+E*J,d*j+h*N+w*k+M*J)}return this.endShape(),this},g.default.RendererGL.prototype.curve=function(l,a,d,c,u,h,p,m,w,R,E,M){8===arguments.length&&(R=p,E=m,p=u,m=c,u=c=d,d=h=w=M=0);var A=this._pInst._curveDetail;this.beginShape();for(var B=0;B<=A;B++){var j=.5*Math.pow(B/A,3),N=.5*Math.pow(B/A,2),k=B/A*.5;this.vertex(j*(3*c-l-3*p+R)+N*(2*l-5*c+4*p-R)+k*(-l+p)+2*c*.5,j*(3*u-a-3*m+E)+N*(2*a-5*u+4*m-E)+k*(-a+m)+2*u*.5,j*(3*h-d-3*w+M)+N*(2*d-5*h+4*w-M)+k*(-d+w)+2*h*.5)}return this.endShape(),this},g.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(y.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(y.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},g.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var l,a,d,c,u,h,p=[],m=[],w=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var R=1/this._lutBezierDetail,E=0,M=1,A=0;E<1;){if(h=parseFloat(E.toFixed(6)),this._lookUpTableBezier[A]=this._bezierCoefficients(h),M.toFixed(6)===R.toFixed(6)){h=parseFloat(M.toFixed(6))+parseFloat(E.toFixed(6)),++A,this._lookUpTableBezier[A]=this._bezierCoefficients(h);break}E+=R,M-=R,++A}}for(var B=this._lookUpTableBezier.length,j=[],N=0;N<4;N++)j.push([]);j[0]=this.immediateMode.geometry.vertexColors.slice(-4),j[3]=this.curFillColor.slice();var k=[];for(N=0;N<4;N++)k.push([]);if(k[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),k[3]=this.curStrokeColor.slice(),6===w){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],m=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var J=Math.hypot(p[0]-p[1],m[0]-m[1]),z=Math.hypot(p[1]-p[2],m[1]-m[2]),ne=Math.hypot(p[2]-p[3],m[2]-m[3]);for(J/=z=J+z+ne,ne/=z,u=0;u<4;u++)j[1].push(j[0][u]*(1-J)+j[3][u]*J),j[2].push(j[0][u]*ne+j[3][u]*(1-ne)),k[1].push(k[0][u]*(1-J)+k[3][u]*J),k[2].push(k[0][u]*ne+k[3][u]*(1-ne));for(c=0;c<B;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=a=0;N<4;N++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableBezier[c][N]*j[N][u],this.curStrokeColor[u]+=this._lookUpTableBezier[c][N]*k[N][u];l+=p[N]*this._lookUpTableBezier[c][N],a+=m[N]*this._lookUpTableBezier[c][N]}this.vertex(l,a)}this.curFillColor=j[3],this.curStrokeColor=k[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===w){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],m=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var ee=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],H=Math.hypot(p[0]-p[1],m[0]-m[1],ee[0]-ee[1]),G=(z=Math.hypot(p[1]-p[2],m[1]-m[2],ee[1]-ee[2]),Math.hypot(p[2]-p[3],m[2]-m[3],ee[2]-ee[3]));for(H/=w=H+z+G,G/=w,u=0;u<4;u++)j[1].push(j[0][u]*(1-H)+j[3][u]*H),j[2].push(j[0][u]*G+j[3][u]*(1-G)),k[1].push(k[0][u]*(1-H)+k[3][u]*H),k[2].push(k[0][u]*G+k[3][u]*(1-G));for(c=0;c<B;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=a=d=0;N<4;N++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableBezier[c][N]*j[N][u],this.curStrokeColor[u]+=this._lookUpTableBezier[c][N]*k[N][u];l+=p[N]*this._lookUpTableBezier[c][N],a+=m[N]*this._lookUpTableBezier[c][N],d+=ee[N]*this._lookUpTableBezier[c][N]}this.vertex(l,a,d)}this.curFillColor=j[3],this.curStrokeColor=k[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},g.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var l,a,d,c,u,h,p=[],m=[],w=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var R=1/this._lutQuadraticDetail,E=0,M=1,A=0;E<1;){if(h=parseFloat(E.toFixed(6)),this._lookUpTableQuadratic[A]=this._quadraticCoefficients(h),M.toFixed(6)===R.toFixed(6)){h=parseFloat(M.toFixed(6))+parseFloat(E.toFixed(6)),++A,this._lookUpTableQuadratic[A]=this._quadraticCoefficients(h);break}E+=R,M-=R,++A}}for(var B=this._lookUpTableQuadratic.length,j=[],N=0;N<3;N++)j.push([]);j[0]=this.immediateMode.geometry.vertexColors.slice(-4),j[2]=this.curFillColor.slice();var k=[];for(N=0;N<3;N++)k.push([]);if(k[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),k[2]=this.curStrokeColor.slice(),4===w){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],m=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var J=Math.hypot(p[0]-p[1],m[0]-m[1]);for(J/=J+Math.hypot(p[1]-p[2],m[1]-m[2]),u=0;u<4;u++)j[1].push(j[0][u]*(1-J)+j[2][u]*J),k[1].push(k[0][u]*(1-J)+k[2][u]*J);for(c=0;c<B;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=a=0;N<3;N++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableQuadratic[c][N]*j[N][u],this.curStrokeColor[u]+=this._lookUpTableQuadratic[c][N]*k[N][u];l+=p[N]*this._lookUpTableQuadratic[c][N],a+=m[N]*this._lookUpTableQuadratic[c][N]}this.vertex(l,a)}this.curFillColor=j[2],this.curStrokeColor=k[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===w){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],m=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var ne=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],z=Math.hypot(p[0]-p[1],m[0]-m[1],ne[0]-ne[1]);for(z/=z+Math.hypot(p[1]-p[2],m[1]-m[2],ne[1]-ne[2]),u=0;u<4;u++)j[1].push(j[0][u]*(1-z)+j[2][u]*z),k[1].push(k[0][u]*(1-z)+k[2][u]*z);for(c=0;c<B;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=a=d=0;N<3;N++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableQuadratic[c][N]*j[N][u],this.curStrokeColor[u]+=this._lookUpTableQuadratic[c][N]*k[N][u];l+=p[N]*this._lookUpTableQuadratic[c][N],a+=m[N]*this._lookUpTableQuadratic[c][N],d+=ne[N]*this._lookUpTableQuadratic[c][N]}this.vertex(l,a,d)}this.curFillColor=j[2],this.curStrokeColor=k[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},g.default.RendererGL.prototype.curveVertex=function(){var l,u,h,p=[],m=[],w=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var R=1/this._lutBezierDetail,E=0,M=1,A=0;E<1;){if(h=parseFloat(E.toFixed(6)),this._lookUpTableBezier[A]=this._bezierCoefficients(h),M.toFixed(6)===R.toFixed(6)){h=parseFloat(M.toFixed(6))+parseFloat(E.toFixed(6)),++A,this._lookUpTableBezier[A]=this._bezierCoefficients(h);break}E+=R,M-=R,++A}}var B=this._lookUpTableBezier.length;if(2===w){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),m=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),u=0;u<B;u++)this.vertex(p[0]*this._lookUpTableBezier[u][0]+p[1]*this._lookUpTableBezier[u][1]+p[2]*this._lookUpTableBezier[u][2]+p[3]*this._lookUpTableBezier[u][3],m[0]*this._lookUpTableBezier[u][0]+m[1]*this._lookUpTableBezier[u][1]+m[2]*this._lookUpTableBezier[u][2]+m[3]*this._lookUpTableBezier[u][3]);for(u=0;u<w;u++)this.immediateMode._curveVertex.shift()}}else if(3===w&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),m=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),l=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),u=0;u<B;u++)this.vertex(p[0]*this._lookUpTableBezier[u][0]+p[1]*this._lookUpTableBezier[u][1]+p[2]*this._lookUpTableBezier[u][2]+p[3]*this._lookUpTableBezier[u][3],m[0]*this._lookUpTableBezier[u][0]+m[1]*this._lookUpTableBezier[u][1]+m[2]*this._lookUpTableBezier[u][2]+m[3]*this._lookUpTableBezier[u][3],l[0]*this._lookUpTableBezier[u][0]+l[1]*this._lookUpTableBezier[u][1]+l[2]*this._lookUpTableBezier[u][2]+l[3]*this._lookUpTableBezier[u][3]);for(u=0;u<w;u++)this.immediateMode._curveVertex.shift()}},g.default.RendererGL.prototype.image=function(l,M,d,A,u,h,p,m,w){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(l),this._pInst.textureMode(y.NORMAL);var R=0,E=(M<=l.width&&(R=M/l.width),1);M+A<=l.width&&(E=(M+A)/l.width),M=0,d<=l.height&&(M=d/l.height),A=1,d+u<=l.height&&(A=(d+u)/l.height),this.beginShape(),this.vertex(h,p,0,R,M),this.vertex(h+m,p,0,E,M),this.vertex(h+m,p+w,0,E,A),this.vertex(h,p+w,0,R,A),this.endShape(y.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(y.REMOVE)};var s=g.default;$.default=s},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(o,ie,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(l=o("../core/main"))&&l.__esModule?l:{default:l},y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var d=C();if(d&&d.has(a))return d.get(a);var c,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var p;Object.prototype.hasOwnProperty.call(a,c)&&((p=h?Object.getOwnPropertyDescriptor(a,c):null)&&(p.get||p.set)?Object.defineProperty(u,c,p):u[c]=a[c])}return u.default=a,d&&d.set(a,u),u}(o("../core/constants"));function C(){var a;return"function"!=typeof WeakMap?null:(C=function(){return a},a=new WeakMap)}function _(a){return function(d){if(Array.isArray(d)){for(var c=0,u=new Array(d.length);c<d.length;c++)u[c]=d[c];return u}}(a)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(a,d){for(var c=0;c<d.length;c++){var u=d[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}var l=function(){function a(h){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(this.renderer=h)._pInst.push(),this.identityMatrix=new g.default.Matrix,h.uModelMatrix=new g.default.Matrix,this.geometry=new g.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(a.nextGeometryId),a.nextGeometryId++,this.hasTransform=!1}var d,c;return d=a,(c=[{key:"transformVertices",value:function(h){var p=this;return this.hasTransform?h.map(function(m){return p.renderer.uModelMatrix.multiplyPoint(m)}):h}},{key:"transformNormals",value:function(h){var p=this;return this.hasTransform?h.map(function(m){return p.renderer.uNMatrix.multiplyVec3(m)}):h}},{key:"addGeometry",value:function(h){for(var p,m=this,w=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(E,M){return E===m.identityMatrix.mat4[M]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),R=((p=this.geometry.vertices).push.apply(p,_(this.transformVertices(h.vertices))),(p=this.geometry.vertexNormals).push.apply(p,_(this.transformNormals(h.vertexNormals))),(p=this.geometry.uvs).push.apply(p,_(h.uvs)),this.renderer._doFill&&(p=this.geometry.faces).push.apply(p,_(h.faces.map(function(E){return E.map(function(M){return M+w})}))),this.renderer._doStroke&&(p=this.geometry.edges).push.apply(p,_(h.edges.map(function(E){return E.map(function(M){return M+w})}))),_(h.vertexColors));R.length<4*h.vertices.length;)R.push.apply(R,_(this.renderer.curFillColor));(p=this.geometry.vertexColors).push.apply(p,_(R))}},{key:"addImmediate",value:function(){var h=this.renderer.immediateMode.geometry,p=this.renderer.immediateMode.shapeMode,m=[];if(this.renderer._doFill)if(p===y.TRIANGLE_STRIP||p===y.QUAD_STRIP)for(var w=2;w<h.vertices.length;w++)m.push(w%2==0?[w,w-1,w-2]:[w,w-2,w-1]);else if(p===y.TRIANGLE_FAN)for(var R=2;R<h.vertices.length;R++)m.push([0,R-1,R]);else for(var E=0;E<h.vertices.length;E+=3)m.push([E,E+1,E+2]);this.addGeometry(Object.assign({},h,{faces:m}))}},{key:"addRetained",value:function(h){this.addGeometry(h.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&s(d.prototype,c),a}();l.nextGeometryId=0,$.default=l},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(o,ie,$){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var b=(_=o("../core/main"))&&_.__esModule?_:{default:_},g=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==C(s)&&"function"!=typeof s)return{default:s};var l=y();if(l&&l.has(s))return l.get(s);var a,d={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=c?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants"));function y(){var s;return"function"!=typeof WeakMap?null:(y=function(){return s},s=new WeakMap)}function C(s){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}b.default.prototype.orbitControl=function(s,l,a,w){var c=this,u=(this._assert3d("orbitControl"),b.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===s&&(s=1),void 0===l&&(l=s),void 0===a&&(a=1),"object"!==C(w)&&(w={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var E=w.disableTouchActions;!0===this.touchActionsDisabled||void 0!==E&&!E||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),w=void 0!==(E=w.freeRotation)&&E;var h,p,m,R=[],M=(this.touches.forEach(function(J){c._renderer.prevTouches.forEach(function(ne){J.id===ne.id&&R.push(ne={x:J.x,y:J.y,px:ne.x,py:ne.y})})}),this._renderer.prevTouches=this.touches,E=0,0),A=0,B=0,j=0,N=this.height<this.width?this.height:this.width,k=!1;return 0<R.length?(k=0<R[0].x&&R[0].x<this.width&&0<R[0].y&&R[0].y<this.height,1===R.length?(M=-s*((h=R[0]).x-h.px)/N,A=l*(h.y-h.py)/N):(h=R[0],p=R[1],E=-(Math.hypot(h.x-p.x,h.y-p.y)-Math.hypot(h.px-p.px,h.py-p.py))*a*4e-4,B=.5*(h.x+p.x)-.5*(h.px+p.px),j=.5*(h.y+p.y)-.5*(h.py+p.py)),0<this.touches.length?k&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(k=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(E=Math.sign(this._mouseWheelDeltaY)*a,E*=.01,this._mouseWheelDeltaY=0,k&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(M=-s*this.movedX/N,A=l*this.movedY/N):this.mouseButton===this.RIGHT&&(B=this.movedX,j=this.movedY*u.yScale),k&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==E&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=E),.001<Math.abs(this._renderer.zoomVelocity)?(w?u._orbitFree(0,0,this._renderer.zoomVelocity):u._orbit(0,0,this._renderer.zoomVelocity),0!==u.projMatrix.mat4[15]&&(u.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),u.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=u.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=u.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===M&&0===A||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*M,.6*A),1e-6<this._renderer.rotateVelocity.magSq()?(w?u._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):u._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===B&&0===j||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(h=2*B/this.width),.15*(p=2*-j/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(a=u._getLocalAxes(),s=u.eyeX-u.centerX,l=u.eyeY-u.centerY,N=u.eyeZ-u.centerZ,k=Math.sqrt(s*s+l*l+N*N),E=new b.default.Vector(u.centerX,u.centerY,u.centerZ),E=u.cameraMatrix.multiplyPoint(E),(E=this._renderer.uPMatrix.multiplyAndNormalizePoint(E)).x-=this._renderer.moveVelocity.x,E.y-=this._renderer.moveVelocity.y,A=0===(M=this._renderer.uPMatrix.mat4)[15]?(m=(M[8]+E.x)/M[0]*k,(M[9]+E.y)/M[5]*k):(m=(E.x-M[12])/M[0],(E.y-M[13])/M[5]),u.setPosition(u.eyeX+m*a.x[0]+A*a.y[0],u.eyeY+m*a.x[1]+A*a.y[1],u.eyeZ+m*a.x[2]+A*a.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},b.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];b.default._validateParameters("debugMode",l);for(var d=this._registeredMethods.post.length-1;0<=d;d--)this._registeredMethods.post[d].toString()!==this._grid().toString()&&this._registeredMethods.post[d].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(d,1);l[0]===g.GRID?this.registerMethod("post",this._grid(l[1],l[2],l[3],l[4],l[5])):l[0]===g.AXES?this.registerMethod("post",this._axesIcon(l[1],l[2],l[3],l[4])):(this.registerMethod("post",this._grid(l[0],l[1],l[2],l[3],l[4])),this.registerMethod("post",this._axesIcon(l[5],l[6],l[7],l[8])))},b.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var s=this._registeredMethods.post.length-1;0<=s;s--)this._registeredMethods.post[s].toString()!==this._grid().toString()&&this._registeredMethods.post[s].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(s,1)},b.default.prototype._grid=function(s,l,a,d,c){void 0===s&&(s=this.width/2),void 0===l&&(l=Math.round(s/30)<4?4:Math.round(s/30)),void 0===a&&(a=0),void 0===d&&(d=0),void 0===c&&(c=0);var u=s/l,h=s/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var p=0;p<=l;p++)this.beginShape(this.LINES),this.vertex(-h+a,d,p*u-h+c),this.vertex(h+a,d,p*u-h+c),this.endShape();for(var m=0;m<=l;m++)this.beginShape(this.LINES),this.vertex(m*u-h+a,d,-h+c),this.vertex(m*u-h+a,d,h+c),this.endShape();this.pop()}},b.default.prototype._axesIcon=function(s,l,a,d){return void 0===s&&(s=40<this.width/20?this.width/20:40),void 0===l&&(l=-this.width/4),void 0===a&&(a=l),void 0===d&&(d=l),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(l,a,d),this.vertex(l+s,a,d),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(l,a,d),this.vertex(l,a+s,d),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(l,a,d),this.vertex(l,a,d+s),this.endShape(),this.pop()}};var _=b.default;$.default=_},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(o,ie,$){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.ambientLight=function(b,g,y,C){this._assert3d("ambientLight"),v.default._validateParameters("ambientLight",arguments);var _=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(_._array[0],_._array[1],_._array[2]),this._renderer._enableLighting=!0,this},v.default.prototype.specularColor=function(b,g,y){this._assert3d("specularColor"),v.default._validateParameters("specularColor",arguments);var C=this.color.apply(this,arguments);return this._renderer.specularColors=[C._array[0],C._array[1],C._array[2]],this},v.default.prototype.directionalLight=function(b,c,d,C,_,s){var l,a;return this._assert3d("directionalLight"),v.default._validateParameters("directionalLight",arguments),b=b instanceof v.default.Color?b:this.color(b,c,d),d="number"==typeof(c=arguments[arguments.length-1])?(l=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(l=c.x,a=c.y,c.z),c=Math.sqrt(l*l+a*a+d*d),this._renderer.directionalLightDirections.push(l/c,a/c,d/c),this._renderer.directionalLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.pointLight=function(b,d,c,C,_,s){var l,a;return this._assert3d("pointLight"),v.default._validateParameters("pointLight",arguments),b=b instanceof v.default.Color?b:this.color(b,d,c),c="number"==typeof(d=arguments[arguments.length-1])?(l=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(l=d.x,a=d.y,d.z),this._renderer.pointLightPositions.push(l,a,c),this._renderer.pointLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.imageLight=function(b){this._renderer.activeImageLight=b,this._renderer._enableLighting=!0},v.default.prototype.panorama=function(b){this.filter(this._renderer._getSphereMapping(b))},v.default.prototype.lights=function(){this._assert3d("lights");var b=this.color("rgb(128,128,128)");return this.ambientLight(b),this.directionalLight(b,0,0,-1),this},v.default.prototype.lightFalloff=function(b,g,y){return this._assert3d("lightFalloff"),v.default._validateParameters("lightFalloff",arguments),b<0&&(b=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),g<0&&(g=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),y<0&&(y=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===b&&0===g&&0===y&&(b=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=b,this._renderer.linearAttenuation=g,this._renderer.quadraticAttenuation=y,this},v.default.prototype.spotLight=function(b,g,y,C,_,s,l,a,d,c,u){this._assert3d("spotLight"),v.default._validateParameters("spotLight",arguments);var h,p,m,w=arguments.length;switch(w){case 11:case 10:h=this.color(b,g,y),p=new v.default.Vector(C,_,s),m=new v.default.Vector(l,a,d);break;case 9:b instanceof v.default.Color?(h=b,p=new v.default.Vector(g,y,C),m=new v.default.Vector(_,s,l),c=a,u=d):C instanceof v.default.Vector?(h=this.color(b,g,y),p=C,m=new v.default.Vector(_,s,l),c=a,u=d):l instanceof v.default.Vector?(h=this.color(b,g,y),p=new v.default.Vector(C,_,s),m=l,c=a,u=d):(h=this.color(b,g,y),p=new v.default.Vector(C,_,s),m=new v.default.Vector(l,a,d));break;case 8:m=b instanceof v.default.Color?(h=b,p=new v.default.Vector(g,y,C),new v.default.Vector(_,s,l)):C instanceof v.default.Vector?(h=this.color(b,g,y),p=C,new v.default.Vector(_,s,l)):(h=this.color(b,g,y),p=new v.default.Vector(C,_,s),l),c=a;break;case 7:b instanceof v.default.Color&&g instanceof v.default.Vector?(h=b,p=g,m=new v.default.Vector(y,C,_),c=s,u=l):b instanceof v.default.Color&&_ instanceof v.default.Vector?(h=b,p=new v.default.Vector(g,y,C),m=_,c=s,u=l):C instanceof v.default.Vector&&_ instanceof v.default.Vector?(h=this.color(b,g,y),p=C,m=_,c=s,u=l):m=b instanceof v.default.Color?(h=b,p=new v.default.Vector(g,y,C),new v.default.Vector(_,s,l)):C instanceof v.default.Vector?(h=this.color(b,g,y),p=C,new v.default.Vector(_,s,l)):(h=this.color(b,g,y),p=new v.default.Vector(C,_,s),l);break;case 6:C instanceof v.default.Vector&&_ instanceof v.default.Vector?(h=this.color(b,g,y),p=C,m=_,c=s):b instanceof v.default.Color&&_ instanceof v.default.Vector?(h=b,p=new v.default.Vector(g,y,C),m=_,c=s):b instanceof v.default.Color&&g instanceof v.default.Vector&&(h=b,p=g,m=new v.default.Vector(y,C,_),c=s);break;case 5:b instanceof v.default.Color&&g instanceof v.default.Vector&&y instanceof v.default.Vector?(h=b,p=g,m=y,c=C,u=_):C instanceof v.default.Vector&&_ instanceof v.default.Vector?(h=this.color(b,g,y),p=C,m=_):b instanceof v.default.Color&&_ instanceof v.default.Vector?(h=b,p=new v.default.Vector(g,y,C),m=_):b instanceof v.default.Color&&g instanceof v.default.Vector&&(h=b,p=g,m=new v.default.Vector(y,C,_));break;case 4:h=b,p=g,m=y,c=C;break;case 3:h=b,p=g,m=y;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(w<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(h._array[0],h._array[1],h._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),m.normalize(),this._renderer.spotLightDirections.push(m.x,m.y,m.z),void 0===c&&(c=Math.PI/3),void 0!==u&&u<1?(u=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===u&&(u=100),c=this._renderer._pInst._toRadians(c),this._renderer.spotLightAngle.push(Math.cos(c)),this._renderer.spotLightConc.push(u),this._renderer._enableLighting=!0,this},v.default.prototype.noLights=function(){this._assert3d("noLights");for(var b=arguments.length,g=new Array(b),y=0;y<b;y++)g[y]=arguments[y];return v.default._validateParameters("noLights",g),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},$.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(o,ie,$){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,o("regenerator-runtime/runtime");var b=(s=o("../core/main"))&&s.__esModule?s:{default:s};function g(l){return function(a){if(Array.isArray(a)){for(var d=0,c=new Array(a.length);d<a.length;d++)c[d]=a[d];return c}}(l)||function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(l,a,d,c,u,h,p){try{var m=l[h](p),w=m.value}catch(R){return void d(R)}m.done?a(w):Promise.resolve(w).then(c,u)}function C(l){return function(){var a=this,d=arguments;return new Promise(function(c,u){var h=l.apply(a,d);function p(w){y(h,c,u,p,m,"next",w)}function m(w){y(h,c,u,p,m,"throw",w)}p(void 0)})}}function _(l){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("./p5.Geometry"),b.default.prototype.loadModel=function(l,a){b.default._validateParameters("loadModel",arguments);var d,c,A,u=!1,h=!1,p=!1,m=l.slice(-4),w=(a&&"object"===_(a)?(u=a.normalize||!1,d=a.successCallback,c=a.failureCallback,m=a.fileType||m,h=a.flipU||!1,p=a.flipV||!1):"boolean"==typeof a?(u=a,d=arguments[2],c=arguments[3],void 0!==arguments[4]&&(m=arguments[4])):(d="function"==typeof a?a:void 0,c=arguments[2],void 0!==arguments[3]&&(m=arguments[3])),new b.default.Geometry),R=(w.gid="".concat(l,"|").concat(u),this);function E(){return(E=C(O.mark(function A(B){var j,N,k,J;return O.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:for(j=[],N=0;N<B.length;N++)(k=B[N].match(/^mtllib (.+)/))&&function(){var z,ee=k[1],H=l.split("/");z=1<H.length?(H.pop(),H.join("/")+"/"+ee):ee,j.push(function(){return M.apply(this,arguments)}(z).then(function(G){return G?(K=R,le=z,new Promise(function(Oe,Y){var P=null,re={};K.loadStrings(le,function(ge){for(var Te=0;Te<ge.length;++Te){var qe=ge[Te].trim().split(/\s+/);"newmtl"===qe[0]?re[P=qe[1]]={}:"Kd"===qe[0]?re[P].diffuseColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"Ka"===qe[0]?re[P].ambientColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"Ks"===qe[0]?re[P].specularColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"map_Kd"===qe[0]&&(re[P].texturePath=qe[1])}Oe(re)},Y)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(z)),{});var K,le}).catch(function(G){return console.warn("Error loading MTL file: ".concat(z),G),{}}))}();return ne.prev=2,ne.next=5,Promise.all(j);case 5:return J=ne.sent,J=Object.assign.apply(Object,[{}].concat(g(J))),ne.abrupt("return",J);case 10:return ne.prev=10,ne.t0=ne.catch(2),ne.abrupt("return",{});case 13:case"end":return ne.stop()}},A,null,[[2,10]])}))).apply(this,arguments)}function M(){return(M=C(O.mark(function A(B){return O.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,fetch(B,{method:"HEAD"});case 3:return N.abrupt("return",N.sent.ok);case 7:return N.prev=7,N.t0=N.catch(0),N.abrupt("return",!1);case 10:case"end":return N.stop()}},A,null,[[0,7]])}))).apply(this,arguments)}return m.match(/\.stl$/i)?this.httpDo(l,"GET","arrayBuffer",function(A){(function(B,j){if(function(N){for(var k=new DataView(N),J=[115,111,108,105,100],ne=0;ne<5;ne++)if(function(z,ee,H){for(var G=0,K=z.length;G<K;G++)if(z[G]!==ee.getUint8(H+G,!1))return;return 1}(J,k,ne))return;return 1}(j))!function(N,k){for(var J,ne,z,ee,H,G,K,le=new DataView(k),Oe=le.getUint32(80,!0),Y=!1,P=0;P<70;P++)1129270351===le.getUint32(P,!1)&&82===le.getUint8(P+4)&&61===le.getUint8(P+5)&&(Y=!0,ee=[],H=le.getUint8(P+6)/255,G=le.getUint8(P+7)/255,K=le.getUint8(P+8)/255);for(var re=0;re<Oe;re++){for(var ge,Te=84+50*re,Ge=le.getFloat32(Te,!0),qe=le.getFloat32(4+Te,!0),ht=le.getFloat32(8+Te,!0),ze=(Y&&(z=32768&(ge=le.getUint16(48+Te,!0))?(J=H,ne=G,K):(J=(31&ge)/31,ne=(ge>>5&31)/31,(ge>>10&31)/31)),new b.default.Vector(Ge,qe,ht)),st=1;st<=3;st++){var lt=new b.default.Vector(le.getFloat32(lt=Te+12*st,!0),le.getFloat32(4+lt,!0),le.getFloat32(8+lt,!0));N.vertices.push(lt),N.vertexNormals.push(ze),Y&&ee.push(J,ne,z)}N.faces.push([3*re,3*re+1,3*re+2]),N.uvs.push([0,0],[0,0],[0,0])}}(B,j);else{if(j=new DataView(j),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(N,k){for(var J,ne,z="",ee=[],H=0;H<k.length;++H){for(var G=k[H].trim(),K=G.split(" "),le=0;le<K.length;++le)""===K[le]&&K.splice(le,1);if(0!==K.length)switch(z){case"":if("solid"!==K[0])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "solid"'));z="solid";break;case"solid":if("facet"!==K[0]||"normal"!==K[1])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "facet normal"'));J=new b.default.Vector(parseFloat(K[2]),parseFloat(K[3]),parseFloat(K[4])),N.vertexNormals.push(J,J,J),z="facet normal";break;case"facet normal":if("outer"!==K[0]||"loop"!==K[1])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "outer loop"'));z="vertex";break;case"vertex":if("vertex"===K[0])ne=new b.default.Vector(parseFloat(K[1]),parseFloat(K[2]),parseFloat(K[3])),N.vertices.push(ne),N.uvs.push([0,0]),ee.push(N.vertices.indexOf(ne));else{if("endloop"!==K[0])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "vertex" or "endloop"'));N.faces.push(ee),ee=[],z="endloop"}break;case"endloop":if("endfacet"!==K[0])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "endfacet"'));z="endfacet";break;case"endfacet":if("endsolid"!==K[0]){if("facet"!==K[0]||"normal"!==K[1])return console.error(G),console.error('Invalid state "'.concat(K[0],'", should be "endsolid" or "facet normal"'));J=new b.default.Vector(parseFloat(K[2]),parseFloat(K[3]),parseFloat(K[4])),N.vertexNormals.push(J,J,J),z="facet normal"}break;default:console.error('Invalid state "'.concat(z,'"'))}}}(B,j=new TextDecoder("utf-8").decode(j).split("\n"))}})(w,A),u&&w.normalize(),h&&w.flipU(),p&&w.flipV(),R._decrementPreload(),"function"==typeof d&&d(w)},c):m.match(/\.obj$/i)?this.loadStrings(l,(A=C(O.mark(function B(j){return O.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,k.next=3,function(){return E.apply(this,arguments)}(j);case 3:(function(J,ne){for(var z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},ee={v:[],vt:[],vn:[]},H={},G=null,K=new Set,le=!1,Oe=!1,Y=0;Y<ne.length;++Y){var P=ne[Y].trim().split(/\b\s+/);if(0<P.length)if("usemtl"===P[0])G=P[1];else if("v"===P[0]||"vn"===P[0]){var re=new b.default.Vector(parseFloat(P[1]),parseFloat(P[2]),parseFloat(P[3]));ee[P[0]].push(re)}else if("vt"===P[0])re=[parseFloat(P[1]),1-parseFloat(P[2])],ee[P[0]].push(re);else if("f"===P[0])for(var ge=3;ge<P.length;++ge){for(var Te=[],Ge=[1,ge-1,ge],qe=0;qe<Ge.length;++qe){for(var ht,ze=P[Ge[qe]],st=ze.split("/"),lt=0;lt<st.length;lt++)st[lt]=parseInt(st[lt])-1;H[ze]||(H[ze]={}),void 0===H[ze][G]?(ht=J.vertices.length,J.vertices.push(ee.v[st[0]].copy()),J.uvs.push(ee.vt[st[1]]?ee.vt[st[1]].slice():[0,0]),J.vertexNormals.push(ee.vn[st[2]]?ee.vn[st[2]].copy():new b.default.Vector),H[ze][G]=ht,Te.push(ht),G&&z[G]&&z[G].diffuseColor&&K.add(ee.v[st[0]])):Te.push(H[ze][G])}if(Te[0]!==Te[1]&&Te[0]!==Te[2]&&Te[1]!==Te[2])if(J.faces.push(Te),G&&z[G]&&z[G].diffuseColor){le=le=!0;for(var Be=z[G].diffuseColor,Qe=0;Qe<Te.length;Qe++)J.vertexColors.push(Be[0]),J.vertexColors.push(Be[1]),J.vertexColors.push(Be[2])}else Oe=!0}}if(0===J.vertexNormals.length&&J.computeNormals(),le===Oe)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")})(w,j,k.sent),k.next=11;break;case 7:return k.prev=7,k.t0=k.catch(0),c?c(k.t0):b.default._friendlyError("Error during parsing: "+k.t0.message),k.abrupt("return");case 11:return k.prev=11,u&&w.normalize(),h&&w.flipU(),p&&w.flipV(),R._decrementPreload(),"function"==typeof d&&d(w),k.finish(11);case 18:case"end":return k.stop()}},B,null,[[0,7,11,18]])})),function(B){return A.apply(this,arguments)}),c):(b.default._friendlyFileLoadError(3,l),c?c():b.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),w},b.default.prototype.model=function(l){this._assert3d("model"),b.default._validateParameters("model",arguments),0<l.vertices.length&&(this._renderer.geometryInHash(l.gid)||(0===l.edges.length&&l._makeTriangleEdges(),l._edgesToVertices(),this._renderer.createBuffers(l.gid,l)),this._renderer.drawBuffers(l.gid))};var s=b.default;$.default=s},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(o,ie,$){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(_=o("../core/main"))&&_.__esModule?_:{default:_},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=c?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Texture"),g.default.prototype.loadShader=function(s,l,a,d){function c(){h._decrementPreload(),a&&a(u)}g.default._validateParameters("loadShader",arguments),d=d||console.error;var u=new g.default.Shader,h=this,p=!1,m=!1;return this.loadStrings(s,function(w){u._vertSrc=w.join("\n"),m=!0,p&&c()},d),this.loadStrings(l,function(w){u._fragSrc=w.join("\n"),p=!0,m&&c()},d),u},g.default.prototype.createShader=function(s,l){return g.default._validateParameters("createShader",arguments),new g.default.Shader(this._renderer,s,l)},g.default.prototype.createFilterShader=function(s){g.default._validateParameters("createFilterShader",arguments);var l=s.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(l=new g.default.Shader(this._renderer,l,s)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),l},g.default.prototype.shader=function(s){return this._assert3d("shader"),g.default._validateParameters("shader",arguments),s.ensureCompiledOnContext(this),s.isStrokeShader()?this._renderer.userStrokeShader=s:(this._renderer.userFillShader=s,this._renderer._useNormalMaterial=!1),this},g.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},g.default.prototype.texture=function(s){return this._assert3d("texture"),g.default._validateParameters("texture",arguments),s.gifProperties&&s._animateGif(this),this._renderer.drawMode=y.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=s,this._renderer._setProperty("_doFill",!0),this},g.default.prototype.textureMode=function(s){s!==y.IMAGE&&s!==y.NORMAL?console.warn("You tried to set ".concat(s," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=s},g.default.prototype.textureWrap=function(s){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s,a=(this._renderer.textureWrapX=s,this._renderer.textureWrapY=l,!0),d=!1,c=void 0;try{for(var u,h=this._renderer.textures.values()[Symbol.iterator]();!(a=(u=h.next()).done);a=!0)u.value.setWrapMode(s,l)}catch(p){d=!0,c=p}finally{try{a||null==h.return||h.return()}finally{if(d)throw c}}},g.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return g.default._validateParameters("normalMaterial",l),this._renderer.drawMode=y.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},g.default.prototype.ambientMaterial=function(s,l,a){this._assert3d("ambientMaterial"),g.default._validateParameters("ambientMaterial",arguments);var d=g.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=d._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},g.default.prototype.emissiveMaterial=function(s,l,a,d){this._assert3d("emissiveMaterial"),g.default._validateParameters("emissiveMaterial",arguments);var c=g.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=c._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},g.default.prototype.specularMaterial=function(s,l,a,d){this._assert3d("specularMaterial"),g.default._validateParameters("specularMaterial",arguments);var c=g.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=c._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},g.default.prototype.shininess=function(s){return this._assert3d("shininess"),g.default._validateParameters("shininess",arguments),this._renderer._useShininess=s=s<1?1:s,this},g.default.prototype.metalness=function(s){return this._assert3d("metalness"),s=1-Math.exp(-s/100),this._renderer._useMetalness=s,this},g.default.RendererGL.prototype._applyColorBlend=function(s,c){var a=this.GL;return(c=c||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===y.TEXTURE||this.curBlendMode!==y.BLEND||s[s.length-1]<1||this._isErasing)!==this._isBlending&&(c||this.curBlendMode!==y.BLEND&&this.curBlendMode!==y.ADD?a.enable(a.BLEND):a.disable(a.BLEND),a.depthMask(!0),this._isBlending=c),this._applyBlendMode(),s},g.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var s=this.GL;switch(this.curBlendMode){case y.BLEND:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case y.ADD:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE);break;case y.REMOVE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ZERO,s.ONE_MINUS_SRC_ALPHA);break;case y.MULTIPLY:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA);break;case y.SCREEN:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_COLOR);break;case y.EXCLUSION:s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD),s.blendFuncSeparate(s.ONE_MINUS_DST_COLOR,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE);break;case y.REPLACE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ZERO);break;case y.SUBTRACT:s.blendEquationSeparate(s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case y.DARKEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case y.LIGHTEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var _=g.default;$.default=_},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(o,ie,$){"use strict";o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g,y){for(var C=0;C<y.length;C++){var _=y[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}v.default.prototype.camera=function(){var g;this._assert3d("camera");for(var y=arguments.length,C=new Array(y),_=0;_<y;_++)C[_]=arguments[_];return v.default._validateParameters("camera",C),(g=this._renderer._curCamera).camera.apply(g,C),this},v.default.prototype.perspective=function(){var g;this._assert3d("perspective");for(var y=arguments.length,C=new Array(y),_=0;_<y;_++)C[_]=arguments[_];return v.default._validateParameters("perspective",C),(g=this._renderer._curCamera).perspective.apply(g,C),this},v.default.prototype.linePerspective=function(g){if(v.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof v.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(void 0===g)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=g},v.default.prototype.ortho=function(){var g;this._assert3d("ortho");for(var y=arguments.length,C=new Array(y),_=0;_<y;_++)C[_]=arguments[_];return v.default._validateParameters("ortho",C),(g=this._renderer._curCamera).ortho.apply(g,C),this},v.default.prototype.frustum=function(){var g;this._assert3d("frustum");for(var y=arguments.length,C=new Array(y),_=0;_<y;_++)C[_]=arguments[_];return v.default._validateParameters("frustum",C),(g=this._renderer._curCamera).frustum.apply(g,C),this},v.default.prototype.createCamera=function(){this._assert3d("createCamera");var g=new v.default.Camera(this._renderer);return g._computeCameraDefaultSettings(),g._setDefaultCamera(),this._renderer._curCamera=g},v.default.Camera=function(){function g(s){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._renderer=s,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new v.default.Matrix,this.projMatrix=new v.default.Matrix,this.yScale=1}var y,C;return y=g,(C=[{key:"perspective",value:function(c,l,a,d){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===c?c=this.defaultCameraFOV:this._renderer._pInst._toRadians(c),void 0===l&&(l=this.defaultAspectRatio),void 0===a&&(a=this.defaultCameraNear),void 0===d&&(d=this.defaultCameraFar),a<=1e-4&&(a=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),d<a&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=l,this.cameraNear=a,this.cameraFar=d,this.projMatrix=v.default.Matrix.identity(),c=1/Math.tan(this.cameraFOV/2);var u=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(c/l,0,0,0,0,-c*this.yScale,0,0,0,0,(d+a)*u,-1,0,0,2*d*a*u,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(M,E,a,d,c,u){var A=this.fbo||this._renderer,h=(void 0===M&&(M=-A.width/2),void 0===E&&(E=+A.width/2),void 0===a&&(a=-A.height/2),void 0===d&&(d=+A.height/2),void 0===c&&(c=0),void 0===u&&(u=Math.max(A.width,A.height)+800),this.cameraNear=c,A=E-M,d-a),p=(this.cameraFar=u)-c,m=2/A,w=2/h*this.yScale,R=-2/p;E=-(E+M)/A,M=-(d+a)/h,A=-(u+c)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,-w,0,0,0,0,R,0,E,M,A,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(M,E,a,d,c,u){void 0===M&&(M=.05*-this._renderer.width),void 0===E&&(E=.05*+this._renderer.width),void 0===a&&(a=.05*+this._renderer.height),void 0===d&&(d=.05*-this._renderer.height),void 0===c&&(c=this.defaultCameraNear),void 0===u&&(u=this.defaultCameraFar),this.cameraNear=c;var A=E-M,h=d-a,p=(this.cameraFar=u)-c,m=2*c/A,w=2*c/h*this.yScale,R=-2*u*c/p;E=(E+M)/A,M=(d+a)/h,A=-(u+c)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,-w,0,0,E,M,A,-1,0,0,R,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(m,l,a,d){var c=this.centerX,u=this.centerY,h=this.centerZ,p=(c-=this.eyeX,u-=this.eyeY,h-=this.eyeZ,v.default.Matrix.identity(this._renderer._pInst));(p.rotate(this._renderer._pInst._toRadians(m),l,a,d),m=[c*p.mat4[0]+u*p.mat4[4]+h*p.mat4[8],c*p.mat4[1]+u*p.mat4[5]+h*p.mat4[9],c*p.mat4[2]+u*p.mat4[6]+h*p.mat4[10]])[0]+=this.eyeX,m[1]+=this.eyeY,m[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,m[0],m[1],m[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(a){var l=this._getLocalAxes();a=v.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(a),l.z[0],l.z[1],l.z[2]).rotateVector(new v.default.Vector(this.upX,this.upY,this.upZ)),this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,a.x,a.y,a.z)}},{key:"pan",value:function(s){var l=this._getLocalAxes();this._rotateView(s,l.y[0],l.y[1],l.y[2])}},{key:"tilt",value:function(s){var l=this._getLocalAxes();this._rotateView(s,l.x[0],l.x[1],l.x[2])}},{key:"lookAt",value:function(s,l,a){this.camera(this.eyeX,this.eyeY,this.eyeZ,s,l,a,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(s,l,a,d,c,u,h,p,m){return void 0===s&&(a=this.defaultEyeZ,d=s=this.defaultEyeX,c=l=this.defaultEyeY,p=1,m=h=u=0),this.eyeX=s,this.eyeY=l,this.eyeZ=a,void 0!==d&&(this.centerX=d,this.centerY=c,this.centerZ=u),void 0!==h&&(this.upX=h,this.upY=p,this.upZ=m),d=this._getLocalAxes(),this.cameraMatrix.set(d.x[0],d.y[0],d.z[0],0,d.x[1],d.y[1],d.z[1],0,d.x[2],d.y[2],d.z[2],0,0,0,0,1),this.cameraMatrix.translate([c=-s,-l,-a]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(d,c,a){var u=this._getLocalAxes();this.camera(this.eyeX+(d=[u.x[0]*d,u.x[1]*d,u.x[2]*d])[0]+(c=[u.y[0]*c,u.y[1]*c,u.y[2]*c])[0]+(u=[u.z[0]*a,u.z[1]*a,u.z[2]*a])[0],this.eyeY+d[1]+c[1]+u[1],this.eyeZ+d[2]+c[2]+u[2],this.centerX+d[0]+c[0]+u[0],this.centerY+d[1]+c[1]+u[1],this.centerZ+d[2]+c[2]+u[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(s,l,a){this.camera(s,l,a,this.centerX+(s-this.eyeX),this.centerY+(l-this.eyeY),this.centerZ+(a-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(s){for(var l=0,a=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];l<a.length;l++){var d=a[l];this[d]=s[d]}this.cameraMatrix=s.cameraMatrix.copy(),this.projMatrix=s.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(s,l,a){var d,c,u,h,p,m,w,R,E,M,A,B,j,N,k,J,ne,z;0===a?this.set(s):1===a?this.set(l):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=s.projMatrix.mat4[0]*Math.pow(l.projMatrix.mat4[0]/s.projMatrix.mat4[0],a),this.projMatrix.mat4[5]=s.projMatrix.mat4[5]*Math.pow(l.projMatrix.mat4[5]/s.projMatrix.mat4[5],a),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),h=new v.default.Vector(s.eyeX,s.eyeY,s.eyeZ),p=new v.default.Vector(l.eyeX,l.eyeY,l.eyeZ),J=new v.default.Vector(s.centerX,s.centerY,s.centerZ),z=new v.default.Vector(l.centerX,l.centerY,l.centerZ),u=v.default.Vector.dist(h,J),d=v.default.Vector.dist(p,z),d=u*Math.pow(d/u,a),u=v.default.Vector.sub(h,p),c=1,1e-6<(ne=(N=h.copy().sub(p).sub(J).add(z)).magSq())&&(c=v.default.Vector.dot(u,N)/ne,c=Math.max(0,Math.min(c,1))),u=v.default.Vector.lerp(v.default.Vector.lerp(h,J,c),v.default.Vector.lerp(p,z,c),a),N=s.cameraMatrix.createSubMatrix3x3(),ne=l.cameraMatrix.createSubMatrix3x3(),h=N.row(2),J=ne.row(2),p=N.row(1),z=ne.row(1),s=new v.default.Vector,l=new v.default.Vector,m=new v.default.Vector,w=new v.default.Vector,1-(R=.5*((N=(ne=ne.mult3x3(N.copy().transpose3x3())).diagonal())[0]+N[1]+N[2]-1))<1e-7?(s.set(v.default.Vector.lerp(h,J,a)).normalize(),m.set(s).mult(c*d).add(u),w.set(s).mult((c-1)*d).add(u),l.set(v.default.Vector.lerp(p,z,a)).normalize()):(J=1/(1-R),z=Math.max(N[0],N[1],N[2]),B=ne.mat3[1]+ne.mat3[3],j=ne.mat3[2]+ne.mat3[6],k=ne.mat3[5]+ne.mat3[7],z=z===N[0]?(M=.5*B*(J/=E=Math.sqrt((N[0]-R)*J)),A=.5*j*J,.5*(ne.mat3[7]-ne.mat3[5])/E):z===N[1]?(A=.5*k*(J/=M=Math.sqrt((N[1]-R)*J)),E=.5*B*J,.5*(ne.mat3[2]-ne.mat3[6])/M):(E=.5*j*(J/=A=Math.sqrt((N[2]-R)*J)),M=.5*k*J,.5*(ne.mat3[3]-ne.mat3[1])/A),B=a*Math.atan2(z,R),j=Math.cos(B),N=Math.sin(B),(z=new v.default.Matrix("mat3",[j+(k=1-j)*E*E,k*(J=E*M)+N*A,k*(ne=A*E)-N*M,k*J-N*A,j+k*M*M,k*(a=M*A)+N*E,k*ne+N*M,k*a-N*E,j+k*A*A])).multiplyVec3(h,s),m.set(s).mult(c*d).add(u),w.set(s).mult((c-1)*d).add(u),z.multiplyVec3(p,l)),this.camera(m.x,m.y,m.z,w.x,w.y,w.z,l.x,l.y,l.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var s=new v.default.Camera(this._renderer);return s.cameraFOV=this.cameraFOV,s.aspectRatio=this.aspectRatio,s.eyeX=this.eyeX,s.eyeY=this.eyeY,s.eyeZ=this.eyeZ,s.centerX=this.centerX,s.centerY=this.centerY,s.centerZ=this.centerZ,s.upX=this.upX,s.upY=this.upY,s.upZ=this.upZ,s.cameraNear=this.cameraNear,s.cameraFar=this.cameraFar,s.cameraType=this.cameraType,s.cameraMatrix=this.cameraMatrix.copy(),s.projMatrix=this.projMatrix.copy(),s.yScale=this.yScale,s}},{key:"_getLocalAxes",value:function(){var w,s=this.eyeX-this.centerX,l=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,h=(0!==(h=Math.sqrt(s*s+l*l+a*a))&&(s/=h,l/=h,a/=h),this.upX),d=(p=this.upY)*a-(m=this.upZ)*l,c=-h*a+m*s,u=h*l-p*s,p=(h=l*u-a*c,-s*u+a*d),m=s*c-l*d;return 0!==(0!==(w=Math.sqrt(d*d+c*c+u*u))&&(d/=w,c/=w,u/=w),w=Math.sqrt(h*h+p*p+m*m))&&(h/=w,p/=w,m/=w),{x:[d,c,u],y:[h,p,m],z:[s,l,a]}}},{key:"_orbit",value:function(s,w,m){var c=this.eyeX-this.centerX,u=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,d=Math.hypot(c,u,h),p=(c=new v.default.Vector(c,u,h).normalize(),u=new v.default.Vector(this.upX,this.upY,this.upZ).normalize(),h=v.default.Vector.cross(u,c).normalize(),v.default.Vector.cross(h,u));(d=(d*=Math.pow(10,m))<this.cameraNear?this.cameraNear:d)>this.cameraFar&&(d=this.cameraFar),m=Math.acos(Math.max(-1,Math.min(1,v.default.Vector.dot(c,u))))+w,w=s,(m<=0||m>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),u.mult(Math.cos(m)),p.mult(Math.cos(w)*Math.sin(m)),h.mult(Math.sin(w)*Math.sin(m)),c.set(u).add(p).add(h),this.eyeX=d*c.x+this.centerX,this.eyeY=d*c.y+this.centerY,this.eyeZ=d*c.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(m,w,E){var c=this.eyeX-this.centerX,u=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,d=Math.hypot(c,u,h),p=(c=new v.default.Vector(c,u,h).normalize(),u=new v.default.Vector(this.upX,this.upY,this.upZ),h=v.default.Vector.cross(u,c).normalize(),v.default.Vector.cross(c,h)),M=Math.atan2(w,m),R=(p.mult(Math.sin(M)),h.mult(Math.cos(M)).add(p),M=Math.sqrt(m*m+w*w),p=v.default.Vector.cross(c,h),(d=(d*=Math.pow(10,E))<this.cameraNear?this.cameraNear:d)>this.cameraFar&&(d=this.cameraFar),m=Math.cos(M),w=Math.sin(M),(E=u.dot(c))*m+(M=u.dot(h))*w);E=-E*w+M*m,M=u.dot(p),u.x=R*c.x+E*h.x+M*p.x,u.y=R*c.y+E*h.y+M*p.y,u.z=R*c.z+E*h.z+M*p.z,h.mult(-w),c.mult(m).add(h).mult(d),this.camera(c.x+this.centerX,c.y+this.centerY,c.z+this.centerZ,this.centerX,this.centerY,this.centerZ,u.x,u.y,u.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&b(y.prototype,C),g}(),v.default.prototype.setCamera=function(g){this._renderer._curCamera=g,this._renderer.uPMatrix.set(g.projMatrix),this._renderer.uViewMatrix.set(g.cameraMatrix)},$.default=o=v.default.Camera},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(o,ie,$){"use strict";function v(b,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.DataArray=function(){function b(){var _=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(_),this.initialLength=_}var g,y;return g=b,(y=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var _;this.length<this.data.length/2&&(_=1<<Math.ceil(Math.log2(this.length)),(_=new Float32Array(_)).set(this.data.subarray(0,this.length),0),this.data=_)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var _=arguments.length,s=new Array(_),l=0;l<_;l++)s[l]=arguments[l];this.ensureLength(this.length+s.length),this.data.set(s,this.length),this.length+=s.length}},{key:"slice",value:function(_,s){return this.data.slice(_,Math.min(s,this.length))}},{key:"subArray",value:function(_,s){return this.data.subarray(_,Math.min(s,this.length))}},{key:"ensureLength",value:function(_){for(;this.data.length<_;){var s=new Float32Array(2*this.data.length);s.set(this.data,0),this.data=s}}}])&&v(g.prototype,y),b}(),$.default=o=o.default.DataArray},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(A,ie,$){"use strict";function v(B){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(B)}function b(B){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(j){return v(j)}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":v(j)})(B)}A("core-js/modules/es.symbol"),A("core-js/modules/es.symbol.description"),A("core-js/modules/es.symbol.iterator"),A("core-js/modules/es.array.fill"),A("core-js/modules/es.array.includes"),A("core-js/modules/es.array.iterator"),A("core-js/modules/es.object.get-own-property-descriptor"),A("core-js/modules/es.object.get-prototype-of"),A("core-js/modules/es.object.to-string"),A("core-js/modules/es.reflect.construct"),A("core-js/modules/es.reflect.get"),A("core-js/modules/es.regexp.to-string"),A("core-js/modules/es.string.includes"),A("core-js/modules/es.string.iterator"),A("core-js/modules/es.typed-array.float32-array"),A("core-js/modules/es.typed-array.uint8-array"),A("core-js/modules/es.typed-array.uint8-clamped-array"),A("core-js/modules/es.typed-array.copy-within"),A("core-js/modules/es.typed-array.every"),A("core-js/modules/es.typed-array.fill"),A("core-js/modules/es.typed-array.filter"),A("core-js/modules/es.typed-array.find"),A("core-js/modules/es.typed-array.find-index"),A("core-js/modules/es.typed-array.for-each"),A("core-js/modules/es.typed-array.includes"),A("core-js/modules/es.typed-array.index-of"),A("core-js/modules/es.typed-array.iterator"),A("core-js/modules/es.typed-array.join"),A("core-js/modules/es.typed-array.last-index-of"),A("core-js/modules/es.typed-array.map"),A("core-js/modules/es.typed-array.reduce"),A("core-js/modules/es.typed-array.reduce-right"),A("core-js/modules/es.typed-array.reverse"),A("core-js/modules/es.typed-array.set"),A("core-js/modules/es.typed-array.slice"),A("core-js/modules/es.typed-array.some"),A("core-js/modules/es.typed-array.sort"),A("core-js/modules/es.typed-array.subarray"),A("core-js/modules/es.typed-array.to-locale-string"),A("core-js/modules/es.typed-array.to-string"),A("core-js/modules/es.weak-map"),A("core-js/modules/web.dom-collections.iterator"),A("core-js/modules/es.array.fill"),A("core-js/modules/es.array.includes"),A("core-js/modules/es.array.iterator"),A("core-js/modules/es.object.get-prototype-of"),A("core-js/modules/es.object.to-string"),A("core-js/modules/es.string.includes"),A("core-js/modules/es.typed-array.float32-array"),A("core-js/modules/es.typed-array.uint8-array"),A("core-js/modules/es.typed-array.uint8-clamped-array"),A("core-js/modules/es.typed-array.copy-within"),A("core-js/modules/es.typed-array.every"),A("core-js/modules/es.typed-array.fill"),A("core-js/modules/es.typed-array.filter"),A("core-js/modules/es.typed-array.find"),A("core-js/modules/es.typed-array.find-index"),A("core-js/modules/es.typed-array.for-each"),A("core-js/modules/es.typed-array.includes"),A("core-js/modules/es.typed-array.index-of"),A("core-js/modules/es.typed-array.iterator"),A("core-js/modules/es.typed-array.join"),A("core-js/modules/es.typed-array.last-index-of"),A("core-js/modules/es.typed-array.map"),A("core-js/modules/es.typed-array.reduce"),A("core-js/modules/es.typed-array.reduce-right"),A("core-js/modules/es.typed-array.reverse"),A("core-js/modules/es.typed-array.set"),A("core-js/modules/es.typed-array.slice"),A("core-js/modules/es.typed-array.some"),A("core-js/modules/es.typed-array.sort"),A("core-js/modules/es.typed-array.subarray"),A("core-js/modules/es.typed-array.to-locale-string"),A("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(M=A("../core/main"))&&M.__esModule?M:{default:M},y=function(B){if(B&&B.__esModule)return B;if(null===B||"object"!==b(B)&&"function"!=typeof B)return{default:B};var j=s();if(j&&j.has(B))return j.get(B);var N,k={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in B){var ne;Object.prototype.hasOwnProperty.call(B,N)&&((ne=J?Object.getOwnPropertyDescriptor(B,N):null)&&(ne.get||ne.set)?Object.defineProperty(k,N,ne):k[N]=B[N])}return k.default=B,j&&j.set(B,k),k}(A("../core/constants")),C=A("./p5.Texture"),_=A("./p5.RendererGL");function s(){var B;return"function"!=typeof WeakMap?null:(s=function(){return B},B=new WeakMap)}function l(B,j){return function(N){if(Array.isArray(N))return N}(B)||function(N,k){if(Symbol.iterator in Object(N)||"[object Arguments]"===Object.prototype.toString.call(N)){var J=[],ne=!0,z=!1,ee=void 0;try{for(var H,G=N[Symbol.iterator]();!(ne=(H=G.next()).done)&&(J.push(H.value),!k||J.length!==k);ne=!0);}catch(K){z=!0,ee=K}finally{try{ne||null==G.return||G.return()}finally{if(z)throw ee}}return J}}(B,j)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(B,j,N){return j in B?Object.defineProperty(B,j,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[j]=N,B}function d(B,j){if(!(B instanceof j))throw new TypeError("Cannot call a class as a function")}function c(B,j){for(var N=0;N<j.length;N++){var k=j[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(B,k.key,k)}}function u(B,j,N){j&&c(B.prototype,j),N&&c(B,N)}function h(B,j,N){return(h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(z,J,ne){if(z=function(ee,H){for(;!Object.prototype.hasOwnProperty.call(ee,H)&&null!==(ee=w(ee)););return ee}(z,J))return(z=Object.getOwnPropertyDescriptor(z,J)).get?z.get.call(ne):z.value})(B,j,N||B)}function p(B,j){return(p=Object.setPrototypeOf||function(N,k){return N.__proto__=k,N})(B,j)}function w(B){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(B)}var R=function(B){var j=k;if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(B&&B.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),B&&p(j,B);var N=function m(B){return function(){var j,N=w(B);if(j=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(j=w(this).constructor,Reflect.construct(N,arguments,j)):N.apply(this,arguments),N=this,!j||"object"!==b(j)&&"function"!=typeof j){if(void 0!==N)return N;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return j}}(k);function k(J){var ne;return d(this,k),(ne=N.call(this,J.target._renderer)).fbo=J,ne.yScale=-1,ne}return u(k,[{key:"_computeCameraDefaultSettings",value:function(){h(w(k.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),k}(g.default.Camera),E=(g.default.FramebufferCamera=R,function(){function B(j,N){d(this,B),this.framebuffer=j,this.property=N}return u(B,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),B}()),M=(g.default.FramebufferTexture=E,function(){function B(j){var N=this,k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},J=(d(this,B),this.target=j,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=k.format||y.UNSIGNED_BYTE,this.channels=k.channels||(j._renderer._pInst._glAttributes.alpha?y.RGBA:y.RGB),this.useDepth=void 0===k.depth||k.depth,this.depthFormat=k.depthFormat||y.FLOAT,this.textureFiltering=k.textureFiltering||y.LINEAR,this.antialiasSamples=void 0===k.antialias?j._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof k.antialias?k.antialias:k.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&j.webglVersion!==y.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=k.density||j.pixelDensity(),j._renderer.GL);if(this.gl=J,k.width&&k.height?(ne=j._renderer._adjustDimensions(k.width,k.height),this.width=ne.adjustedWidth,this.height=ne.adjustedHeight,this._autoSized=!1):(void 0===k.width!=(void 0===k.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=j.width,this.height=j.height,this._autoSized=!0),this._checkIfFormatsAvailable(),k.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===k.stencil||k.stencil),this.framebuffer=J.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=J.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var ne=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=ne,this.draw(function(){return N.target.clear()})}return u(B,[{key:"resize",value:function(j,N){this._autoSized=!1;var k=this.target._renderer._adjustDimensions(j,N);N=k.adjustedHeight,this.width=j=k.adjustedWidth,this.height=N,this._handleResize()}},{key:"pixelDensity",value:function(j){if(!j)return this.density;this._autoSized=!1,this.density=j,this._handleResize()}},{key:"autoSized",value:function(j){if(void 0===j)return this._autoSized;this._autoSized=j,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var j=this.gl;(this.useDepth&&this.target.webglVersion===y.WEBGL&&!j.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===y.WEBGL&&this.depthFormat===y.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=y.UNSIGNED_INT),[y.UNSIGNED_BYTE,y.FLOAT,y.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.useDepth&&![y.UNSIGNED_INT,y.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=y.FLOAT),j=(0,C.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==y.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.useDepth&&!j.float&&this.depthFormat===y.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=y.UNSIGNED_INT),j.halfFloat||this.format!==y.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.channels===y.RGB&&[y.FLOAT,y.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=y.RGBA)}},{key:"_recreateTextures",value:function(){var j=this.gl,N=(this._updateSize(),j.getParameter(j.TEXTURE_BINDING_2D)),k=j.getParameter(j.FRAMEBUFFER_BINDING);if(!(J=j.createTexture()))throw new Error("Unable to create color texture");j.bindTexture(j.TEXTURE_2D,J);var ne=this._glColorFormat();if(j.texImage2D(j.TEXTURE_2D,0,ne.internalFormat,this.width*this.density,this.height*this.density,0,ne.format,ne.type,null),this.colorTexture=J,j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,J,0),this.useDepth){var J;if(!(J=j.createTexture()))throw new Error("Unable to create depth texture");var z=this._glDepthFormat();j.bindTexture(j.TEXTURE_2D,J),j.texImage2D(j.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),j.framebufferTexture2D(j.FRAMEBUFFER,this.useStencil?j.DEPTH_STENCIL_ATTACHMENT:j.DEPTH_ATTACHMENT,j.TEXTURE_2D,J,0),this.depthTexture=J}this.antialias&&(this.colorRenderbuffer=j.createRenderbuffer(),j.bindRenderbuffer(j.RENDERBUFFER,this.colorRenderbuffer),j.renderbufferStorageMultisample(j.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,j.getParameter(j.MAX_SAMPLES))),ne.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(z=this._glDepthFormat(),this.depthRenderbuffer=j.createRenderbuffer(),j.bindRenderbuffer(j.RENDERBUFFER,this.depthRenderbuffer),j.renderbufferStorageMultisample(j.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,j.getParameter(j.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density)),j.bindFramebuffer(j.FRAMEBUFFER,this.aaFramebuffer),j.framebufferRenderbuffer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&j.framebufferRenderbuffer(j.FRAMEBUFFER,this.useStencil?j.DEPTH_STENCIL_ATTACHMENT:j.DEPTH_ATTACHMENT,j.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new E(this,"depthTexture"),this.depthP5Texture=new g.default.Texture(this.target._renderer,this.depth,{minFilter:J=j.NEAREST,magFilter:J}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new E(this,"colorTexture"),this.colorP5Texture=new g.default.Texture(this.target._renderer,this.color,{minFilter:ne=this.textureFiltering===y.LINEAR?j.LINEAR:j.NEAREST,magFilter:ne}),this.target._renderer.textures.set(this.color,this.colorP5Texture),j.bindTexture(j.TEXTURE_2D,N),j.bindFramebuffer(j.FRAMEBUFFER,k)}},{key:"_glColorFormat",value:function(){var j,N,k=this.gl,J=this.format===y.FLOAT?k.FLOAT:this.format===y.HALF_FLOAT?this.target.webglVersion===y.WEBGL2?k.HALF_FLOAT:k.getExtension("OES_texture_half_float").HALF_FLOAT_OES:k.UNSIGNED_BYTE,ne=this.channels===y.RGBA?k.RGBA:k.RGB;return{internalFormat:this.target.webglVersion===y.WEBGL2?(a(N={},k.FLOAT,a({},k.RGBA,k.RGBA32F)),a(N,k.HALF_FLOAT,a({},k.RGBA,k.RGBA16F)),a(N,k.UNSIGNED_BYTE,(a(j={},k.RGBA,k.RGBA8),a(j,k.RGB,k.RGB8),j)),N[J][ne]):this.format===y.HALF_FLOAT?k.RGBA:ne,format:ne,type:J}}},{key:"_glDepthFormat",value:function(){var k=this.gl,j=this.useStencil?this.depthFormat===y.FLOAT?k.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===y.WEBGL2?k.UNSIGNED_INT_24_8:k.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===y.FLOAT?k.FLOAT:k.UNSIGNED_INT,N=this.useStencil?k.DEPTH_STENCIL:k.DEPTH_COMPONENT;return{internalFormat:k=this.useStencil?this.depthFormat===y.FLOAT?k.DEPTH32F_STENCIL8:this.target.webglVersion===y.WEBGL2?k.DEPTH24_STENCIL8:k.DEPTH_STENCIL:this.target.webglVersion===y.WEBGL2?this.depthFormat===y.FLOAT?k.DEPTH_COMPONENT32F:k.DEPTH_COMPONENT24:k.DEPTH_COMPONENT,format:N,type:j}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var j=this.depth,N=this.colorRenderbuffer,k=this.depthRenderbuffer,J=(this._deleteTexture(J=this.color),j&&this._deleteTexture(j),this.gl);N&&J.deleteRenderbuffer(N),k&&J.deleteRenderbuffer(k),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var j=new R(this);return j._computeCameraDefaultSettings(),j._setDefaultCamera(),this.target._renderer._curCamera=j}},{key:"_deleteTexture",value:function(j){this.gl.deleteTexture(j.rawTexture()),this.target._renderer.textures.delete(j)}},{key:"remove",value:function(){var j=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),j.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&j.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&j.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&j.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var j=this.gl;j.bindFramebuffer(j.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var j=this.gl,N=(j.bindFramebuffer(j.READ_FRAMEBUFFER,this.aaFramebuffer),j.bindFramebuffer(j.DRAW_FRAMEBUFFER,this.framebuffer),[[j.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&N.push([j.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var k=0,J=N;k<J.length;k++){var z=l(J[k],2);j.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,z[0],z=z[1])}}}},{key:"end",value:function(){var j=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(j.bindFramebuffer(j.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(j){this.begin(),j(),this.end()}},{key:"loadPixels",value:function(){var j=this.gl,N=this.target._renderer.activeFramebuffer(),k=(j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,_.readPixelsWebGL)(this.pixels,j,this.framebuffer,0,0,this.width*this.density,this.height*this.density,k.format,k.type),j.bindFramebuffer(j.FRAMEBUFFER,N?N._framebufferToBind():null)}},{key:"get",value:function(j,N,k,J){g.default._validateParameters("p5.Framebuffer.get",arguments);var ne=this._glColorFormat();if(void 0===j&&void 0===N)N=j=0,k=this.width,J=this.height;else if(void 0===k&&void 0===J)return(j<0||N<0||j>=this.width||N>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),j=this.target.constrain(j,0,this.width-1),N=this.target.constrain(N,0,this.height-1)),(0,_.readPixelWebGL)(this.gl,this.framebuffer,j*this.density,N*this.density,ne.format,ne.type);j=this.target.constrain(j,0,this.width-1),N=this.target.constrain(N,0,this.height-1),k=this.target.constrain(k,1,this.width-j),J=this.target.constrain(J,1,this.height-N);for(var z=(0,_.readPixelsWebGL)(void 0,this.gl,this.framebuffer,j*this.density,N*this.density,k*this.density,J*this.density,ne.format,ne.type),ee=new Uint8ClampedArray(k*J*this.density*this.density*4),H=(ee.fill(255),ne.type===this.gl.RGB?3:4),G=0;G<J*this.density;G++)for(var K=0;K<k*this.density;K++)for(var le=0;le<4;le++){var Y=4*(G*k*this.density+K)+le;le<H&&(ee[Y]=z[4==H?Y:(G*k*this.density+K)*H+le])}return(j=new g.default.Image(k*this.density,J*this.density)).imageData=j.canvas.getContext("2d").createImageData(j.width,j.height),j.imageData.data.set(ee),j.pixels=j.imageData.data,j.updatePixels(),1!==this.density&&j.resize(k,J),j}},{key:"updatePixels",value:function(){var j=this.gl,N=(this.colorP5Texture.bindTexture(),this._glColorFormat()),k=this.width*this.height*this.density*this.density*(k=N.format===j.RGBA?4:3),J=N.type===j.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof J)||this.pixels.length!==k)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");j.texImage2D(j.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,this.pixels),this.colorP5Texture.unbindTexture(),J=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(j.clearDepth(1),j.clear(j.DEPTH_BUFFER_BIT)),this.end()):(j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),this.useDepth&&(j.clearDepth(1),j.clear(j.DEPTH_BUFFER_BIT)),j.bindFramebuffer(j.FRAMEBUFFER,J?J._framebufferToBind():null))}}]),B}());A=g.default.Framebuffer=M,$.default=A},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(o,ie,$){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(d)}function b(d){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(a=o("../core/main"))&&a.__esModule?a:{default:a},y=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==b(d)&&"function"!=typeof d)return{default:d};var c=C();if(c&&c.has(d))return c.get(d);var u,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in d){var m;Object.prototype.hasOwnProperty.call(d,u)&&((m=p?Object.getOwnPropertyDescriptor(d,u):null)&&(m.get||m.set)?Object.defineProperty(h,u,m):h[u]=d[u])}return h.default=d,c&&c.set(d,h),h}(o("../core/constants"));function C(){var d;return"function"!=typeof WeakMap?null:(C=function(){return d},d=new WeakMap)}function _(d){return function(c){if(Array.isArray(c)){for(var u=0,h=new Array(c.length);u<c.length;u++)h[u]=c[u];return h}}(d)||function(c){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c))return Array.from(c)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(d,c){return function(u){if(Array.isArray(u))return u}(d)||function(u,h){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u)){var p=[],m=!0,w=!1,R=void 0;try{for(var E,M=u[Symbol.iterator]();!(m=(E=M.next()).done)&&(p.push(E.value),!h||p.length!==h);m=!0);}catch(A){w=!0,R=A}finally{try{m||null==M.return||M.return()}finally{if(w)throw R}}return p}}(d,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(d,c){for(var u=0;u<c.length;u++){var h=c[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}g.default.Geometry=function(){function d(p,m,w){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new g.default.DataArray,this.lineTangentsIn=new g.default.DataArray,this.lineTangentsOut=new g.default.DataArray,this.lineSides=new g.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new g.default.DataArray,this.detailX=void 0!==p?p:1,this.detailY=void 0!==m?m:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,w instanceof Function&&w.call(this)}var c,u;return c=d,(u=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var p=new g.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),m=new g.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),w=0;w<this.vertices.length;w++){var R=this.vertices[w];p.x=Math.min(p.x,R.x),p.y=Math.min(p.y,R.y),p.z=Math.min(p.z,R.z),m.x=Math.max(m.x,R.x),m.y=Math.max(m.y,R.y),m.z=Math.max(m.z,R.z)}var E=new g.default.Vector(m.x-p.x,m.y-p.y,m.z-p.z),M=new g.default.Vector((p.x+m.x)/2,(p.y+m.y)/2,(p.z+m.z)/2);this.boundingBoxCache={min:p,max:m,size:E,offset:M}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var p=0;p<this.vertexColors.length;p+=4)if(this.vertexColors[p+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var p=0;p<this.lineVertexColors.length;p+=4)if(this.lineVertexColors[p+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var p=this,m=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.obj",w="";if(this.vertices.forEach(function(M){w+="v ".concat(M.x," ").concat(M.y," ").concat(M.z,"\n")}),this.uvs&&0<this.uvs.length)for(var R=0;R<this.uvs.length;R+=2)w+="vt ".concat(this.uvs[R]," ").concat(this.uvs[R+1],"\n");this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(M){w+="vn ".concat(M.x," ").concat(M.y," ").concat(M.z,"\n")}),this.faces.forEach(function(M){var A="f";M.forEach(function(B){A=A+" "+(B+1),(0<p.vertexNormals.length||0<p.uvs.length)&&(A+="/",0<p.uvs.length&&(A+=B+1),A+="/",0<p.vertexNormals.length&&(A+=B+1))}),w+=A+"\n"});var E=new Blob([w],{type:"text/plain"});g.default.prototype.downloadFile(E,m,"obj")}},{key:"saveStl",value:function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.stl",m=void 0!==(m=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).binary)&&m,w=p.substring(0,p.lastIndexOf(".")),R=[],E=!0,M=!1,A=void 0;try{for(var B,j=this.faces[Symbol.iterator]();!(E=(B=j.next()).done);E=!0){var N=B.value,k=g.default.Vector.sub(this.vertices[N[1]],this.vertices[N[0]]),J=g.default.Vector.sub(this.vertices[N[2]],this.vertices[N[0]]);R.push(new g.default.Vector(k.y*J.z-k.z*J.y,k.z*J.x-k.x*J.z,k.x*J.y-k.y*J.x).normalize())}}catch(Ct){M=!0,A=Ct}finally{try{E||null==j.return||j.return()}finally{if(M)throw A}}if(m){var H,G=80;M=2*this.faces.length+3*this.faces.length*4*4+80+4,A=new ArrayBuffer(M),(H=new DataView(A)).setUint32(G,this.faces.length,!0),G+=4;for(var K=0,le=Object.entries(this.faces);K<le.length;K++){var P=(Oe=s(le[K],2))[0],Oe=Oe[1],Y=(H.setFloat32(G,(P=R[P]).x,!0),H.setFloat32(G+=4,P.y,!0),H.setFloat32(G+=4,P.z,!0),G+=4,!0),re=void(P=!1);try{for(var ge,Te=Oe[Symbol.iterator]();!(Y=(ge=Te.next()).done);Y=!0){var qe=this.vertices[ge.value];H.setFloat32(G,qe.x,!0),H.setFloat32(G+=4,qe.y,!0),H.setFloat32(G+=4,qe.z,!0),G+=4}}catch($t){P=!0,re=$t}finally{try{Y||null==Te.return||Te.return()}finally{if(P)throw re}}H.setUint16(G,0,!0),G+=2}}else{H="solid "+w+"\n";for(var ht=0,ze=Object.entries(this.faces);ht<ze.length;ht++){var Be=(st=s(ze[ht],2))[0],st=st[1],lt=(H=H+" facet norm "+(Be=R[Be]).x+" "+Be.y+" "+Be.z+"\n  outer loop\n",!0),Qe=void(Be=!1);try{for(var Je,ot=st[Symbol.iterator]();!(lt=(Je=ot.next()).done);lt=!0){var yt=this.vertices[Je.value];H+="   vertex "+yt.x+" "+yt.y+" "+yt.z+"\n"}}catch(Ct){Be=!0,Qe=Ct}finally{try{lt||null==ot.return||ot.return()}finally{if(Be)throw Qe}}H+="  endloop\n endfacet\n"}H+="endsolid "+w+"\n"}m=new Blob([H],{type:"text/plain"}),g.default.prototype.downloadFile(m,p,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(p,m){return m%2==0?1-p:p})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(p,m){return m%2==0?p:1-p})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var p,m,w,R=this.detailX+1,E=0;E<this.detailY;E++)for(var M=0;M<this.detailX;M++)m=(E+1)*R+M+1,this.faces.push([E*R+M,p=E*R+M+1,w=(E+1)*R+M]),this.faces.push([w,p,m]);return this}},{key:"_getFaceNormal",value:function(m){var w=this.vertices[(m=this.faces[m])[0]],E=this.vertices[m[1]],R=(m=this.vertices[m[2]],E=g.default.Vector.sub(E,w),m=g.default.Vector.sub(m,w),w=g.default.Vector.cross(E,m),g.default.Vector.mag(w));return 0==(E=R/(g.default.Vector.mag(E)*g.default.Vector.mag(m)))||isNaN(E)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),w):(1<E&&(E=1),w.mult(Math.asin(E)/R))}},{key:"computeNormals",value:function(){var p,m=this,R=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,E=this.vertexNormals,M=this.vertices,A=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:y.FLAT)===y.SMOOTH){for(var B={},j=[],N=Math.pow(10,void 0===R?3:R),k=function(H){return Math.round(H*N)/N},J=function(H){return"".concat(k(H.x),",").concat(k(H.y),",").concat(k(H.z))},ne=0;ne<M.length;ne++){var z=M[ne],ee=J(z);void 0===B[ee]&&(B[ee]=j.length,j.push(z))}A.forEach(function(H){for(var G=0;G<3;++G){var K=J(K=M[K=H[G]]);H[G]=B[K]}}),this.edges.forEach(function(H){for(var G=0;G<2;++G){var K=J(K=M[K=H[G]]);H[G]=B[K]}}),this.vertices=M=j}for(p=E.length=0;p<M.length;++p)E.push(new g.default.Vector);for(A.forEach(function(H,G){for(var K=m._getFaceNormal(G),le=0;le<3;++le)E[H[le]].add(K)}),p=0;p<M.length;++p)E[p].normalize();return this}},{key:"averageNormals",value:function(){for(var p=0;p<=this.detailY;p++){var m=this.detailX+1,w=g.default.Vector.add(this.vertexNormals[p*m],this.vertexNormals[p*m+this.detailX]);w=g.default.Vector.div(w,2),this.vertexNormals[p*m]=w,this.vertexNormals[p*m+this.detailX]=w}return this}},{key:"averagePoleNormals",value:function(){for(var p=new g.default.Vector(0,0,0),m=0;m<this.detailX;m++)p.add(this.vertexNormals[m]);p=g.default.Vector.div(p,this.detailX);for(var w=0;w<this.detailX;w++)this.vertexNormals[w]=p;p=new g.default.Vector(0,0,0);for(var R=this.vertices.length-1;R>this.vertices.length-1-this.detailX;R--)p.add(this.vertexNormals[R]);p=g.default.Vector.div(p,this.detailX);for(var E=this.vertices.length-1;E>this.vertices.length-1-this.detailX;E--)this.vertexNormals[E]=p;return this}},{key:"_makeTriangleEdges",value:function(){for(var p=this.edges.length=0;p<this.faces.length;p++)this.edges.push([this.faces[p][0],this.faces[p][1]]),this.edges.push([this.faces[p][1],this.faces[p][2]]),this.edges.push([this.faces[p][2],this.faces[p][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var p,m=new Map,w=new Set,R=0;R<this.edges.length;R++){var E,M=this.edges[R-1],A=this.edges[R],B=this.vertices[A[0]],j=this.vertices[A[1]],N=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*A[0],4*(A[0]+1)):[0,0,0,0],k=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*A[1],4*(A[1]+1)):[0,0,0,0],J=j.copy().sub(B).normalize(),ne=0<J.magSq();ne&&this._addSegment(B,j,N,k,J),0<R&&M[1]===A[0]?w.has(A[0])||(w.add(A[0]),m.delete(A[0]),p&&ne&&J.dot(p)<1-1e-8&&this._addJoin(B,p,J,N)):(ne&&!w.has(A[0])&&((E=m.get(A[0]))?(this._addJoin(B,E.dir,J,N),m.delete(A[0]),w.add(A[0])):m.set(A[0],{point:B,dir:J.copy().mult(-1),color:N})),p&&!w.has(M[1])&&((E=m.get(M[1]))?(this._addJoin(this.vertices[M[1]],p,E.dir.copy().mult(-1),N),m.delete(M[1]),w.add(M[1])):m.set(M[1],{point:this.vertices[M[1]],dir:p,color:N}),p=void 0)),R!==this.edges.length-1||w.has(A[1])||((B=m.get(A[1]))?(this._addJoin(j,J,B.dir.copy().mult(-1),k),m.delete(A[1]),w.add(A[1])):m.set(A[1],{point:j,dir:J,color:k})),ne&&(p=J)}var z=!0,ee=!1,H=void 0;try{for(var G,K=m.values()[Symbol.iterator]();!(z=(G=K.next()).done);z=!0){var le=G.value;this._addCap(le.point,le.dir,le.color)}}catch(re){ee=!0,H=re}finally{try{z||null==K.return||K.return()}finally{if(ee)throw H}}return this}},{key:"_addSegment",value:function(M,A,w,R,E){M=M.array(),A=A.array();var B=E.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var j=0,N=[this.lineTangentsIn,this.lineTangentsOut];j<N.length;j++)for(var k=N[j],J=0;J<6;J++)k.push.apply(k,_(B));return(E=this.lineVertices).push.apply(E,_(M).concat(_(A),_(M),_(A),_(A),_(M))),(E=this.lineVertexColors).push.apply(E,_(w).concat(_(R),_(w),_(R),_(R),_(w))),this}},{key:"_addCap",value:function(p,m,w){for(var R,E=p.array(),M=m.array(),A=[0,0,0],B=0;B<6;B++)(R=this.lineVertices).push.apply(R,_(E)),(R=this.lineTangentsIn).push.apply(R,_(M)),(R=this.lineTangentsOut).push.apply(R,A),(R=this.lineVertexColors).push.apply(R,_(w));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(p,m,w,R){for(var E,M=p.array(),A=m.array(),B=w.array(),j=0;j<12;j++)(E=this.lineVertices).push.apply(E,_(M)),(E=this.lineTangentsIn).push.apply(E,_(A)),(E=this.lineTangentsOut).push.apply(E,_(B)),(E=this.lineVertexColors).push.apply(E,_(R));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var p=this.vertices[0].copy(),m=this.vertices[0].copy(),w=0;w<this.vertices.length;w++)p.x=Math.max(p.x,this.vertices[w].x),m.x=Math.min(m.x,this.vertices[w].x),p.y=Math.max(p.y,this.vertices[w].y),m.y=Math.min(m.y,this.vertices[w].y),p.z=Math.max(p.z,this.vertices[w].z),m.z=Math.min(m.z,this.vertices[w].z);for(var R=g.default.Vector.lerp(p,m,.5),E=g.default.Vector.sub(p,m),M=200/Math.max(Math.max(E.x,E.y),E.z),A=0;A<this.vertices.length;A++)this.vertices[A].sub(R),this.vertices[A].mult(M)}return this}}])&&l(c.prototype,u),d}();var a=g.default.Geometry;$.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(C,ie,$){"use strict";C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(C=C("../core/main"))&&C.__esModule?C:{default:C};function b(_,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(_,a.key,a)}}var g=Array,y=function(_){return Array.isArray(_)};typeof Float32Array<"u"&&(g=Float32Array,y=function(_){return Array.isArray(_)||_ instanceof Float32Array}),v.default.Matrix=function(){function _(){var d=this,c=_;if(d instanceof c)return arguments.length&&((d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d])instanceof v.default&&(this.p5=(c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new g([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new g([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var s,l,a;return s=_,a=[{key:"identity",value:function(d){return new v.default.Matrix(d)}}],(l=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(d){var c=arguments;if(d instanceof v.default.Matrix?c=d.mat4:y(d)&&(c=d),16!==c.length)v.default._friendlyError("Expected 16 values but received ".concat(c.length,"."),"p5.Matrix.set");else for(var u=0;u<16;u++)this.mat4[u]=c[u];return this}},{key:"get",value:function(){return new v.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var d;return void 0!==this.mat3?((d=new v.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],d.mat3[1]=this.mat3[1],d.mat3[2]=this.mat3[2],d.mat3[3]=this.mat3[3],d.mat3[4]=this.mat3[4],d.mat3[5]=this.mat3[5],d.mat3[6]=this.mat3[6],d.mat3[7]=this.mat3[7],d.mat3[8]=this.mat3[8]):((d=new v.default.Matrix(this.p5)).mat4[0]=this.mat4[0],d.mat4[1]=this.mat4[1],d.mat4[2]=this.mat4[2],d.mat4[3]=this.mat4[3],d.mat4[4]=this.mat4[4],d.mat4[5]=this.mat4[5],d.mat4[6]=this.mat4[6],d.mat4[7]=this.mat4[7],d.mat4[8]=this.mat4[8],d.mat4[9]=this.mat4[9],d.mat4[10]=this.mat4[10],d.mat4[11]=this.mat4[11],d.mat4[12]=this.mat4[12],d.mat4[13]=this.mat4[13],d.mat4[14]=this.mat4[14],d.mat4[15]=this.mat4[15]),d}},{key:"transpose",value:function(d){var c,u,h,p,m,w;return d instanceof v.default.Matrix?(c=d.mat4[1],u=d.mat4[2],h=d.mat4[3],p=d.mat4[6],m=d.mat4[7],w=d.mat4[11],this.mat4[0]=d.mat4[0],this.mat4[1]=d.mat4[4],this.mat4[2]=d.mat4[8],this.mat4[3]=d.mat4[12],this.mat4[4]=c,this.mat4[5]=d.mat4[5],this.mat4[6]=d.mat4[9],this.mat4[7]=d.mat4[13],this.mat4[8]=u,this.mat4[9]=p,this.mat4[10]=d.mat4[10],this.mat4[11]=d.mat4[14],this.mat4[12]=h,this.mat4[13]=m,this.mat4[14]=w,this.mat4[15]=d.mat4[15]):y(d)&&(c=d[1],u=d[2],h=d[3],p=d[6],m=d[7],w=d[11],this.mat4[0]=d[0],this.mat4[1]=d[4],this.mat4[2]=d[8],this.mat4[3]=d[12],this.mat4[4]=c,this.mat4[5]=d[5],this.mat4[6]=d[9],this.mat4[7]=d[13],this.mat4[8]=u,this.mat4[9]=p,this.mat4[10]=d[10],this.mat4[11]=d[14],this.mat4[12]=h,this.mat4[13]=m,this.mat4[14]=w,this.mat4[15]=d[15]),this}},{key:"invert",value:function(z){z instanceof v.default.Matrix?(c=z.mat4[0],u=z.mat4[1],h=z.mat4[2],p=z.mat4[3],m=z.mat4[4],w=z.mat4[5],R=z.mat4[6],E=z.mat4[7],M=z.mat4[8],A=z.mat4[9],B=z.mat4[10],j=z.mat4[11],N=z.mat4[12],k=z.mat4[13],J=z.mat4[14],ne=z.mat4[15]):y(z)&&(c=z[0],u=z[1],h=z[2],p=z[3],m=z[4],w=z[5],R=z[6],E=z[7],M=z[8],A=z[9],B=z[10],j=z[11],N=z[12],k=z[13],J=z[14],ne=z[15]);var c,u,h,p,m,w,R,E,M,A,B,j,N,k,J,ne,ee=c*R-h*m,H=c*E-p*m,G=u*R-h*w,K=u*E-p*w,le=h*E-p*R,Oe=M*k-A*N,Y=M*J-B*N,P=M*ne-j*N,re=A*J-B*k,ge=A*ne-j*k,Te=B*ne-j*J,Ge=(z=c*w-u*m)*Te-ee*ge+H*re+G*P-K*Y+le*Oe;return Ge?(this.mat4[0]=(w*Te-R*ge+E*re)*(Ge=1/Ge),this.mat4[1]=(h*ge-u*Te-p*re)*Ge,this.mat4[2]=(k*le-J*K+ne*G)*Ge,this.mat4[3]=(B*K-A*le-j*G)*Ge,this.mat4[4]=(R*P-m*Te-E*Y)*Ge,this.mat4[5]=(c*Te-h*P+p*Y)*Ge,this.mat4[6]=(J*H-N*le-ne*ee)*Ge,this.mat4[7]=(M*le-B*H+j*ee)*Ge,this.mat4[8]=(m*ge-w*P+E*Oe)*Ge,this.mat4[9]=(u*P-c*ge-p*Oe)*Ge,this.mat4[10]=(N*K-k*H+ne*z)*Ge,this.mat4[11]=(A*H-M*K-j*z)*Ge,this.mat4[12]=(w*Y-m*re-R*Oe)*Ge,this.mat4[13]=(c*re-u*Y+h*Oe)*Ge,this.mat4[14]=(k*ee-N*G-J*z)*Ge,this.mat4[15]=(M*G-A*ee+B*z)*Ge,this):null}},{key:"invert3x3",value:function(){var d=this.mat3[0],c=this.mat3[1],u=this.mat3[2],h=this.mat3[3],p=this.mat3[4],m=this.mat3[5],w=this.mat3[6],R=this.mat3[7],E=this.mat3[8],M=E*p-m*R,A=-E*h+m*w,B=R*h-p*w,j=d*M+c*A+u*B;return j?(this.mat3[0]=M*(j=1/j),this.mat3[1]=(-E*c+u*R)*j,this.mat3[2]=(m*c-u*p)*j,this.mat3[3]=A*j,this.mat3[4]=(E*d-u*w)*j,this.mat3[5]=(-m*d+u*h)*j,this.mat3[6]=B*j,this.mat3[7]=(-R*d+c*w)*j,this.mat3[8]=(p*d-c*h)*j,this):null}},{key:"transpose3x3",value:function(d){var c=(d=void 0===d?this.mat3:d)[1],u=d[2],h=d[5];return this.mat3[0]=d[0],this.mat3[1]=d[3],this.mat3[2]=d[6],this.mat3[3]=c,this.mat3[4]=d[4],this.mat3[5]=d[7],this.mat3[6]=u,this.mat3[7]=h,this.mat3[8]=d[8],this}},{key:"inverseTranspose",value:function(d){if(d=d.mat4,void 0===this.mat3?v.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=d[0],this.mat3[1]=d[1],this.mat3[2]=d[2],this.mat3[3]=d[4],this.mat3[4]=d[5],this.mat3[5]=d[6],this.mat3[6]=d[8],this.mat3[7]=d[9],this.mat3[8]=d[10]),d=this.invert3x3())d.transpose3x3(this.mat3);else for(var c=0;c<9;c++)this.mat3[c]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(u){var c;if(u===this||u===this.mat4)c=this.copy().mat4;else if(u instanceof v.default.Matrix)c=u.mat4;else if(y(u))c=u;else{if(16!==arguments.length)return;c=arguments}var h=this.mat4[1],p=this.mat4[2],m=this.mat4[3];return this.mat4[0]=(u=this.mat4[0])*c[0]+h*c[4]+p*c[8]+m*c[12],this.mat4[1]=u*c[1]+h*c[5]+p*c[9]+m*c[13],this.mat4[2]=u*c[2]+h*c[6]+p*c[10]+m*c[14],this.mat4[3]=u*c[3]+h*c[7]+p*c[11]+m*c[15],this.mat4[4]=(u=this.mat4[4])*c[0]+(h=this.mat4[5])*c[4]+(p=this.mat4[6])*c[8]+(m=this.mat4[7])*c[12],this.mat4[5]=u*c[1]+h*c[5]+p*c[9]+m*c[13],this.mat4[6]=u*c[2]+h*c[6]+p*c[10]+m*c[14],this.mat4[7]=u*c[3]+h*c[7]+p*c[11]+m*c[15],this.mat4[8]=(u=this.mat4[8])*c[0]+(h=this.mat4[9])*c[4]+(p=this.mat4[10])*c[8]+(m=this.mat4[11])*c[12],this.mat4[9]=u*c[1]+h*c[5]+p*c[9]+m*c[13],this.mat4[10]=u*c[2]+h*c[6]+p*c[10]+m*c[14],this.mat4[11]=u*c[3]+h*c[7]+p*c[11]+m*c[15],this.mat4[12]=(u=this.mat4[12])*c[0]+(h=this.mat4[13])*c[4]+(p=this.mat4[14])*c[8]+(m=this.mat4[15])*c[12],this.mat4[13]=u*c[1]+h*c[5]+p*c[9]+m*c[13],this.mat4[14]=u*c[2]+h*c[6]+p*c[10]+m*c[14],this.mat4[15]=u*c[3]+h*c[7]+p*c[11]+m*c[15],this}},{key:"apply",value:function(u){var c;if(u===this||u===this.mat4)c=this.copy().mat4;else if(u instanceof v.default.Matrix)c=u.mat4;else if(y(u))c=u;else{if(16!==arguments.length)return;c=arguments}var p,m,w,h=((u=this.mat4)[0]=c[0]*(h=u[0])+c[1]*(p=u[4])+c[2]*(m=u[8])+c[3]*(w=u[12]),u[4]=c[4]*h+c[5]*p+c[6]*m+c[7]*w,u[8]=c[8]*h+c[9]*p+c[10]*m+c[11]*w,u[12]=c[12]*h+c[13]*p+c[14]*m+c[15]*w,u[1]);return u[1]=c[0]*h+c[1]*(p=u[5])+c[2]*(m=u[9])+c[3]*(w=u[13]),u[5]=c[4]*h+c[5]*p+c[6]*m+c[7]*w,u[9]=c[8]*h+c[9]*p+c[10]*m+c[11]*w,u[13]=c[12]*h+c[13]*p+c[14]*m+c[15]*w,u[2]=c[0]*(h=u[2])+c[1]*(p=u[6])+c[2]*(m=u[10])+c[3]*(w=u[14]),u[6]=c[4]*h+c[5]*p+c[6]*m+c[7]*w,u[10]=c[8]*h+c[9]*p+c[10]*m+c[11]*w,u[14]=c[12]*h+c[13]*p+c[14]*m+c[15]*w,u[3]=c[0]*(h=u[3])+c[1]*(p=u[7])+c[2]*(m=u[11])+c[3]*(w=u[15]),u[7]=c[4]*h+c[5]*p+c[6]*m+c[7]*w,u[11]=c[8]*h+c[9]*p+c[10]*m+c[11]*w,u[15]=c[12]*h+c[13]*p+c[14]*m+c[15]*w,this}},{key:"scale",value:function(d,c,u){return d instanceof v.default.Vector?(c=d.y,u=d.z,d=d.x):d instanceof Array&&(c=d[1],u=d[2],d=d[0]),this.mat4[0]*=d,this.mat4[1]*=d,this.mat4[2]*=d,this.mat4[3]*=d,this.mat4[4]*=c,this.mat4[5]*=c,this.mat4[6]*=c,this.mat4[7]*=c,this.mat4[8]*=u,this.mat4[9]*=u,this.mat4[10]*=u,this.mat4[11]*=u,this}},{key:"rotate",value:function(z,ge,re,h){ge instanceof v.default.Vector?(re=ge.y,h=ge.z,ge=ge.x):ge instanceof Array&&(re=ge[1],h=ge[2],ge=ge[0]);var p=(ge*=1/(p=Math.sqrt(ge*ge+re*re+h*h)),re*=1/p,h*=1/p,this.mat4[0]),m=this.mat4[1],w=this.mat4[2],R=this.mat4[3],E=this.mat4[4],M=this.mat4[5],A=this.mat4[6],B=this.mat4[7],j=this.mat4[8],N=this.mat4[9],k=this.mat4[10],J=this.mat4[11],ne=Math.sin(z),ee=1-(z=Math.cos(z)),H=ge*ge*ee+z,G=re*ge*ee+h*ne,K=h*ge*ee-re*ne,le=ge*re*ee-h*ne,Oe=re*re*ee+z,Y=h*re*ee+ge*ne,P=ge*h*ee+re*ne;return re=re*h*ee-ge*ne,ge=h*h*ee+z,this.mat4[0]=p*H+E*G+j*K,this.mat4[1]=m*H+M*G+N*K,this.mat4[2]=w*H+A*G+k*K,this.mat4[3]=R*H+B*G+J*K,this.mat4[4]=p*le+E*Oe+j*Y,this.mat4[5]=m*le+M*Oe+N*Y,this.mat4[6]=w*le+A*Oe+k*Y,this.mat4[7]=R*le+B*Oe+J*Y,this.mat4[8]=p*P+E*re+j*ge,this.mat4[9]=m*P+M*re+N*ge,this.mat4[10]=w*P+A*re+k*ge,this.mat4[11]=R*P+B*re+J*ge,this}},{key:"translate",value:function(h){var c=h[0],u=h[1];this.mat4[12]+=this.mat4[0]*c+this.mat4[4]*u+this.mat4[8]*(h=h[2]||0),this.mat4[13]+=this.mat4[1]*c+this.mat4[5]*u+this.mat4[9]*h,this.mat4[14]+=this.mat4[2]*c+this.mat4[6]*u+this.mat4[10]*h,this.mat4[15]+=this.mat4[3]*c+this.mat4[7]*u+this.mat4[11]*h}},{key:"rotateX",value:function(d){this.rotate(d,1,0,0)}},{key:"rotateY",value:function(d){this.rotate(d,0,1,0)}},{key:"rotateZ",value:function(d){this.rotate(d,0,0,1)}},{key:"perspective",value:function(p,c,u,h){p=1/Math.tan(p/2);var m=1/(u-h);return this.mat4[0]=p/c,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(h+u)*m,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*h*u*m,this.mat4[15]=0,this}},{key:"ortho",value:function(d,c,u,h,p,m){var w=1/(d-c),R=1/(u-h),E=1/(p-m);return this.mat4[0]=-2*w,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*R,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*E,this.mat4[11]=0,this.mat4[12]=(d+c)*w,this.mat4[13]=(h+u)*R,this.mat4[14]=(m+p)*E,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(d,c,u,h){var p=new Array(4),m=this.mat4;return p[0]=m[0]*d+m[4]*c+m[8]*u+m[12]*h,p[1]=m[1]*d+m[5]*c+m[9]*u+m[13]*h,p[2]=m[2]*d+m[6]*c+m[10]*u+m[14]*h,p[3]=m[3]*d+m[7]*c+m[11]*u+m[15]*h,p}},{key:"multiplyPoint",value:function(u){var h=this.multiplyVec4(h=u.x,u.y,u=u.z,1);return new v.default.Vector(h[0],h[1],h[2])}},{key:"multiplyAndNormalizePoint",value:function(u){var h;return(h=this.multiplyVec4(h=u.x,u.y,u=u.z,1))[0]/=h[3],h[1]/=h[3],h[2]/=h[3],new v.default.Vector(h[0],h[1],h[2])}},{key:"multiplyDirection",value:function(u){var h=this.multiplyVec4(h=u.x,u.y,u=u.z,0);return new v.default.Vector(h[0],h[1],h[2])}},{key:"mult3x3",value:function(u){var c;if(u===this||u===this.mat3)c=this.copy().mat3;else if(u instanceof v.default.Matrix)c=u.mat3;else if(y(u))c=u;else{if(9!==arguments.length)return;c=arguments}var h=this.mat3[1],p=this.mat3[2];return this.mat3[0]=(u=this.mat3[0])*c[0]+h*c[3]+p*c[6],this.mat3[1]=u*c[1]+h*c[4]+p*c[7],this.mat3[2]=u*c[2]+h*c[5]+p*c[8],this.mat3[3]=(u=this.mat3[3])*c[0]+(h=this.mat3[4])*c[3]+(p=this.mat3[5])*c[6],this.mat3[4]=u*c[1]+h*c[4]+p*c[7],this.mat3[5]=u*c[2]+h*c[5]+p*c[8],this.mat3[6]=(u=this.mat3[6])*c[0]+(h=this.mat3[7])*c[3]+(p=this.mat3[8])*c[6],this.mat3[7]=u*c[1]+h*c[4]+p*c[7],this.mat3[8]=u*c[2]+h*c[5]+p*c[8],this}},{key:"column",value:function(d){return new v.default.Vector(this.mat3[3*d],this.mat3[3*d+1],this.mat3[3*d+2])}},{key:"row",value:function(d){return new v.default.Vector(this.mat3[d],this.mat3[d+3],this.mat3[d+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(d,c){return(c=void 0===c?d.copy():c).x=this.row(0).dot(d),c.y=this.row(1).dot(d),c.z=this.row(2).dot(d),c}},{key:"createSubMatrix3x3",value:function(){var d=new v.default.Matrix("mat3");return d.mat3[0]=this.mat4[0],d.mat3[1]=this.mat4[1],d.mat3[2]=this.mat4[2],d.mat3[3]=this.mat4[4],d.mat3[4]=this.mat4[5],d.mat3[5]=this.mat4[6],d.mat3[6]=this.mat4[8],d.mat3[7]=this.mat4[9],d.mat3[8]=this.mat4[10],d}}])&&b(s.prototype,l),a&&b(s,a),_}(),$.default=C=v.default.Matrix},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(o,ie,$){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g,y){for(var C=0;C<y.length;C++){var _=y[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}v.default.Quat=function(){function g(s,l,a,d){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.w=s,this.vec=new v.default.Vector(l,a,d)}var y,C,_;return y=g,_=[{key:"fromAxisAngle",value:function(s,u,a,d){var c=Math.cos(s/2);return u=new v.default.Vector(u,a,d).normalize().mult(Math.sin(s/2)),new v.default.Quat(c,u.x,u.y,u.z)}}],(C=[{key:"conjugate",value:function(){return new v.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(s){return new v.default.Quat(this.w*s.w-this.vec.x*s.vec.x-this.vec.y*s.vec.y-this.vec.z-s.vec.z,this.w*s.vec.x+this.vec.x*s.w+this.vec.y*s.vec.z-this.vec.z*s.vec.y,this.w*s.vec.y-this.vec.x*s.vec.z+this.vec.y*s.w+this.vec.z*s.vec.x,this.w*s.vec.z+this.vec.x*s.vec.y-this.vec.y*s.vec.x+this.vec.z*s.w)}},{key:"rotateVector",value:function(s){return new v.default.Vector.mult(s,this.w*this.w-this.vec.dot(this.vec)).add(v.default.Vector.mult(this.vec,2*s.dot(this.vec))).add(v.default.Vector.mult(this.vec,2*this.w).cross(s)).clampToZero()}},{key:"rotateBy",value:function(s){return s.multiply(this).multiply(s.conjugate()).vec.clampToZero()}}])&&b(y.prototype,C),_&&b(y,_),g}(),$.default=o=v.default.Quat},{"../core/main":283}],338:[function(o,ie,$){"use strict";function v(b,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}o("core-js/modules/es.array.map"),o("core-js/modules/es.array.map"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.RenderBuffer=function(){function b(_,s,l,a,d,c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.size=_,this.src=s,this.dst=l,this.attr=a,this._renderer=d,this.map=c}var g,y;return g=b,(y=[{key:"_prepareBuffer",value:function(_,s){var l,a,d,h,c=this._renderer.GL,u=_.model||_;(h=(h=s.attributes)[this.attr])&&(l=_[this.dst],0<(a=u[this.src]).length?((d=!l)&&(_[this.dst]=l=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,l),!d&&!1===u.dirtyFlags[this.src]||(d=(_=this.map)?_(a):a,this._renderer._bindBuffer(l,c.ARRAY_BUFFER,d),u.dirtyFlags[this.src]=!1),s.enableAttrib(h,this.size)):-1!==(_=h.location)&&this._renderer.registerEnabled.has(_)&&(c.disableVertexAttribArray(_),this._renderer.registerEnabled.delete(_)))}}])&&v(g.prototype,y),b}(),$.default=o=o.default.RenderBuffer},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(o,ie,$){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(l=o("../core/main"))&&l.__esModule?l:{default:l},y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var d=C();if(d&&d.has(a))return d.get(a);var c,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var p;Object.prototype.hasOwnProperty.call(a,c)&&((p=h?Object.getOwnPropertyDescriptor(a,c):null)&&(p.get||p.set)?Object.defineProperty(u,c,p):u[c]=a[c])}return u.default=a,d&&d.set(a,u),u}(o("../core/constants"));function C(){var a;return"function"!=typeof WeakMap?null:(C=function(){return a},a=new WeakMap)}function _(a){return function(d){if(Array.isArray(d)){for(var c=0,u=new Array(d.length);c<d.length;c++)u[c]=d[c];return u}}(a)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o("./p5.RenderBuffer"),g.default.RendererGL.prototype.beginShape=function(a){return this.immediateMode.shapeMode=void 0!==a?a:y.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var s={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},l=(g.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==y.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},g.default.RendererGL.prototype.vertex=function(a,d){if(this.immediateMode.shapeMode===y.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var c in s){var u=s[c];(c=this.immediateMode.geometry[c]).push.apply(c,_(c.slice(c.length-3*u,c.length-2*u)).concat(_(c.slice(c.length-u,c.length))))}var h,p,m=h=p=0,w=(3===arguments.length?m=arguments[2]:4===arguments.length?(h=arguments[2],p=arguments[3]):5===arguments.length&&(m=arguments[2],h=arguments[3],p=arguments[4]),new g.default.Vector(a,d,m));return this.immediateMode.geometry.vertices.push(w),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((w=this.curFillColor||[.5,.5,.5,1])[0],w[1],w[2],w[3]),this.immediateMode.geometry.vertexStrokeColors.push((w=this.curStrokeColor||[.5,.5,.5,1])[0],w[1],w[2],w[3]),this.textureMode!==y.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(h/=this._tex.width,p/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(h,p),this.immediateMode._bezierVertex[0]=a,this.immediateMode._bezierVertex[1]=d,this.immediateMode._bezierVertex[2]=m,this.immediateMode._quadraticVertex[0]=a,this.immediateMode._quadraticVertex[1]=d,this.immediateMode._quadraticVertex[2]=m,this},g.default.RendererGL.prototype.normal=function(a,d,c){return this._currentNormal=a instanceof g.default.Vector?a:new g.default.Vector(a,d,c),this},g.default.RendererGL.prototype.endShape=function(a,d,c,u,h,p){var m,w=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===y.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),m=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==y.LINE_STRIP&&this.immediateMode.shapeMode!==y.LINES||(this.immediateMode.shapeMode=y.TRIANGLE_FAN,m=!0),this.immediateMode.shapeMode===y.QUADS?this.immediateMode.shapeMode=y.TRIANGLES:this.immediateMode.shapeMode===y.QUAD_STRIP&&(this.immediateMode.shapeMode=y.TRIANGLE_STRIP),this._doFill&&!m&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(w),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},g.default.RendererGL.prototype._processVertices=function(a){var d;0!==this.immediateMode.geometry.vertices.length&&(a=a===y.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,a),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),d=this.immediateMode.shapeMode===y.TESS,a=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||d||a)&&this.immediateMode.shapeMode!==y.LINES&&this._tesselateShape())},g.default.RendererGL.prototype._calculateEdges=function(a,d,c){var u=[],h=0,p=this.immediateMode.contourIndices.slice(),m=0;switch(a){case y.TRIANGLE_STRIP:for(h=0;h<d.length-2;h++)u.push([h,h+1]),u.push([h,h+2]);u.push([h,h+1]);break;case y.TRIANGLE_FAN:for(h=1;h<d.length-1;h++)u.push([0,h]),u.push([h,h+1]);u.push([0,d.length-1]);break;case y.TRIANGLES:for(h=0;h<d.length-2;h+=3)u.push([h,h+1]),u.push([h+1,h+2]),u.push([h+2,h]);break;case y.LINES:for(h=0;h<d.length-1;h+=2)u.push([h,h+1]);break;case y.QUADS:for(h=0;h<d.length-5;h+=6)u.push([h,h+1]),u.push([h+1,h+2]),u.push([h+3,h+5]),u.push([h+4,h+5]);break;case y.QUAD_STRIP:for(h=0;h<d.length-2;h+=2)u.push([h,h+1]),u.push([h,h+2]),u.push([h+1,h+3]);u.push([h,h+1]);break;default:for(h=0;h<d.length;h++)h+1<d.length&&h+1!==p[0]?u.push([h,h+1]):((c||m)&&u.push([h,m]),0<p.length&&(m=p.shift()))}return a!==y.TESS&&c&&u.push([d.length-1,0]),u},g.default.RendererGL.prototype._tesselateShape=function(){for(var a=this,d=(this.immediateMode.shapeMode=y.TRIANGLES,[[]]),c=0;c<this.immediateMode.geometry.vertices.length;c++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===c&&(this.immediateMode.contourIndices.shift(),d.push([])),d[d.length-1].push(this.immediateMode.geometry.vertices[c].x,this.immediateMode.geometry.vertices[c].y,this.immediateMode.geometry.vertices[c].z,this.immediateMode.geometry.uvs[2*c],this.immediateMode.geometry.uvs[2*c+1],this.immediateMode.geometry.vertexColors[4*c],this.immediateMode.geometry.vertexColors[4*c+1],this.immediateMode.geometry.vertexColors[4*c+2],this.immediateMode.geometry.vertexColors[4*c+3],this.immediateMode.geometry.vertexNormals[c].x,this.immediateMode.geometry.vertexNormals[c].y,this.immediateMode.geometry.vertexNormals[c].z);for(var u,h=this._triangulate(d),p=this.immediateMode.geometry.vertices,m=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),w=0,R=h.length;w<R;w+=g.default.RendererGL.prototype.tessyVertexSize)m.push.apply(m,_(h.slice(w+5,w+9))),this.normal.apply(this,_(h.slice(w+9,w+12))),this.vertex.apply(this,_(h.slice(w,w+5)));this.geometryBuilder&&(u=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(E){return E.map(function(M){if(!u.has(M)){var A=p[M],B=a.immediateMode.geometry.vertices.findIndex(function(ee){return A.x===ee.x&&A.y===ee.y&&A.z===ee.z});if(-1===B){for(var j=1/0,N=0,k=0;k<a.immediateMode.geometry.vertices.length;k++){var ne,z,J=A.y-(ne=a.immediateMode.geometry.vertices[k]).y;(z=(z=A.x-ne.x)*z+J*J+(ne=A.z-ne.z)*ne)<j&&(j=z,N=k)}B=N}u.set(M,B)}return u.get(M)})})),this.immediateMode.geometry.vertexColors=m},g.default.RendererGL.prototype._drawImmediateFill=function(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,c=this.GL,u=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,a=this._getImmediateFillShader(),this._setFillUniforms(a),!0),h=!1,p=void 0;try{for(var m,w=this.immediateMode.buffers.fill[Symbol.iterator]();!(u=(m=w.next()).done);u=!0)m.value._prepareBuffer(this.immediateMode.geometry,a)}catch(R){h=!0,p=R}finally{try{u||null==w.return||w.return()}finally{if(h)throw p}}if(a.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===d)c.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{c.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,d)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}a.unbindShader()},g.default.RendererGL.prototype._drawImmediateStroke=function(){var a=this.GL,d=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),c=(this._setStrokeUniforms(d),!0),u=!1,h=void 0;try{for(var p,m=this.immediateMode.buffers.stroke[Symbol.iterator]();!(c=(p=m.next()).done);c=!0)p.value._prepareBuffer(this.immediateMode.geometry,d)}catch(w){u=!0,h=w}finally{try{c||null==m.return||m.return()}finally{if(u)throw h}}d.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),a.drawArrays(a.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),d.unbindShader()},g.default.RendererGL);$.default=l},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(o,ie,$){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var g=(_=o("../core/main"))&&_.__esModule?_:{default:_},y=(o("./p5.RendererGL"),o("./p5.RenderBuffer"),function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=c?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants")));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}g.default.RendererGL.prototype.freeGeometry=function(s){s.gid?this._freeBuffers(s.gid):console.warn("The model you passed to freeGeometry does not have an id!")},g.default.RendererGL.prototype._initBufferDefaults=function(s){var l;return this._freeBuffers(s),1e3<Object.keys(this.retainedMode.geometry).length&&(l=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(l)),this.retainedMode.geometry[s]={}},g.default.RendererGL.prototype._freeBuffers=function(s){var l,a=this.retainedMode.geometry[s];function d(c){var u=!0,h=!1,p=void 0;try{for(var m,w=c[Symbol.iterator]();!(u=(m=w.next()).done);u=!0){var R=m.value;a[R.dst]&&(l.deleteBuffer(a[R.dst]),a[R.dst]=null)}}catch(E){h=!0,p=E}finally{try{u||null==w.return||w.return()}finally{if(h)throw p}}}a&&(delete this.retainedMode.geometry[s],l=this.GL,a.indexBuffer&&l.deleteBuffer(a.indexBuffer),d(this.retainedMode.buffers.stroke),d(this.retainedMode.buffers.fill))},g.default.RendererGL.prototype.createBuffers=function(h,l){var a,d,c,u=this.GL,p=((h=this._initBufferDefaults(h)).model=l,h.indexBuffer);return l.faces.length?(p=p||(h.indexBuffer=u.createBuffer()),c=(d=(a=g.default.RendererGL.prototype._flatten(l.faces)).some(function(m){return 65535<m}))?Uint32Array:Uint16Array,this._bindBuffer(p,u.ELEMENT_ARRAY_BUFFER,a,c),h.indexBufferType=d?u.UNSIGNED_INT:u.UNSIGNED_SHORT,h.vertexCount=3*l.faces.length):(p&&(u.deleteBuffer(p),h.indexBuffer=null),h.vertexCount=l.vertices?l.vertices.length:0),h.lineVertexCount=l.lineVertices?l.lineVertices.length/3:0,h},g.default.RendererGL.prototype.drawBuffers=function(s){var l=this.GL,a=this.retainedMode.geometry[s];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[s].vertexCount){this._useVertexColor=0<a.model.vertexColors.length;var d=this._getRetainedFillShader(),c=(this._setFillUniforms(d),!0),u=!1,h=void 0;try{for(var p,m=this.retainedMode.buffers.fill[Symbol.iterator]();!(c=(p=m.next()).done);c=!0)p.value._prepareBuffer(a,d)}catch(A){u=!0,h=A}finally{try{c||null==m.return||m.return()}finally{if(u)throw h}}d.disableRemainingAttributes(),a.indexBuffer&&this._bindBuffer(a.indexBuffer,l.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,a.model.hasFillTransparency()),this._drawElements(l.TRIANGLES,s),d.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<a.lineVertexCount){this._useLineColor=0<a.model.vertexStrokeColors.length;var w=this._getRetainedStrokeShader(),R=(this._setStrokeUniforms(w),!0);u=!1,h=void 0;try{for(var E,M=this.retainedMode.buffers.stroke[Symbol.iterator]();!(R=(E=M.next()).done);R=!0)E.value._prepareBuffer(a,w)}catch(j){u=!0,h=j}finally{try{R||null==M.return||M.return()}finally{if(u)throw h}}w.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,a.model.hasStrokeTransparency()),this._drawArrays(l.TRIANGLES,s),w.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(a),this},g.default.RendererGL.prototype.drawBuffersScaled=function(s,l,a,d){var c=this.uModelMatrix.copy();try{this.uModelMatrix.scale(l,a,d),this.drawBuffers(s)}finally{this.uModelMatrix=c}},g.default.RendererGL.prototype._drawArrays=function(s,l){return this.GL.drawArrays(s,0,this.retainedMode.geometry[l].lineVertexCount),this},g.default.RendererGL.prototype._drawElements=function(s,a){var d=this.GL;if((a=this.retainedMode.geometry[a]).indexBuffer){if(this._pInst.webglVersion!==y.WEBGL2&&a.indexBufferType===d.UNSIGNED_INT&&!d.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");d.drawElements(d.TRIANGLES,a.vertexCount,a.indexBufferType,0)}else d.drawArrays(s||d.TRIANGLES,0,a.vertexCount)},g.default.RendererGL.prototype._drawPoints=function(s,l){var a=this.GL,d=this._getImmediatePointShader();this._setPointUniforms(d),this._bindBuffer(l,a.ARRAY_BUFFER,this._vToNArray(s),Float32Array,a.STATIC_DRAW),d.enableAttrib(d.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),a.drawArrays(a.Points,0,s.length),d.unbindShader()};var _=g.default.RendererGL;$.default=_},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(k,ie,$){"use strict";function v(G){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(G)}function b(G){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(K){return v(K)}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":v(K)})(G)}k("core-js/modules/es.symbol"),k("core-js/modules/es.symbol.description"),k("core-js/modules/es.symbol.iterator"),k("core-js/modules/es.array.concat"),k("core-js/modules/es.array.copy-within"),k("core-js/modules/es.array.every"),k("core-js/modules/es.array.fill"),k("core-js/modules/es.array.flat"),k("core-js/modules/es.array.flat-map"),k("core-js/modules/es.array.from"),k("core-js/modules/es.array.includes"),k("core-js/modules/es.array.iterator"),k("core-js/modules/es.array.map"),k("core-js/modules/es.array.slice"),k("core-js/modules/es.array.some"),k("core-js/modules/es.array.unscopables.flat"),k("core-js/modules/es.array.unscopables.flat-map"),k("core-js/modules/es.map"),k("core-js/modules/es.object.assign"),k("core-js/modules/es.object.get-own-property-descriptor"),k("core-js/modules/es.object.get-prototype-of"),k("core-js/modules/es.object.to-string"),k("core-js/modules/es.reflect.construct"),k("core-js/modules/es.reflect.get"),k("core-js/modules/es.regexp.to-string"),k("core-js/modules/es.set"),k("core-js/modules/es.string.includes"),k("core-js/modules/es.string.iterator"),k("core-js/modules/es.typed-array.float32-array"),k("core-js/modules/es.typed-array.float64-array"),k("core-js/modules/es.typed-array.int16-array"),k("core-js/modules/es.typed-array.uint8-array"),k("core-js/modules/es.typed-array.uint16-array"),k("core-js/modules/es.typed-array.uint32-array"),k("core-js/modules/es.typed-array.copy-within"),k("core-js/modules/es.typed-array.every"),k("core-js/modules/es.typed-array.fill"),k("core-js/modules/es.typed-array.filter"),k("core-js/modules/es.typed-array.find"),k("core-js/modules/es.typed-array.find-index"),k("core-js/modules/es.typed-array.for-each"),k("core-js/modules/es.typed-array.includes"),k("core-js/modules/es.typed-array.index-of"),k("core-js/modules/es.typed-array.iterator"),k("core-js/modules/es.typed-array.join"),k("core-js/modules/es.typed-array.last-index-of"),k("core-js/modules/es.typed-array.map"),k("core-js/modules/es.typed-array.reduce"),k("core-js/modules/es.typed-array.reduce-right"),k("core-js/modules/es.typed-array.reverse"),k("core-js/modules/es.typed-array.set"),k("core-js/modules/es.typed-array.slice"),k("core-js/modules/es.typed-array.some"),k("core-js/modules/es.typed-array.sort"),k("core-js/modules/es.typed-array.subarray"),k("core-js/modules/es.typed-array.to-locale-string"),k("core-js/modules/es.typed-array.to-string"),k("core-js/modules/es.weak-map"),k("core-js/modules/web.dom-collections.iterator"),k("core-js/modules/es.symbol"),k("core-js/modules/es.symbol.description"),k("core-js/modules/es.symbol.iterator"),k("core-js/modules/es.array.concat"),k("core-js/modules/es.array.copy-within"),k("core-js/modules/es.array.every"),k("core-js/modules/es.array.fill"),k("core-js/modules/es.array.flat"),k("core-js/modules/es.array.flat-map"),k("core-js/modules/es.array.from"),k("core-js/modules/es.array.includes"),k("core-js/modules/es.array.iterator"),k("core-js/modules/es.array.map"),k("core-js/modules/es.array.slice"),k("core-js/modules/es.array.some"),k("core-js/modules/es.array.unscopables.flat"),k("core-js/modules/es.array.unscopables.flat-map"),k("core-js/modules/es.map"),k("core-js/modules/es.object.assign"),k("core-js/modules/es.object.to-string"),k("core-js/modules/es.set"),k("core-js/modules/es.string.includes"),k("core-js/modules/es.string.iterator"),k("core-js/modules/es.typed-array.float32-array"),k("core-js/modules/es.typed-array.float64-array"),k("core-js/modules/es.typed-array.int16-array"),k("core-js/modules/es.typed-array.uint8-array"),k("core-js/modules/es.typed-array.uint16-array"),k("core-js/modules/es.typed-array.uint32-array"),k("core-js/modules/es.typed-array.copy-within"),k("core-js/modules/es.typed-array.every"),k("core-js/modules/es.typed-array.fill"),k("core-js/modules/es.typed-array.filter"),k("core-js/modules/es.typed-array.find"),k("core-js/modules/es.typed-array.find-index"),k("core-js/modules/es.typed-array.for-each"),k("core-js/modules/es.typed-array.includes"),k("core-js/modules/es.typed-array.index-of"),k("core-js/modules/es.typed-array.iterator"),k("core-js/modules/es.typed-array.join"),k("core-js/modules/es.typed-array.last-index-of"),k("core-js/modules/es.typed-array.map"),k("core-js/modules/es.typed-array.reduce"),k("core-js/modules/es.typed-array.reduce-right"),k("core-js/modules/es.typed-array.reverse"),k("core-js/modules/es.typed-array.set"),k("core-js/modules/es.typed-array.slice"),k("core-js/modules/es.typed-array.some"),k("core-js/modules/es.typed-array.sort"),k("core-js/modules/es.typed-array.subarray"),k("core-js/modules/es.typed-array.to-locale-string"),k("core-js/modules/es.typed-array.to-string"),k("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.readPixelsWebGL=ee,$.readPixelWebGL=H,$.default=void 0;var g=a(k("../core/main")),y=function(G){if(G&&G.__esModule)return G;if(null===G||"object"!==b(G)&&"function"!=typeof G)return{default:G};var K=l();if(K&&K.has(G))return K.get(G);var le,Oe={},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(le in G){var P;Object.prototype.hasOwnProperty.call(G,le)&&((P=Y?Object.getOwnPropertyDescriptor(G,le):null)&&(P.get||P.set)?Object.defineProperty(Oe,le,P):Oe[le]=G[le])}return Oe.default=G,K&&K.set(G,Oe),Oe}(k("../core/constants")),C=a(k("./GeometryBuilder")),_=a(k("libtess")),s=(k("./p5.Shader"),k("./p5.Camera"),k("../core/p5.Renderer"),k("./p5.Matrix"),k("./p5.Framebuffer"),k("path"),k("./p5.Texture"));function l(){var G;return"function"!=typeof WeakMap?null:(l=function(){return G},G=new WeakMap)}function a(G){return G&&G.__esModule?G:{default:G}}function d(G){return function(K){if(Array.isArray(K)){for(var le=0,Oe=new Array(K.length);le<K.length;le++)Oe[le]=K[le];return Oe}}(G)||function(K){if(Symbol.iterator in Object(K)||"[object Arguments]"===Object.prototype.toString.call(K))return Array.from(K)}(G)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(G,K){for(var le=0;le<K.length;le++){var Oe=K[le];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(G,Oe.key,Oe)}}function u(G,K,le){return(u=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(re,Y,P){if(re=function(ge,Te){for(;!Object.prototype.hasOwnProperty.call(ge,Te)&&null!==(ge=w(ge)););return ge}(re,Y))return(re=Object.getOwnPropertyDescriptor(re,Y)).get?re.get.call(P):re.value})(G,K,le||G)}function h(G,K){return(h=Object.setPrototypeOf||function(le,Oe){return le.__proto__=Oe,le})(G,K)}function m(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function w(G){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)})(G)}function R(G,K,le){K in G?Object.defineProperty(G,K,{value:le,enumerable:!0,configurable:!0,writable:!0}):G[K]=le}function E(G,K){N+="#define STROKE_CAP_".concat(G," ").concat(K,"\n"),B[y[G]]=K}function M(G,K){N+="#define STROKE_JOIN_".concat(G," ").concat(K,"\n"),j[y[G]]=K}var A,B={},j={},N="",J={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(E("ROUND",0),E("PROJECT",1),E("SQUARE",2),M("ROUND",0),M("MITER",1),M("BEVEL",2),(k='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:k+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:N+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // This prevents popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  \n  float zOffset = mix(-0.00045, -1., facingCamera);\n  posp.z -= zOffset;\n  posqIn.z -= zOffset;\n  posqOut.z -= zOffset;\n  \n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:N+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},ne=J.sphereMappingFrag;for(A in J)J[A]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+J[A];R(k={},y.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),R(k,y.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),R(k,y.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),R(k,y.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),R(k,y.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),R(k,y.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),R(k,y.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),R(k,y.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var z=k;function ee(G,K,ht,Oe,Y,P,re,ge,Te,Ge){var qe=K.getParameter(K.FRAMEBUFFER_BINDING),ze=P*re*(K.bindFramebuffer(K.FRAMEBUFFER,ht),ht=ge===K.RGBA?4:3),st=Te===K.UNSIGNED_BYTE?Uint8Array:Float32Array;if(G instanceof st&&G.length===ze||(G=new st(ze)),K.readPixels(Oe,Ge?Ge-Y-re:Y,P,re,ge,Te,G),K.bindFramebuffer(K.FRAMEBUFFER,qe),Ge)for(var lt=Math.floor(re/2),Be=new st(P*ht),Qe=0;Qe<lt;Qe++){var Je=Qe*P*4,ot=(re-Qe-1)*P*4;Be.set(G.subarray(Je,Je+4*P)),G.copyWithin(Je,ot,ot+4*P),G.set(Be,ot)}return G}function H(G,Te,le,Oe,Y,P,re){var ge=G.getParameter(G.FRAMEBUFFER_BINDING);return G.bindFramebuffer(G.FRAMEBUFFER,Te),Te=Y===G.RGBA?4:3,Te=new(P===G.UNSIGNED_BYTE?Uint8Array:Float32Array)(Te),G.readPixels(le,re?re-Oe-1:Oe,1,1,Y,P,Te),G.bindFramebuffer(G.FRAMEBUFFER,ge),Array.from(Te)}g.default.prototype.setAttributes=function(G,K){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var le=!0;if(void 0!==K?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[G]!==K&&(this._glAttributes[G]=K,le=!1)):G instanceof Object&&this._glAttributes!==G&&(this._glAttributes=G,le=!1),this._renderer.isP3D&&!le){if(!this._setupDone)for(var Oe in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(Oe))return void g.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},g.default.RendererGL=function(G){var K=Y;if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(G&&G.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),G&&h(K,G);var Oe=function p(G){return function(){var K,le,Oe=w(G);return K=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(K=w(this).constructor,Reflect.construct(Oe,arguments,K)):Oe.apply(this,arguments),Oe=this,!(le=K)||"object"!==b(le)&&"function"!=typeof le?m(Oe):le}}(Y);function Y(P,re,ge,Te){if(this instanceof Y)return(P=Oe.call(this,P,re,ge))._setAttributeDefaults(re),P._initContext(),P.isP3D=!0,P.geometryBuilder=void 0,P.GL=P.drawingContext,P._pInst._setProperty("drawingContext",P.drawingContext),P._isErasing=!1,P._clipDepths=[],P._isClipApplied=!1,P._stencilTestOn=!1,P._enableLighting=!1,P.ambientLightColors=[],P.mixedAmbientLight=[],P.mixedSpecularColor=[],P.specularColors=[1,1,1],P.directionalLightDirections=[],P.directionalLightDiffuseColors=[],P.directionalLightSpecularColors=[],P.pointLightPositions=[],P.pointLightDiffuseColors=[],P.pointLightSpecularColors=[],P.spotLightPositions=[],P.spotLightDirections=[],P.spotLightDiffuseColors=[],P.spotLightSpecularColors=[],P.spotLightAngle=[],P.spotLightConc=[],P.activeImageLight=null,P.diffusedTextures=new Map,P.specularTextures=new Map,P.drawMode=y.FILL,P.curFillColor=P._cachedFillStyle=[1,1,1,1],P.curAmbientColor=P._cachedFillStyle=[1,1,1,1],P.curSpecularColor=P._cachedFillStyle=[0,0,0,0],P.curEmissiveColor=P._cachedFillStyle=[0,0,0,0],P.curStrokeColor=P._cachedStrokeStyle=[0,0,0,1],P.curBlendMode=y.BLEND,P.preEraseBlend=void 0,P._cachedBlendMode=void 0,P.blendExt=P.webglVersion===y.WEBGL2?P.GL:P.GL.getExtension("EXT_blend_minmax"),P._isBlending=!1,P._hasSetAmbient=!1,P._useSpecularMaterial=!1,P._useEmissiveMaterial=!1,P._useNormalMaterial=!1,P._useShininess=1,P._useMetalness=0,P._useLineColor=!1,P._useVertexColor=!1,P.registerEnabled=new Set,P._tint=[255,255,255,255],P.constantAttenuation=1,P.linearAttenuation=0,P.quadraticAttenuation=0,P.uModelMatrix=new g.default.Matrix,P.uViewMatrix=new g.default.Matrix,P.uMVMatrix=new g.default.Matrix,P.uPMatrix=new g.default.Matrix,P.uNMatrix=new g.default.Matrix("mat3"),P.curMatrix=new g.default.Matrix("mat3"),P._currentNormal=new g.default.Vector(0,0,1),P._curCamera=new g.default.Camera(m(P)),P._curCamera._computeCameraDefaultSettings(),P._curCamera._setDefaultCamera(),P.filterCamera=new g.default.Camera(m(P)),P.filterCamera._computeCameraDefaultSettings(),P.filterCamera._setDefaultCamera(),P.prevTouches=[],P.zoomVelocity=0,P.rotateVelocity=new g.default.Vector(0,0),P.moveVelocity=new g.default.Vector(0,0),P.executeZoom=!1,P.executeRotateAndMove=!1,P.specularShader=void 0,P.sphereMapping=void 0,P.diffusedShader=void 0,P._defaultLightShader=void 0,P._defaultImmediateModeShader=void 0,P._defaultNormalShader=void 0,P._defaultColorShader=void 0,P._defaultPointShader=void 0,P.userFillShader=void 0,P.userStrokeShader=void 0,P.userPointShader=void 0,P.retainedMode={geometry:{},buffers:{stroke:[new g.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",m(P)),new g.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",m(P)),new g.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",m(P)),new g.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",m(P)),new g.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",m(P))],fill:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",m(P),P._vToNArray),new g.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",m(P),P._vToNArray),new g.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",m(P)),new g.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",m(P)),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",m(P),P._flatten)],text:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",m(P),P._vToNArray),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",m(P),P._flatten)]}},P.immediateMode={geometry:new g.default.Geometry,shapeMode:y.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",m(P),P._vToNArray),new g.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",m(P),P._vToNArray),new g.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",m(P)),new g.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",m(P)),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",m(P),P._flatten)],stroke:[new g.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",m(P)),new g.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",m(P)),new g.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",m(P)),new g.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",m(P)),new g.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",m(P))],point:P.GL.createBuffer()}},P.pointSize=5,P.curStrokeWeight=1,P.curStrokeCap=y.ROUND,P.curStrokeJoin=y.ROUND,P.textures=new Map,P.framebuffers=new Set,P.activeFramebuffers=[],P.filterShader=void 0,P.filterLayer=void 0,P.filterLayerTemp=void 0,P.defaultFilterShaders={},P.textureMode=y.IMAGE,P.textureWrapX=y.CLAMP,P.textureWrapY=y.CLAMP,P._tex=null,P._curveTightness=6,P._lookUpTableBezier=[],P._lookUpTableQuadratic=[],P._lutBezierDetail=0,P._lutQuadraticDetail=0,P.isProcessingVertices=!1,P._tessy=P._initTessy(),P.fontInfos={},P._curShader=void 0,P;throw new TypeError("Cannot call a class as a function")}return K=Y,(G=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new C.default(this)}},{key:"endGeometry",value:function(){var P;if(this.geometryBuilder)return P=this.geometryBuilder.finish(),this.geometryBuilder=void 0,P;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(P){return this.beginGeometry(),P(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(P){var re={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};P._glAttributes=null===P._glAttributes?re:Object.assign(re,P._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?y.WEBGL2:y.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var P=this.drawingContext;P.enable(P.DEPTH_TEST),P.depthFunc(P.LEQUAL),P.viewport(0,0,P.drawingBufferWidth,P.drawingBufferHeight),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var P=this.drawingContext;return P.getParameter(P.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(P,re){this._maxTextureSize||(this._maxTextureSize=this._getParam());var Te=this._maxTextureSize,ge=(Te=Math.floor(Te/this.pixelDensity()),Math.min(P,Te));return Te=Math.min(re,Te),ge===P&&Te===re||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(ge,", height: ").concat(Te,".")),{adjustedWidth:ge,adjustedHeight:Te}}},{key:"_resetContext",value:function(P,re){var ge,Te=this.width,Ge=this.height,ht=this.canvas.id,qe=this._pInst instanceof g.default.Graphics;qe?((ge=this._pInst).canvas.parentNode.removeChild(ge.canvas),ge.canvas=document.createElement("canvas"),(ge._pInst._userNode||document.body).appendChild(ge.canvas),g.default.Element.call(ge,ge.canvas,ge._pInst),ge.width=Te,ge.height=Ge):((ge=this.canvas)&&ge.parentNode.removeChild(ge),(ge=document.createElement("canvas")).id=ht,(this._pInst._userNode||document.body).appendChild(ge),this._pInst.canvas=ge,this.canvas=ge),ht=new g.default.RendererGL(this._pInst.canvas,this._pInst,!qe),this._pInst._setProperty("_renderer",ht),ht.resize(Te,Ge),ht._applyDefaults(),qe||this._pInst._elements.push(ht),"function"==typeof re&&setTimeout(function(){re.apply(window._renderer,P)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var Te=(Te=this._pInst).color.apply(Te,arguments);this.clear(Te.levels[0]/255,Te.levels[1]/255,Te.levels[2]/255,Te=Te.levels[3]/255)}},{key:"fill",value:function(P,re,ge,Te){var Ge=g.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Ge._array,this.drawMode=y.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(P,re,ge,Te){var Ge=g.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Ge._array}},{key:"strokeCap",value:function(P){this.curStrokeCap=P}},{key:"strokeJoin",value:function(P){this.curStrokeJoin=P}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(P,re){P.width===re.width&&P.height===re.height||P.resize(re.width,re.height),P.pixelDensity()!==re.pixelDensity()&&P.pixelDensity(re.pixelDensity())}},{key:"filter",value:function(){var P,re,ge=this,Te=this.getFilterLayer(),Ge=void 0,qe=void 0,ht=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(qe=arguments.length<=0?void 0:arguments[0],R(P={},y.BLUR,3),R(P,y.POSTERIZE,4),R(P,y.THRESHOLD,.5),Ge=qe in P&&void 0===(arguments.length<=1?void 0:arguments[1])?P[qe]:arguments.length<=1?void 0:arguments[1],qe in this.defaultFilterShaders||(this.defaultFilterShaders[qe]=new g.default.Shader(Te._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",z[qe])),this.filterShader=this.defaultFilterShaders[qe]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ze=(this.matchSize(Te,ht),Te.draw(function(){return ge._pInst.clear()}),[1/(ht.width*ht.pixelDensity()),1/(ht.height*ht.pixelDensity())]);qe===y.BLUR?(re=this.getFilterLayerTemp(),this.matchSize(re,ht),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(y.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ze),this.filterShader.setUniform("canvasSize",[ht.width,ht.height]),this.filterShader.setUniform("radius",Math.max(1,Ge)),re.draw(function(){ge.filterShader.setUniform("direction",[1,0]),ge.filterShader.setUniform("tex0",ht),ge._pInst.clear(),ge._pInst.shader(ge.filterShader),ge._pInst.noLights(),ge._pInst.plane(ht.width,ht.height)}),Te.draw(function(){ge.filterShader.setUniform("direction",[0,1]),ge.filterShader.setUniform("tex0",re),ge._pInst.clear(),ge._pInst.shader(ge.filterShader),ge._pInst.noLights(),ge._pInst.plane(ht.width,ht.height)}),this._pInst.pop()):Te.draw(function(){ge._pInst.noStroke(),ge._pInst.blendMode(y.BLEND),ge._pInst.shader(ge.filterShader),ge.filterShader.setUniform("tex0",ht),ge.filterShader.setUniform("texelSize",ze),ge.filterShader.setUniform("canvasSize",[ht.width,ht.height]),ge.filterShader.setUniform("filterParameter",Ge),ge._pInst.noLights(),ge._pInst.plane(ht.width,ht.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(y.CORNER),this._pInst.blendMode(y.BLEND),ht.filterCamera._resize(),this._pInst.setCamera(ht.filterCamera),this._pInst.resetMatrix(),this._pInst.image(Te,-ht.width/2,-ht.height/2,ht.width,ht.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(P){return P?this._pInst.pixelDensity(P):this._pInst.pixelDensity()}},{key:"blendMode",value:function(P){P===y.DARKEST||P===y.LIGHTEST||P===y.ADD||P===y.BLEND||P===y.SUBTRACT||P===y.SCREEN||P===y.EXCLUSION||P===y.REPLACE||P===y.MULTIPLY||P===y.REMOVE?this.curBlendMode=P:P!==y.BURN&&P!==y.OVERLAY&&P!==y.HARD_LIGHT&&P!==y.SOFT_LIGHT&&P!==y.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(P,re){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(y.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,P/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,re/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var P=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(u(w(Y.prototype),"beginClip",this).call(this,P),this.drawTarget()._isClipApplied=!0,P=this.GL).clearStencil(0),P.clear(P.STENCIL_BUFFER_BIT),P.enable(P.STENCIL_TEST),this._stencilTestOn=!0,P.stencilFunc(P.ALWAYS,1,255),P.stencilOp(P.KEEP,P.KEEP,P.REPLACE),P.disable(P.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var P=this.GL;P.stencilOp(P.KEEP,P.KEEP,P.KEEP),P.stencilFunc(this._clipInvert?P.EQUAL:P.NOTEQUAL,0,255),P.enable(P.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),u(w(Y.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(P){this.curStrokeWeight!==P&&(this.pointSize=P,this.curStrokeWeight=P)}},{key:"_getPixel",value:function(P,re){var ge=this.GL;return H(ge,null,P,re,ge.RGBA,ge.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var P,re,ge=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):ge._setProperty("pixels",ee(ge.pixels,re=this.GL,null,0,0,this.width*(P=this._pInst._pixelDensity),this.height*P,re.RGBA,re.UNSIGNED_BYTE,this.height*P))}},{key:"updatePixels",value:function(){var P=this._getTempFramebuffer();P.pixels=this._pixelsState.pixels,P.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(y.CENTER),this._pInst.image(P,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:y.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:y.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(P){return void 0!==this.retainedMode.geometry[P]}},{key:"viewport",value:function(P,re){this._viewport=[0,0,P,re],this.GL.viewport(0,0,P,re)}},{key:"resize",value:function(Ge,Te){g.default.Renderer.prototype.resize.call(this,Ge,Te),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ge=(void 0!==(Ge=this._pixelsState).pixels&&Ge._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);Te=!1,Ge=void 0;try{for(var qe,ht=this.framebuffers[Symbol.iterator]();!(ge=(qe=ht.next()).done);ge=!0)qe.value._canvasSizeChanged()}catch(ze){Te=!0,Ge=ze}finally{try{ge||null==ht.return||ht.return()}finally{if(Te)throw Ge}}}},{key:"clear",value:function(){var P=(arguments.length<=0?void 0:arguments[0])||0,re=(arguments.length<=1?void 0:arguments[1])||0,ge=(arguments.length<=2?void 0:arguments[2])||0,Te=(arguments.length<=3?void 0:arguments[3])||0,Ge=this.activeFramebuffer();Ge&&Ge.format===y.UNSIGNED_BYTE&&!Ge.antialias&&0===Te&&(Te=1e-10),this.GL.clearColor(P*Te,re*Te,ge*Te,Te),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(P,re,ge,Te,Ge,qe){16===arguments.length?g.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([P,re,0,0,ge,Te,0,0,0,0,1,0,Ge,qe,0,1])}},{key:"translate",value:function(P,re,ge){return P instanceof g.default.Vector&&(ge=P.z,re=P.y,P=P.x),this.uModelMatrix.translate([P,re,ge]),this}},{key:"scale",value:function(P,re,ge){return this.uModelMatrix.scale(P,re,ge),this}},{key:"rotate",value:function(P,re){return void 0===re?this.rotateZ(P):(g.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(P){return this.rotate(P,1,0,0),this}},{key:"rotateY",value:function(P){return this.rotate(P,0,1,0),this}},{key:"rotateZ",value:function(P){return this.rotate(P,0,0,1),this}},{key:"push",value:function(){var P=g.default.Renderer.prototype.push.apply(this),re=P.properties;return re.uModelMatrix=this.uModelMatrix.copy(),re.uViewMatrix=this.uViewMatrix.copy(),re.uPMatrix=this.uPMatrix.copy(),re._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),re.ambientLightColors=this.ambientLightColors.slice(),re.specularColors=this.specularColors.slice(),re.directionalLightDirections=this.directionalLightDirections.slice(),re.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),re.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),re.pointLightPositions=this.pointLightPositions.slice(),re.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),re.pointLightSpecularColors=this.pointLightSpecularColors.slice(),re.spotLightPositions=this.spotLightPositions.slice(),re.spotLightDirections=this.spotLightDirections.slice(),re.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),re.spotLightSpecularColors=this.spotLightSpecularColors.slice(),re.spotLightAngle=this.spotLightAngle.slice(),re.spotLightConc=this.spotLightConc.slice(),re.userFillShader=this.userFillShader,re.userStrokeShader=this.userStrokeShader,re.userPointShader=this.userPointShader,re.pointSize=this.pointSize,re.curStrokeWeight=this.curStrokeWeight,re.curStrokeColor=this.curStrokeColor,re.curFillColor=this.curFillColor,re.curAmbientColor=this.curAmbientColor,re.curSpecularColor=this.curSpecularColor,re.curEmissiveColor=this.curEmissiveColor,re._hasSetAmbient=this._hasSetAmbient,re._useSpecularMaterial=this._useSpecularMaterial,re._useEmissiveMaterial=this._useEmissiveMaterial,re._useShininess=this._useShininess,re._useMetalness=this._useMetalness,re.constantAttenuation=this.constantAttenuation,re.linearAttenuation=this.linearAttenuation,re.quadraticAttenuation=this.quadraticAttenuation,re._enableLighting=this._enableLighting,re._useNormalMaterial=this._useNormalMaterial,re._tex=this._tex,re.drawMode=this.drawMode,re._currentNormal=this._currentNormal,re.curBlendMode=this.curBlendMode,re.activeImageLight=this.activeImageLight,P}},{key:"pop",value:function(){var P;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var re=arguments.length,ge=new Array(re),Te=0;Te<re;Te++)ge[Te]=arguments[Te];(P=u(w(Y.prototype),"pop",this)).call.apply(P,[this].concat(ge)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var P=this.drawTarget();P._isClipApplied!==this._stencilTestOn&&(P._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var P=this.userStrokeShader;return P&&P.isStrokeShader()?P:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(P){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(ne)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",P),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var P=this.userFillShader;if(this._useNormalMaterial&&(!P||!P.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!P||!P.isLightShader())return this._getLightShader()}else if(this._tex){if(!P||!P.isTextureShader())return this._getLightShader()}else if(!P)return this._getImmediateModeShader();return P}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var P=this.userFillShader;if(this._enableLighting){if(!P||!P.isLightShader())return this._getLightShader()}else if(this._tex){if(!P||!P.isTextureShader())return this._getLightShader()}else if(!P)return this._getColorShader();return P}},{key:"_getImmediatePointShader",value:function(){var P=this.userPointShader;return P&&P.isPointShader()?P:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+J.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+J.phongFrag):new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+J.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+J.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===y.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+J.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+J.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(P,re){var ge="";return this.webglVersion===y.WEBGL2&&(ge+="#version 300 es\n#define WEBGL2\n"),"vert"===P?ge+="#define VERTEX_SHADER\n":"frag"===P&&(ge+="#define FRAGMENT_SHADER\n"),re&&(ge+="precision ".concat(re," float;\n")),ge}},{key:"_getEmptyTexture",value:function(){var P;return this._emptyTexture||((P=new g.default.Image(1,1)).set(0,0,255),this._emptyTexture=new g.default.Texture(this,P)),this._emptyTexture}},{key:"getTexture",value:function(P){P instanceof g.default.Framebuffer&&(P=P.color);var re=this.textures.get(P);return re||(re=new g.default.Texture(this,P),this.textures.set(P,re),re)}},{key:"getDiffusedTexture",value:function(P){var re,ge,Te=this;return null!=this.diffusedTextures.get(P)?this.diffusedTextures.get(P):(re=Math.floor(P.height/P.width*200),ge=this._pInst.createFramebuffer({width:200,height:re,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(J.imageLightVert,J.imageLightDiffusedFrag)),ge.draw(function(){Te._pInst.shader(Te.diffusedShader),Te.diffusedShader.setUniform("environmentMap",P),Te._pInst.noStroke(),Te._pInst.rectMode(y.CENTER),Te._pInst.noLights(),Te._pInst.rect(0,0,200,re)}),this.diffusedTextures.set(P,ge),ge)}},{key:"getSpecularTexture",value:function(P){var re=this;if(null!=this.specularTextures.get(P))return this.specularTextures.get(P);for(var ge,Te=[],Ge=this._pInst.createFramebuffer({width:512,height:512,density:1}),qe=Math.log(512)/Math.log(2),ht=(this.specularShader||(this.specularShader=this._pInst.createShader(J.imageLightVert,J.imageLightSpecularFrag)),512);1<=ht;ht/=2)!function(ze){Ge.resize(ze,ze);var st=1-Math.log(ze)/Math.log(2)/qe;Ge.draw(function(){re._pInst.shader(re.specularShader),re._pInst.clear(),re.specularShader.setUniform("environmentMap",P),re.specularShader.setUniform("roughness",st),re._pInst.noStroke(),re._pInst.noLights(),re._pInst.plane(ze,ze)}),Te.push(Ge.get().drawingContext.getImageData(0,0,ze,ze))}(ht);return Ge.remove(),ge=new s.MipmapTexture(this,Te,{}),this.specularTextures.set(P,ge),ge}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(P){return new g.default.Framebuffer(this,P)}},{key:"_setStrokeUniforms",value:function(P){P.bindShader(),P.setUniform("uUseLineColor",this._useLineColor),P.setUniform("uMaterialColor",this.curStrokeColor),P.setUniform("uStrokeWeight",this.curStrokeWeight),P.setUniform("uStrokeCap",B[this.curStrokeCap]),P.setUniform("uStrokeJoin",j[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(P){var re=this,ge=(P.bindShader(),this.mixedSpecularColor=d(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(Te,Ge){return re.curFillColor[Ge]*re._useMetalness+Te*(1-re._useMetalness)})),P.setUniform("uUseVertexColor",this._useVertexColor),P.setUniform("uMaterialColor",this.curFillColor),P.setUniform("isTexture",!!this._tex),this._tex&&P.setUniform("uSampler",this._tex),P.setUniform("uTint",this._tint),P.setUniform("uHasSetAmbient",this._hasSetAmbient),P.setUniform("uAmbientMatColor",this.curAmbientColor),P.setUniform("uSpecularMatColor",this.mixedSpecularColor),P.setUniform("uEmissiveMatColor",this.curEmissiveColor),P.setUniform("uSpecular",this._useSpecularMaterial),P.setUniform("uEmissive",this._useEmissiveMaterial),P.setUniform("uShininess",this._useShininess),P.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(P),P.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);P.setUniform("uPointLightCount",ge),P.setUniform("uPointLightLocation",this.pointLightPositions),P.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),P.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),P.setUniform("uDirectionalLightCount",ge=this.directionalLightDiffuseColors.length/3),P.setUniform("uLightingDirection",this.directionalLightDirections),P.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),P.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),ge=this.ambientLightColors.length/3,this.mixedAmbientLight=d(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(Te){return Math.max(0,Te-=re._useMetalness)})),P.setUniform("uAmbientLightCount",ge),P.setUniform("uAmbientColor",this.mixedAmbientLight),P.setUniform("uSpotLightCount",ge=this.spotLightDiffuseColors.length/3),P.setUniform("uSpotLightAngle",this.spotLightAngle),P.setUniform("uSpotLightConc",this.spotLightConc),P.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),P.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),P.setUniform("uSpotLightLocation",this.spotLightPositions),P.setUniform("uSpotLightDirection",this.spotLightDirections),P.setUniform("uConstantAttenuation",this.constantAttenuation),P.setUniform("uLinearAttenuation",this.linearAttenuation),P.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),P.bindTextures()}},{key:"_setImageLightUniforms",value:function(P){var re;P.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(re=this.getDiffusedTexture(this.activeImageLight),P.setUniform("environmentMapDiffused",re),re=this.getSpecularTexture(this.activeImageLight),P.setUniform("levelOfDetail",20/this._useShininess*8),P.setUniform("environmentMapSpecular",re))}},{key:"_setPointUniforms",value:function(P){P.bindShader(),P.setUniform("uMaterialColor",this.curStrokeColor),P.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(P,re,ge,Te,Ge){this.GL.bindBuffer(re=re||this.GL.ARRAY_BUFFER,P),void 0!==ge&&((P=ge)instanceof g.default.DataArray?P=ge.dataArray():P instanceof(Te||Float32Array)||(P=new(Te||Float32Array)(P)),this.GL.bufferData(re,P,Ge||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(P,re){return P.length===re.length&&P.every(function(ge,Te){return ge===re[Te]})}},{key:"_isTypedArray",value:function(P){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(re){return P instanceof re})}},{key:"_flatten",value:function(P){return P.flat()}},{key:"_vToNArray",value:function(P){return P.flatMap(function(re){return[re.x,re.y,re.z]})}},{key:"_bezierCoefficients",value:function(P){var re=P*P,ge=1-P,Te=ge*ge;return[Te*ge,3*Te*P,3*ge*re,re*P]}},{key:"_quadraticCoefficients",value:function(P){var re=1-P;return[re*re,2*re*P,P*P]}},{key:"_bezierToCatmull",value:function(P){return[P[1],P[1]+(P[2]-P[0])/this._curveTightness,P[2]-(P[3]-P[1])/this._curveTightness,P[2]]}},{key:"_initTessy",value:function(){var P=new _.default.GluTesselator;return P.gluTessCallback(_.default.gluEnum.GLU_TESS_VERTEX_DATA,function(re,ge){var Te=!0,Ge=!1,qe=void 0;try{for(var ht,ze=re[Symbol.iterator]();!(Te=(ht=ze.next()).done);Te=!0)ge.push(ht.value)}catch(lt){Ge=!0,qe=lt}finally{try{Te||null==ze.return||ze.return()}finally{if(Ge)throw qe}}}),P.gluTessCallback(_.default.gluEnum.GLU_TESS_BEGIN,function(re){re!==_.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(re))}),P.gluTessCallback(_.default.gluEnum.GLU_TESS_ERROR,function(re){console.log("error callback"),console.log("error number: ".concat(re))}),P.gluTessCallback(_.default.gluEnum.GLU_TESS_COMBINE,function(re,ge,Te){for(var Ge=new Array(g.default.RendererGL.prototype.tessyVertexSize).fill(0),qe=0;qe<Te.length;qe++)for(var ht=0;ht<Ge.length;ht++)0!==Te[qe]&&ge[qe]&&(Ge[ht]+=ge[qe][ht]*Te[qe]);return Ge}),P.gluTessCallback(_.default.gluEnum.GLU_TESS_EDGE_FLAG,function(re){}),P.gluTessProperty(_.default.gluEnum.GLU_TESS_WINDING_RULE,_.default.windingRule.GLU_TESS_WINDING_NONZERO),P}},{key:"_triangulate",value:function(P){var re=P[0]?P[0][2]:void 0,ge=!0,Te=!0,st=!1,Be=void 0;try{for(var Ge,qe=P[Symbol.iterator]();!(Te=(Ge=qe.next()).done);Te=!0)for(var ht=Ge.value,ze=0;ze<ht.length;ze+=g.default.RendererGL.prototype.tessyVertexSize)if(ht[ze+2]!==re){ge=!1;break}}catch(sn){st=!0,Be=sn}finally{try{Te||null==qe.return||qe.return()}finally{if(st)throw Be}}this._tessy.gluTessNormal(0,0,ge?1:0);var lt=(this._tessy.gluTessBeginPolygon(st=[]),!0),Qe=void(Be=!1);try{for(var Je,ot=P[Symbol.iterator]();!(lt=(Je=ot.next()).done);lt=!0){var Ze=Je.value;this._tessy.gluTessBeginContour();for(var yt=0;yt<Ze.length;yt+=g.default.RendererGL.prototype.tessyVertexSize){var Ct=Ze.slice(yt,yt+g.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Ct,Ct)}this._tessy.gluTessEndContour()}}catch(sn){Be=!0,Qe=sn}finally{try{lt||null==ot.return||ot.return()}finally{if(Be)throw Qe}}return this._tessy.gluTessEndPolygon(),st}}])&&c(K.prototype,G),Y}(g.default.Renderer),g.default.prototype._assert3d=function(G){if(!this._renderer.isP3D)throw new Error("".concat(G,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},g.default.RendererGL.prototype.tessyVertexSize=12,$.default=k=g.default.RendererGL},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(o,ie,$){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g,y){for(var C=0;C<y.length;C++){var _=y[C];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}v.default.Shader=function(){function g(s,l,a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._renderer=s,this._vertSrc=l,this._fragSrc=a,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var y,C;return y=g,(C=[{key:"init",value:function(){if(0===this._glProgram){var s=this._renderer.GL;if(this._vertShader=s.createShader(s.VERTEX_SHADER),s.shaderSource(this._vertShader,this._vertSrc),s.compileShader(this._vertShader),!s.getShaderParameter(this._vertShader,s.COMPILE_STATUS))return v.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(s.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=s.createShader(s.FRAGMENT_SHADER),s.shaderSource(this._fragShader,this._fragSrc),s.compileShader(this._fragShader),!s.getShaderParameter(this._fragShader,s.COMPILE_STATUS))return v.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(s.getShaderInfoLog(this._fragShader))),null;this._glProgram=s.createProgram(),s.attachShader(this._glProgram,this._vertShader),s.attachShader(this._glProgram,this._fragShader),s.linkProgram(this._glProgram),s.getProgramParameter(this._glProgram,s.LINK_STATUS)||v.default._friendlyError("Snap! Error linking shader program: ".concat(s.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(s){var l=new v.default.Shader(s._renderer,this._vertSrc,this._fragSrc);return l.ensureCompiledOnContext(s),l}},{key:"ensureCompiledOnContext",value:function(s){if(0!==this._glProgram&&this._renderer!==s._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=s._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var s=this._renderer.GL,l=s.getProgramParameter(this._glProgram,s.ACTIVE_ATTRIBUTES),a=0;a<l;++a){var d=s.getActiveAttrib(this._glProgram,a),c=d.name,u=s.getAttribLocation(this._glProgram,c),h={};h.name=c,h.location=u,h.index=a,h.type=d.type,h.size=d.size,this.attributes[c]=h}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var s=this._renderer.GL,l=s.getProgramParameter(this._glProgram,s.ACTIVE_UNIFORMS),a=0,d=0;d<l;++d){var c=s.getActiveUniform(this._glProgram,d),u={},h=(u.location=s.getUniformLocation(this._glProgram,c.name),u.size=c.size,c.name);1<c.size&&(h=h.substring(0,h.indexOf("[0]"))),u.name=h,u.type=c.type,u._cachedData=void 0,u.type===s.SAMPLER_2D&&(u.samplerIndex=a,a++,this.samplers.push(u)),u.isArray=1<c.size||u.type===s.FLOAT_MAT3||u.type===s.FLOAT_MAT4||u.type===s.FLOAT_VEC2||u.type===s.FLOAT_VEC3||u.type===s.FLOAT_VEC4||u.type===s.INT_VEC2||u.type===s.INT_VEC4||u.type===s.INT_VEC3,this.uniforms[h]=u}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var s=this._renderer.GL,l=!0,a=!1,d=void 0;try{for(var c,u=this.samplers[Symbol.iterator]();!(l=(c=u.next()).done);l=!0){var h=c.value,p=h.texture;void 0===p&&(p=this._renderer._getEmptyTexture()),s.activeTexture(s.TEXTURE0+h.samplerIndex),p.bindTexture(),p.update(),s.uniform1i(h.location,h.samplerIndex)}}catch(m){a=!0,d=m}finally{try{l||null==u.return||u.return()}finally{if(a)throw d}}}},{key:"updateTextures",value:function(){var s=!0,l=!1,a=void 0;try{for(var d,c=this.samplers[Symbol.iterator]();!(s=(d=c.next()).done);s=!0){var u=d.value.texture;u&&u.update()}}catch(h){l=!0,a=h}finally{try{s||null==c.return||c.return()}finally{if(l)throw a}}}},{key:"unbindTextures",value:function(){var s=!0,l=!1,a=void 0;try{for(var d,c=this.samplers[Symbol.iterator]();!(s=(d=c.next()).done);s=!0)this.setUniform(d.value.name,this._renderer._getEmptyTexture())}catch(h){l=!0,a=h}finally{try{s||null==c.return||c.return()}finally{if(l)throw a}}}},{key:"_setMatrixUniforms",value:function(){var s=this._renderer.uModelMatrix,l=this._renderer.uViewMatrix,a=this._renderer.uPMatrix,d=s.copy().mult(l),c=(this._renderer.uMVMatrix=d).copy();c.mult(a),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",l.mat4),this.setUniform("uProjectionMatrix",a.mat4),this.setUniform("uModelMatrix",s.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",c.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(s,l){var a=this.uniforms[s];if(a){var d=this._renderer.GL;if(a.isArray){if(a._cachedData&&this._renderer._arraysEqual(a._cachedData,l))return;a._cachedData=l.slice(0)}else{if(a._cachedData&&a._cachedData===l)return;a._cachedData=Array.isArray(l)?l.slice(0):l}var c=a.location;switch(this.useProgram(),a.type){case d.BOOL:d.uniform1i(c,!0===l?1:0);break;case d.INT:1<a.size?l.length&&d.uniform1iv(c,l):d.uniform1i(c,l);break;case d.FLOAT:1<a.size?l.length&&d.uniform1fv(c,l):d.uniform1f(c,l);break;case d.FLOAT_MAT3:d.uniformMatrix3fv(c,!1,l);break;case d.FLOAT_MAT4:d.uniformMatrix4fv(c,!1,l);break;case d.FLOAT_VEC2:1<a.size?l.length&&d.uniform2fv(c,l):d.uniform2f(c,l[0],l[1]);break;case d.FLOAT_VEC3:1<a.size?l.length&&d.uniform3fv(c,l):d.uniform3f(c,l[0],l[1],l[2]);break;case d.FLOAT_VEC4:1<a.size?l.length&&d.uniform4fv(c,l):d.uniform4f(c,l[0],l[1],l[2],l[3]);break;case d.INT_VEC2:1<a.size?l.length&&d.uniform2iv(c,l):d.uniform2i(c,l[0],l[1]);break;case d.INT_VEC3:1<a.size?l.length&&d.uniform3iv(c,l):d.uniform3i(c,l[0],l[1],l[2]);break;case d.INT_VEC4:1<a.size?l.length&&d.uniform4iv(c,l):d.uniform4i(c,l[0],l[1],l[2],l[3]);break;case d.SAMPLER_2D:d.activeTexture(d.TEXTURE0+a.samplerIndex),a.texture=l instanceof v.default.Texture?l:this._renderer.getTexture(l),d.uniform1i(c,a.samplerIndex),a.texture.src.gifProperties&&a.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(s){return void 0!==s})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(s,l,a,d,c,u){var h;return s&&-1!==(s=s.location)&&(h=this._renderer.GL,this._renderer.registerEnabled.has(s)||(h.enableVertexAttribArray(s),this._renderer.registerEnabled.add(s)),this._renderer.GL.vertexAttribPointer(s,l,a||h.FLOAT,d||!1,c||0,u||0)),this}},{key:"disableRemainingAttributes",value:function(){var s=this,l=!0,a=!1,d=void 0;try{for(var c,u=this._renderer.registerEnabled.values()[Symbol.iterator]();!(l=(c=u.next()).done);l=!0)!function(){var h=c.value;Object.keys(s.attributes).some(function(p){return s.attributes[p].location===h})||(s._renderer.GL.disableVertexAttribArray(h),s._renderer.registerEnabled.delete(h))}()}catch(h){a=!0,d=h}finally{try{l||null==u.return||u.return()}finally{if(a)throw d}}}}])&&b(y.prototype,C),g}(),$.default=o=v.default.Shader},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(o,ie,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function b(p){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(m){return v(m)}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":v(m)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty($,"__esModule",{value:!0}),$.checkWebGLCapabilities=h,$.default=$.MipmapTexture=void 0;var g=(u=o("../core/main"))&&u.__esModule?u:{default:u},y=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==b(p)&&"function"!=typeof p)return{default:p};var m=C();if(m&&m.has(p))return m.get(p);var w,R={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in p){var M;Object.prototype.hasOwnProperty.call(p,w)&&((M=E?Object.getOwnPropertyDescriptor(p,w):null)&&(M.get||M.set)?Object.defineProperty(R,w,M):R[w]=p[w])}return R.default=p,m&&m.set(p,R),R}(o("../core/constants"));function C(){var p;return"function"!=typeof WeakMap?null:(C=function(){return p},p=new WeakMap)}function _(p,m){return(_=Object.setPrototypeOf||function(w,R){return w.__proto__=R,w})(p,m)}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(p)}function a(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){for(var w=0;w<m.length;w++){var R=m[w];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(p,R.key,R)}}function c(p,m,w){m&&d(p.prototype,m),w&&d(p,w)}g.default.Texture=function(){function p(A,w,M){a(this,p),this._renderer=A;var E=this._renderer.GL;return M=M||{},this.src=w,this.glTex=void 0,this.glTarget=E.TEXTURE_2D,this.glFormat=M.format||E.RGBA,this.mipmaps=!1,this.glMinFilter=M.minFilter||E.LINEAR,this.glMagFilter=M.magFilter||E.LINEAR,this.glWrapS=M.wrapS||E.CLAMP_TO_EDGE,this.glWrapT=M.wrapT||E.CLAMP_TO_EDGE,this.glDataType=M.dataType||E.UNSIGNED_BYTE,M=h(A),this.glFormat!==E.HALF_FLOAT||M.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=E.FLOAT),this.glFormat!==E.HALF_FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||M.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.glFormat!==E.FLOAT||M.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=E.UNSIGNED_BYTE),this.glFormat!==E.FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||M.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.isSrcMediaElement=void 0!==g.default.MediaElement&&w instanceof g.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==g.default.Element&&w instanceof g.default.Element&&!(w instanceof g.default.Graphics)&&!(w instanceof g.default.Renderer),this.isSrcP5Image=w instanceof g.default.Image,this.isSrcP5Graphics=w instanceof g.default.Graphics,this.isSrcP5Renderer=w instanceof g.default.Renderer,this.isImageData=typeof ImageData<"u"&&w instanceof ImageData,this.isFramebufferTexture=w instanceof g.default.FramebufferTexture,A=this._getTextureDataFromSource(),this.width=A.width,this.height=A.height,this.init(A),this}return c(p,[{key:"_getTextureDataFromSource",value:function(){var m;return this.isFramebufferTexture?m=this.src.rawTexture():this.isSrcP5Image?m=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?m=this.src.elt:this.isImageData&&(m=this.src),m}},{key:"init",value:function(m){var w,R=this._renderer.GL;this.isFramebufferTexture||(this.glTex=R.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,this.glMagFilter),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(w=new Uint8Array([1,1,1,1]),R.texImage2D(this.glTarget,0,R.RGBA,1,1,0,this.glFormat,this.glDataType,w)):R.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,m))}},{key:"update",value:function(){var m,w,R,E=this.src;return 0!==E.width&&0!==E.height&&!this.isFramebufferTexture&&(m=this._getTextureDataFromSource(),w=!1,R=this._renderer.GL,m.width!==this.width||m.height!==this.height?(w=!0,this.width=m.width||E.width,this.height=m.height||E.height,this.isSrcP5Image?E.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&E.setModified(!0)):this.isSrcP5Image?E.isModified()&&E.setModified(!(w=!0)):this.isSrcMediaElement?E.isModified()?E.setModified(!(w=!0)):E.loadedmetadata&&this._videoPrevUpdateTime!==E.time()&&(this._videoPrevUpdateTime=E.time(),w=!0):this.isImageData?E._dirty&&(w=!(E._dirty=!1)):w=!0,w&&(this.bindTexture(),R.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,m)),w)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(m,w){var R=this._renderer.GL;this.glMinFilter=this.glFilter(m),this.glMagFilter=this.glFilter(w),this.bindTexture(),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,this.glMinFilter),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(m){var w=this._renderer.GL;return m===y.NEAREST?w.NEAREST:w.LINEAR}},{key:"setWrapMode",value:function(m,w){function R(B){return!(B&B-1)}var E=this._renderer.GL,A=(A=this._getTextureDataFromSource()).naturalWidth&&A.naturalHeight?(M=A.naturalWidth,A.naturalHeight):(M=this.width,this.height),M=R(M);A=R(A),m===y.REPEAT?this._renderer.webglVersion===y.WEBGL2||M&&A?this.glWrapS=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):m===y.MIRROR?this._renderer.webglVersion===y.WEBGL2||M&&A?this.glWrapS=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):this.glWrapS=E.CLAMP_TO_EDGE,w===y.REPEAT?this._renderer.webglVersion===y.WEBGL2||M&&A?this.glWrapT=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):w===y.MIRROR?this._renderer.webglVersion===y.WEBGL2||M&&A?this.glWrapT=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):this.glWrapT=E.CLAMP_TO_EDGE,this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,this.glWrapS),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),p}();var u=function(p){var m=R;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),p&&_(m,p);var w=function s(p){return function(){var m,w=l(p);if(m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(m=l(this).constructor,Reflect.construct(w,arguments,m)):w.apply(this,arguments),w=this,!m||"object"!==b(m)&&"function"!=typeof m){if(void 0!==w)return w;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return m}}(R);function R(E,M,A){return a(this,R),M=(E=w.call(this,E,M,A))._renderer.GL,E.glMinFilter===M.LINEAR&&(E.glMinFilter=M.LINEAR_MIPMAP_LINEAR),E}return c(R,[{key:"glFilter",value:function(E){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(E){var M=this._renderer.GL;this.glTex=M.createTexture(),this.bindTexture();for(var A=0;A<E.length;A++)M.texImage2D(this.glTarget,A,this.glFormat,this.glFormat,this.glDataType,E[A]);this.glMinFilter=M.LINEAR_MIPMAP_LINEAR,M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),R}(g.default.Texture);function h(E){var m=E.GL,w=(E=E.webglVersion)===y.WEBGL2?m.getExtension("EXT_color_buffer_float")&&m.getExtension("EXT_float_blend"):m.getExtension("OES_texture_float");return{float:w,floatLinear:w&&m.getExtension("OES_texture_float_linear"),halfFloat:E=m.getExtension(E===y.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:E&&m.getExtension("OES_texture_half_float_linear")}}$.MipmapTexture=u,$.default=o=g.default.Texture},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(o,ie,$){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function b(p){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(m){return v(m)}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":v(m)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.iterator");var g,y=(g=o("../core/main"))&&g.__esModule?g:{default:g},C=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==b(p)&&"function"!=typeof p)return{default:p};var m=_();if(m&&m.has(p))return m.get(p);var w,R={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in p){var M;Object.prototype.hasOwnProperty.call(p,w)&&((M=E?Object.getOwnPropertyDescriptor(p,w):null)&&(M.get||M.set)?Object.defineProperty(R,w,M):R[w]=p[w])}return R.default=p,m&&m.set(p,R),R}(o("../core/constants"));function _(){var p;return"function"!=typeof WeakMap?null:(_=function(){return p},p=new WeakMap)}function s(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function l(p,m){for(var w=0;w<m.length;w++){var R=m[w];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(p,R.key,R)}}function a(p,m,w){m&&l(p.prototype,m),w&&l(p,w)}o("./p5.Shader"),o("./p5.RendererGL.Retained"),y.default.RendererGL.prototype._applyTextProperties=function(){},y.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};var d=function(){function p(m,w){s(this,p),this.width=m,this.height=w,this.infos=[]}return a(p,[{key:"findImage",value:function(m){var w,R,E=this.width*this.height;if(E<m)throw new Error("font is too complex to render in 3D");for(var M=this.infos.length-1;0<=M;--M){var A=this.infos[M];if(A.index+m<E){R=(w=A).imageData;break}}if(!w){try{R=new ImageData(this.width,this.height)}catch{var B=document.getElementsByTagName("canvas")[0],j=!B,N=(B||((B=document.createElement("canvas")).style.display="none",document.body.appendChild(B)),B.getContext("2d"));N&&(R=N.createImageData(this.width,this.height)),j&&document.body.removeChild(B)}this.infos.push(w={index:0,imageData:R})}return N=w.index,w.index+=m,R._dirty=!0,{imageData:R,index:N}}}]),p}();function c(A,m,w,R,E){var M=A.imageData.data;A=4*A.index++,M[A++]=m,M[A++]=w,M[A++]=R,M[+A]=E}var u=Math.sqrt(3),h=function(){function p(m){s(this,p),this.font=m,this.strokeImageInfos=new d(64,64),this.colDimImageInfos=new d(64,64),this.rowDimImageInfos=new d(64,64),this.colCellImageInfos=new d(64,64),this.rowCellImageInfos=new d(64,64),this.glyphInfos={}}return a(p,[{key:"getGlyphInfo",value:function(m){var w=this.glyphInfos[m.index];if(!w){var R=m.getBoundingBox(),E=R.x1,M=R.y1,A=R.x2-E,B=R.y2-M,j=m.path.commands;if(0==A||0==B||!j.length)return this.glyphInfos[m.index]={};for(var N=[],k=[],J=[],ne=8;0<=ne;--ne)J.push([]);for(ne=8;0<=ne;--ne)k.push([]);var z,ee,H,G,K=function(){function Bt(mn,Yt,fn,Ot){s(this,Bt),this.p0=mn,this.c0=Yt,this.c1=fn,this.p1=Ot}return a(Bt,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return y.default.Vector.sub(y.default.Vector.sub(this.p1,this.p0),y.default.Vector.mult(y.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(ln){var Yt=y.default.Vector.lerp(this.p0,this.c0,ln),Ot=y.default.Vector.lerp(this.c0,this.c1,ln),fn=y.default.Vector.lerp(Yt,Ot,ln);return this.c1=y.default.Vector.lerp(this.c1,this.p1,ln),this.c0=y.default.Vector.lerp(Ot,this.c1,ln),Ot=y.default.Vector.lerp(fn,this.c0,ln),ln=new Bt(this.p0,Yt,fn,Ot),this.p0=Ot,ln}},{key:"splitInflections",value:function(){var mn=y.default.Vector.sub(this.c0,this.p0),Yt=y.default.Vector.sub(y.default.Vector.sub(this.c1,this.c0),mn),fn=y.default.Vector.sub(y.default.Vector.sub(y.default.Vector.sub(this.p1,this.c1),mn),y.default.Vector.mult(Yt,2)),Ot=[],ln=Yt.x*fn.y-Yt.y*fn.x;return 0!==ln&&0<=(mn=(fn=mn.x*fn.y-mn.y*fn.x)*fn-4*ln*(mn.x*Yt.y-mn.y*Yt.x))&&(ln<0&&(ln=-ln,fn=-fn),mn=(-fn+(Yt=Math.sqrt(mn)))/(2*ln),0<(fn=(-fn-Yt)/(2*ln))&&fn<1&&(Ot.push(this.split(fn)),mn=1-(1-mn)/(1-fn)),0<mn&&mn<1&&Ot.push(this.split(mn))),Ot.push(this),Ot}}]),Bt}(),le=!0,Oe=!1,Y=void 0;try{for(var P,re=j[Symbol.iterator]();!(le=(P=re.next()).done);le=!0){var ge=P.value,Te=(ge.x-E)/A,Ge=(ge.y-M)/B;if(!$t(z,ee,Te,Ge)){switch(ge.type){case"M":H=Te,G=Ge;break;case"L":sn(z,ee,Te,Ge);break;case"Q":var qe=(ge.x1-E)/A,ht=(ge.y1-M)/B;yt([z,Te,qe],[ee,Ge,ht],{x:z,y:ee,cx:qe,cy:ht});break;case"Z":$t(z,ee,H,G)?N.push({x:z,y:ee}):(sn(z,ee,H,G),N.push({x:H,y:G}));break;case"C":for(var ze=function(Xe,Ft,Wt,fn,Ot,ln,Vt,Ve){Xe=new K(new y.default.Vector(Xe,Ft),new y.default.Vector(Wt,fn),new y.default.Vector(Ot,ln),new y.default.Vector(Vt,Ve)).splitInflections();var Ae=[],Ke=30/u,_t=!0;Ft=!1,Wt=void 0;try{for(var Tt,Gt=Xe[Symbol.iterator]();!(_t=(Tt=Gt.next()).done);_t=!0){for(var en=Tt.value,tn=[],pt=void 0;!(.125<=(pt=Ke/en.quadError()));){var tt=Math.pow(pt,.3333333333333333),At=en.split(tt),gt=en.split(1-tt/(1-tt));Ae.push(At),tn.push(en),en=gt}pt<1&&Ae.push(en.split(.5)),Ae.push(en),Array.prototype.push.apply(Ae,tn.reverse())}}catch(Rt){Ft=!0,Wt=Rt}finally{try{_t||null==Gt.return||Gt.return()}finally{if(Ft)throw Wt}}return Ae}(z,ee,(ge.x1-E)/A,(ge.y1-M)/B,(ge.x2-E)/A,(ge.y2-M)/B,Te,Ge),st=0;st<ze.length;st++){var lt=ze[st].toQuadratic();yt([lt.x,lt.x1,lt.cx],[lt.y,lt.y1,lt.cy],lt)}break;default:throw new Error("unknown command type: ".concat(ge.type))}z=Te,ee=Ge}}}catch(Bt){Oe=!0,Y=Bt}finally{try{le||null==re.return||re.return()}finally{if(Oe)throw Y}}for(var Be=N.length,Qe=this.strokeImageInfos.findImage(Be),Je=Qe.index,ot=0;ot<Be;++ot){var Ze=N[ot];c(Qe,Ct(Ze.x),Ct(Ze.y),Ct(Ze.cx),Ct(Ze.cy))}(w=this.glyphInfos[m.index]={glyph:m,uGlyphRect:[R.x1,-R.y1,R.x2,-R.y2],strokeImageInfo:Qe,strokes:N,colInfo:un(J,this.colDimImageInfos,this.colCellImageInfos),rowInfo:un(k,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[w.colInfo.dimOffset,w.rowInfo.dimOffset]}return w;function yt(Bt,mn,Yt){var fn=N.length;function Ot(Ae,Ke,_t){for(var Ft=Ae.length;0<Ft--;){var Wt=Ae[Ft];Wt<Ke&&(Ke=Wt),_t<Wt&&(_t=Wt)}return{min:Ke,max:_t}}N.push(Yt),Yt=Ot(Bt,1,0),Bt=Math.max(Math.floor(9*Yt.min-.5),0);for(var ln=Math.min(Math.ceil(9*Yt.max+.5),9),Vt=Bt;Vt<ln;++Vt)J[Vt].push(fn);Yt=Ot(mn,1,0),Bt=Math.max(Math.floor(9*Yt.min-.5),0);for(var Ve=Math.min(Math.ceil(9*Yt.max+.5),9),Xe=Bt;Xe<Ve;++Xe)k[Xe].push(fn)}function Ct(Bt){return(Bt=255*Bt)<0?0:255<Bt?255:Bt}function sn(Bt,mn,Yt,fn){yt([Bt,Yt],[mn,fn],{x:Bt,y:mn,cx:(Bt+Yt)/2,cy:(mn+fn)/2})}function $t(Bt,mn,Yt,fn){return Math.abs(Yt-Bt)<1e-5&&Math.abs(fn-mn)<1e-5}function un(Bt,mn,Yt){for(var fn=Bt.length,Ot=mn.findImage(fn),ln=(mn=Ot.index,0),Vt=0;Vt<fn;++Vt)ln+=Bt[Vt].length;for(var Ve=Yt.findImage(ln),Xe=0;Xe<fn;++Xe){var Ae=Bt[Xe],Ke=Ae.length,_t=Ve.index;c(Ot,_t>>7,127&_t,Ke>>7,127&Ke);for(var Ft=0;Ft<Ke;++Ft){var Wt=Ae[Ft]+Je;c(Ve,Wt>>7,127&Wt,0,0)}}return{cellImageInfo:Ve,dimOffset:mn,dimImageInfo:Ot}}}}]),p}();y.default.RendererGL.prototype._renderText=function(p,m,w,R,E){if(this._textFont&&"string"!=typeof this._textFont){if(!(E<=R)&&this._doFill){if(this._isOpenType()){p.push(),E=this._doStroke;var M=this.drawMode,A=(this._doStroke=!1,this.drawMode=C.TEXTURE,this._textFont.font),B=(B=this._textFont._fontInfo)||(this._textFont._fontInfo=new h(A)),j=(w=this._textFont._handleAlignment(this,m,w,R),R=this._textSize/A.unitsPerEm,this.translate(w.x,w.y,0),this.scale(R,R,1),this.GL),N=(w=!this._defaultFontShader,this._getFontShader()),k=(N.init(),N.bindShader(),w&&(N.setUniform("uGridImageSize",[64,64]),N.setUniform("uCellsImageSize",[64,64]),N.setUniform("uStrokeImageSize",[64,64]),N.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),J=(k||((R=this._textGeom=new y.default.Geometry(1,1,function(){for(var st=0;st<=1;st++)for(var lt=0;lt<=1;lt++)this.vertices.push(new y.default.Vector(lt,st,0)),this.uvs.push(lt,st)})).computeFaces().computeNormals(),k=this.createBuffers("glyph",R)),!0);w=!1,R=void 0;try{for(var ne,z=this.retainedMode.buffers.text[Symbol.iterator]();!(J=(ne=z.next()).done);J=!0)ne.value._prepareBuffer(k,N)}catch(st){w=!0,R=st}finally{try{J||null==z.return||z.return()}finally{if(w)throw R}}this._bindBuffer(k.indexBuffer,j.ELEMENT_ARRAY_BUFFER),N.setUniform("uMaterialColor",this.curFillColor),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var ee=0,H=null,G=A.stringToGlyphs(m),K=!0,le=!1,Oe=void 0;try{for(var Y,P=G[Symbol.iterator]();!(K=(Y=P.next()).done);K=!0){var re,ge,Te=Y.value,Ge=(H&&(ee+=A.getKerningValue(H,Te)),B.getGlyphInfo(Te));Ge.uGlyphRect&&(re=Ge.rowInfo,ge=Ge.colInfo,N.setUniform("uSamplerStrokes",Ge.strokeImageInfo.imageData),N.setUniform("uSamplerRowStrokes",re.cellImageInfo.imageData),N.setUniform("uSamplerRows",re.dimImageInfo.imageData),N.setUniform("uSamplerColStrokes",ge.cellImageInfo.imageData),N.setUniform("uSamplerCols",ge.dimImageInfo.imageData),N.setUniform("uGridOffset",Ge.uGridOffset),N.setUniform("uGlyphRect",Ge.uGlyphRect),N.setUniform("uGlyphOffset",ee),N.bindTextures(),j.drawElements(j.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),ee+=Te.advanceWidth,H=Te}}catch(st){le=!0,Oe=st}finally{try{K||null==P.return||P.return()}finally{if(le)throw Oe}}}finally{N.unbindShader(),this._doStroke=E,this.drawMode=M,j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),p.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)},4023:(En,qt,me)=>{function O(s){this.mode=pe.MODE_8BIT_BYTE,this.data=s,this.parsedData=[];for(var l=0,a=this.data.length;l<a;l++){var d=[],c=this.data.charCodeAt(l);c>65536?(d[0]=240|(1835008&c)>>>18,d[1]=128|(258048&c)>>>12,d[2]=128|(4032&c)>>>6,d[3]=128|63&c):c>2048?(d[0]=224|(61440&c)>>>12,d[1]=128|(4032&c)>>>6,d[2]=128|63&c):c>128?(d[0]=192|(1984&c)>>>6,d[1]=128|63&c):d[0]=c,this.parsedData.push(d)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function I(s,l){this.typeNumber=s,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}O.prototype={getLength:function(s){return this.parsedData.length},write:function(s){for(var l=0,a=this.parsedData.length;l<a;l++)s.put(this.parsedData[l],8)}},I.prototype={addData:function(s){var l=new O(s);this.dataList.push(l),this.dataCache=null},isDark:function(s,l){if(s<0||this.moduleCount<=s||l<0||this.moduleCount<=l)throw new Error(s+","+l);return this.modules[s][l]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(s,l){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[a][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(s,l),this.typeNumber>=7&&this.setupTypeNumber(s),null==this.dataCache&&(this.dataCache=I.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},setupPositionProbePattern:function(s,l){for(var a=-1;a<=7;a++)if(!(s+a<=-1||this.moduleCount<=s+a))for(var d=-1;d<=7;d++)l+d<=-1||this.moduleCount<=l+d||(this.modules[s+a][l+d]=0<=a&&a<=6&&(0==d||6==d)||0<=d&&d<=6&&(0==a||6==a)||2<=a&&a<=4&&2<=d&&d<=4)},getBestMaskPattern:function(){for(var s=0,l=0,a=0;a<8;a++){this.makeImpl(!0,a);var d=ie.getLostPoint(this);(0==a||s>d)&&(s=d,l=a)}return l},createMovieClip:function(s,l,a){var d=s.createEmptyMovieClip(l,a);this.make();for(var u=0;u<this.modules.length;u++)for(var h=1*u,p=0;p<this.modules[u].length;p++){var m=1*p;this.modules[u][p]&&(d.beginFill(0,100),d.moveTo(m,h),d.lineTo(m+1,h),d.lineTo(m+1,h+1),d.lineTo(m,h+1),d.endFill())}return d},setupTimingPattern:function(){for(var s=8;s<this.moduleCount-8;s++)null==this.modules[s][6]&&(this.modules[s][6]=s%2==0);for(var l=8;l<this.moduleCount-8;l++)null==this.modules[6][l]&&(this.modules[6][l]=l%2==0)},setupPositionAdjustPattern:function(){for(var s=ie.getPatternPosition(this.typeNumber),l=0;l<s.length;l++)for(var a=0;a<s.length;a++){var d=s[l],c=s[a];if(null==this.modules[d][c])for(var u=-2;u<=2;u++)for(var h=-2;h<=2;h++)this.modules[d+u][c+h]=-2==u||2==u||-2==h||2==h||0==u&&0==h}},setupTypeNumber:function(s){for(var l=ie.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var d=!s&&1==(l>>a&1);this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=d}for(a=0;a<18;a++)d=!s&&1==(l>>a&1),this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=d},setupTypeInfo:function(s,l){for(var d=ie.getBCHTypeInfo(this.errorCorrectLevel<<3|l),c=0;c<15;c++){var u=!s&&1==(d>>c&1);c<6?this.modules[c][8]=u:c<8?this.modules[c+1][8]=u:this.modules[this.moduleCount-15+c][8]=u}for(c=0;c<15;c++)u=!s&&1==(d>>c&1),c<8?this.modules[8][this.moduleCount-c-1]=u:c<9?this.modules[8][15-c-1+1]=u:this.modules[8][15-c-1]=u;this.modules[this.moduleCount-8][8]=!s},mapData:function(s,l){for(var a=-1,d=this.moduleCount-1,c=7,u=0,h=this.moduleCount-1;h>0;h-=2)for(6==h&&h--;;){for(var p=0;p<2;p++)if(null==this.modules[d][h-p]){var m=!1;u<s.length&&(m=1==(s[u]>>>c&1)),ie.getMask(l,d,h-p)&&(m=!m),this.modules[d][h-p]=m,-1==--c&&(u++,c=7)}if((d+=a)<0||this.moduleCount<=d){d-=a,a=-a;break}}}},I.PAD0=236,I.PAD1=17,I.createData=function(s,l,a){for(var d=g.getRSBlocks(s,l),c=new y,u=0;u<a.length;u++){var h=a[u];c.put(h.mode,4),c.put(h.getLength(),ie.getLengthInBits(h.mode,s)),h.write(c)}var p=0;for(u=0;u<d.length;u++)p+=d[u].dataCount;if(c.getLengthInBits()>8*p)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+8*p+")");for(c.getLengthInBits()+4<=8*p&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*p||(c.put(I.PAD0,8),c.getLengthInBits()>=8*p));)c.put(I.PAD1,8);return I.createBytes(c,d)},I.createBytes=function(s,l){for(var a=0,d=0,c=0,u=new Array(l.length),h=new Array(l.length),p=0;p<l.length;p++){var m=l[p].dataCount,w=l[p].totalCount-m;d=Math.max(d,m),c=Math.max(c,w),u[p]=new Array(m);for(var R=0;R<u[p].length;R++)u[p][R]=255&s.buffer[R+a];a+=m;var E=ie.getErrorCorrectPolynomial(w),A=new b(u[p],E.getLength()-1).mod(E);for(h[p]=new Array(E.getLength()-1),R=0;R<h[p].length;R++){var B=R+A.getLength()-h[p].length;h[p][R]=B>=0?A.get(B):0}}var j=0;for(R=0;R<l.length;R++)j+=l[R].totalCount;var N=new Array(j),k=0;for(R=0;R<d;R++)for(p=0;p<l.length;p++)R<u[p].length&&(N[k++]=u[p][R]);for(R=0;R<c;R++)for(p=0;p<l.length;p++)R<h[p].length&&(N[k++]=h[p][R]);return N};for(var pe={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},mt={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ie={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var l=s<<10;ie.getBCHDigit(l)-ie.getBCHDigit(ie.G15)>=0;)l^=ie.G15<<ie.getBCHDigit(l)-ie.getBCHDigit(ie.G15);return(s<<10|l)^ie.G15_MASK},getBCHTypeNumber:function(s){for(var l=s<<12;ie.getBCHDigit(l)-ie.getBCHDigit(ie.G18)>=0;)l^=ie.G18<<ie.getBCHDigit(l)-ie.getBCHDigit(ie.G18);return s<<12|l},getBCHDigit:function(s){for(var l=0;0!=s;)l++,s>>>=1;return l},getPatternPosition:function(s){return ie.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,l,a){switch(s){case o.PATTERN000:return(l+a)%2==0;case o.PATTERN001:return l%2==0;case o.PATTERN010:return a%3==0;case o.PATTERN011:return(l+a)%3==0;case o.PATTERN100:return(Math.floor(l/2)+Math.floor(a/3))%2==0;case o.PATTERN101:return l*a%2+l*a%3==0;case o.PATTERN110:return(l*a%2+l*a%3)%2==0;case o.PATTERN111:return(l*a%3+(l+a)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var l=new b([1],0),a=0;a<s;a++)l=l.multiply(new b([1,$.gexp(a)],0));return l},getLengthInBits:function(s,l){if(1<=l&&l<10)switch(s){case pe.MODE_NUMBER:return 10;case pe.MODE_ALPHA_NUM:return 9;case pe.MODE_8BIT_BYTE:case pe.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(l<27)switch(s){case pe.MODE_NUMBER:return 12;case pe.MODE_ALPHA_NUM:return 11;case pe.MODE_8BIT_BYTE:return 16;case pe.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else{if(!(l<41))throw new Error("type:"+l);switch(s){case pe.MODE_NUMBER:return 14;case pe.MODE_ALPHA_NUM:return 13;case pe.MODE_8BIT_BYTE:return 16;case pe.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}}},getLostPoint:function(s){for(var l=s.getModuleCount(),a=0,d=0;d<l;d++)for(var c=0;c<l;c++){for(var u=0,h=s.isDark(d,c),p=-1;p<=1;p++)if(!(d+p<0||l<=d+p))for(var m=-1;m<=1;m++)c+m<0||l<=c+m||0==p&&0==m||h==s.isDark(d+p,c+m)&&u++;u>5&&(a+=3+u-5)}for(d=0;d<l-1;d++)for(c=0;c<l-1;c++){var w=0;s.isDark(d,c)&&w++,s.isDark(d+1,c)&&w++,s.isDark(d,c+1)&&w++,s.isDark(d+1,c+1)&&w++,(0==w||4==w)&&(a+=3)}for(d=0;d<l;d++)for(c=0;c<l-6;c++)s.isDark(d,c)&&!s.isDark(d,c+1)&&s.isDark(d,c+2)&&s.isDark(d,c+3)&&s.isDark(d,c+4)&&!s.isDark(d,c+5)&&s.isDark(d,c+6)&&(a+=40);for(c=0;c<l;c++)for(d=0;d<l-6;d++)s.isDark(d,c)&&!s.isDark(d+1,c)&&s.isDark(d+2,c)&&s.isDark(d+3,c)&&s.isDark(d+4,c)&&!s.isDark(d+5,c)&&s.isDark(d+6,c)&&(a+=40);var R=0;for(c=0;c<l;c++)for(d=0;d<l;d++)s.isDark(d,c)&&R++;return a+Math.abs(100*R/l/l-50)/5*10}},$={glog:function(s){if(s<1)throw new Error("glog("+s+")");return $.LOG_TABLE[s]},gexp:function(s){for(;s<0;)s+=255;for(;s>=256;)s-=255;return $.EXP_TABLE[s]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)$.EXP_TABLE[v]=1<<v;for(v=8;v<256;v++)$.EXP_TABLE[v]=$.EXP_TABLE[v-4]^$.EXP_TABLE[v-5]^$.EXP_TABLE[v-6]^$.EXP_TABLE[v-8];for(v=0;v<255;v++)$.LOG_TABLE[$.EXP_TABLE[v]]=v;function b(s,l){if(null==s.length)throw new Error(s.length+"/"+l);for(var a=0;a<s.length&&0==s[a];)a++;this.num=new Array(s.length-a+l);for(var d=0;d<s.length-a;d++)this.num[d]=s[d+a]}function g(s,l){this.totalCount=s,this.dataCount=l}function y(){this.buffer=[],this.length=0}b.prototype={get:function(s){return this.num[s]},getLength:function(){return this.num.length},multiply:function(s){for(var l=new Array(this.getLength()+s.getLength()-1),a=0;a<this.getLength();a++)for(var d=0;d<s.getLength();d++)l[a+d]^=$.gexp($.glog(this.get(a))+$.glog(s.get(d)));return new b(l,0)},mod:function(s){if(this.getLength()-s.getLength()<0)return this;for(var l=$.glog(this.get(0))-$.glog(s.get(0)),a=new Array(this.getLength()),d=0;d<this.getLength();d++)a[d]=this.get(d);for(d=0;d<s.getLength();d++)a[d]^=$.gexp($.glog(s.get(d))+l);return new b(a,0).mod(s)}},g.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],g.getRSBlocks=function(s,l){var a=g.getRsBlockTable(s,l);if(null==a)throw new Error("bad rs block @ typeNumber:"+s+"/errorCorrectLevel:"+l);for(var d=a.length/3,c=[],u=0;u<d;u++)for(var h=a[3*u+0],p=a[3*u+1],m=a[3*u+2],w=0;w<h;w++)c.push(new g(p,m));return c},g.getRsBlockTable=function(s,l){switch(l){case mt.L:return g.RS_BLOCK_TABLE[4*(s-1)+0];case mt.M:return g.RS_BLOCK_TABLE[4*(s-1)+1];case mt.Q:return g.RS_BLOCK_TABLE[4*(s-1)+2];case mt.H:return g.RS_BLOCK_TABLE[4*(s-1)+3];default:return}},y.prototype={get:function(s){var l=Math.floor(s/8);return 1==(this.buffer[l]>>>7-s%8&1)},put:function(s,l){for(var a=0;a<l;a++)this.putBit(1==(s>>>l-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(s){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),s&&(this.buffer[l]|=128>>>this.length%8),this.length++}};var C=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function _(s){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof s&&(s={content:s}),s)for(var a in s)this.options[a]=s[a];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var h=this.options.content,p=function c(w,R){for(var E=function u(w){var R=encodeURI(w).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return R.length+(R.length!=w?3:0)}(w),M=1,A=0,B=0,j=C.length;B<=j;B++){var N=C[B];if(!N)throw new Error("Content too long: expected "+A+" but got "+E);switch(R){case"L":A=N[0];break;case"M":A=N[1];break;case"Q":A=N[2];break;case"H":A=N[3];break;default:throw new Error("Unknwon error correction level: "+R)}if(E<=A)break;M++}if(M>C.length)throw new Error("Content too long");return M}(h,this.options.ecl),m=function d(w){switch(w){case"L":return mt.L;case"M":return mt.M;case"Q":return mt.Q;case"H":return mt.H;default:throw new Error("Unknwon error correction level: "+w)}}(this.options.ecl);this.qrcode=new I(p,m),this.qrcode.addData(h),this.qrcode.make()}_.prototype.svg=function(s){var l=this.options||{},a=this.qrcode.modules;typeof s>"u"&&(s={container:l.container||"svg"});for(var d=!(typeof l.pretty<"u"&&!l.pretty),c=d?"  ":"",u=d?"\r\n":"",h=l.width,p=l.height,m=a.length,w=h/(m+2*l.padding),R=p/(m+2*l.padding),E=typeof l.join<"u"&&!!l.join,M=typeof l.swap<"u"&&!!l.swap,A=!(typeof l.xmlDeclaration<"u"&&!l.xmlDeclaration),B=typeof l.predefined<"u"&&!!l.predefined,j=B?c+'<defs><path id="qrmodule" d="M0 0 h'+R+" v"+w+' H0 z" style="fill:'+l.color+';shape-rendering:crispEdges;" /></defs>'+u:"",N=c+'<rect x="0" y="0" width="'+h+'" height="'+p+'" style="fill:'+l.background+';shape-rendering:crispEdges;"/>'+u,k="",J="",ne=0;ne<m;ne++)for(var z=0;z<m;z++)if(a[z][ne]){var H=z*w+l.padding*w,G=ne*R+l.padding*R;if(M){var K=H;H=G,G=K}if(E){var le=w+H,Oe=R+G;H=Number.isInteger(H)?Number(H):H.toFixed(2),G=Number.isInteger(G)?Number(G):G.toFixed(2),le=Number.isInteger(le)?Number(le):le.toFixed(2),J+="M"+H+","+G+" V"+(Oe=Number.isInteger(Oe)?Number(Oe):Oe.toFixed(2))+" H"+le+" V"+G+" H"+H+" Z "}else k+=B?c+'<use x="'+H.toString()+'" y="'+G.toString()+'" href="#qrmodule" />'+u:c+'<rect x="'+H.toString()+'" y="'+G.toString()+'" width="'+w+'" height="'+R+'" style="fill:'+l.color+';shape-rendering:crispEdges;"/>'+u}E&&(k=c+'<path x="0" y="0" style="fill:'+l.color+';shape-rendering:crispEdges;" d="'+J+'" />');var Y="";switch(s.container){case"svg":A&&(Y+='<?xml version="1.0" standalone="yes"?>'+u),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+h+'" height="'+p+'">'+u,Y+=j+N+k,Y+="</svg>";break;case"svg-viewbox":A&&(Y+='<?xml version="1.0" standalone="yes"?>'+u),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+h+" "+p+'">'+u,Y+=j+N+k,Y+="</svg>";break;case"g":Y+='<g width="'+h+'" height="'+p+'">'+u,Y+=j+N+k,Y+="</g>";break;default:Y+=(j+N+k).replace(/^\s+/,"")}return Y},_.prototype.save=function(s,l){var a=this.svg();"function"!=typeof l&&(l=function(c,u){});try{me(Object(function(){var u=new Error("Cannot find module 'fs'");throw u.code="MODULE_NOT_FOUND",u}())).writeFile(s,a,l)}catch(c){l(c)}},En.exports=_},4412:(En,qt,me)=>{"use strict";me.d(qt,{t:()=>I});var O=me(1413);class I extends O.B{constructor(mt){super(),this._value=mt}get value(){return this.getValue()}_subscribe(mt){const o=super._subscribe(mt);return!o.closed&&mt.next(this._value),o}getValue(){const{hasError:mt,thrownError:o,_value:ie}=this;if(mt)throw o;return this._throwIfClosed(),ie}next(mt){super.next(this._value=mt)}}},1985:(En,qt,me)=>{"use strict";me.d(qt,{c:()=>v});var O=me(7707),I=me(8359),pe=me(3494),mt=me(1203),o=me(1026),ie=me(8071),$=me(9786);let v=(()=>{class C{constructor(s){s&&(this._subscribe=s)}lift(s){const l=new C;return l.source=this,l.operator=s,l}subscribe(s,l,a){const d=function y(C){return C&&C instanceof O.vU||function g(C){return C&&(0,ie.T)(C.next)&&(0,ie.T)(C.error)&&(0,ie.T)(C.complete)}(C)&&(0,I.Uv)(C)}(s)?s:new O.Ms(s,l,a);return(0,$.Y)(()=>{const{operator:c,source:u}=this;d.add(c?c.call(d,u):u?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(s){try{return this._subscribe(s)}catch(l){s.error(l)}}forEach(s,l){return new(l=b(l))((a,d)=>{const c=new O.Ms({next:u=>{try{s(u)}catch(h){d(h),c.unsubscribe()}},error:d,complete:a});this.subscribe(c)})}_subscribe(s){var l;return null===(l=this.source)||void 0===l?void 0:l.subscribe(s)}[pe.s](){return this}pipe(...s){return(0,mt.m)(s)(this)}toPromise(s){return new(s=b(s))((l,a)=>{let d;this.subscribe(c=>d=c,c=>a(c),()=>l(d))})}}return C.create=_=>new C(_),C})();function b(C){var _;return null!==(_=null!=C?C:o.$.Promise)&&void 0!==_?_:Promise}},1413:(En,qt,me)=>{"use strict";me.d(qt,{B:()=>$});var O=me(1985),I=me(8359);const mt=(0,me(1853).L)(b=>function(){b(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=me(7908),ie=me(9786);let $=(()=>{class b extends O.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(y){const C=new v(this,this);return C.operator=y,C}_throwIfClosed(){if(this.closed)throw new mt}next(y){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const C of this.currentObservers)C.next(y)}})}error(y){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=y;const{observers:C}=this;for(;C.length;)C.shift().error(y)}})}complete(){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:y}=this;for(;y.length;)y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var y;return(null===(y=this.observers)||void 0===y?void 0:y.length)>0}_trySubscribe(y){return this._throwIfClosed(),super._trySubscribe(y)}_subscribe(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)}_innerSubscribe(y){const{hasError:C,isStopped:_,observers:s}=this;return C||_?I.Kn:(this.currentObservers=null,s.push(y),new I.yU(()=>{this.currentObservers=null,(0,o.o)(s,y)}))}_checkFinalizedStatuses(y){const{hasError:C,thrownError:_,isStopped:s}=this;C?y.error(_):s&&y.complete()}asObservable(){const y=new O.c;return y.source=this,y}}return b.create=(g,y)=>new v(g,y),b})();class v extends ${constructor(g,y){super(),this.destination=g,this.source=y}next(g){var y,C;null===(C=null===(y=this.destination)||void 0===y?void 0:y.next)||void 0===C||C.call(y,g)}error(g){var y,C;null===(C=null===(y=this.destination)||void 0===y?void 0:y.error)||void 0===C||C.call(y,g)}complete(){var g,y;null===(y=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===y||y.call(g)}_subscribe(g){var y,C;return null!==(C=null===(y=this.source)||void 0===y?void 0:y.subscribe(g))&&void 0!==C?C:I.Kn}}},7707:(En,qt,me)=>{"use strict";me.d(qt,{Ms:()=>a,vU:()=>C});var O=me(8071),I=me(8359),pe=me(1026),mt=me(5334),o=me(5343);const ie=b("C",void 0,void 0);function b(p,m,w){return{kind:p,value:m,error:w}}var g=me(9270),y=me(9786);class C extends I.yU{constructor(m){super(),this.isStopped=!1,m?(this.destination=m,(0,I.Uv)(m)&&m.add(this)):this.destination=h}static create(m,w,R){return new a(m,w,R)}next(m){this.isStopped?u(function v(p){return b("N",p,void 0)}(m),this):this._next(m)}error(m){this.isStopped?u(function $(p){return b("E",void 0,p)}(m),this):(this.isStopped=!0,this._error(m))}complete(){this.isStopped?u(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(m){this.destination.next(m)}_error(m){try{this.destination.error(m)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _=Function.prototype.bind;function s(p,m){return _.call(p,m)}class l{constructor(m){this.partialObserver=m}next(m){const{partialObserver:w}=this;if(w.next)try{w.next(m)}catch(R){d(R)}}error(m){const{partialObserver:w}=this;if(w.error)try{w.error(m)}catch(R){d(R)}else d(m)}complete(){const{partialObserver:m}=this;if(m.complete)try{m.complete()}catch(w){d(w)}}}class a extends C{constructor(m,w,R){let E;if(super(),(0,O.T)(m)||!m)E={next:null!=m?m:void 0,error:null!=w?w:void 0,complete:null!=R?R:void 0};else{let M;this&&pe.$.useDeprecatedNextContext?(M=Object.create(m),M.unsubscribe=()=>this.unsubscribe(),E={next:m.next&&s(m.next,M),error:m.error&&s(m.error,M),complete:m.complete&&s(m.complete,M)}):E=m}this.destination=new l(E)}}function d(p){pe.$.useDeprecatedSynchronousErrorHandling?(0,y.l)(p):(0,mt.m)(p)}function u(p,m){const{onStoppedNotification:w}=pe.$;w&&g.f.setTimeout(()=>w(p,m))}const h={closed:!0,next:o.l,error:function c(p){throw p},complete:o.l}},8359:(En,qt,me)=>{"use strict";me.d(qt,{Kn:()=>ie,yU:()=>o,Uv:()=>$});var O=me(8071);const pe=(0,me(1853).L)(b=>function(y){b(this),this.message=y?`${y.length} errors occurred during unsubscription:\n${y.map((C,_)=>`${_+1}) ${C.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=y});var mt=me(7908);class o{constructor(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let g;if(!this.closed){this.closed=!0;const{_parentage:y}=this;if(y)if(this._parentage=null,Array.isArray(y))for(const s of y)s.remove(this);else y.remove(this);const{initialTeardown:C}=this;if((0,O.T)(C))try{C()}catch(s){g=s instanceof pe?s.errors:[s]}const{_finalizers:_}=this;if(_){this._finalizers=null;for(const s of _)try{v(s)}catch(l){g=null!=g?g:[],l instanceof pe?g=[...g,...l.errors]:g.push(l)}}if(g)throw new pe(g)}}add(g){var y;if(g&&g!==this)if(this.closed)v(g);else{if(g instanceof o){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=null!==(y=this._finalizers)&&void 0!==y?y:[]).push(g)}}_hasParent(g){const{_parentage:y}=this;return y===g||Array.isArray(y)&&y.includes(g)}_addParent(g){const{_parentage:y}=this;this._parentage=Array.isArray(y)?(y.push(g),y):y?[y,g]:g}_removeParent(g){const{_parentage:y}=this;y===g?this._parentage=null:Array.isArray(y)&&(0,mt.o)(y,g)}remove(g){const{_finalizers:y}=this;y&&(0,mt.o)(y,g),g instanceof o&&g._removeParent(this)}}o.EMPTY=(()=>{const b=new o;return b.closed=!0,b})();const ie=o.EMPTY;function $(b){return b instanceof o||b&&"closed"in b&&(0,O.T)(b.remove)&&(0,O.T)(b.add)&&(0,O.T)(b.unsubscribe)}function v(b){(0,O.T)(b)?b():b.unsubscribe()}},1026:(En,qt,me)=>{"use strict";me.d(qt,{$:()=>O});const O={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(En,qt,me)=>{"use strict";me.d(qt,{G:()=>ie});var O=me(1985),I=me(8359),pe=me(9898),mt=me(4360),o=me(9974);class ie extends O.c{constructor(v,b){super(),this.source=v,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,o.S)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new I.yU;const b=this.getSubject();v.add(this.source.subscribe((0,mt._)(b,void 0,()=>{this._teardown(),b.complete()},g=>{this._teardown(),b.error(g)},()=>this._teardown()))),v.closed&&(this._connection=null,v=I.yU.EMPTY)}return v}refCount(){return(0,pe.B)()(this)}}},4572:(En,qt,me)=>{"use strict";me.d(qt,{z:()=>g});var O=me(1985),I=me(3073),pe=me(6648),mt=me(3669),o=me(6450),ie=me(9326),$=me(8496),v=me(4360),b=me(5225);function g(..._){const s=(0,ie.lI)(_),l=(0,ie.ms)(_),{args:a,keys:d}=(0,I.D)(_);if(0===a.length)return(0,pe.H)([],s);const c=new O.c(function y(_,s,l=mt.D){return a=>{C(s,()=>{const{length:d}=_,c=new Array(d);let u=d,h=d;for(let p=0;p<d;p++)C(s,()=>{const m=(0,pe.H)(_[p],s);let w=!1;m.subscribe((0,v._)(a,R=>{c[p]=R,w||(w=!0,h--),h||a.next(l(c.slice()))},()=>{--u||a.complete()}))},a)},a)}}(a,s,d?u=>(0,$.e)(d,u):mt.D));return l?c.pipe((0,o.I)(l)):c}function C(_,s,l){_?(0,b.N)(l,_,s):s()}},8793:(En,qt,me)=>{"use strict";me.d(qt,{x:()=>o});var O=me(6365),pe=me(9326),mt=me(6648);function o(...ie){return function I(){return(0,O.U)(1)}()((0,mt.H)(ie,(0,pe.lI)(ie)))}},9030:(En,qt,me)=>{"use strict";me.d(qt,{v:()=>pe});var O=me(1985),I=me(8750);function pe(mt){return new O.c(o=>{(0,I.Tg)(mt()).subscribe(o)})}},983:(En,qt,me)=>{"use strict";me.d(qt,{w:()=>I});const I=new(me(1985).c)(o=>o.complete())},6648:(En,qt,me)=>{"use strict";me.d(qt,{H:()=>R});var O=me(8750),I=me(5225),pe=me(9974),mt=me(4360);function o(E,M=0){return(0,pe.N)((A,B)=>{A.subscribe((0,mt._)(B,j=>(0,I.N)(B,E,()=>B.next(j),M),()=>(0,I.N)(B,E,()=>B.complete(),M),j=>(0,I.N)(B,E,()=>B.error(j),M)))})}function ie(E,M=0){return(0,pe.N)((A,B)=>{B.add(E.schedule(()=>A.subscribe(B),M))})}var b=me(1985),y=me(4761),C=me(8071);function s(E,M){if(!E)throw new Error("Iterable cannot be null");return new b.c(A=>{(0,I.N)(A,M,()=>{const B=E[Symbol.asyncIterator]();(0,I.N)(A,M,()=>{B.next().then(j=>{j.done?A.complete():A.next(j.value)})},0,!0)})})}var l=me(5055),a=me(7477),d=me(7441),c=me(5397),u=me(7953),h=me(591),p=me(5196);function R(E,M){return M?function w(E,M){if(null!=E){if((0,l.l)(E))return function $(E,M){return(0,O.Tg)(E).pipe(ie(M),o(M))}(E,M);if((0,d.X)(E))return function g(E,M){return new b.c(A=>{let B=0;return M.schedule(function(){B===E.length?A.complete():(A.next(E[B++]),A.closed||this.schedule())})})}(E,M);if((0,a.y)(E))return function v(E,M){return(0,O.Tg)(E).pipe(ie(M),o(M))}(E,M);if((0,u.T)(E))return s(E,M);if((0,c.x)(E))return function _(E,M){return new b.c(A=>{let B;return(0,I.N)(A,M,()=>{B=E[y.l](),(0,I.N)(A,M,()=>{let j,N;try{({value:j,done:N}=B.next())}catch(k){return void A.error(k)}N?A.complete():A.next(j)},0,!0)}),()=>(0,C.T)(null==B?void 0:B.return)&&B.return()})}(E,M);if((0,p.U)(E))return function m(E,M){return s((0,p.C)(E),M)}(E,M)}throw(0,h.L)(E)}(E,M):(0,O.Tg)(E)}},3726:(En,qt,me)=>{"use strict";me.d(qt,{R:()=>g});var O=me(8750),I=me(1985),pe=me(1397),mt=me(7441),o=me(8071),ie=me(6450);const $=["addListener","removeListener"],v=["addEventListener","removeEventListener"],b=["on","off"];function g(l,a,d,c){if((0,o.T)(d)&&(c=d,d=void 0),c)return g(l,a,d).pipe((0,ie.I)(c));const[u,h]=function s(l){return(0,o.T)(l.addEventListener)&&(0,o.T)(l.removeEventListener)}(l)?v.map(p=>m=>l[p](a,m,d)):function C(l){return(0,o.T)(l.addListener)&&(0,o.T)(l.removeListener)}(l)?$.map(y(l,a)):function _(l){return(0,o.T)(l.on)&&(0,o.T)(l.off)}(l)?b.map(y(l,a)):[];if(!u&&(0,mt.X)(l))return(0,pe.Z)(p=>g(p,a,d))((0,O.Tg)(l));if(!u)throw new TypeError("Invalid event target");return new I.c(p=>{const m=(...w)=>p.next(1<w.length?w:w[0]);return u(m),()=>h(m)})}function y(l,a){return d=>c=>l[d](a,c)}},8750:(En,qt,me)=>{"use strict";me.d(qt,{Tg:()=>_});var O=me(1635),I=me(7441),pe=me(7477),mt=me(1985),o=me(5055),ie=me(7953),$=me(591),v=me(5397),b=me(5196),g=me(8071),y=me(5334),C=me(3494);function _(p){if(p instanceof mt.c)return p;if(null!=p){if((0,o.l)(p))return function s(p){return new mt.c(m=>{const w=p[C.s]();if((0,g.T)(w.subscribe))return w.subscribe(m);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if((0,I.X)(p))return function l(p){return new mt.c(m=>{for(let w=0;w<p.length&&!m.closed;w++)m.next(p[w]);m.complete()})}(p);if((0,pe.y)(p))return function a(p){return new mt.c(m=>{p.then(w=>{m.closed||(m.next(w),m.complete())},w=>m.error(w)).then(null,y.m)})}(p);if((0,ie.T)(p))return c(p);if((0,v.x)(p))return function d(p){return new mt.c(m=>{for(const w of p)if(m.next(w),m.closed)return;m.complete()})}(p);if((0,b.U)(p))return function u(p){return c((0,b.C)(p))}(p)}throw(0,$.L)(p)}function c(p){return new mt.c(m=>{(function h(p,m){var w,R,E,M;return(0,O.sH)(this,void 0,void 0,function*(){try{for(w=(0,O.xN)(p);!(R=yield w.next()).done;)if(m.next(R.value),m.closed)return}catch(A){E={error:A}}finally{try{R&&!R.done&&(M=w.return)&&(yield M.call(w))}finally{if(E)throw E.error}}m.complete()})})(p,m).catch(w=>m.error(w))})}},7673:(En,qt,me)=>{"use strict";me.d(qt,{of:()=>pe});var O=me(9326),I=me(6648);function pe(...mt){const o=(0,O.lI)(mt);return(0,I.H)(mt,o)}},8810:(En,qt,me)=>{"use strict";me.d(qt,{$:()=>pe});var O=me(1985),I=me(8071);function pe(mt,o){const ie=(0,I.T)(mt)?mt:()=>mt,$=v=>v.error(ie());return new O.c(o?v=>o.schedule($,0,v):$)}},4360:(En,qt,me)=>{"use strict";me.d(qt,{_:()=>I});var O=me(7707);function I(mt,o,ie,$,v){return new pe(mt,o,ie,$,v)}class pe extends O.vU{constructor(o,ie,$,v,b,g){super(o),this.onFinalize=b,this.shouldUnsubscribe=g,this._next=ie?function(y){try{ie(y)}catch(C){o.error(C)}}:super._next,this._error=v?function(y){try{v(y)}catch(C){o.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=$?function(){try{$()}catch(y){o.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}}}},5964:(En,qt,me)=>{"use strict";me.d(qt,{p:()=>pe});var O=me(9974),I=me(4360);function pe(mt,o){return(0,O.N)((ie,$)=>{let v=0;ie.subscribe((0,I._)($,b=>mt.call(o,b,v++)&&$.next(b)))})}},6354:(En,qt,me)=>{"use strict";me.d(qt,{T:()=>pe});var O=me(9974),I=me(4360);function pe(mt,o){return(0,O.N)((ie,$)=>{let v=0;ie.subscribe((0,I._)($,b=>{$.next(mt.call(o,b,v++))}))})}},3703:(En,qt,me)=>{"use strict";me.d(qt,{u:()=>I});var O=me(6354);function I(pe){return(0,O.T)(()=>pe)}},6365:(En,qt,me)=>{"use strict";me.d(qt,{U:()=>pe});var O=me(1397),I=me(3669);function pe(mt=1/0){return(0,O.Z)(I.D,mt)}},1397:(En,qt,me)=>{"use strict";me.d(qt,{Z:()=>v});var O=me(6354),I=me(8750),pe=me(9974),mt=me(5225),o=me(4360),$=me(8071);function v(b,g,y=1/0){return(0,$.T)(g)?v((C,_)=>(0,O.T)((s,l)=>g(C,s,_,l))((0,I.Tg)(b(C,_))),y):("number"==typeof g&&(y=g),(0,pe.N)((C,_)=>function ie(b,g,y,C,_,s,l,a){const d=[];let c=0,u=0,h=!1;const p=()=>{h&&!d.length&&!c&&g.complete()},m=R=>c<C?w(R):d.push(R),w=R=>{s&&g.next(R),c++;let E=!1;(0,I.Tg)(y(R,u++)).subscribe((0,o._)(g,M=>{null==_||_(M),s?m(M):g.next(M)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;d.length&&c<C;){const M=d.shift();l?(0,mt.N)(g,l,()=>w(M)):w(M)}p()}catch(M){g.error(M)}}))};return b.subscribe((0,o._)(g,m,()=>{h=!0,p()})),()=>{null==a||a()}}(C,_,b,y)))}},9898:(En,qt,me)=>{"use strict";me.d(qt,{B:()=>pe});var O=me(9974),I=me(4360);function pe(){return(0,O.N)((mt,o)=>{let ie=null;mt._refCount++;const $=(0,I._)(o,void 0,void 0,void 0,()=>{if(!mt||mt._refCount<=0||0<--mt._refCount)return void(ie=null);const v=mt._connection,b=ie;ie=null,v&&(!b||v===b)&&v.unsubscribe(),o.unsubscribe()});mt.subscribe($),$.closed||(ie=mt.connect())})}},5558:(En,qt,me)=>{"use strict";me.d(qt,{n:()=>mt});var O=me(8750),I=me(9974),pe=me(4360);function mt(o,ie){return(0,I.N)(($,v)=>{let b=null,g=0,y=!1;const C=()=>y&&!b&&v.complete();$.subscribe((0,pe._)(v,_=>{null==b||b.unsubscribe();let s=0;const l=g++;(0,O.Tg)(o(_,l)).subscribe(b=(0,pe._)(v,a=>v.next(ie?ie(_,a,l,s++):a),()=>{b=null,C()}))},()=>{y=!0,C()}))})}},6697:(En,qt,me)=>{"use strict";me.d(qt,{s:()=>mt});var O=me(983),I=me(9974),pe=me(4360);function mt(o){return o<=0?()=>O.w:(0,I.N)((ie,$)=>{let v=0;ie.subscribe((0,pe._)($,b=>{++v<=o&&($.next(b),o<=v&&$.complete())}))})}},8141:(En,qt,me)=>{"use strict";me.d(qt,{M:()=>o});var O=me(8071),I=me(9974),pe=me(4360),mt=me(3669);function o(ie,$,v){const b=(0,O.T)(ie)||$||v?{next:ie,error:$,complete:v}:ie;return b?(0,I.N)((g,y)=>{var C;null===(C=b.subscribe)||void 0===C||C.call(b);let _=!0;g.subscribe((0,pe._)(y,s=>{var l;null===(l=b.next)||void 0===l||l.call(b,s),y.next(s)},()=>{var s;_=!1,null===(s=b.complete)||void 0===s||s.call(b),y.complete()},s=>{var l;_=!1,null===(l=b.error)||void 0===l||l.call(b,s),y.error(s)},()=>{var s,l;_&&(null===(s=b.unsubscribe)||void 0===s||s.call(b)),null===(l=b.finalize)||void 0===l||l.call(b)}))}):mt.D}},9270:(En,qt,me)=>{"use strict";me.d(qt,{f:()=>O});const O={setTimeout(I,pe,...mt){const{delegate:o}=O;return null!=o&&o.setTimeout?o.setTimeout(I,pe,...mt):setTimeout(I,pe,...mt)},clearTimeout(I){const{delegate:pe}=O;return((null==pe?void 0:pe.clearTimeout)||clearTimeout)(I)},delegate:void 0}},4761:(En,qt,me)=>{"use strict";me.d(qt,{l:()=>I});const I=function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(En,qt,me)=>{"use strict";me.d(qt,{s:()=>O});const O="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(En,qt,me)=>{"use strict";me.d(qt,{R0:()=>ie,lI:()=>o,ms:()=>mt});var O=me(8071),I=me(9470);function pe($){return $[$.length-1]}function mt($){return(0,O.T)(pe($))?$.pop():void 0}function o($){return(0,I.m)(pe($))?$.pop():void 0}function ie($,v){return"number"==typeof pe($)?$.pop():v}},3073:(En,qt,me)=>{"use strict";me.d(qt,{D:()=>o});const{isArray:O}=Array,{getPrototypeOf:I,prototype:pe,keys:mt}=Object;function o($){if(1===$.length){const v=$[0];if(O(v))return{args:v,keys:null};if(function ie($){return $&&"object"==typeof $&&I($)===pe}(v)){const b=mt(v);return{args:b.map(g=>v[g]),keys:b}}}return{args:$,keys:null}}},7908:(En,qt,me)=>{"use strict";function O(I,pe){if(I){const mt=I.indexOf(pe);0<=mt&&I.splice(mt,1)}}me.d(qt,{o:()=>O})},1853:(En,qt,me)=>{"use strict";function O(I){const mt=I(o=>{Error.call(o),o.stack=(new Error).stack});return mt.prototype=Object.create(Error.prototype),mt.prototype.constructor=mt,mt}me.d(qt,{L:()=>O})},8496:(En,qt,me)=>{"use strict";function O(I,pe){return I.reduce((mt,o,ie)=>(mt[o]=pe[ie],mt),{})}me.d(qt,{e:()=>O})},9786:(En,qt,me)=>{"use strict";me.d(qt,{Y:()=>pe,l:()=>mt});var O=me(1026);let I=null;function pe(o){if(O.$.useDeprecatedSynchronousErrorHandling){const ie=!I;if(ie&&(I={errorThrown:!1,error:null}),o(),ie){const{errorThrown:$,error:v}=I;if(I=null,$)throw v}}else o()}function mt(o){O.$.useDeprecatedSynchronousErrorHandling&&I&&(I.errorThrown=!0,I.error=o)}},5225:(En,qt,me)=>{"use strict";function O(I,pe,mt,o=0,ie=!1){const $=pe.schedule(function(){mt(),ie?I.add(this.schedule(null,o)):this.unsubscribe()},o);if(I.add($),!ie)return $}me.d(qt,{N:()=>O})},3669:(En,qt,me)=>{"use strict";function O(I){return I}me.d(qt,{D:()=>O})},7441:(En,qt,me)=>{"use strict";me.d(qt,{X:()=>O});const O=I=>I&&"number"==typeof I.length&&"function"!=typeof I},7953:(En,qt,me)=>{"use strict";me.d(qt,{T:()=>I});var O=me(8071);function I(pe){return Symbol.asyncIterator&&(0,O.T)(null==pe?void 0:pe[Symbol.asyncIterator])}},8071:(En,qt,me)=>{"use strict";function O(I){return"function"==typeof I}me.d(qt,{T:()=>O})},5055:(En,qt,me)=>{"use strict";me.d(qt,{l:()=>pe});var O=me(3494),I=me(8071);function pe(mt){return(0,I.T)(mt[O.s])}},5397:(En,qt,me)=>{"use strict";me.d(qt,{x:()=>pe});var O=me(4761),I=me(8071);function pe(mt){return(0,I.T)(null==mt?void 0:mt[O.l])}},7477:(En,qt,me)=>{"use strict";me.d(qt,{y:()=>I});var O=me(8071);function I(pe){return(0,O.T)(null==pe?void 0:pe.then)}},5196:(En,qt,me)=>{"use strict";me.d(qt,{C:()=>pe,U:()=>mt});var O=me(1635),I=me(8071);function pe(o){return(0,O.AQ)(this,arguments,function*(){const $=o.getReader();try{for(;;){const{value:v,done:b}=yield(0,O.N3)($.read());if(b)return yield(0,O.N3)(void 0);yield yield(0,O.N3)(v)}}finally{$.releaseLock()}})}function mt(o){return(0,I.T)(null==o?void 0:o.getReader)}},9470:(En,qt,me)=>{"use strict";me.d(qt,{m:()=>I});var O=me(8071);function I(pe){return pe&&(0,O.T)(pe.schedule)}},9974:(En,qt,me)=>{"use strict";me.d(qt,{N:()=>pe,S:()=>I});var O=me(8071);function I(mt){return(0,O.T)(null==mt?void 0:mt.lift)}function pe(mt){return o=>{if(I(o))return o.lift(function(ie){try{return mt(ie,this)}catch($){this.error($)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(En,qt,me)=>{"use strict";me.d(qt,{I:()=>mt});var O=me(6354);const{isArray:I}=Array;function mt(o){return(0,O.T)(ie=>function pe(o,ie){return I(ie)?o(...ie):o(ie)}(o,ie))}},5343:(En,qt,me)=>{"use strict";function O(){}me.d(qt,{l:()=>O})},1203:(En,qt,me)=>{"use strict";me.d(qt,{F:()=>I,m:()=>pe});var O=me(3669);function I(...mt){return pe(mt)}function pe(mt){return 0===mt.length?O.D:1===mt.length?mt[0]:function(ie){return mt.reduce(($,v)=>v($),ie)}}},5334:(En,qt,me)=>{"use strict";me.d(qt,{m:()=>pe});var O=me(1026),I=me(9270);function pe(mt){I.f.setTimeout(()=>{const{onUnhandledError:o}=O.$;if(!o)throw mt;o(mt)})}},591:(En,qt,me)=>{"use strict";function O(I){return new TypeError(`You provided ${null!==I&&"object"==typeof I?"an invalid object":`'${I}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}me.d(qt,{L:()=>O})},8996:(En,qt,me)=>{var O={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function I(pe){if(!me.o(O,pe))return Promise.resolve().then(()=>{var ie=new Error("Cannot find module '"+pe+"'");throw ie.code="MODULE_NOT_FOUND",ie});var mt=O[pe],o=mt[0];return Promise.all(mt.slice(1).map(me.e)).then(()=>me(o))}I.keys=()=>Object.keys(O),I.id=8996,En.exports=I},5235:(En,qt,me)=>{var O={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function I(pe){if(!me.o(O,pe))return Promise.resolve().then(()=>{var ie=new Error("Cannot find module '"+pe+"'");throw ie.code="MODULE_NOT_FOUND",ie});var mt=O[pe],o=mt[0];return me.e(mt[1]).then(()=>me(o))}I.keys=()=>Object.keys(O),I.id=5235,En.exports=I},4633:(En,qt,me)=>{var O=me(3738).default;function I(){"use strict";En.exports=I=function(){return mt},En.exports.__esModule=!0,En.exports.default=En.exports;var pe,mt={},o=Object.prototype,ie=o.hasOwnProperty,$=Object.defineProperty||function(ee,H,G){ee[H]=G.value},v="function"==typeof Symbol?Symbol:{},b=v.iterator||"@@iterator",g=v.asyncIterator||"@@asyncIterator",y=v.toStringTag||"@@toStringTag";function C(ee,H,G){return Object.defineProperty(ee,H,{value:G,enumerable:!0,configurable:!0,writable:!0}),ee[H]}try{C({},"")}catch{C=function(G,K,le){return G[K]=le}}function _(ee,H,G,K){var Oe=Object.create((H&&H.prototype instanceof h?H:h).prototype),Y=new ne(K||[]);return $(Oe,"_invoke",{value:j(ee,G,Y)}),Oe}function s(ee,H,G){try{return{type:"normal",arg:ee.call(H,G)}}catch(K){return{type:"throw",arg:K}}}mt.wrap=_;var l="suspendedStart",a="suspendedYield",d="executing",c="completed",u={};function h(){}function p(){}function m(){}var w={};C(w,b,function(){return this});var R=Object.getPrototypeOf,E=R&&R(R(z([])));E&&E!==o&&ie.call(E,b)&&(w=E);var M=m.prototype=h.prototype=Object.create(w);function A(ee){["next","throw","return"].forEach(function(H){C(ee,H,function(G){return this._invoke(H,G)})})}function B(ee,H){function G(le,Oe,Y,P){var re=s(ee[le],ee,Oe);if("throw"!==re.type){var ge=re.arg,Te=ge.value;return Te&&"object"==O(Te)&&ie.call(Te,"__await")?H.resolve(Te.__await).then(function(Ge){G("next",Ge,Y,P)},function(Ge){G("throw",Ge,Y,P)}):H.resolve(Te).then(function(Ge){ge.value=Ge,Y(ge)},function(Ge){return G("throw",Ge,Y,P)})}P(re.arg)}var K;$(this,"_invoke",{value:function(Oe,Y){function P(){return new H(function(re,ge){G(Oe,Y,re,ge)})}return K=K?K.then(P,P):P()}})}function j(ee,H,G){var K=l;return function(le,Oe){if(K===d)throw Error("Generator is already running");if(K===c){if("throw"===le)throw Oe;return{value:pe,done:!0}}for(G.method=le,G.arg=Oe;;){var Y=G.delegate;if(Y){var P=N(Y,G);if(P){if(P===u)continue;return P}}if("next"===G.method)G.sent=G._sent=G.arg;else if("throw"===G.method){if(K===l)throw K=c,G.arg;G.dispatchException(G.arg)}else"return"===G.method&&G.abrupt("return",G.arg);K=d;var re=s(ee,H,G);if("normal"===re.type){if(K=G.done?c:a,re.arg===u)continue;return{value:re.arg,done:G.done}}"throw"===re.type&&(K=c,G.method="throw",G.arg=re.arg)}}}function N(ee,H){var G=H.method,K=ee.iterator[G];if(K===pe)return H.delegate=null,"throw"===G&&ee.iterator.return&&(H.method="return",H.arg=pe,N(ee,H),"throw"===H.method)||"return"!==G&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+G+"' method")),u;var le=s(K,ee.iterator,H.arg);if("throw"===le.type)return H.method="throw",H.arg=le.arg,H.delegate=null,u;var Oe=le.arg;return Oe?Oe.done?(H[ee.resultName]=Oe.value,H.next=ee.nextLoc,"return"!==H.method&&(H.method="next",H.arg=pe),H.delegate=null,u):Oe:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,u)}function k(ee){var H={tryLoc:ee[0]};1 in ee&&(H.catchLoc=ee[1]),2 in ee&&(H.finallyLoc=ee[2],H.afterLoc=ee[3]),this.tryEntries.push(H)}function J(ee){var H=ee.completion||{};H.type="normal",delete H.arg,ee.completion=H}function ne(ee){this.tryEntries=[{tryLoc:"root"}],ee.forEach(k,this),this.reset(!0)}function z(ee){if(ee||""===ee){var H=ee[b];if(H)return H.call(ee);if("function"==typeof ee.next)return ee;if(!isNaN(ee.length)){var G=-1,K=function le(){for(;++G<ee.length;)if(ie.call(ee,G))return le.value=ee[G],le.done=!1,le;return le.value=pe,le.done=!0,le};return K.next=K}}throw new TypeError(O(ee)+" is not iterable")}return p.prototype=m,$(M,"constructor",{value:m,configurable:!0}),$(m,"constructor",{value:p,configurable:!0}),p.displayName=C(m,y,"GeneratorFunction"),mt.isGeneratorFunction=function(ee){var H="function"==typeof ee&&ee.constructor;return!!H&&(H===p||"GeneratorFunction"===(H.displayName||H.name))},mt.mark=function(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,m):(ee.__proto__=m,C(ee,y,"GeneratorFunction")),ee.prototype=Object.create(M),ee},mt.awrap=function(ee){return{__await:ee}},A(B.prototype),C(B.prototype,g,function(){return this}),mt.AsyncIterator=B,mt.async=function(ee,H,G,K,le){void 0===le&&(le=Promise);var Oe=new B(_(ee,H,G,K),le);return mt.isGeneratorFunction(H)?Oe:Oe.next().then(function(Y){return Y.done?Y.value:Oe.next()})},A(M),C(M,y,"Generator"),C(M,b,function(){return this}),C(M,"toString",function(){return"[object Generator]"}),mt.keys=function(ee){var H=Object(ee),G=[];for(var K in H)G.push(K);return G.reverse(),function le(){for(;G.length;){var Oe=G.pop();if(Oe in H)return le.value=Oe,le.done=!1,le}return le.done=!0,le}},mt.values=z,ne.prototype={constructor:ne,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=pe,this.done=!1,this.delegate=null,this.method="next",this.arg=pe,this.tryEntries.forEach(J),!H)for(var G in this)"t"===G.charAt(0)&&ie.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=pe)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if("throw"===H.type)throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var G=this;function K(ge,Te){return Y.type="throw",Y.arg=H,G.next=ge,Te&&(G.method="next",G.arg=pe),!!Te}for(var le=this.tryEntries.length-1;le>=0;--le){var Oe=this.tryEntries[le],Y=Oe.completion;if("root"===Oe.tryLoc)return K("end");if(Oe.tryLoc<=this.prev){var P=ie.call(Oe,"catchLoc"),re=ie.call(Oe,"finallyLoc");if(P&&re){if(this.prev<Oe.catchLoc)return K(Oe.catchLoc,!0);if(this.prev<Oe.finallyLoc)return K(Oe.finallyLoc)}else if(P){if(this.prev<Oe.catchLoc)return K(Oe.catchLoc,!0)}else{if(!re)throw Error("try statement without catch or finally");if(this.prev<Oe.finallyLoc)return K(Oe.finallyLoc)}}}},abrupt:function(H,G){for(var K=this.tryEntries.length-1;K>=0;--K){var le=this.tryEntries[K];if(le.tryLoc<=this.prev&&ie.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var Oe=le;break}}Oe&&("break"===H||"continue"===H)&&Oe.tryLoc<=G&&G<=Oe.finallyLoc&&(Oe=null);var Y=Oe?Oe.completion:{};return Y.type=H,Y.arg=G,Oe?(this.method="next",this.next=Oe.finallyLoc,u):this.complete(Y)},complete:function(H,G){if("throw"===H.type)throw H.arg;return"break"===H.type||"continue"===H.type?this.next=H.arg:"return"===H.type?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):"normal"===H.type&&G&&(this.next=G),u},finish:function(H){for(var G=this.tryEntries.length-1;G>=0;--G){var K=this.tryEntries[G];if(K.finallyLoc===H)return this.complete(K.completion,K.afterLoc),J(K),u}},catch:function(H){for(var G=this.tryEntries.length-1;G>=0;--G){var K=this.tryEntries[G];if(K.tryLoc===H){var le=K.completion;if("throw"===le.type){var Oe=le.arg;J(K)}return Oe}}throw Error("illegal catch attempt")},delegateYield:function(H,G,K){return this.delegate={iterator:z(H),resultName:G,nextLoc:K},"next"===this.method&&(this.arg=pe),u}},mt}En.exports=I,En.exports.__esModule=!0,En.exports.default=En.exports},3738:En=>{function qt(me){return En.exports=qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},En.exports.__esModule=!0,En.exports.default=En.exports,qt(me)}En.exports=qt,En.exports.__esModule=!0,En.exports.default=En.exports},4756:(En,qt,me)=>{var O=me(4633)();En.exports=O;try{regeneratorRuntime=O}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=O:Function("r","regeneratorRuntime = r")(O)}},177:(En,qt,me)=>{"use strict";me.d(qt,{AJ:()=>Kt,MD:()=>Zt,N0:()=>pr,QT:()=>pe,Sm:()=>a,Sq:()=>hn,T3:()=>No,UE:()=>wn,VF:()=>o,Vy:()=>Sn,Xr:()=>Un,ZD:()=>mt,_b:()=>Ee,aZ:()=>c,bT:()=>Qn,fw:()=>d,hb:()=>s,hj:()=>b,qQ:()=>$});var O=me(3953);let I=null;function pe(){return I}function mt(ce){var Re;null!==(Re=I)&&void 0!==Re||(I=ce)}class o{}const $=new O.nKC("");let v=(()=>{var ce;class Re{historyGo(Ie){throw new Error("")}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)},ce.\u0275prov=O.jDH({token:ce,factory:()=>(0,O.WQX)(g),providedIn:"platform"}),Re})();const b=new O.nKC("");let g=(()=>{var ce;class Re extends v{constructor(){super(),this._doc=(0,O.WQX)($),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pe().getBaseHref(this._doc)}onPopState(Ie){const it=pe().getGlobalEventTarget(this._doc,"window");return it.addEventListener("popstate",Ie,!1),()=>it.removeEventListener("popstate",Ie)}onHashChange(Ie){const it=pe().getGlobalEventTarget(this._doc,"window");return it.addEventListener("hashchange",Ie,!1),()=>it.removeEventListener("hashchange",Ie)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ie){this._location.pathname=Ie}pushState(Ie,it,It){this._history.pushState(Ie,it,It)}replaceState(Ie,it,It){this._history.replaceState(Ie,it,It)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ie=0){this._history.go(Ie)}getState(){return this._history.state}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)},ce.\u0275prov=O.jDH({token:ce,factory:()=>new ce,providedIn:"platform"}),Re})();function y(ce,Re){if(0==ce.length)return Re;if(0==Re.length)return ce;let St=0;return ce.endsWith("/")&&St++,Re.startsWith("/")&&St++,2==St?ce+Re.substring(1):1==St?ce+Re:ce+"/"+Re}function C(ce){const Re=ce.match(/#|\?|$/),St=Re&&Re.index||ce.length;return ce.slice(0,St-("/"===ce[St-1]?1:0))+ce.slice(St)}function _(ce){return ce&&"?"!==ce[0]?"?"+ce:ce}let s=(()=>{var ce;class Re{historyGo(Ie){throw new Error("")}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)},ce.\u0275prov=O.jDH({token:ce,factory:()=>(0,O.WQX)(a),providedIn:"root"}),Re})();const l=new O.nKC("");let a=(()=>{var ce;class Re extends s{constructor(Ie,it){var It,gn,On;super(),this._platformLocation=Ie,this._removeListenerFns=[],this._baseHref=null!==(It=null!==(gn=null!=it?it:this._platformLocation.getBaseHrefFromDOM())&&void 0!==gn?gn:null===(On=(0,O.WQX)($).location)||void 0===On?void 0:On.origin)&&void 0!==It?It:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ie){this._removeListenerFns.push(this._platformLocation.onPopState(Ie),this._platformLocation.onHashChange(Ie))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ie){return y(this._baseHref,Ie)}path(Ie=!1){const it=this._platformLocation.pathname+_(this._platformLocation.search),It=this._platformLocation.hash;return It&&Ie?`${it}${It}`:it}pushState(Ie,it,It,gn){const On=this.prepareExternalUrl(It+_(gn));this._platformLocation.pushState(Ie,it,On)}replaceState(Ie,it,It,gn){const On=this.prepareExternalUrl(It+_(gn));this._platformLocation.replaceState(Ie,it,On)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ie=0){var it,It;null===(it=(It=this._platformLocation).historyGo)||void 0===it||it.call(It,Ie)}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)(O.KVO(v),O.KVO(l,8))},ce.\u0275prov=O.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Re})(),d=(()=>{var ce;class Re extends s{constructor(Ie,it){super(),this._platformLocation=Ie,this._baseHref="",this._removeListenerFns=[],null!=it&&(this._baseHref=it)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ie){this._removeListenerFns.push(this._platformLocation.onPopState(Ie),this._platformLocation.onHashChange(Ie))}getBaseHref(){return this._baseHref}path(Ie=!1){var it;const It=null!==(it=this._platformLocation.hash)&&void 0!==it?it:"#";return It.length>0?It.substring(1):It}prepareExternalUrl(Ie){const it=y(this._baseHref,Ie);return it.length>0?"#"+it:it}pushState(Ie,it,It,gn){let On=this.prepareExternalUrl(It+_(gn));0==On.length&&(On=this._platformLocation.pathname),this._platformLocation.pushState(Ie,it,On)}replaceState(Ie,it,It,gn){let On=this.prepareExternalUrl(It+_(gn));0==On.length&&(On=this._platformLocation.pathname),this._platformLocation.replaceState(Ie,it,On)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ie=0){var it,It;null===(it=(It=this._platformLocation).historyGo)||void 0===it||it.call(It,Ie)}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)(O.KVO(v),O.KVO(l,8))},ce.\u0275prov=O.jDH({token:ce,factory:ce.\u0275fac}),Re})(),c=(()=>{var ce;class Re{constructor(Ie){this._subject=new O.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ie;const it=this._locationStrategy.getBaseHref();this._basePath=function m(ce){if(new RegExp("^(https?:)?//").test(ce)){const[,St]=ce.split(/\/\/[^\/]+/);return St}return ce}(C(p(it))),this._locationStrategy.onPopState(It=>{this._subject.emit({url:this.path(!0),pop:!0,state:It.state,type:It.type})})}ngOnDestroy(){var Ie;null===(Ie=this._urlChangeSubscription)||void 0===Ie||Ie.unsubscribe(),this._urlChangeListeners=[]}path(Ie=!1){return this.normalize(this._locationStrategy.path(Ie))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ie,it=""){return this.path()==this.normalize(Ie+_(it))}normalize(Ie){return Re.stripTrailingSlash(function h(ce,Re){if(!ce||!Re.startsWith(ce))return Re;const St=Re.substring(ce.length);return""===St||["/",";","?","#"].includes(St[0])?St:Re}(this._basePath,p(Ie)))}prepareExternalUrl(Ie){return Ie&&"/"!==Ie[0]&&(Ie="/"+Ie),this._locationStrategy.prepareExternalUrl(Ie)}go(Ie,it="",It=null){this._locationStrategy.pushState(It,"",Ie,it),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ie+_(it)),It)}replaceState(Ie,it="",It=null){this._locationStrategy.replaceState(It,"",Ie,it),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ie+_(it)),It)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ie=0){var it,It;null===(it=(It=this._locationStrategy).historyGo)||void 0===it||it.call(It,Ie)}onUrlChange(Ie){var it;return this._urlChangeListeners.push(Ie),null!==(it=this._urlChangeSubscription)&&void 0!==it||(this._urlChangeSubscription=this.subscribe(It=>{this._notifyUrlChangeListeners(It.url,It.state)})),()=>{const It=this._urlChangeListeners.indexOf(Ie);var gn;this._urlChangeListeners.splice(It,1),0===this._urlChangeListeners.length&&(null===(gn=this._urlChangeSubscription)||void 0===gn||gn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ie="",it){this._urlChangeListeners.forEach(It=>It(Ie,it))}subscribe(Ie,it,It){return this._subject.subscribe({next:Ie,error:it,complete:It})}}return(ce=Re).normalizeQueryParams=_,ce.joinWithSlash=y,ce.stripTrailingSlash=C,ce.\u0275fac=function(Ie){return new(Ie||ce)(O.KVO(s))},ce.\u0275prov=O.jDH({token:ce,factory:()=>function u(){return new c((0,O.KVO)(s))}(),providedIn:"root"}),Re})();function p(ce){return ce.replace(/\/index.html$/,"")}function Ee(ce,Re){Re=encodeURIComponent(Re);for(const St of ce.split(";")){const Ie=St.indexOf("="),[it,It]=-1==Ie?[St,""]:[St.slice(0,Ie),St.slice(Ie+1)];if(it.trim()===Re)return decodeURIComponent(It)}return null}class an{constructor(Re,St,Ie,it){this.$implicit=Re,this.ngForOf=St,this.index=Ie,this.count=it}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hn=(()=>{var ce;class Re{set ngForOf(Ie){this._ngForOf=Ie,this._ngForOfDirty=!0}set ngForTrackBy(Ie){this._trackByFn=Ie}get ngForTrackBy(){return this._trackByFn}constructor(Ie,it,It){this._viewContainer=Ie,this._template=it,this._differs=It,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ie){Ie&&(this._template=Ie)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ie=this._ngForOf;!this._differ&&Ie&&(this._differ=this._differs.find(Ie).create(this.ngForTrackBy))}if(this._differ){const Ie=this._differ.diff(this._ngForOf);Ie&&this._applyChanges(Ie)}}_applyChanges(Ie){const it=this._viewContainer;Ie.forEachOperation((It,gn,On)=>{if(null==It.previousIndex)it.createEmbeddedView(this._template,new an(It.item,this._ngForOf,-1,-1),null===On?void 0:On);else if(null==On)it.remove(null===gn?void 0:gn);else if(null!==gn){const sr=it.get(gn);it.move(sr,On),An(sr,It)}});for(let It=0,gn=it.length;It<gn;It++){const sr=it.get(It).context;sr.index=It,sr.count=gn,sr.ngForOf=this._ngForOf}Ie.forEachIdentityChange(It=>{An(it.get(It.currentIndex),It)})}static ngTemplateContextGuard(Ie,it){return!0}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)(O.rXU(O.c1b),O.rXU(O.C4Q),O.rXU(O._q3))},ce.\u0275dir=O.FsC({type:ce,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Re})();function An(ce,Re){ce.context.$implicit=Re.item}let Qn=(()=>{var ce;class Re{constructor(Ie,it){this._viewContainer=Ie,this._context=new Ar,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=it}set ngIf(Ie){this._context.$implicit=this._context.ngIf=Ie,this._updateView()}set ngIfThen(Ie){Dr("ngIfThen",Ie),this._thenTemplateRef=Ie,this._thenViewRef=null,this._updateView()}set ngIfElse(Ie){Dr("ngIfElse",Ie),this._elseTemplateRef=Ie,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ie,it){return!0}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)(O.rXU(O.c1b),O.rXU(O.C4Q))},ce.\u0275dir=O.FsC({type:ce,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Re})();class Ar{constructor(){this.$implicit=null,this.ngIf=null}}function Dr(ce,Re){if(Re&&!Re.createEmbeddedView)throw new Error(`${ce} must be a TemplateRef, but received '${(0,O.Tbb)(Re)}'.`)}let No=(()=>{var ce;class Re{constructor(Ie){this._viewContainerRef=Ie,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ie){if(this._shouldRecreateView(Ie)){var it;const It=this._viewContainerRef;if(this._viewRef&&It.remove(It.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const gn=this._createContextForwardProxy();this._viewRef=It.createEmbeddedView(this.ngTemplateOutlet,gn,{injector:null!==(it=this.ngTemplateOutletInjector)&&void 0!==it?it:void 0})}}_shouldRecreateView(Ie){return!!Ie.ngTemplateOutlet||!!Ie.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ie,it,It)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,it,It),get:(Ie,it,It)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,it,It)}})}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)(O.rXU(O.c1b))},ce.\u0275dir=O.FsC({type:ce,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[O.OA$]}),Re})(),Zt=(()=>{var ce;class Re{}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)},ce.\u0275mod=O.$C({type:ce}),ce.\u0275inj=O.G2t({}),Re})();const Kt="browser",yn="server";function wn(ce){return ce===Kt}function Sn(ce){return ce===yn}let Un=(()=>{var ce;class Re{}return(ce=Re).\u0275prov=(0,O.jDH)({token:ce,providedIn:"root",factory:()=>wn((0,O.WQX)(O.Agw))?new Fn((0,O.WQX)($),window):new Yn}),Re})();class Fn{constructor(Re,St){this.document=Re,this.window=St,this.offset=()=>[0,0]}setOffset(Re){this.offset=Array.isArray(Re)?()=>Re:Re}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Re){this.window.scrollTo(Re[0],Re[1])}scrollToAnchor(Re){const St=function zn(ce,Re){const St=ce.getElementById(Re)||ce.getElementsByName(Re)[0];if(St)return St;if("function"==typeof ce.createTreeWalker&&ce.body&&"function"==typeof ce.body.attachShadow){const Ie=ce.createTreeWalker(ce.body,NodeFilter.SHOW_ELEMENT);let it=Ie.currentNode;for(;it;){const It=it.shadowRoot;if(It){const gn=It.getElementById(Re)||It.querySelector(`[name="${Re}"]`);if(gn)return gn}it=Ie.nextNode()}}return null}(this.document,Re);St&&(this.scrollToElement(St),St.focus())}setHistoryScrollRestoration(Re){this.window.history.scrollRestoration=Re}scrollToElement(Re){const St=Re.getBoundingClientRect(),Ie=St.left+this.window.pageXOffset,it=St.top+this.window.pageYOffset,It=this.offset();this.window.scrollTo(Ie-It[0],it-It[1])}}class Yn{setOffset(Re){}getScrollPosition(){return[0,0]}scrollToPosition(Re){}scrollToAnchor(Re){}setHistoryScrollRestoration(Re){}}class pr{}},3953:(En,qt,me)=>{"use strict";function O(t,n){return Object.is(t,n)}me.d(qt,{iLQ:()=>Md,sZ2:()=>xc,hnV:()=>g1,Hbi:()=>FI,o8S:()=>ts,BIS:()=>aE,gRc:()=>I1,Ql9:()=>dI,Ocv:()=>vI,Z63:()=>Ei,aKT:()=>Hl,uvJ:()=>Fi,zcH:()=>fs,bkB:()=>hs,$GK:()=>mr,nKC:()=>Vn,zZn:()=>Bo,_q3:()=>om,MKu:()=>im,xe9:()=>Od,Co$:()=>E0,Vns:()=>fa,SKi:()=>ro,Xx1:()=>co,Agw:()=>Fh,PLl:()=>Xg,sFG:()=>rD,_9s:()=>Lf,czy:()=>Fc,WPN:()=>sa,kdw:()=>xa,C4Q:()=>au,NYb:()=>iI,giA:()=>p1,RxE:()=>a1,c1b:()=>rd,gXe:()=>ws,mal:()=>Fv,L39:()=>bO,EWP:()=>wO,a0P:()=>AO,Ol2:()=>ep,w6W:()=>QD,oH4:()=>D1,SmG:()=>EI,Rfq:()=>Gi,WQX:()=>kn,QuC:()=>hr,EmA:()=>is,fpN:()=>LI,HJs:()=>MO,N4e:()=>bm,vPA:()=>o0,O8t:()=>CO,H3F:()=>l1,zAP:()=>nw,H8p:()=>Qd,KH2:()=>_l,TgB:()=>oa,wOt:()=>Rn,WHO:()=>h1,e01:()=>f1,lNU:()=>Nr,h9k:()=>gy,$MX:()=>Rc,ZF7:()=>Xa,Kcf:()=>TE,e5t:()=>OE,UyX:()=>ME,cWb:()=>AE,osQ:()=>IE,H5H:()=>Dp,mq5:()=>xb,JZv:()=>zr,LfX:()=>vr,plB:()=>Ns,jNT:()=>Xp,zjR:()=>m1,TL$:()=>iE,Tbb:()=>Xr,rcV:()=>Ts,Vt3:()=>Jf,GFd:()=>C0,OA$:()=>ah,Jv_:()=>N_,aNF:()=>L_,R7$:()=>Vy,BMQ:()=>fp,AVh:()=>bp,wni:()=>u_,VBU:()=>Ce,FsC:()=>on,jDH:()=>Ln,G2t:()=>Kn,$C:()=>nt,EJ8:()=>_n,rXU:()=>Ya,nrm:()=>Sp,eu8:()=>xp,bVm:()=>bd,qex:()=>vd,k0s:()=>yd,j41:()=>gd,RV6:()=>Cb,xGo:()=>hg,KVO:()=>Zn,kS0:()=>vc,QTQ:()=>Hy,bIt:()=>Mp,lsd:()=>h_,XpG:()=>Jb,SdG:()=>Zb,NAR:()=>Qb,Y8G:()=>yp,Mz_:()=>Ed,lJ4:()=>B_,mGM:()=>d_,sdS:()=>f_,Njj:()=>Um,eBV:()=>Fm,B4B:()=>Zh,n$t:()=>vy,Aen:()=>Qi,DNE:()=>np,EFF:()=>E_,JRh:()=>jp,SpI:()=>Sd,Lme:()=>Pp,DH7:()=>j_,mxI:()=>kp,R50:()=>Rp,GBs:()=>c_});let I=null,pe=!1,mt=1;const o=Symbol("SIGNAL");function ie(t){const n=I;return I=t,n}const g={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function y(t){if(pe)throw new Error("");if(null===I)return;I.consumerOnSignalRead(t);const n=I.nextProducerIndex++;R(I),n<I.producerNode.length&&I.producerNode[n]!==t&&w(I)&&m(I.producerNode[n],I.producerIndexOfThis[n]),I.producerNode[n]!==t&&(I.producerNode[n]=t,I.producerIndexOfThis[n]=w(I)?p(t,I,n):0),I.producerLastReadVersion[n]=t.version}function _(t){if((!w(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==mt)){if(!t.producerMustRecompute(t)&&!u(t))return t.dirty=!1,void(t.lastCleanEpoch=mt);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=mt}}function s(t){if(void 0===t.liveConsumerNode)return;const n=pe;pe=!0;try{for(const r of t.liveConsumerNode)r.dirty||a(r)}finally{pe=n}}function l(){var t;return!1!==(null===(t=I)||void 0===t?void 0:t.consumerAllowSignalWrites)}function a(t){var n;t.dirty=!0,s(t),null===(n=t.consumerMarkedDirty)||void 0===n||n.call(t,t)}function d(t){return t&&(t.nextProducerIndex=0),ie(t)}function c(t,n){if(ie(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(w(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)m(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function u(t){R(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==r.version||(_(r),i!==r.version))return!0}return!1}function h(t){if(R(t),w(t))for(let n=0;n<t.producerNode.length;n++)m(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function p(t,n,r){if(E(t),0===t.liveConsumerNode.length&&M(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=p(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(n)-1}function m(t,n){if(E(t),1===t.liveConsumerNode.length&&M(t))for(let i=0;i<t.producerNode.length;i++)m(t.producerNode[i],t.producerIndexOfThis[i]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];R(f),f.producerIndexOfThis[i]=n}}function w(t){var n,r;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(r=t.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}function R(t){var n,r,i;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(r=t.producerIndexOfThis)&&void 0!==r||(t.producerIndexOfThis=[]),null!==(i=t.producerLastReadVersion)&&void 0!==i||(t.producerLastReadVersion=[])}function E(t){var n,r;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(r=t.liveConsumerIndexOfThis)&&void 0!==r||(t.liveConsumerIndexOfThis=[])}function M(t){return void 0!==t.producerNode}const B=Symbol("UNSET"),j=Symbol("COMPUTING"),N=Symbol("ERRORED"),k={...g,value:B,dirty:!0,error:null,equal:O,producerMustRecompute:t=>t.value===B||t.value===j,producerRecomputeValue(t){if(t.value===j)throw new Error("Detected cycle in computations.");const n=t.value;t.value=j;const r=d(t);let i;try{i=t.computation()}catch(f){i=N,t.error=f}finally{c(t,r)}n!==B&&n!==N&&i!==N&&t.equal(n,i)?t.value=n:(t.value=i,t.version++)}};let ne=function J(){throw new Error};function z(){ne()}let H=null;function Oe(t,n){l()||z(),t.equal(t.value,n)||(t.value=n,function ge(t){var n;t.version++,function C(){mt++}(),s(t),null===(n=H)||void 0===n||n()}(t))}const re={...g,equal:O,value:void 0};var br,ze=me(4412),st=me(1413),lt=me(8359),Be=me(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Nr="https://g.co/ng/security#xss";class Rn extends Error{constructor(n,r){super(function go(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,r)),this.code=n}}function Ur(t){return{toString:t}.toString()}const Go="__parameters__";function bi(t,n,r){return Ur(()=>{const i=function ji(t){return function(...r){if(t){const i=t(...r);for(const f in i)this[f]=i[f]}}}(n);function f(...x){if(this instanceof f)return i.apply(this,x),this;const F=new f(...x);return Q.annotation=F,Q;function Q(ue,xe,Le){const Ye=ue.hasOwnProperty(Go)?ue[Go]:Object.defineProperty(ue,Go,{value:[]})[Go];for(;Ye.length<=Le;)Ye.push(null);return(Ye[Le]=Ye[Le]||[]).push(F),ue}}return r&&(f.prototype=Object.create(r.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}const zr=globalThis;function wr(t){for(let n in t)if(t[n]===wr)return n;throw Error("Could not find renamed property on target object.")}function Pi(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function Xr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Xr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Ri(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const wi=wr({__forward_ref__:wr});function Gi(t){return t.__forward_ref__=Gi,t.toString=function(){return Xr(this())},t}function Wn(t){return Ho(t)?t():t}function Ho(t){return"function"==typeof t&&t.hasOwnProperty(wi)&&t.__forward_ref__===Gi}function Ln(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function nr(t){return Kr(t,qr)||Kr(t,Tr)}function vr(t){return null!==nr(t)}function Kr(t,n){return t.hasOwnProperty(n)?t[n]:null}function io(t){return t&&(t.hasOwnProperty(fo)||t.hasOwnProperty(Ir))?t[fo]:null}const qr=wr({\u0275prov:wr}),fo=wr({\u0275inj:wr}),Tr=wr({ngInjectableDef:wr}),Ir=wr({ngInjectorDef:wr});class Vn{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Ln({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $s(t){return t&&!!t.\u0275providers}const vs=wr({\u0275cmp:wr}),wa=wr({\u0275dir:wr}),Vs=wr({\u0275pipe:wr}),Ca=wr({\u0275mod:wr}),ki=wr({\u0275fac:wr}),os=wr({__NG_ELEMENT_ID__:wr}),Ea=wr({__NG_ENV_ID__:wr});function ar(t){return"string"==typeof t?t:null==t?"":String(t)}function Gs(t,n){throw new Rn(-201,!1)}var mr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(mr||{});let Hi;function bs(){return Hi}function Io(t){const n=Hi;return Hi=t,n}function di(t,n,r){const i=nr(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:r&mr.Optional?null:void 0!==n?n:void Gs()}const ce={},Re="__NG_DI_FLAG__",St="ngTempTokenPath",it=/\n/gm,gn="__source";let On;function ir(t){const n=On;return On=t,n}function xr(t,n=mr.Default){if(void 0===On)throw new Rn(-203,!1);return null===On?di(t,void 0,n):On.get(t,n&mr.Optional?null:void 0,n)}function Zn(t,n=mr.Default){return(bs()||xr)(Wn(t),n)}function kn(t,n=mr.Default){return Zn(t,Jr(n))}function Jr(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hi(t){const n=[];for(let r=0;r<t.length;r++){const i=Wn(t[r]);if(Array.isArray(i)){if(0===i.length)throw new Rn(900,!1);let f,x=mr.Default;for(let F=0;F<i.length;F++){const Q=i[F],ue=zi(Q);"number"==typeof ue?-1===ue?f=Q.token:x|=ue:f=Q}n.push(Zn(f,x))}else n.push(Zn(i))}return n}function po(t,n){return t[Re]=n,t.prototype[Re]=n,t}function zi(t){return t[Re]}const co=po(bi("Optional"),8),xa=po(bi("SkipSelf"),4);function _s(t,n){return t.hasOwnProperty(ki)?t[ki]:null}function Os(t,n){t.forEach(r=>Array.isArray(r)?Os(r,n):n(r))}function Hd(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function Ta(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ri(t,n,r){let i=zs(t,n);return i>=0?t[1|i]=r:(i=~i,function xl(t,n,r,i){let f=t.length;if(f==n)t.push(r,i);else if(1===f)t.push(i,t[0]),t[0]=r;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=r,t[n+1]=i}}(t,i,n,r)),i}function zu(t,n){const r=zs(t,n);if(r>=0)return t[1|r]}function zs(t,n){return function Dl(t,n,r){let i=0,f=t.length>>r;for(;f!==i;){const x=i+(f-i>>1),F=t[x<<r];if(n===F)return x<<r;F>n?f=x:i=x+1}return~(f<<r)}(t,n,1)}const Ci={},Cr=[],Ei=new Vn(""),Wu=new Vn("",-1),Xu=new Vn("");class Ws{get(n,r=ce){if(r===ce){const i=new Error(`NullInjectorError: No provider for ${Xr(n)}!`);throw i.name="NullInjectorError",i}return r}}var Ma=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ma||{}),ws=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ws||{}),Cs=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Cs||{});function cm(t,n,r){let i=t.length;for(;;){const f=t.indexOf(n,r);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const x=n.length;if(f+x===i||t.charCodeAt(f+x)<=32)return f}r=f+1}}function Tl(t,n,r){let i=0;for(;i<r.length;){const f=r[i];if("number"==typeof f){if(0!==f)break;i++;const x=r[i++],F=r[i++],Q=r[i++];t.setAttribute(n,F,Q,x)}else{const x=f,F=r[++i];zd(x)?t.setProperty(n,x,F):t.setAttribute(n,x,F),i++}}return i}function Ku(t){return 3===t||4===t||6===t}function zd(t){return 64===t.charCodeAt(0)}function Ps(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let i=0;i<n.length;i++){const f=n[i];"number"==typeof f?r=f:0===r||qu(t,r,f,null,-1===r||2===r?n[++i]:null)}}return t}function qu(t,n,r,i,f){let x=0,F=t.length;if(-1===n)F=-1;else for(;x<t.length;){const Q=t[x++];if("number"==typeof Q){if(Q===n){F=-1;break}if(Q>n){F=x-1;break}}}for(;x<t.length;){const Q=t[x];if("number"==typeof Q)break;if(Q===r){if(null===i)return void(null!==f&&(t[x+1]=f));if(i===t[x+1])return void(t[x+2]=f)}x++,null!==i&&x++,null!==f&&x++}-1!==F&&(t.splice(F,0,n),x=F+1),t.splice(x++,0,r),null!==i&&t.splice(x++,0,i),null!==f&&t.splice(x++,0,f)}const Yu="ng-template";function Wd(t,n,r,i){let f=0;if(i){for(;f<n.length&&"string"==typeof n[f];f+=2)if("class"===n[f]&&-1!==cm(n[f+1].toLowerCase(),r,0))return!0}else if(Al(t))return!1;if(f=n.indexOf(1,f),f>-1){let x;for(;++f<n.length&&"string"==typeof(x=n[f]);)if(x.toLowerCase()===r)return!0}return!1}function Al(t){return 4===t.type&&t.value!==Yu}function Xd(t,n,r){return n===(4!==t.type||r?t.value:Yu)}function Kd(t,n,r){let i=4;const f=t.attrs,x=null!==f?function hm(t){for(let n=0;n<t.length;n++)if(Ku(t[n]))return n;return t.length}(f):0;let F=!1;for(let Q=0;Q<n.length;Q++){const ue=n[Q];if("number"!=typeof ue){if(!F)if(4&i){if(i=2|1&i,""!==ue&&!Xd(t,ue,r)||""===ue&&1===n.length){if(Si(i))return!1;F=!0}}else if(8&i){if(null===f||!Wd(t,f,ue,r)){if(Si(i))return!1;F=!0}}else{const xe=n[++Q],Le=Ju(ue,f,Al(t),r);if(-1===Le){if(Si(i))return!1;F=!0;continue}if(""!==xe){let Ye;if(Ye=Le>x?"":f[Le+1].toLowerCase(),2&i&&xe!==Ye){if(Si(i))return!1;F=!0}}}}else{if(!F&&!Si(i)&&!Si(ue))return!1;if(F&&Si(ue))continue;F=!1,i=ue|1&i}}return Si(i)||F}function Si(t){return!(1&t)}function Ju(t,n,r,i){if(null===n)return-1;let f=0;if(i||!r){let x=!1;for(;f<n.length;){const F=n[f];if(F===t)return f;if(3===F||6===F)x=!0;else{if(1===F||2===F){let Q=n[++f];for(;"string"==typeof Q;)Q=n[++f];continue}if(4===F)break;if(0===F){f+=4;continue}}f+=x?1:2}return-1}return function fm(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const i=t[r];if("number"==typeof i)return-1;if(i===n)return r;r++}return-1}(n,t)}function Qu(t,n,r=!1){for(let i=0;i<n.length;i++)if(Kd(t,n[i],r))return!0;return!1}function pm(t,n){e:for(let r=0;r<n.length;r++){const i=n[r];if(t.length===i.length){for(let f=0;f<t.length;f++)if(t[f]!==i[f])continue e;return!0}}return!1}function qd(t,n){return t?":not("+n.trim()+")":n}function mm(t){let n=t[0],r=1,i=2,f="",x=!1;for(;r<t.length;){let F=t[r];if("string"==typeof F)if(2&i){const Q=t[++r];f+="["+F+(Q.length>0?'="'+Q+'"':"")+"]"}else 8&i?f+="."+F:4&i&&(f+=" "+F);else""!==f&&!Si(F)&&(n+=qd(x,f),f=""),i=F,x=x||!Si(i);r++}return""!==f&&(n+=qd(x,f)),n}function Ce(t){return Ur(()=>{var n;const r=no(t),i={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ma.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||ws.Emulated,styles:t.styles||Cr,_:null,schemas:t.schemas||null,tView:null,id:""};Wo(i);const f=t.dependencies;return i.directiveDefs=Fo(f,!1),i.pipeDefs=Fo(f,!0),i.id=function fi(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of r)n=Math.imul(31,n)+f.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function de(t){return Xt(t)||Pn(t)}function De(t){return null!==t}function nt(t){return Ur(()=>({type:t.type,bootstrap:t.bootstrap||Cr,declarations:t.declarations||Cr,imports:t.imports||Cr,exports:t.exports||Cr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ct(t,n){if(null==t)return Ci;const r={};for(const f in t)if(t.hasOwnProperty(f)){const x=t[f];let F,Q,ue=Cs.None;var i;Array.isArray(x)?(ue=x[0],F=x[1],Q=null!==(i=x[2])&&void 0!==i?i:F):(F=x,Q=x),n?(r[F]=ue!==Cs.None?[f,ue]:f,n[F]=Q):r[F]=f}return r}function on(t){return Ur(()=>{const n=no(t);return Wo(n),n})}function _n(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xt(t){return t[vs]||null}function Pn(t){return t[wa]||null}function qn(t){return t[Vs]||null}function hr(t){const n=Xt(t)||Pn(t)||qn(t);return null!==n&&n.standalone}function er(t,n){const r=t[Ca]||null;if(!r&&!0===n)throw new Error(`Type ${Xr(t)} does not have '\u0275mod' property.`);return r}function no(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ci,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Cr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ct(t.inputs,n),outputs:ct(t.outputs),debugInfo:null}}function Wo(t){var n;null===(n=t.features)||void 0===n||n.forEach(r=>r(t))}function Fo(t,n){if(!t)return null;const r=n?qn:de;return()=>("function"==typeof t?t():t).map(i=>r(i)).filter(De)}function is(t){return{\u0275providers:t}}function Ml(...t){return{\u0275providers:Ks(0,t),\u0275fromNgModule:!0}}function Ks(t,...n){const r=[],i=new Set;let f;const x=F=>{r.push(F)};return Os(n,F=>{const Q=F;Es(Q,x,[],i)&&(f||(f=[]),f.push(Q))}),void 0!==f&&Zu(f,x),r}function Zu(t,n){for(let r=0;r<t.length;r++){const{ngModule:i,providers:f}=t[r];Yd(f,x=>{n(x,i)})}}function Es(t,n,r,i){if(!(t=Wn(t)))return!1;let f=null,x=io(t);const F=!x&&Xt(t);if(x||F){if(F&&!F.standalone)return!1;f=t}else{const ue=t.ngModule;if(x=io(ue),!x)return!1;f=ue}const Q=i.has(f);if(F){if(Q)return!1;if(i.add(f),F.dependencies){const ue="function"==typeof F.dependencies?F.dependencies():F.dependencies;for(const xe of ue)Es(xe,n,r,i)}}else{if(!x)return!1;{if(null!=x.imports&&!Q){let xe;i.add(f);try{Os(x.imports,Le=>{Es(Le,n,r,i)&&(xe||(xe=[]),xe.push(Le))})}finally{}void 0!==xe&&Zu(xe,n)}if(!Q){const xe=_s(f)||(()=>new f);n({provide:f,useFactory:xe,deps:Cr},f),n({provide:Xu,useValue:f,multi:!0},f),n({provide:Ei,useValue:()=>Zn(f),multi:!0},f)}const ue=x.providers;if(null!=ue&&!Q){const xe=t;Yd(ue,Le=>{n(Le,xe)})}}}return f!==t&&void 0!==t.providers}function Yd(t,n){for(let r of t)$s(r)&&(r=r.\u0275providers),Array.isArray(r)?Yd(r,n):n(r)}const pw=wr({provide:String,useValue:wr});function Jd(t){return null!==t&&"object"==typeof t&&pw in t}function qs(t){return"function"==typeof t}const Qd=new Vn(""),ec={},gw={};let Zd;function tc(){return void 0===Zd&&(Zd=new Ws),Zd}class Fi{}class Ia extends Fi{get destroyed(){return this._destroyed}constructor(n,r,i,f){super(),this.parent=r,this.source=i,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,th(n,F=>this.processProvider(F)),this.records.set(Wu,Oa(void 0,this)),f.has("environment")&&this.records.set(Fi,Oa(void 0,this));const x=this.records.get(Qd);null!=x&&"string"==typeof x.value&&this.scopes.add(x.value),this.injectorDefTypes=new Set(this.get(Xu,Cr,mr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ie(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of r)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=ir(this),i=Io(void 0);try{return n()}finally{ir(r),Io(i)}}get(n,r=ce,i=mr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ea))return n[Ea](this);i=Jr(i);const x=ir(this),F=Io(void 0);try{if(!(i&mr.SkipSelf)){let ue=this.records.get(n);if(void 0===ue){const xe=function ww(t){return"function"==typeof t||"object"==typeof t&&t instanceof Vn}(n)&&nr(n);ue=xe&&this.injectableDefInScope(xe)?Oa(eh(n),ec):null,this.records.set(n,ue)}if(null!=ue)return this.hydrate(n,ue)}return(i&mr.Self?tc():this.parent).get(n,r=i&mr.Optional&&r===ce?null:r)}catch(Q){if("NullInjectorError"===Q.name){if((Q[St]=Q[St]||[]).unshift(Xr(n)),x)throw Q;return function Ni(t,n,r,i){const f=t[St];throw n[gn]&&f.unshift(n[gn]),t.message=function Wi(t,n,r,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=Xr(n);if(Array.isArray(n))f=n.map(Xr).join(" -> ");else if("object"==typeof n){let x=[];for(let F in n)if(n.hasOwnProperty(F)){let Q=n[F];x.push(F+":"+("string"==typeof Q?JSON.stringify(Q):Xr(Q)))}f=`{${x.join(", ")}}`}return`${r}${i?"("+i+")":""}[${f}]: ${t.replace(it,"\n  ")}`}("\n"+t.message,f,r,i),t.ngTokenPath=f,t[St]=null,t}(Q,n,"R3InjectorError",this.source)}throw Q}finally{Io(F),ir(x)}}resolveInjectorInitializers(){const n=ie(null),r=ir(this),i=Io(void 0);try{const x=this.get(Ei,Cr,mr.Self);for(const F of x)F()}finally{ir(r),Io(i),ie(n)}}toString(){const n=[],r=this.records;for(const i of r.keys())n.push(Xr(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Rn(205,!1)}processProvider(n){let r=qs(n=Wn(n))?n:Wn(n&&n.provide);const i=function vw(t){return Jd(t)?Oa(void 0,t.useValue):Oa(vm(t),ec)}(n);if(!qs(n)&&!0===n.multi){let f=this.records.get(r);f||(f=Oa(void 0,ec,!0),f.factory=()=>hi(f.multi),this.records.set(r,f)),r=n,f.multi.push(n)}this.records.set(r,i)}hydrate(n,r){const i=ie(null);try{return r.value===ec&&(r.value=gw,r.value=r.factory()),"object"==typeof r.value&&r.value&&function _w(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ie(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=Wn(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function eh(t){const n=nr(t),r=null!==n?n.factory:_s(t);if(null!==r)return r;if(t instanceof Vn)throw new Rn(204,!1);if(t instanceof Function)return function yw(t){if(t.length>0)throw new Rn(204,!1);const r=function to(t){return t&&(t[qr]||t[Tr])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Rn(204,!1)}function vm(t,n,r){let i;if(qs(t)){const f=Wn(t);return _s(f)||eh(f)}if(Jd(t))i=()=>Wn(t.useValue);else if(function ym(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...hi(t.deps||[]));else if(function gm(t){return!(!t||!t.useExisting)}(t))i=()=>Zn(Wn(t.useExisting));else{const f=Wn(t&&(t.useClass||t.provide));if(!function bw(t){return!!t.deps}(t))return _s(f)||eh(f);i=()=>new f(...hi(t.deps))}return i}function Oa(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function th(t,n){for(const r of t)Array.isArray(r)?th(r,n):r&&$s(r)?th(r.\u0275providers,n):n(r)}function bm(t,n){t instanceof Ia&&t.assertNotDestroyed();const i=ir(t),f=Io(void 0);try{return n()}finally{ir(i),Io(f)}}function _m(){return void 0!==bs()||null!=function sr(){return On}()}const so=0,Nn=1,rr=2,xo=3,Ki=4,Xo=5,oi=6,Ys=7,Qr=8,Do=9,ss=10,lr=11,Ol=12,Cm=13,Pa=14,ao=15,Js=16,Ra=17,as=18,ka=19,Em=20,Rs=21,jl=22,Ui=23,tr=25,rh=1,ls=7,Na=9,yo=10;var ic=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ic||{});function Uo(t){return Array.isArray(t)&&"object"==typeof t[rh]}function Qo(t){return Array.isArray(t)&&!0===t[rh]}function oh(t){return!!(4&t.flags)}function Qs(t){return t.componentOffset>-1}function sc(t){return!(1&~t.flags)}function qi(t){return!!t.template}function Rl(t){return!!(512&t[rr])}class Rw{constructor(n,r,i){this.previousValue=n,this.currentValue=r,this.firstChange=i}isFirstChange(){return this.firstChange}}function Tm(t,n,r,i){null!==n?n.applyValueToInputSignal(n,i):t[r]=i}function ah(){return Am}function Am(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nw),kw}function kw(){const t=Im(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===Ci)t.previous=n;else for(let i in n)r[i]=n[i];t.current=null,this.ngOnChanges(n)}}function Nw(t,n,r,i,f){const x=this.declaredInputs[i],F=Im(t)||function Lw(t,n){return t[Mm]=n}(t,{previous:Ci,current:null}),Q=F.current||(F.current={}),ue=F.previous,xe=ue[x];Q[x]=new Rw(xe&&xe.currentValue,r,ue===Ci),Tm(t,n,f,r)}ah.ngInherit=!0;const Mm="__ngSimpleChanges__";function Im(t){return t[Mm]||null}const us=function(t,n,r){};function jr(t){for(;Array.isArray(t);)t=t[so];return t}function kl(t,n){return jr(n[t])}function ii(t,n){return jr(n[t.index])}function Nl(t,n){return t.data[n]}function xi(t,n){const r=n[t];return Uo(r)?r:r[so]}function ch(t){return!(128&~t[rr])}function Bi(t,n){return null==n?null:t[n]}function Pm(t){t[Ra]=0}function Rm(t){1024&t[rr]||(t[rr]|=1024,ch(t)&&ac(t))}function Ll(t){var n;return!!(9216&t[rr]||null!==(n=t[Ui])&&void 0!==n&&n.dirty)}function dh(t){var n;null===(n=t[ss].changeDetectionScheduler)||void 0===n||n.notify(7),64&t[rr]&&(t[rr]|=1024),Ll(t)&&ac(t)}function ac(t){var n;null===(n=t[ss].changeDetectionScheduler)||void 0===n||n.notify(0);let r=Ss(t);for(;null!==r&&!(8192&r[rr])&&(r[rr]|=8192,ch(r));)r=Ss(r)}function lc(t,n){if(!(256&~t[rr]))throw new Rn(911,!1);null===t[Rs]&&(t[Rs]=[]),t[Rs].push(n)}function Ss(t){const n=t[xo];return Qo(n)?n[xo]:n}const ur={lFrame:qm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Nm=!1;function Lm(){return ur.bindingsEnabled}function ea(){return null!==ur.skipHydrationRootTNode}function Cn(){return ur.lFrame.lView}function gr(){return ur.lFrame.tView}function Fm(t){return ur.lFrame.contextLView=t,t[Qr]}function Um(t){return ur.lFrame.contextLView=null,t}function Hr(){let t=Bm();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bm(){return ur.lFrame.currentTNode}function Yi(t,n){const r=ur.lFrame;r.currentTNode=t,r.isParent=n}function ph(){return ur.lFrame.isParent}function mh(){ur.lFrame.isParent=!1}function Gm(){return Nm}function Hm(t){Nm=t}function Ji(){return ur.lFrame.bindingIndex++}function Ds(t){const n=ur.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function Jw(t,n){const r=ur.lFrame;r.bindingIndex=r.bindingRootIndex=t,gh(n)}function gh(t){ur.lFrame.currentDirectiveIndex=t}function vh(){return ur.lFrame.currentQueryIndex}function cc(t){ur.lFrame.currentQueryIndex=t}function Zw(t){const n=t[Nn];return 2===n.type?n.declTNode:1===n.type?t[Xo]:null}function Xm(t,n,r){if(r&mr.SkipSelf){let f=n,x=t;for(;!(f=f.parent,null!==f||r&mr.Host||(f=Zw(x),null===f||(x=x[Pa],10&f.type))););if(null===f)return!1;n=f,t=x}const i=ur.lFrame=Km();return i.currentTNode=n,i.lView=t,!0}function bh(t){const n=Km(),r=t[Nn];ur.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Km(){const t=ur.lFrame,n=null===t?null:t.child;return null===n?qm(t):n}function qm(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ym(){const t=ur.lFrame;return ur.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jm=Ym;function _h(){const t=Ym();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ko(){return ur.lFrame.selectedIndex}function ta(t){ur.lFrame.selectedIndex=t}function Zr(){const t=ur.lFrame;return Nl(t.tView,t.selectedIndex)}let Zm=!0;function Ul(){return Zm}function cs(t){Zm=t}function dc(t,n){for(let xe=n.directiveStart,Le=n.directiveEnd;xe<Le;xe++){const Dt=t.data[xe].type.prototype,{ngAfterContentInit:Pt,ngAfterContentChecked:jt,ngAfterViewInit:dn,ngAfterViewChecked:Dn,ngOnDestroy:jn}=Dt;var r,i,f,x,F,Q,ue;Pt&&(null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(-xe,Pt),jt&&((null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(xe,jt),(null!==(f=t.contentCheckHooks)&&void 0!==f?f:t.contentCheckHooks=[]).push(xe,jt)),dn&&(null!==(x=t.viewHooks)&&void 0!==x?x:t.viewHooks=[]).push(-xe,dn),Dn&&((null!==(F=t.viewHooks)&&void 0!==F?F:t.viewHooks=[]).push(xe,Dn),(null!==(Q=t.viewCheckHooks)&&void 0!==Q?Q:t.viewCheckHooks=[]).push(xe,Dn)),null!=jn&&(null!==(ue=t.destroyHooks)&&void 0!==ue?ue:t.destroyHooks=[]).push(xe,jn)}}function hc(t,n,r){eg(t,n,3,r)}function fc(t,n,r,i){(3&t[rr])===r&&eg(t,n,r,i)}function wh(t,n){let r=t[rr];(3&r)===n&&(r&=16383,r+=1,t[rr]=r)}function eg(t,n,r,i){const x=null!=i?i:-1,F=n.length-1;let Q=0;for(let ue=void 0!==i?65535&t[Ra]:0;ue<F;ue++)if("number"==typeof n[ue+1]){if(Q=n[ue],null!=i&&Q>=i)break}else n[ue]<0&&(t[Ra]+=65536),(Q<x||-1==x)&&(sC(t,r,n,ue),t[Ra]=(4294901760&t[Ra])+ue+2),ue++}function tg(t,n){us(4,t,n);const r=ie(null);try{n.call(t)}finally{ie(r),us(5,t,n)}}function sC(t,n,r,i){const f=r[i]<0,x=r[i+1],Q=t[f?-r[i]:r[i]];f?t[rr]>>14<t[Ra]>>16&&(3&t[rr])===n&&(t[rr]+=16384,tg(Q,x)):tg(Q,x)}const La=-1;class Bl{constructor(n,r,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=i}}const Eh={};class na{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,i){i=Jr(i);const f=this.injector.get(n,Eh,i);return f!==Eh||r===Eh?f:this.parentInjector.get(n,r,i)}}function Sh(t){return t!==La}function $l(t){return 32767&t}function Vl(t,n){let r=function cC(t){return t>>16}(t),i=n;for(;r>0;)i=i[Pa],r--;return i}let xh=!0;function pc(t){const n=xh;return xh=t,n}const rg=255,og=5;let hC=0;const ds={};function mc(t,n){const r=ig(t,n);if(-1!==r)return r;const i=n[Nn];i.firstCreatePass&&(t.injectorIndex=n.length,Dh(i.data,t),Dh(n,null),Dh(i.blueprint,null));const f=gc(t,n),x=t.injectorIndex;if(Sh(f)){const F=$l(f),Q=Vl(f,n),ue=Q[Nn].data;for(let xe=0;xe<8;xe++)n[x+xe]=Q[F+xe]|ue[F+xe]}return n[x+8]=f,x}function Dh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ig(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function gc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,i=null,f=n;for(;null!==f;){if(i=fg(f),null===i)return La;if(r++,f=f[Pa],-1!==i.injectorIndex)return i.injectorIndex|r<<16}return La}function Th(t,n,r){!function fC(t,n,r){let i;"string"==typeof r?i=r.charCodeAt(0)||0:r.hasOwnProperty(os)&&(i=r[os]),null==i&&(i=r[os]=hC++);const f=i&rg;n.data[t+(f>>og)]|=1<<f}(t,n,r)}function sg(t,n,r){if(r&mr.Optional||void 0!==t)return t;Gs()}function ag(t,n,r,i){if(r&mr.Optional&&void 0===i&&(i=null),!(r&(mr.Self|mr.Host))){const f=t[Do],x=Io(void 0);try{return f?f.get(n,i,r&mr.Optional):di(n,i,r&mr.Optional)}finally{Io(x)}}return sg(i,0,r)}function lg(t,n,r,i=mr.Default,f){if(null!==t){if(2048&n[rr]&&!(i&mr.Self)){const F=function vC(t,n,r,i,f){let x=t,F=n;for(;null!==x&&null!==F&&2048&F[rr]&&!(512&F[rr]);){const Q=ug(x,F,r,i|mr.Self,ds);if(Q!==ds)return Q;let ue=x.parent;if(!ue){const xe=F[Em];if(xe){const Le=xe.get(r,ds,i);if(Le!==ds)return Le}ue=fg(F),F=F[Pa]}x=ue}return f}(t,n,r,i,ds);if(F!==ds)return F}const x=ug(t,n,r,i,ds);if(x!==ds)return x}return ag(n,r,i,f)}function ug(t,n,r,i,f){const x=function gC(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(os)?t[os]:void 0;return"number"==typeof n?n>=0?n&rg:yC:n}(r);if("function"==typeof x){if(!Xm(n,t,i))return i&mr.Host?sg(f,0,i):ag(n,r,i,f);try{let F;if(F=x(i),null!=F||i&mr.Optional)return F;Gs()}finally{Jm()}}else if("number"==typeof x){let F=null,Q=ig(t,n),ue=La,xe=i&mr.Host?n[ao][Xo]:null;for((-1===Q||i&mr.SkipSelf)&&(ue=-1===Q?gc(t,n):n[Q+8],ue!==La&&dg(i,!1)?(F=n[Nn],Q=$l(ue),n=Vl(ue,n)):Q=-1);-1!==Q;){const Le=n[Nn];if(cg(x,Q,Le.data)){const Ye=mC(Q,n,r,F,i,xe);if(Ye!==ds)return Ye}ue=n[Q+8],ue!==La&&dg(i,n[Nn].data[Q+8]===xe)&&cg(x,Q,n)?(F=Le,Q=$l(ue),n=Vl(ue,n)):Q=-1}}return f}function mC(t,n,r,i,f,x){const F=n[Nn],Q=F.data[t+8],Le=yc(Q,F,r,null==i?Qs(Q)&&xh:i!=F&&!!(3&Q.type),f&mr.Host&&x===Q);return null!==Le?ra(n,F,Le,Q):ds}function yc(t,n,r,i,f){const x=t.providerIndexes,F=n.data,Q=1048575&x,ue=t.directiveStart,Le=x>>20,Dt=f?Q+Le:t.directiveEnd;for(let Pt=i?Q:Q+Le;Pt<Dt;Pt++){const jt=F[Pt];if(Pt<ue&&r===jt||Pt>=ue&&jt.type===r)return Pt}if(f){const Pt=F[ue];if(Pt&&qi(Pt)&&Pt.type===r)return ue}return null}function ra(t,n,r,i){let f=t[r];const x=n.data;if(function aC(t){return t instanceof Bl}(f)){const F=f;F.resolving&&function Hu(t,n){throw n&&n.join(" > "),new Rn(-200,t)}(function Mr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ar(t)}(x[r]));const Q=pc(F.canSeeViewProviders);F.resolving=!0;const xe=F.injectImpl?Io(F.injectImpl):null;Xm(t,i,mr.Default);try{f=t[r]=F.factory(void 0,x,t,i),n.firstCreatePass&&r>=i.directiveStart&&function iC(t,n,r){const{ngOnChanges:i,ngOnInit:f,ngDoCheck:x}=n.type.prototype;if(i){var F,Q;const Ye=Am(n);(null!==(F=r.preOrderHooks)&&void 0!==F?F:r.preOrderHooks=[]).push(t,Ye),(null!==(Q=r.preOrderCheckHooks)&&void 0!==Q?Q:r.preOrderCheckHooks=[]).push(t,Ye)}var ue,xe,Le;f&&(null!==(ue=r.preOrderHooks)&&void 0!==ue?ue:r.preOrderHooks=[]).push(0-t,f),x&&((null!==(xe=r.preOrderHooks)&&void 0!==xe?xe:r.preOrderHooks=[]).push(t,x),(null!==(Le=r.preOrderCheckHooks)&&void 0!==Le?Le:r.preOrderCheckHooks=[]).push(t,x))}(r,x[r],n)}finally{null!==xe&&Io(xe),pc(Q),F.resolving=!1,Jm()}}return f}function cg(t,n,r){return!!(r[n+(t>>og)]&1<<t)}function dg(t,n){return!(t&mr.Self||t&mr.Host&&n)}class jo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,i){return lg(this._tNode,this._lView,n,Jr(i),r)}}function yC(){return new jo(Hr(),Cn())}function hg(t){return Ur(()=>{const n=t.prototype.constructor,r=n[ki]||Ah(n),i=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==i;){const x=f[ki]||Ah(f);if(x&&x!==r)return x;f=Object.getPrototypeOf(f)}return x=>new x})}function Ah(t){return Ho(t)?()=>{const n=Ah(Wn(t));return n&&n()}:_s(t)}function fg(t){const n=t[Nn],r=n.type;return 2===r?n.declTNode:1===r?t[Xo]:null}function vc(t){return function pC(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const i=r.length;let f=0;for(;f<i;){const x=r[f];if(Ku(x))break;if(0===x)f+=2;else if("number"==typeof x)for(f++;f<i&&"string"==typeof r[f];)f++;else{if(x===n)return r[f+1];f+=2}}}return null}(Hr(),t)}function vg(t,n=null,r=null,i){const f=bg(t,n,r,i);return f.resolveInjectorInitializers(),f}function bg(t,n=null,r=null,i,f=new Set){const x=[r||Cr,Ml(t)];return i=i||("object"==typeof t?void 0:Xr(t)),new Ia(x,n||tc(),i||null,f)}class Bo{static create(n,r){if(Array.isArray(n))return vg({name:""},r,n,"");{var i;const f=null!==(i=n.name)&&void 0!==i?i:"";return vg({name:f},n.parent,n.providers,f)}}}(br=Bo).THROW_IF_NOT_FOUND=ce,br.NULL=new Ws,br.\u0275prov=Ln({token:br,providedIn:"any",factory:()=>Zn(Wu)}),br.__NG_ELEMENT_ID__=-1,new Vn("").__NG_ELEMENT_ID__=t=>{const n=Hr();if(null===n)throw new Rn(204,!1);if(2&n.type)return n.value;if(t&mr.Optional)return null;throw new Rn(204,!1)};function Ih(t){return t.ngOriginalError}let Gl=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=AC,t.__NG_ENV_ID__=r=>r,n})();class TC extends Gl{constructor(n){super(),this._lView=n}onDestroy(n){return lc(this._lView,n),()=>function hh(t,n){if(null===t[Rs])return;const r=t[Rs].indexOf(n);-1!==r&&t[Rs].splice(r,1)}(this._lView,n)}}function AC(){return new TC(Cn())}let oa=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ze.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:()=>new t}),n})();const hs=class MC extends st.B{constructor(n=!1){var r,i;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,_m()&&(this.destroyRef=null!==(r=kn(Gl,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(i=kn(oa,{optional:!0}))&&void 0!==i?i:void 0)}emit(n){const r=ie(null);try{super.next(n)}finally{ie(r)}}subscribe(n,r,i){let f=n,x=r||(()=>null),F=i;if(n&&"object"==typeof n){var Q,ue,xe;const Ye=n;f=null===(Q=Ye.next)||void 0===Q?void 0:Q.bind(Ye),x=null===(ue=Ye.error)||void 0===ue?void 0:ue.bind(Ye),F=null===(xe=Ye.complete)||void 0===xe?void 0:xe.bind(Ye)}this.__isAsync&&(x=this.wrapInTimeout(x),f&&(f=this.wrapInTimeout(f)),F&&(F=this.wrapInTimeout(F)));const Le=super.subscribe({next:f,error:x,complete:F});return n instanceof lt.yU&&n.add(Le),Le}wrapInTimeout(n){return r=>{var i;const f=null===(i=this.pendingTasks)||void 0===i?void 0:i.add();setTimeout(()=>{var x;n(r),void 0!==f&&(null===(x=this.pendingTasks)||void 0===x||x.remove(f))})}}};function _c(...t){}function wg(t){let n,r;function i(){t=_c;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{t(),i()})),()=>i()}function Cg(t){return queueMicrotask(()=>t()),()=>{t=_c}}class ro{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hs(!1),this.onMicrotaskEmpty=new hs(!1),this.onStable=new hs(!1),this.onError=new hs(!1),typeof Zone>"u")throw new Rn(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!i&&r,f.shouldCoalesceRunChangeDetection=i,f.callbackScheduled=!1,function jC(t){const n=()=>{!function OC(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{wg(()=>{t.callbackScheduled=!1,jh(t),t.isCheckStableRunning=!0,Oh(t),t.isCheckStableRunning=!1})}),jh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,i,f,x,F,Q)=>{if(function PC(t){return xg(t,"__ignore_ng_zone__")}(Q))return r.invokeTask(f,x,F,Q);try{return Eg(t),r.invokeTask(f,x,F,Q)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===x.type||t.shouldCoalesceRunChangeDetection)&&n(),Sg(t)}},onInvoke:(r,i,f,x,F,Q,ue)=>{try{return Eg(t),r.invoke(f,x,F,Q,ue)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function RC(t){return xg(t,"__scheduler_tick__")}(Q)&&n(),Sg(t)}},onHasTask:(r,i,f,x)=>{r.hasTask(f,x),i===f&&("microTask"==x.change?(t._hasPendingMicrotasks=x.microTask,jh(t),Oh(t)):"macroTask"==x.change&&(t.hasPendingMacrotasks=x.macroTask))},onHandleError:(r,i,f,x)=>(r.handleError(f,x),t.runOutsideAngular(()=>t.onError.emit(x)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ro.isInAngularZone())throw new Rn(909,!1)}static assertNotInAngularZone(){if(ro.isInAngularZone())throw new Rn(909,!1)}run(n,r,i){return this._inner.run(n,r,i)}runTask(n,r,i,f){const x=this._inner,F=x.scheduleEventTask("NgZoneEvent: "+f,n,IC,_c,_c);try{return x.runTask(F,r,i)}finally{x.cancelTask(F)}}runGuarded(n,r,i){return this._inner.runGuarded(n,r,i)}runOutsideAngular(n){return this._outer.run(n)}}const IC={};function Oh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Eg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sg(t){t._nesting--,Oh(t)}class Ph{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hs,this.onMicrotaskEmpty=new hs,this.onStable=new hs,this.onError=new hs}run(n,r,i){return n.apply(r,i)}runGuarded(n,r,i){return n.apply(r,i)}runOutsideAngular(n){return n()}runTask(n,r,i,f){return n.apply(r,i)}}function xg(t,n){var r;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(r=t[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[n])}class fs{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Ih(n);for(;r&&Ih(r);)r=Ih(r);return r||null}}const NC=new Vn("",{providedIn:"root",factory:()=>{const t=kn(ro),n=kn(fs);return r=>t.runOutsideAngular(()=>n.handleError(r))}});function LC(){return Ba(Hr(),Cn())}function Ba(t,n){return new Hl(ii(t,n))}let Hl=(()=>{class n{constructor(i){this.nativeElement=i}}return n.__NG_ELEMENT_ID__=LC,n})();function Tg(t){return t instanceof Hl?t.nativeElement:t}function FC(){return this._results[Symbol.iterator]()}class Rh{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new hs}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Rh.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=FC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const i=function zo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Gd(t,n,r){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let f=t[i],x=n[i];if(r&&(f=r(f),x=r(x)),x!==f)return!1}return!0}(this._results,i,r))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function wc(t){return!(128&~t.flags)}const kh=new Map;let BC=0;const Ec="__ngContext__";function Zo(t,n){Uo(n)?(t[Ec]=n[ka],function VC(t){kh.set(t[ka],t)}(n)):t[Ec]=n}function Lg(t){return Ug(t[Ol])}function Fg(t){return Ug(t[Ki])}function Ug(t){for(;null!==t&&!Qo(t);)t=t[Ki];return t}let Lh;function iE(t){Lh=t}const xc=new Vn("",{providedIn:"root",factory:()=>sE}),sE="ng",Xg=new Vn(""),Fh=new Vn("",{providedIn:"platform",factory:()=>"unknown"}),aE=new Vn("",{providedIn:"root",factory:()=>{var t;return(null===(t=function ks(){if(void 0!==Lh)return Lh;if(typeof document<"u")return document;throw new Rn(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Kg=()=>null;function Gh(t,n,r=!1){return Kg(t,n,r)}const ny=new Vn("",{providedIn:"root",factory:()=>!1});let jc,Pc;function Wa(t){var n;return(null===(n=function Kh(){if(void 0===jc&&(jc=null,zr.trustedTypes))try{jc=zr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jc}())||void 0===n?void 0:n.createHTML(t))||t}function ay(t){var n;return(null===(n=function qh(){if(void 0===Pc&&(Pc=null,zr.trustedTypes))try{Pc=zr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pc}())||void 0===n?void 0:n.createScriptURL(t))||t}class ia{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nr})`}}class wE extends ia{getTypeName(){return"HTML"}}class CE extends ia{getTypeName(){return"Style"}}class EE extends ia{getTypeName(){return"Script"}}class SE extends ia{getTypeName(){return"URL"}}class xE extends ia{getTypeName(){return"ResourceURL"}}function Ts(t){return t instanceof ia?t.changingThisBreaksApplicationSecurity:t}function Xa(t,n){const r=function DE(t){return t instanceof ia&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Nr})`)}return r===n}function TE(t){return new wE(t)}function AE(t){return new CE(t)}function ME(t){return new EE(t)}function IE(t){return new SE(t)}function OE(t){return new xE(t)}class jE{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Wa(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch{return null}}}class PE{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=Wa(n),r}}const kE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rc(t){return(t=String(t)).match(kE)?t:"unsafe:"+t}function As(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Zl(...t){const n={};for(const r of t)for(const i in r)r.hasOwnProperty(i)&&(n[i]=!0);return n}const uy=As("area,br,col,hr,img,wbr"),cy=As("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dy=As("rp,rt"),Yh=Zl(uy,Zl(cy,As("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zl(dy,As("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zl(dy,cy)),Jh=As("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hy=Zl(Jh,As("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),As("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),NE=As("script,style,template");class LE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,i=!0,f=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?i=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,i&&r.firstChild)f.push(r),r=BE(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let x=UE(r);if(x){r=x;break}r=f.pop()}return this.buf.join("")}startElement(n){const r=fy(n).toLowerCase();if(!Yh.hasOwnProperty(r))return this.sanitizedSomething=!0,!NE.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const i=n.attributes;for(let f=0;f<i.length;f++){const x=i.item(f),F=x.name,Q=F.toLowerCase();if(!hy.hasOwnProperty(Q)){this.sanitizedSomething=!0;continue}let ue=x.value;Jh[Q]&&(ue=Rc(ue)),this.buf.push(" ",F,'="',my(ue),'"')}return this.buf.push(">"),!0}endElement(n){const r=fy(n).toLowerCase();Yh.hasOwnProperty(r)&&!uy.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(my(n))}}function UE(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw py(n);return n}function BE(t){const n=t.firstChild;if(n&&function FE(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw py(n);return n}function fy(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function py(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const $E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VE=/([^\#-~ |!])/g;function my(t){return t.replace(/&/g,"&amp;").replace($E,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(VE,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kc;function gy(t,n){let r=null;try{kc=kc||function ly(t){const n=new PE(t);return function RE(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new jE(n):n}(t);let i=n?String(n):"";r=kc.getInertBodyElement(i);let f=5,x=i;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,i=x,x=r.innerHTML,r=kc.getInertBodyElement(i)}while(i!==x);return Wa((new LE).sanitizeChildren(Qh(r)||r))}finally{if(r){const i=Qh(r)||r;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Qh(t){return"content"in t&&function GE(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var sa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(sa||{});function Zh(t){const n=eu();return n?n.sanitize(sa.URL,t)||"":Xa(t,"URL")?Ts(t):Rc(ar(t))}function yy(t){const n=eu();if(n)return ay(n.sanitize(sa.RESOURCE_URL,t)||"");if(Xa(t,"ResourceURL"))return ay(Ts(t));throw new Rn(904,!1)}function vy(t,n,r){return function qE(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?yy:Zh}(n,r)(t)}function eu(){const t=Cn();return t&&t[ss].sanitizer}const YE=/^>|^->|<!--|-->|--!>|<!-$/g,JE=/(<|>)/g,QE="\u200b$1\u200b";function Di(t){return t instanceof Function?t():t}var Fc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fc||{});let nf;function rf(t,n){return nf(t,n)}function qa(t,n,r,i,f){if(null!=i){let x,F=!1;Qo(i)?x=i:Uo(i)&&(F=!0,i=i[so]);const Q=jr(i);0===t&&null!==r?null==f?Oy(n,r,Q):aa(n,r,Q,f||null,!0):1===t&&null!==r?aa(n,r,Q,f||null,!0):2===t?function nu(t,n,r){const i=$c(t,n);i&&function gS(t,n,r,i){t.removeChild(n,r,i)}(t,i,n,r)}(n,Q,F):3===t&&n.destroyNode(Q),null!=x&&function bS(t,n,r,i,f){const x=r[ls];x!==jr(r)&&qa(n,t,i,x,f);for(let Q=yo;Q<r.length;Q++){const ue=r[Q];Gc(ue[Nn],ue,t,n,i,x)}}(n,t,x,r,f)}}function af(t,n){return t.createComment(function by(t){return t.replace(YE,n=>n.replace(JE,QE))}(n))}function Uc(t,n,r){return t.createElement(n,r)}function Ay(t,n){var r;null===(r=n[ss].changeDetectionScheduler)||void 0===r||r.notify(8),Gc(t,n,n[lr],2,null,null)}function My(t,n){const r=t[Na],i=n[xo];(Uo(i)||n[ao]!==i[xo][ao])&&(t[rr]|=ic.HasTransplantedViews),null===r?t[Na]=[n]:r.push(n)}function lf(t,n){const r=t[Na],i=r.indexOf(n);r.splice(i,1)}function tu(t,n){if(t.length<=yo)return;const r=yo+n,i=t[r];if(i){const f=i[Js];null!==f&&f!==t&&lf(f,i),n>0&&(t[r-1][Ki]=i[Ki]);const x=Ta(t,yo+n);!function cS(t,n){Ay(t,n),n[so]=null,n[Xo]=null}(i[Nn],i);const F=x[as];null!==F&&F.detachView(x[Nn]),i[xo]=null,i[Ki]=null,i[rr]&=-129}return i}function Bc(t,n){if(!(256&n[rr])){const r=n[lr];r.destroyNode&&Gc(t,n,r,3,null,null),function hS(t){let n=t[Ol];if(!n)return uf(t[Nn],t);for(;n;){let r=null;if(Uo(n))r=n[Ol];else{const i=n[yo];i&&(r=i)}if(!r){for(;n&&!n[Ki]&&n!==t;)Uo(n)&&uf(n[Nn],n),n=n[xo];null===n&&(n=t),Uo(n)&&uf(n[Nn],n),r=n&&n[Ki]}n=r}}(n)}}function uf(t,n){if(256&n[rr])return;const r=ie(null);try{n[rr]&=-129,n[rr]|=256,n[Ui]&&h(n[Ui]),function mS(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let i=0;i<r.length;i+=2){const f=n[r[i]];if(!(f instanceof Bl)){const x=r[i+1];if(Array.isArray(x))for(let F=0;F<x.length;F+=2){const Q=f[x[F]],ue=x[F+1];us(4,Q,ue);try{ue.call(Q)}finally{us(5,Q,ue)}}else{us(4,f,x);try{x.call(f)}finally{us(5,f,x)}}}}}(t,n),function pS(t,n){const r=t.cleanup,i=n[Ys];if(null!==r)for(let x=0;x<r.length-1;x+=2)if("string"==typeof r[x]){const F=r[x+3];F>=0?i[F]():i[-F].unsubscribe(),x+=2}else r[x].call(i[r[x+1]]);null!==i&&(n[Ys]=null);const f=n[Rs];if(null!==f){n[Rs]=null;for(let x=0;x<f.length;x++)(0,f[x])()}}(t,n),1===n[Nn].type&&n[lr].destroy();const i=n[Js];if(null!==i&&Qo(n[xo])){i!==n[xo]&&lf(i,n);const f=n[as];null!==f&&f.detachView(t)}!function GC(t){kh.delete(t[ka])}(n)}finally{ie(r)}}function cf(t,n,r){return function Iy(t,n,r){let i=n;for(;null!==i&&168&i.type;)i=(n=i).parent;if(null===i)return r[so];{const{componentOffset:f}=i;if(f>-1){const{encapsulation:x}=t.data[i.directiveStart+f];if(x===ws.None||x===ws.Emulated)return null}return ii(i,r)}}(t,n.parent,r)}function aa(t,n,r,i,f){t.insertBefore(n,r,i,f)}function Oy(t,n,r){t.appendChild(n,r)}function jy(t,n,r,i,f){null!==i?aa(t,n,r,i,f):Oy(t,n,r)}function $c(t,n){return t.parentNode(n)}function Py(t,n,r){return ky(t,n,r)}let df,ky=function Ry(t,n,r){return 40&t.type?ii(t,r):null};function Vc(t,n,r,i){const f=cf(t,i,n),x=n[lr],Q=Py(i.parent||n[Xo],i,n);if(null!=f)if(Array.isArray(r))for(let ue=0;ue<r.length;ue++)jy(x,f,r[ue],Q,!1);else jy(x,f,r,Q,!1);void 0!==df&&df(x,i,n,r,f)}function la(t,n){if(null!==n){const r=n.type;if(3&r)return ii(n,t);if(4&r)return hf(-1,t[n.index]);if(8&r){const i=n.child;if(null!==i)return la(t,i);{const f=t[n.index];return Qo(f)?hf(-1,f):jr(f)}}if(128&r)return la(t,n.next);if(32&r)return rf(n,t)()||jr(t[n.index]);{const i=Ly(t,n);return null!==i?Array.isArray(i)?i[0]:la(Ss(t[ao]),i):la(t,n.next)}}return null}function Ly(t,n){return null!==n?t[ao][Xo].projection[n.projection]:null}function hf(t,n){const r=yo+t+1;if(r<n.length){const i=n[r],f=i[Nn].firstChild;if(null!==f)return la(i,f)}return n[ls]}function ff(t,n,r,i,f,x,F){for(;null!=r;){if(128===r.type){r=r.next;continue}const Q=i[r.index],ue=r.type;if(F&&0===n&&(Q&&Zo(jr(Q),i),r.flags|=2),32&~r.flags)if(8&ue)ff(t,n,r.child,i,f,x,!1),qa(n,t,f,Q,x);else if(32&ue){const xe=rf(r,i);let Le;for(;Le=xe();)qa(n,t,f,Le,x);qa(n,t,f,Q,x)}else 16&ue?Uy(t,n,i,r,f,x):qa(n,t,f,Q,x);r=F?r.projectionNext:r.next}}function Gc(t,n,r,i,f,x){ff(r,i,t.firstChild,n,f,x,!1)}function Uy(t,n,r,i,f,x){const F=r[ao],ue=F[Xo].projection[i.projection];if(Array.isArray(ue))for(let xe=0;xe<ue.length;xe++)qa(n,t,f,ue[xe],x);else{let xe=ue;const Le=F[xo];wc(i)&&(xe.flags|=128),ff(t,n,xe,Le,f,x,!0)}}function By(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function $y(t,n,r){const{mergedAttrs:i,classes:f,styles:x}=r;null!==i&&Tl(t,n,i),null!==f&&By(t,n,f),null!==x&&function wS(t,n,r){t.setAttribute(n,"style",r)}(t,n,x)}const cr={};function Vy(t=1){Gy(gr(),Cn(),Ko()+t,!1)}function Gy(t,n,r,i){if(!i)if(3&~n[rr]){const x=t.preOrderHooks;null!==x&&fc(n,x,0,r)}else{const x=t.preOrderCheckHooks;null!==x&&hc(n,x,r)}ta(r)}function Ya(t,n=mr.Default){const r=Cn();return null===r?Zn(t,n):lg(Hr(),r,Wn(t),n)}function Hy(){throw new Error("invalid")}function zy(t,n,r,i,f,x){const F=ie(null);try{let Q=null;f&Cs.SignalBased&&(Q=n[i][o]),null!==Q&&void 0!==Q.transformFn&&(x=Q.transformFn(x)),f&Cs.HasDecoratorInputTransform&&(x=t.inputTransforms[i].call(n,x)),null!==t.setInput?t.setInput(n,Q,x,r,i):Tm(n,Q,i,x)}finally{ie(F)}}function Hc(t,n,r,i,f,x,F,Q,ue,xe,Le){const Ye=n.blueprint.slice();return Ye[so]=f,Ye[rr]=204|i,(null!==xe||t&&2048&t[rr])&&(Ye[rr]|=2048),Pm(Ye),Ye[xo]=Ye[Pa]=t,Ye[Qr]=r,Ye[ss]=F||t&&t[ss],Ye[lr]=Q||t&&t[lr],Ye[Do]=ue||t&&t[Do]||null,Ye[Xo]=x,Ye[ka]=function $C(){return BC++}(),Ye[oi]=Le,Ye[Em]=xe,Ye[ao]=2==n.type?t[ao]:Ye,Ye}function ua(t,n,r,i,f){let x=t.data[n];if(null===x)x=function pf(t,n,r,i,f){const x=Bm(),F=ph(),ue=t.data[n]=function MS(t,n,r,i,f,x){let F=n?n.injectorIndex:-1,Q=0;return ea()&&(Q|=128),{type:r,index:i,insertBeforeIndex:null,injectorIndex:F,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Q,providerIndexes:0,value:f,attrs:x,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,F?x:x&&x.parent,r,n,i,f);return null===t.firstChild&&(t.firstChild=ue),null!==x&&(F?null==x.child&&null!==ue.parent&&(x.child=ue):null===x.next&&(x.next=ue,ue.prev=x)),ue}(t,n,r,i,f),function Yw(){return ur.lFrame.inI18n}()&&(x.flags|=32);else if(64&x.type){x.type=r,x.value=i,x.attrs=f;const F=function Fl(){const t=ur.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();x.injectorIndex=null===F?-1:F.injectorIndex}return Yi(x,!0),x}function ru(t,n,r,i){if(0===r)return-1;const f=n.length;for(let x=0;x<r;x++)n.push(i),t.blueprint.push(i),t.data.push(null);return f}function Wy(t,n,r,i,f){const x=Ko(),F=2&i;try{ta(-1),F&&n.length>tr&&Gy(t,n,tr,!1),us(F?2:0,f),r(i,f)}finally{ta(x),us(F?3:1,f)}}function mf(t,n,r){if(oh(n)){const i=ie(null);try{const x=n.directiveEnd;for(let F=n.directiveStart;F<x;F++){const Q=t.data[F];Q.contentQueries&&Q.contentQueries(1,r[F],F)}}finally{ie(i)}}}function gf(t,n,r){Lm()&&(function NS(t,n,r,i){const f=r.directiveStart,x=r.directiveEnd;Qs(r)&&function GS(t,n,r){const i=ii(n,t),f=Xy(r);let F=16;r.signals?F=4096:r.onPush&&(F=64);const Q=zc(t,Hc(t,f,null,F,i,n,null,t[ss].rendererFactory.createRenderer(i,r),null,null,null));t[n.index]=Q}(n,r,t.data[f+r.componentOffset]),t.firstCreatePass||mc(r,n),Zo(i,n);const F=r.initialInputs;for(let Q=f;Q<x;Q++){const ue=t.data[Q],xe=ra(n,t,Q,r);Zo(xe,n),null!==F&&HS(0,Q-f,xe,ue,0,F),qi(ue)&&(xi(r.index,n)[Qr]=ra(n,t,Q,r))}}(t,n,r,ii(r,n)),!(64&~r.flags)&&Qy(t,n,r))}function yf(t,n,r=ii){const i=n.localNames;if(null!==i){let f=n.index+1;for(let x=0;x<i.length;x+=2){const F=i[x+1],Q=-1===F?r(n,t):t[F];t[f++]=Q}}}function Xy(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=vf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function vf(t,n,r,i,f,x,F,Q,ue,xe,Le){const Ye=tr+i,Dt=Ye+f,Pt=function ES(t,n){const r=[];for(let i=0;i<n;i++)r.push(i<t?null:cr);return r}(Ye,Dt),jt="function"==typeof xe?xe():xe;return Pt[Nn]={type:t,blueprint:Pt,template:r,queries:null,viewQuery:Q,declTNode:n,data:Pt.slice().fill(null,Ye),bindingStartIndex:Ye,expandoStartIndex:Dt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof x?x():x,pipeRegistry:"function"==typeof F?F():F,firstChild:null,schemas:ue,consts:jt,incompleteFirstPass:!1,ssrId:Le}}let Ky=()=>null;function qy(t,n,r,i,f){for(let F in n){var x;if(!n.hasOwnProperty(F))continue;const Q=n[F];if(void 0===Q)continue;null!==(x=i)&&void 0!==x||(i={});let ue,xe=Cs.None;Array.isArray(Q)?(ue=Q[0],xe=Q[1]):ue=Q;let Le=F;if(null!==f){if(!f.hasOwnProperty(F))continue;Le=f[F]}0===t?Yy(i,r,Le,ue,xe):Yy(i,r,Le,ue)}return i}function Yy(t,n,r,i,f){let x;t.hasOwnProperty(r)?(x=t[r]).push(n,i):x=t[r]=[n,i],void 0!==f&&x.push(f)}function gi(t,n,r,i,f,x,F,Q){const ue=ii(n,r);let Le,xe=n.inputs;!Q&&null!=xe&&(Le=xe[i])?(Ef(t,r,Le,i,f),Qs(n)&&function jS(t,n){const r=xi(n,t);16&r[rr]||(r[rr]|=64)}(r,n.index)):3&n.type&&(i=function OS(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),f=null!=F?F(f,n.value||"",i):f,x.setProperty(ue,i,f))}function bf(t,n,r,i){if(Lm()){const f=null===i?null:{"":-1},x=function FS(t,n){const r=t.directiveRegistry;let i=null,f=null;if(r)for(let F=0;F<r.length;F++){const Q=r[F];if(Qu(n,Q.selectors,!1))if(i||(i=[]),qi(Q))if(null!==Q.findHostDirectiveDefs){const ue=[];f=f||new Map,Q.findHostDirectiveDefs(Q,ue,f),i.unshift(...ue,Q),_f(t,n,ue.length)}else i.unshift(Q),_f(t,n,0);else{var x;f=f||new Map,null===(x=Q.findHostDirectiveDefs)||void 0===x||x.call(Q,Q,i,f),i.push(Q)}}return null===i?null:[i,f]}(t,r);let F,Q;null===x?F=Q=null:[F,Q]=x,null!==F&&Jy(t,n,r,F,f,Q),f&&function US(t,n,r){if(n){const i=t.localNames=[];for(let f=0;f<n.length;f+=2){const x=r[n[f+1]];if(null==x)throw new Rn(-301,!1);i.push(n[f],x)}}}(r,i,f)}r.mergedAttrs=Ps(r.mergedAttrs,r.attrs)}function Jy(t,n,r,i,f,x){for(let Ye=0;Ye<i.length;Ye++)Th(mc(r,n),t,i[Ye].type);!function $S(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,i.length);for(let Ye=0;Ye<i.length;Ye++){const Dt=i[Ye];Dt.providersResolver&&Dt.providersResolver(Dt)}let F=!1,Q=!1,ue=ru(t,n,i.length,null);for(let Ye=0;Ye<i.length;Ye++){const Dt=i[Ye];r.mergedAttrs=Ps(r.mergedAttrs,Dt.hostAttrs),VS(t,r,n,ue,Dt),BS(ue,Dt,f),null!==Dt.contentQueries&&(r.flags|=4),(null!==Dt.hostBindings||null!==Dt.hostAttrs||0!==Dt.hostVars)&&(r.flags|=64);const Pt=Dt.type.prototype;var xe,Le;!F&&(Pt.ngOnChanges||Pt.ngOnInit||Pt.ngDoCheck)&&((null!==(xe=t.preOrderHooks)&&void 0!==xe?xe:t.preOrderHooks=[]).push(r.index),F=!0),Q||!Pt.ngOnChanges&&!Pt.ngDoCheck||((null!==(Le=t.preOrderCheckHooks)&&void 0!==Le?Le:t.preOrderCheckHooks=[]).push(r.index),Q=!0),ue++}!function IS(t,n,r){const f=n.directiveEnd,x=t.data,F=n.attrs,Q=[];let ue=null,xe=null;for(let Le=n.directiveStart;Le<f;Le++){const Ye=x[Le],Dt=r?r.get(Ye):null,jt=Dt?Dt.outputs:null;ue=qy(0,Ye.inputs,Le,ue,Dt?Dt.inputs:null),xe=qy(1,Ye.outputs,Le,xe,jt);const dn=null===ue||null===F||Al(n)?null:zS(ue,Le,F);Q.push(dn)}null!==ue&&(ue.hasOwnProperty("class")&&(n.flags|=8),ue.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=Q,n.inputs=ue,n.outputs=xe}(t,r,x)}function Qy(t,n,r){const i=r.directiveStart,f=r.directiveEnd,x=r.index,F=function Qw(){return ur.lFrame.currentDirectiveIndex}();try{ta(x);for(let Q=i;Q<f;Q++){const ue=t.data[Q],xe=n[Q];gh(Q),(null!==ue.hostBindings||0!==ue.hostVars||null!==ue.hostAttrs)&&LS(ue,xe)}}finally{ta(-1),gh(F)}}function LS(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function _f(t,n,r){var i;n.componentOffset=r,(null!==(i=t.components)&&void 0!==i?i:t.components=[]).push(n.index)}function BS(t,n,r){if(r){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)r[n.exportAs[i]]=t;qi(n)&&(r[""]=t)}}function VS(t,n,r,i,f){t.data[i]=f;const x=f.factory||(f.factory=_s(f.type)),F=new Bl(x,qi(f),Ya);t.blueprint[i]=F,r[i]=F,function RS(t,n,r,i,f){const x=f.hostBindings;if(x){let F=t.hostBindingOpCodes;null===F&&(F=t.hostBindingOpCodes=[]);const Q=~n.index;(function kS(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(F)!=Q&&F.push(Q),F.push(r,i,x)}}(t,n,i,ru(t,r,f.hostVars,cr),f)}function ps(t,n,r,i,f,x){const F=ii(t,n);!function wf(t,n,r,i,f,x,F){if(null==x)t.removeAttribute(n,f,r);else{const Q=null==F?ar(x):F(x,i||"",f);t.setAttribute(n,f,Q,r)}}(n[lr],F,x,t.value,r,i,f)}function HS(t,n,r,i,f,x){const F=x[n];if(null!==F)for(let Q=0;Q<F.length;)zy(i,r,F[Q++],F[Q++],F[Q++],F[Q++])}function zS(t,n,r){let i=null,f=0;for(;f<r.length;){const x=r[f];if(0!==x)if(5!==x){if("number"==typeof x)break;if(t.hasOwnProperty(x)){null===i&&(i=[]);const F=t[x];for(let Q=0;Q<F.length;Q+=3)if(F[Q]===n){i.push(x,F[Q+1],F[Q+2],r[f+1]);break}}f+=2}else f+=2;else f+=4}return i}function Zy(t,n,r,i){return[t,!0,0,n,null,i,null,r,null,null]}function ev(t,n){const r=t.contentQueries;if(null!==r){const i=ie(null);try{for(let f=0;f<r.length;f+=2){const F=r[f+1];if(-1!==F){const Q=t.data[F];cc(r[f]),Q.contentQueries(2,n[F],F)}}}finally{ie(i)}}}function zc(t,n){return t[Ol]?t[Cm][Ki]=n:t[Ol]=n,t[Cm]=n,n}function Cf(t,n,r){cc(0);const i=ie(null);try{n(t,r)}finally{ie(i)}}function tv(t){var n;return null!==(n=t[Ys])&&void 0!==n?n:t[Ys]=[]}function nv(t){var n;return null!==(n=t.cleanup)&&void 0!==n?n:t.cleanup=[]}function Wc(t,n){const r=t[Do],i=r?r.get(fs,null):null;i&&i.handleError(n)}function Ef(t,n,r,i,f){for(let x=0;x<r.length;){const F=r[x++],Q=r[x++],ue=r[x++];zy(t.data[F],n[F],i,Q,ue,f)}}function Ms(t,n,r){const i=kl(n,t);!function Ty(t,n,r){t.setValue(n,r)}(t[lr],i,r)}function WS(t,n){const r=xi(n,t),i=r[Nn];!function XS(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(i,r);const f=r[so];null!==f&&null===r[oi]&&(r[oi]=Gh(f,r[Do])),Sf(i,r,r[Qr])}function Sf(t,n,r){bh(n);try{var i;const f=t.viewQuery;null!==f&&Cf(1,f,r);const x=t.template;null!==x&&Wy(t,n,x,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),null===(i=n[as])||void 0===i||i.finishViewCreation(t),t.staticContentQueries&&ev(t,n),t.staticViewQueries&&Cf(2,t.viewQuery,r);const F=t.components;null!==F&&function KS(t,n){for(let r=0;r<n.length;r++)WS(t,n[r])}(n,F)}catch(f){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),f}finally{n[rr]&=-5,_h()}}function Ja(t,n,r,i){const f=ie(null);try{var x,F,Q;const ue=n.tView,Ye=Hc(t,ue,r,4096&t[rr]?4096:16,null,n,null,null,null!==(x=null==i?void 0:i.injector)&&void 0!==x?x:null,null!==(F=null==i?void 0:i.embeddedViewInjector)&&void 0!==F?F:null,null!==(Q=null==i?void 0:i.dehydratedView)&&void 0!==Q?Q:null);Ye[Js]=t[n.index];const Pt=t[as];return null!==Pt&&(Ye[as]=Pt.createEmbeddedView(ue)),Sf(ue,Ye,r),Ye}finally{ie(f)}}function ca(t,n){return!n||null===n.firstChild||wc(t)}function Qa(t,n,r,i=!0){const f=n[Nn];if(function fS(t,n,r,i){const f=yo+i,x=r.length;i>0&&(r[f-1][Ki]=n),i<x-yo?(n[Ki]=r[f],Hd(r,yo+i,n)):(r.push(n),n[Ki]=null),n[xo]=r;const F=n[Js];null!==F&&r!==F&&My(F,n);const Q=n[as];null!==Q&&Q.insertView(t),dh(n),n[rr]|=128}(f,n,t,r),i){const F=hf(r,t),Q=n[lr],ue=$c(Q,t[ls]);null!==ue&&function dS(t,n,r,i,f,x){i[so]=f,i[Xo]=n,Gc(t,i,r,1,f,x)}(f,t[Xo],Q,n,ue,F)}const x=n[oi];null!==x&&null!==x.firstChild&&(x.firstChild=null)}function ou(t,n,r,i,f=!1){for(;null!==r;){if(128===r.type){r=f?r.projectionNext:r.next;continue}const x=n[r.index];null!==x&&i.push(jr(x)),Qo(x)&&iv(x,i);const F=r.type;if(8&F)ou(t,n,r.child,i);else if(32&F){const Q=rf(r,n);let ue;for(;ue=Q();)i.push(ue)}else if(16&F){const Q=Ly(n,r);if(Array.isArray(Q))i.push(...Q);else{const ue=Ss(n[ao]);ou(ue[Nn],ue,Q,i,!0)}}r=f?r.projectionNext:r.next}return i}function iv(t,n){for(let r=yo;r<t.length;r++){const i=t[r],f=i[Nn].firstChild;null!==f&&ou(i[Nn],i,f,n)}t[ls]!==t[so]&&n.push(t[ls])}let sv=[];const QS={...g,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ac(t.lView)},consumerOnSignalRead(){this.lView[Ui]=this}},ex={...g,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Ss(t.lView);for(;n&&!av(n[Nn]);)n=Ss(n);n&&Rm(n)},consumerOnSignalRead(){this.lView[Ui]=this}};function av(t){return 2!==t.type}const tx=100;function Xc(t,n=!0,r=0){const i=t[ss],f=i.rendererFactory;var F;null===(F=f.begin)||void 0===F||F.call(f);try{!function nx(t,n){const r=Gm();try{Hm(!0),Df(t,n);let i=0;for(;Ll(t);){if(i===tx)throw new Rn(103,!1);i++,Df(t,1)}}finally{Hm(r)}}(t,r)}catch(xe){throw n&&Wc(t,xe),xe}finally{var Q,ue;null===(Q=f.end)||void 0===Q||Q.call(f),null===(ue=i.inlineEffectRunner)||void 0===ue||ue.flush()}}function rx(t,n,r,i){var f;const x=n[rr];if(!(256&~x))return;null===(f=n[ss].inlineEffectRunner)||void 0===f||f.flush(),bh(n);let ue=!0,xe=null,Le=null;av(t)?(Le=function qS(t){var n;return null!==(n=t[Ui])&&void 0!==n?n:function YS(t){var n;const r=null!==(n=sv.pop())&&void 0!==n?n:Object.create(QS);return r.lView=t,r}(t)}(n),xe=d(Le)):null===function $(){return I}()?(ue=!1,Le=function ZS(t){var n;const r=null!==(n=t[Ui])&&void 0!==n?n:Object.create(ex);return r.lView=t,r}(n),xe=d(Le)):n[Ui]&&(h(n[Ui]),n[Ui]=null);try{Pm(n),function zm(t){return ur.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&Wy(t,n,r,2,i);const Ye=!(3&~x);if(Ye){const jt=t.preOrderCheckHooks;null!==jt&&hc(n,jt,null)}else{const jt=t.preOrderHooks;null!==jt&&fc(n,jt,0,null),wh(n,0)}if(function ox(t){for(let n=Lg(t);null!==n;n=Fg(n)){if(!(n[rr]&ic.HasTransplantedViews))continue;const r=n[Na];for(let i=0;i<r.length;i++)Rm(r[i])}}(n),uv(n,0),null!==t.contentQueries&&ev(t,n),Ye){const jt=t.contentCheckHooks;null!==jt&&hc(n,jt)}else{const jt=t.contentHooks;null!==jt&&fc(n,jt,1),wh(n,1)}!function CS(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let i=0;i<r.length;i++){const f=r[i];if(f<0)ta(~f);else{const x=f,F=r[++i],Q=r[++i];Jw(F,x),Q(2,n[x])}}}finally{ta(-1)}}(t,n);const Dt=t.components;null!==Dt&&dv(n,Dt,0);const Pt=t.viewQuery;if(null!==Pt&&Cf(2,Pt,i),Ye){const jt=t.viewCheckHooks;null!==jt&&hc(n,jt)}else{const jt=t.viewHooks;null!==jt&&fc(n,jt,2),wh(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[jl]){for(const jt of n[jl])jt();n[jl]=null}n[rr]&=-73}catch(Ye){throw ac(n),Ye}finally{null!==Le&&(c(Le,xe),ue&&function JS(t){t.lView[Ui]!==t&&(t.lView=null,sv.push(t))}(Le)),_h()}}function uv(t,n){for(let r=Lg(t);null!==r;r=Fg(r))for(let i=yo;i<r.length;i++)cv(r[i],n)}function ix(t,n,r){cv(xi(n,t),r)}function cv(t,n){ch(t)&&Df(t,n)}function Df(t,n){const i=t[Nn],f=t[rr],x=t[Ui];let F=!!(0===n&&16&f);if(F||(F=!!(64&f&&0===n)),F||(F=!!(1024&f)),F||(F=!(null==x||!x.dirty||!u(x))),F||(F=!1),x&&(x.dirty=!1),t[rr]&=-9217,F)rx(i,t,i.template,t[Qr]);else if(8192&f){uv(t,1);const Q=i.components;null!==Q&&dv(t,Q,1)}}function dv(t,n,r){for(let i=0;i<n.length;i++)ix(t,n[i],r)}function iu(t,n){var r;const i=Gm()?64:1088;for(null===(r=t[ss].changeDetectionScheduler)||void 0===r||r.notify(n);t;){t[rr]|=i;const f=Ss(t);if(Rl(t)&&!f)return t;t=f}return null}class su{get rootNodes(){const n=this._lView,r=n[Nn];return ou(r,n,r.firstChild,[])}constructor(n,r,i=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qr]}set context(n){this._lView[Qr]=n}get destroyed(){return!(256&~this._lView[rr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[xo];if(Qo(n)){const r=n[8],i=r?r.indexOf(this):-1;i>-1&&(tu(n,i),Ta(r,i))}this._attachedToViewContainer=!1}Bc(this._lView[Nn],this._lView)}onDestroy(n){lc(this._lView,n)}markForCheck(){iu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[rr]&=-129}reattach(){dh(this._lView),this._lView[rr]|=128}detectChanges(){this._lView[rr]|=1024,Xc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Rn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Rl(this._lView),r=this._lView[Js];null!==r&&!n&&lf(r,this._lView),Ay(this._lView[Nn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Rn(902,!1);this._appRef=n;const r=Rl(this._lView),i=this._lView[Js];null!==i&&!r&&My(i,this._lView),dh(this._lView)}}let au=(()=>{class n{}return n.__NG_ELEMENT_ID__=lx,n})();const sx=au,ax=class extends sx{constructor(n,r,i){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){const f=Ja(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new su(f)}};function lx(){return Kc(Hr(),Cn())}function Kc(t,n){return 4&t.type?new ax(n,t,Ba(t,n)):null}let jv=()=>null;function ha(t,n){return jv(t,n)}class el{}const mu=new Vn("",{providedIn:"root",factory:()=>!1}),Pv=new Vn("");class eD{}class Rv{}class nD{resolveComponentFactory(n){throw function tD(t){const n=Error(`No component factory found for ${Xr(t)}.`);return n.ngComponent=t,n}(n)}}class gu{}gu.NULL=new nD;class Lf{}let rD=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function oD(){const t=Cn(),r=xi(Hr().index,t);return(Uo(r)?r:t)[lr]}(),n})(),iD=(()=>{var t;class n{}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:()=>null}),n})();const Nv=new Set;function ai(t){var n,r;Nv.has(t)||(Nv.add(t),null===(n=performance)||void 0===n||null===(r=n.mark)||void 0===r||r.call(n,"mark_feature_usage",{detail:{feature:t}}))}var li=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(li||{});const Lv={destroy(){}};function Fv(t,n){var r,i;!n&&function nc(t){if(!_m())throw new Rn(-203,!1)}();const f=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:kn(Bo);return function mi(t){return"browser"===(null!=t?t:kn(Bo)).get(Fh)}(f)?(ai("NgAfterNextRender"),function Uv(t,n,r,i){var f;const x=function aD(t,n){if(t instanceof Function)switch(n){case li.EarlyRead:return{earlyRead:t};case li.Write:return{write:t};case li.MixedReadWrite:return{mixedReadWrite:t};case li.Read:return{read:t}}return t}(t,i),F=n.get(ed),Q=null!==(f=F.handler)&&void 0!==f?f:F.handler=new uD,ue=[],xe=[],Le=()=>{for(const jt of xe)Q.unregister(jt);Ye()},Ye=n.get(Gl).onDestroy(Le);let Dt=0;const Pt=(jt,dn)=>{if(!dn)return;const Dn=r?(...vn)=>(Dt--,Dt<1&&Le(),dn(...vn)):dn,jn=bm(n,()=>new lD(jt,ue,Dn));Q.register(jn),xe.push(jn),Dt++};return Pt(li.EarlyRead,x.earlyRead),Pt(li.Write,x.write),Pt(li.MixedReadWrite,x.mixedReadWrite),Pt(li.Read,x.read),{destroy:Le}}(t,f,!0,null!==(i=null==n?void 0:n.phase)&&void 0!==i?i:li.MixedReadWrite)):Lv}class lD{constructor(n,r,i){var f;this.phase=n,this.pipelinedArgs=r,this.callbackFn=i,this.zone=kn(ro),this.errorHandler=kn(fs,{optional:!0}),null===(f=kn(el,{optional:!0}))||void 0===f||f.notify(6)}invoke(){try{const r=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,r)}catch(r){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(r)}}}class uD{constructor(){this.executingCallbacks=!1,this.buckets={[li.EarlyRead]:new Set,[li.Write]:new Set,[li.MixedReadWrite]:new Set,[li.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const r of n)r.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let ed=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var i;this.executeInternalCallbacks(),null===(i=this.handler)||void 0===i||i.execute()}executeInternalCallbacks(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const f of i)f()}ngOnDestroy(){var i;null===(i=this.handler)||void 0===i||i.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:()=>new t}),n})();function Ns(t){return!!er(t)}function nd(t,n,r){let i=r?t.styles:null,f=r?t.classes:null,x=0;if(null!==n)for(let F=0;F<n.length;F++){const Q=n[F];"number"==typeof Q?x=Q:1==x?f=Ri(f,Q):2==x&&(i=Ri(i,Q+": "+n[++F]+";"))}r?t.styles=i:t.stylesWithoutHost=i,r?t.classes=f:t.classesWithoutHost=f}class Vv extends gu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Xt(n);return new bu(r,this.ngModule)}}function Gv(t,n){const r=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const f=t[i];if(void 0===f)continue;const x=Array.isArray(f),F=x?f[0]:f;r.push(n?{propName:F,templateName:i,isSignal:!!((x?f[1]:Cs.None)&Cs.SignalBased)}:{propName:F,templateName:i})}return r}class bu extends Rv{get inputs(){const n=this.componentDef,r=n.inputTransforms,i=Gv(n.inputs,!0);if(null!==r)for(const f of i)r.hasOwnProperty(f.propName)&&(f.transform=r[f.propName]);return i}get outputs(){return Gv(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function oe(t){return t.map(mm).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,i,f){const x=ie(null);try{var Q;let ue=(f=f||this.ngModule)instanceof Fi?f:null===(Q=f)||void 0===Q?void 0:Q.injector;ue&&null!==this.componentDef.getStandaloneInjector&&(ue=this.componentDef.getStandaloneInjector(ue)||ue);const xe=ue?new na(n,ue):n,Le=xe.get(Lf,null);if(null===Le)throw new Rn(407,!1);const Ye=xe.get(iD,null),jt={rendererFactory:Le,sanitizer:Ye,inlineEffectRunner:null,afterRenderEventManager:xe.get(ed,null),changeDetectionScheduler:xe.get(el,null)},dn=Le.createRenderer(null,this.componentDef),Dn=this.componentDef.selectors[0][0]||"div",jn=i?function SS(t,n,r,i){const x=i.get(ny,!1)||r===ws.ShadowDom,F=t.selectRootElement(n,x);return function xS(t){Ky(t)}(F),F}(dn,i,this.componentDef.encapsulation,xe):Uc(dn,Dn,function hD(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Dn));let vn=512;this.componentDef.signals?vn|=4096:this.componentDef.onPush||(vn|=16);let or=null;null!==jn&&(or=Gh(jn,xe,!0));const dr=vf(0,null,null,1,0,null,null,null,null,null,null),Pr=Hc(null,dr,null,vn,null,null,jt,dn,xe,null,or);let qo,ei;bh(Pr);try{const ns=this.componentDef;let ba,um=null;ns.findHostDirectiveDefs?(ba=[],um=new Map,ns.findHostDirectiveDefs(ns,ba,um),ba.push(ns)):ba=[ns];const IO=function pD(t,n){const r=t[Nn],i=tr;return t[i]=n,ua(r,i,2,"#host",null)}(Pr,jn),OO=function mD(t,n,r,i,f,x,F){const Q=f[Nn];!function gD(t,n,r,i){for(const f of t)n.mergedAttrs=Ps(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(nd(n,n.mergedAttrs,!0),null!==r&&$y(i,r,n))}(i,t,n,F);let ue=null;null!==n&&(ue=Gh(n,f[Do]));const xe=x.rendererFactory.createRenderer(n,r);let Le=16;r.signals?Le=4096:r.onPush&&(Le=64);const Ye=Hc(f,Xy(r),null,Le,f[t.index],t,x,xe,null,null,ue);return Q.firstCreatePass&&_f(Q,t,i.length-1),zc(f,Ye),f[t.index]=Ye}(IO,jn,ns,ba,Pr,jt,dn);ei=Nl(dr,tr),jn&&function vD(t,n,r,i){if(i)Tl(t,r,["ng-version","18.1.3"]);else{const{attrs:f,classes:x}=function he(t){const n=[],r=[];let i=1,f=2;for(;i<t.length;){let x=t[i];if("string"==typeof x)2===f?""!==x&&n.push(x,t[++i]):8===f&&r.push(x);else{if(!Si(f))break;f=x}i++}return{attrs:n,classes:r}}(n.selectors[0]);f&&Tl(t,r,f),x&&x.length>0&&By(t,r,x.join(" "))}}(dn,ns,jn,i),void 0!==r&&function bD(t,n,r){const i=t.projection=[];for(let f=0;f<n.length;f++){const x=r[f];i.push(null!=x?Array.from(x):null)}}(ei,this.ngContentSelectors,r),qo=function yD(t,n,r,i,f,x){const F=Hr(),Q=f[Nn],ue=ii(F,f);Jy(Q,f,F,r,null,i);for(let Le=0;Le<r.length;Le++)Zo(ra(f,Q,F.directiveStart+Le,F),f);Qy(Q,f,F),ue&&Zo(ue,f);const xe=ra(f,Q,F.directiveStart+F.componentOffset,F);if(t[Qr]=f[Qr]=xe,null!==x)for(const Le of x)Le(xe,n);return mf(Q,F,f),xe}(OO,ns,ba,um,Pr,[_D]),Sf(dr,Pr,null)}finally{_h()}return new fD(this.componentType,qo,Ba(ei,Pr),Pr,ei)}finally{ie(x)}}}class fD extends eD{constructor(n,r,i,f,x){super(),this.location=i,this._rootLView=f,this._tNode=x,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new su(f,void 0,!1),this.componentType=n}setInput(n,r){const i=this._tNode.inputs;let f;if(null!==i&&(f=i[n])){var x;if(null!==(x=this.previousInputValues)&&void 0!==x||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const F=this._rootLView;Ef(F[Nn],F,f,n,r),this.previousInputValues.set(n,r),iu(xi(this._tNode.index,F),1)}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function _D(){const t=Hr();dc(Cn()[Nn],t)}let rd=(()=>{class n{}return n.__NG_ELEMENT_ID__=wD,n})();function wD(){return Wv(Hr(),Cn())}const CD=rd,Hv=class extends CD{constructor(n,r,i){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=i}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const n=gc(this._hostTNode,this._hostLView);if(Sh(n)){const r=Vl(n,this._hostLView),i=$l(n);return new jo(r[Nn].data[i+8],r)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=zv(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-yo}createEmbeddedView(n,r,i){let f,x;"number"==typeof i?f=i:null!=i&&(f=i.index,x=i.injector);const F=ha(this._lContainer,n.ssrId),Q=n.createEmbeddedViewImpl(r||{},x,F);return this.insertImpl(Q,f,ca(this._hostTNode,F)),Q}createComponent(n,r,i,f,x){var F,Q,ue;const xe=n&&!function Il(t){return"function"==typeof t}(n);let Le;if(xe)Le=r;else{const jn=r||{};Le=jn.index,i=jn.injector,f=jn.projectableNodes,x=jn.environmentInjector||jn.ngModuleRef}const Ye=xe?n:new bu(Xt(n)),Dt=i||this.parentInjector;if(!x&&null==Ye.ngModule){const vn=(xe?Dt:this.parentInjector).get(Fi,null);vn&&(x=vn)}const Pt=Xt(null!==(F=Ye.componentType)&&void 0!==F?F:{}),jt=ha(this._lContainer,null!==(Q=null==Pt?void 0:Pt.id)&&void 0!==Q?Q:null),dn=null!==(ue=null==jt?void 0:jt.firstChild)&&void 0!==ue?ue:null,Dn=Ye.create(Dt,f,dn,x);return this.insertImpl(Dn.hostView,Le,ca(this._hostTNode,jt)),Dn}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,i){const f=n._lView;if(function $w(t){return Qo(t[xo])}(f)){const Q=this.indexOf(n);if(-1!==Q)this.detach(Q);else{const ue=f[xo],xe=new Hv(ue,ue[Xo],ue[xo]);xe.detach(xe.indexOf(n))}}const x=this._adjustIndex(r),F=this._lContainer;return Qa(F,f,x,i),n.attachToViewContainerRef(),Hd($f(F),x,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=zv(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),i=tu(this._lContainer,r);i&&(Ta($f(this._lContainer),r),Bc(i[Nn],i))}detach(n){const r=this._adjustIndex(n,-1),i=tu(this._lContainer,r);return i&&null!=Ta($f(this._lContainer),r)?new su(i):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function zv(t){return t[8]}function $f(t){return t[8]||(t[8]=[])}function Wv(t,n){let r;const i=n[t.index];return Qo(i)?r=i:(r=Zy(i,n,null,t),n[t.index]=r,zc(n,r)),Xv(r,n,t,i),new Hv(r,t,n)}let Xv=function qv(t,n,r,i){if(t[ls])return;let f;f=8&r.type?jr(i):function ED(t,n){const r=t[lr],i=r.createComment(""),f=ii(n,t);return aa(r,$c(r,f),i,function yS(t,n){return t.nextSibling(n)}(r,f),!1),i}(n,r),t[ls]=f},Vf=()=>!1;class Gf{constructor(n){this.queryList=n,this.matches=null}clone(){return new Gf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hf{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const i=null!==n.contentQueries?n.contentQueries[0]:r.length,f=[];for(let x=0;x<i;x++){const F=r.getByIndex(x);f.push(this.queries[F.indexInDeclarationView].clone())}return new Hf(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==qf(n,r).matches&&this.queries[r].setDirty()}}class Yv{constructor(n,r,i=null){this.flags=r,this.read=i,this.predicate="string"==typeof n?function OD(t){return t.split(",").map(n=>n.trim())}(n):n}}class zf{constructor(n=[]){this.queries=n}elementStart(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let i=0;i<this.length;i++){const f=null!==r?r.length:0,x=this.getByIndex(i).embeddedTView(n,f);x&&(x.indexInDeclarationView=i,null!==r?r.push(x):r=[x])}return null!==r?new zf(r):null}template(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Wf{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Wf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const i=this.metadata.predicate;if(Array.isArray(i))for(let f=0;f<i.length;f++){const x=i[f];this.matchTNodeWithReadOption(n,r,TD(r,x)),this.matchTNodeWithReadOption(n,r,yc(r,n,x,!1,!1))}else i===au?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,yc(r,n,i,!1,!1))}matchTNodeWithReadOption(n,r,i){if(null!==i){const f=this.metadata.read;if(null!==f)if(f===Hl||f===rd||f===au&&4&r.type)this.addMatch(r.index,-2);else{const x=yc(r,n,f,!1,!1);null!==x&&this.addMatch(r.index,x)}else this.addMatch(r.index,i)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function TD(t,n){const r=t.localNames;if(null!==r)for(let i=0;i<r.length;i+=2)if(r[i]===n)return r[i+1];return null}function MD(t,n,r,i){return-1===r?function AD(t,n){return 11&t.type?Ba(t,n):4&t.type?Kc(t,n):null}(n,t):-2===r?function ID(t,n,r){return r===Hl?Ba(n,t):r===au?Kc(n,t):r===rd?Wv(n,t):void 0}(t,n,i):ra(t,t[Nn],r,n)}function Jv(t,n,r,i){const f=n[as].queries[i];if(null===f.matches){const x=t.data,F=r.matches,Q=[];for(let ue=0;null!==F&&ue<F.length;ue+=2){const xe=F[ue];Q.push(xe<0?null:MD(n,x[xe],F[ue+1],r.metadata.read))}f.matches=Q}return f.matches}function Xf(t,n,r,i){const f=t.queries.getByIndex(r),x=f.matches;if(null!==x){const F=Jv(t,n,f,r);for(let Q=0;Q<x.length;Q+=2){const ue=x[Q];if(ue>0)i.push(F[Q/2]);else{const xe=x[Q+1],Le=n[-ue];for(let Ye=yo;Ye<Le.length;Ye++){const Dt=Le[Ye];Dt[Js]===Dt[xo]&&Xf(Dt[Nn],Dt,xe,i)}if(null!==Le[Na]){const Ye=Le[Na];for(let Dt=0;Dt<Ye.length;Dt++){const Pt=Ye[Dt];Xf(Pt[Nn],Pt,xe,i)}}}}}return i}function Qv(t,n,r){var i;const f=new Rh(!(4&~r));return function AS(t,n,r,i){const f=tv(n);f.push(r),t.firstCreatePass&&nv(t).push(i,f.length-1)}(t,n,f,f.destroy),(null!==(i=n[as])&&void 0!==i?i:n[as]=new Hf).queries.push(new Gf(f))-1}function t0(t,n,r){null===t.queries&&(t.queries=new zf),t.queries.track(new Wf(n,r))}function qf(t,n){return t.queries.getByIndex(n)}function n0(t,n){const r=t[Nn],i=qf(r,n);return i.crossesNgTemplate?Xf(r,t,n,[]):Jv(r,t,i,n)}function o0(t,n){ai("NgSignals");const r=function G(t){const n=Object.create(re);n.value=t;const r=()=>(y(n),n.value);return r[o]=n,r}(t),i=r[o];return null!=n&&n.equal&&(i.equal=n.equal),r.set=f=>Oe(i,f),r.update=f=>function Y(t,n){l()||z(),Oe(t,n(t.value))}(i,f),r.asReadonly=s0.bind(r),r}function s0(){const t=this[o];if(void 0===t.readonlyFn){const n=()=>this();n[o]=t,t.readonlyFn=n}return t.readonlyFn}function a0(t){return function r0(t){return"function"==typeof t&&void 0!==t[o]}(t)&&"function"==typeof t.set}function Jf(t){let n=function v0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const i=[t];for(;n;){let f;if(qi(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Rn(903,!1);f=n.\u0275dir}if(f){if(r){i.push(f);const F=t;F.inputs=id(t.inputs),F.inputTransforms=id(t.inputTransforms),F.declaredInputs=id(t.declaredInputs),F.outputs=id(t.outputs);const Q=f.hostBindings;Q&&WD(t,Q);const ue=f.viewQuery,xe=f.contentQueries;if(ue&&HD(t,ue),xe&&zD(t,xe),VD(t,f),Pi(t.outputs,f.outputs),qi(f)&&f.data.animation){const Le=t.data;Le.animation=(Le.animation||[]).concat(f.data.animation)}}const x=f.features;if(x)for(let F=0;F<x.length;F++){const Q=x[F];Q&&Q.ngInherit&&Q(t),Q===Jf&&(r=!1)}}n=Object.getPrototypeOf(n)}!function GD(t){let n=0,r=null;for(let i=t.length-1;i>=0;i--){const f=t[i];f.hostVars=n+=f.hostVars,f.hostAttrs=Ps(f.hostAttrs,r=Ps(r,f.hostAttrs))}}(i)}function VD(t,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const f=n.inputs[i];if(void 0!==f&&(t.inputs[i]=f,t.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){var r;const x=Array.isArray(f)?f[0]:f;if(!n.inputTransforms.hasOwnProperty(x))continue;null!==(r=t.inputTransforms)&&void 0!==r||(t.inputTransforms={}),t.inputTransforms[x]=n.inputTransforms[x]}}}function id(t){return t===Ci?{}:t===Cr?[]:t}function HD(t,n){const r=t.viewQuery;t.viewQuery=r?(i,f)=>{n(i,f),r(i,f)}:n}function zD(t,n){const r=t.contentQueries;t.contentQueries=r?(i,f,x)=>{n(i,f,x),r(i,f,x)}:n}function WD(t,n){const r=t.hostBindings;t.hostBindings=r?(i,f)=>{n(i,f),r(i,f)}:n}function C0(t){const n=t.inputConfig,r={};for(const i in n)if(n.hasOwnProperty(i)){const f=n[i];Array.isArray(f)&&f[3]&&(r[i]=f[3])}t.inputTransforms=r}class fa{}class E0{}function QD(t,n){return new Qf(t,null!=n?n:null,[])}class Qf extends fa{constructor(n,r,i){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const f=er(n);this._bootstrapComponents=Di(f.bootstrap),this._r3Injector=bg(n,r,[{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver},...i],Xr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Zf extends E0{constructor(n){super(),this.moduleType=n}create(n){return new Qf(this.moduleType,n,[])}}class S0 extends fa{constructor(n){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const r=new Ia([...n.providers,{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],n.parent||tc(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ep(t,n,r=null){return new S0({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function sd(t){return!!tp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function tp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vo(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function Cu(t,n,r,i,f,x,F,Q,ue,xe){const Le=r+tr,Ye=n.firstCreatePass?function oT(t,n,r,i,f,x,F,Q,ue){const xe=n.consts,Le=ua(n,t,4,F||null,Q||null);bf(n,r,Le,Bi(xe,ue)),dc(n,Le);const Ye=Le.tView=vf(2,Le,i,f,x,n.directiveRegistry,n.pipeRegistry,null,n.schemas,xe,null);return null!==n.queries&&(n.queries.template(n,Le),Ye.queries=n.queries.embeddedTView(Le)),Le}(Le,n,t,i,f,x,F,Q,ue):n.data[Le];Yi(Ye,!1);const Dt=x0(n,t,Ye,r);Ul()&&Vc(n,t,Dt,Ye),Zo(Dt,t);const Pt=Zy(Dt,t,Dt,Ye);return t[Le]=Pt,zc(t,Pt),function Kv(t,n,r){return Vf(t,n,r)}(Pt,Ye,t),sc(Ye)&&gf(n,t,Ye),null!=ue&&yf(t,Ye,xe),Ye}function np(t,n,r,i,f,x,F,Q){const ue=Cn(),xe=gr();return Cu(ue,xe,t,n,r,i,f,Bi(xe.consts,x),F,Q),np}let x0=function D0(t,n,r,i){return cs(!0),n[lr].createComment("")};function fp(t,n,r,i){const f=Cn();return vo(f,Ji(),n)&&(gr(),ps(Zr(),f,t,n,r,i)),fp}function cl(t,n,r,i){return vo(t,Ji(),r)?n+ar(r)+i:cr}function dl(t,n,r,i,f,x){const Q=function pa(t,n,r,i){const f=vo(t,n,r);return vo(t,n+1,i)||f}(t,function xs(){return ur.lFrame.bindingIndex}(),r,f);return Ds(2),Q?n+ar(r)+i+ar(f)+x:cr}function fd(t,n){return t<<17|n<<2}function Us(t){return t>>17&32767}function pp(t){return 2|t}function ga(t){return(131068&t)>>2}function mp(t,n){return-131069&t|n<<2}function gp(t){return 1|t}function rb(t,n,r,i){const f=t[r+1],x=null===n;let F=i?Us(f):ga(f),Q=!1;for(;0!==F&&(!1===Q||x);){const xe=t[F+1];GT(t[F],n)&&(Q=!0,t[F+1]=i?gp(xe):pp(xe)),F=i?Us(xe):ga(xe)}Q&&(t[r+1]=i?pp(f):gp(f))}function GT(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&zs(t,n)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ob(t){return t.substring(Po.key,Po.keyEnd)}function HT(t){return t.substring(Po.value,Po.valueEnd)}function sb(t,n){const r=Po.textEnd;let i=Po.key=vl(t,n,r);return r===i?-1:(i=Po.keyEnd=function KT(t,n,r){let i;for(;n<r&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,r),i=lb(t,i,r),i=Po.value=vl(t,i,r),i=Po.valueEnd=function qT(t,n,r){let i=-1,f=-1,x=-1,F=n,Q=F;for(;F<r;){const ue=t.charCodeAt(F++);if(59===ue)return Q;34===ue||39===ue?Q=F=ub(t,ue,F,r):n===F-4&&85===x&&82===f&&76===i&&40===ue?Q=F=ub(t,41,F,r):ue>32&&(Q=F),x=f,f=i,i=-33&ue}return Q}(t,i,r),lb(t,i,r))}function vl(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function lb(t,n,r,i){return(n=vl(t,n,r))<r&&n++,n}function ub(t,n,r,i){let f=-1,x=r;for(;x<i;){const F=t.charCodeAt(x++);if(F==n&&92!==f)return x;f=92==F&&92===f?0:F}throw new Error}function yp(t,n,r){const i=Cn();return vo(i,Ji(),n)&&gi(gr(),Zr(),i,t,n,i[lr],r,!1),yp}function vp(t,n,r,i,f){const F=f?"class":"style";Ef(t,r,n.inputs[F],F,i)}function bp(t,n){return function Zi(t,n,r,i){const f=Cn(),x=gr(),F=Ds(2);x.firstUpdatePass&&hb(x,t,F,i),n!==cr&&vo(f,F,n)&&pb(x,x.data[Ko()],f,f[lr],t,f[F+1]=function iA(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Xr(Ts(t)))),t}(n,r),i,F)}(t,n,null,!0),bp}function Qi(t){!function es(t,n,r,i){const f=gr(),x=Ds(2);f.firstUpdatePass&&hb(f,null,x,i);const F=Cn();if(r!==cr&&vo(F,x,r)){const Q=f.data[Ko()];if(gb(Q,i)&&!db(f,x)){let ue=i?Q.classesWithoutHost:Q.stylesWithoutHost;null!==ue&&(r=Ri(ue,r||"")),vp(f,Q,F,r,i)}else!function oA(t,n,r,i,f,x,F,Q){f===cr&&(f=Cr);let ue=0,xe=0,Le=0<f.length?f[0]:null,Ye=0<x.length?x[0]:null;for(;null!==Le||null!==Ye;){const Dt=ue<f.length?f[ue+1]:void 0,Pt=xe<x.length?x[xe+1]:void 0;let dn,jt=null;Le===Ye?(ue+=2,xe+=2,Dt!==Pt&&(jt=Ye,dn=Pt)):null===Ye||null!==Le&&Le<Ye?(ue+=2,jt=Le):(xe+=2,jt=Ye,dn=Pt),null!==jt&&pb(t,n,r,i,jt,dn,F,Q),Le=ue<f.length?f[ue]:null,Ye=xe<x.length?x[xe]:null}}(f,Q,F,F[lr],F[x+1],F[x+1]=function nA(t,n,r){if(null==r||""===r)return Cr;const i=[],f=Ts(r);if(Array.isArray(f))for(let x=0;x<f.length;x++)t(i,f[x],!0);else if("object"==typeof f)for(const x in f)f.hasOwnProperty(x)&&t(i,x,f[x]);else"string"==typeof f&&n(i,f);return i}(t,n,r),i,x)}}(fb,YT,t,!1)}function YT(t,n){for(let r=function WT(t){return function ab(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}(t),sb(t,vl(t,0,Po.textEnd))}(n);r>=0;r=sb(n,r))fb(t,ob(n),HT(n))}function db(t,n){return n>=t.expandoStartIndex}function hb(t,n,r,i){const f=t.data;if(null===f[r+1]){const x=f[Ko()],F=db(t,r);gb(x,i)&&null===n&&!F&&(n=!1),n=function QT(t,n,r,i){const f=function yh(t){const n=ur.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let x=i?n.residualClasses:n.residualStyles;if(null===f)0===(i?n.classBindings:n.styleBindings)&&(r=Du(r=_p(null,t,n,r,i),n.attrs,i),x=null);else{const F=n.directiveStylingLast;if(-1===F||t[F]!==f)if(r=_p(f,t,n,r,i),null===x){let ue=function ZT(t,n,r){const i=r?n.classBindings:n.styleBindings;if(0!==ga(i))return t[Us(i)]}(t,n,i);void 0!==ue&&Array.isArray(ue)&&(ue=_p(null,t,n,ue[1],i),ue=Du(ue,n.attrs,i),function eA(t,n,r,i){t[Us(r?n.classBindings:n.styleBindings)]=i}(t,n,i,ue))}else x=function tA(t,n,r){let i;const f=n.directiveEnd;for(let x=1+n.directiveStylingLast;x<f;x++)i=Du(i,t[x].hostAttrs,r);return Du(i,n.attrs,r)}(t,n,i)}return void 0!==x&&(i?n.residualClasses=x:n.residualStyles=x),r}(f,x,n,i),function $T(t,n,r,i,f,x){let F=x?n.classBindings:n.styleBindings,Q=Us(F),ue=ga(F);t[i]=r;let Le,xe=!1;if(Array.isArray(r)?(Le=r[1],(null===Le||zs(r,Le)>0)&&(xe=!0)):Le=r,f)if(0!==ue){const Dt=Us(t[Q+1]);t[i+1]=fd(Dt,Q),0!==Dt&&(t[Dt+1]=mp(t[Dt+1],i)),t[Q+1]=function UT(t,n){return 131071&t|n<<17}(t[Q+1],i)}else t[i+1]=fd(Q,0),0!==Q&&(t[Q+1]=mp(t[Q+1],i)),Q=i;else t[i+1]=fd(ue,0),0===Q?Q=i:t[ue+1]=mp(t[ue+1],i),ue=i;xe&&(t[i+1]=pp(t[i+1])),rb(t,Le,i,!0),rb(t,Le,i,!1),function VT(t,n,r,i,f){const x=f?t.residualClasses:t.residualStyles;null!=x&&"string"==typeof n&&zs(x,n)>=0&&(r[i+1]=gp(r[i+1]))}(n,Le,t,i,x),F=fd(Q,ue),x?n.classBindings=F:n.styleBindings=F}(f,x,n,r,F,i)}}function _p(t,n,r,i,f){let x=null;const F=r.directiveEnd;let Q=r.directiveStylingLast;for(-1===Q?Q=r.directiveStart:Q++;Q<F&&(x=n[Q],i=Du(i,x.hostAttrs,f),x!==t);)Q++;return null!==t&&(r.directiveStylingLast=Q),i}function Du(t,n,r){const i=r?1:2;let f=-1;if(null!==n)for(let x=0;x<n.length;x++){const F=n[x];"number"==typeof F?f=F:f===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ri(t,F,!!r||n[++x]))}return void 0===t?null:t}function fb(t,n,r){ri(t,n,Ts(r))}function pb(t,n,r,i,f,x,F,Q){if(!(3&n.type))return;const ue=t.data,xe=ue[Q+1],Le=function BT(t){return!(1&~t)}(xe)?mb(ue,n,r,f,ga(xe),F):void 0;pd(Le)||(pd(x)||function FT(t){return!(2&~t)}(xe)&&(x=mb(ue,null,r,f,Q,F)),function _S(t,n,r,i,f){if(n)f?t.addClass(r,i):t.removeClass(r,i);else{let x=-1===i.indexOf("-")?void 0:Fc.DashCase;null==f?t.removeStyle(r,i,x):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),x|=Fc.Important),t.setStyle(r,i,f,x))}}(i,F,kl(Ko(),r),f,x))}function mb(t,n,r,i,f,x){const F=null===n;let Q;for(;f>0;){const ue=t[f],xe=Array.isArray(ue),Le=xe?ue[1]:ue,Ye=null===Le;let Dt=r[f+1];Dt===cr&&(Dt=Ye?Cr:void 0);let Pt=Ye?zu(Dt,i):Le===i?Dt:void 0;if(xe&&!pd(Pt)&&(Pt=zu(ue,i)),pd(Pt)&&(Q=Pt,F))return Q;const jt=t[f+1];f=F?Us(jt):ga(jt)}if(null!==n){let ue=x?n.residualClasses:n.residualStyles;null!=ue&&(Q=zu(ue,i))}return Q}function pd(t){return void 0!==t}function gb(t,n){return!!(t.flags&(n?8:16))}function gd(t,n,r,i){const f=Cn(),x=gr(),F=tr+t,Q=f[lr],ue=x.firstCreatePass?function AA(t,n,r,i,f,x){const F=n.consts,ue=ua(n,t,2,i,Bi(F,f));return bf(n,r,ue,Bi(F,x)),null!==ue.attrs&&nd(ue,ue.attrs,!1),null!==ue.mergedAttrs&&nd(ue,ue.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,ue),ue}(F,x,f,n,r,i):x.data[F],xe=_b(x,f,ue,Q,n,t);f[F]=xe;const Le=sc(ue);return Yi(ue,!0),$y(Q,xe,ue),!function nl(t){return!(32&~t.flags)}(ue)&&Ul()&&Vc(x,f,xe,ue),0===function Vw(){return ur.lFrame.elementDepthCount}()&&Zo(xe,f),function Gw(){ur.lFrame.elementDepthCount++}(),Le&&(gf(x,f,ue),mf(x,ue,f)),null!==i&&yf(f,ue),gd}function yd(){let t=Hr();ph()?mh():(t=t.parent,Yi(t,!1));const n=t;(function zw(t){return ur.skipHydrationRootTNode===t})(n)&&function qw(){ur.skipHydrationRootTNode=null}(),function Hw(){ur.lFrame.elementDepthCount--}();const r=gr();return r.firstCreatePass&&(dc(r,t),oh(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function lC(t){return!!(8&t.flags)}(n)&&vp(r,n,Cn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function uC(t){return!!(16&t.flags)}(n)&&vp(r,n,Cn(),n.stylesWithoutHost,!1),yd}function Sp(t,n,r,i){return gd(t,n,r,i),yd(),Sp}let _b=(t,n,r,i,f,x)=>(cs(!0),Uc(i,f,function Qm(){return ur.lFrame.currentNamespace}()));function vd(t,n,r){const i=Cn(),f=gr(),x=t+tr,F=f.firstCreatePass?function OA(t,n,r,i,f){const x=n.consts,F=Bi(x,i),Q=ua(n,t,8,"ng-container",F);return null!==F&&nd(Q,F,!0),bf(n,r,Q,Bi(x,f)),null!==n.queries&&n.queries.elementStart(n,Q),Q}(x,f,i,n,r):f.data[x];Yi(F,!0);const Q=wb(f,i,F,t);return i[x]=Q,Ul()&&Vc(f,i,Q,F),Zo(Q,i),sc(F)&&(gf(f,i,F),mf(f,F,i)),null!=r&&yf(i,F),vd}function bd(){let t=Hr();const n=gr();return ph()?mh():(t=t.parent,Yi(t,!1)),n.firstCreatePass&&(dc(n,t),oh(t)&&n.queries.elementEnd(t)),bd}function xp(t,n,r){return vd(t,n,r),bd(),xp}let wb=(t,n,r,i)=>(cs(!0),af(n[lr],""));function Cb(){return Cn()}const ya=void 0;var kA=["en",[["a","p"],["AM","PM"],ya],[["AM","PM"],ya,ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ya,"{1} 'at' {0}",ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RA(t){const r=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===i?1:5}];let bl={};function Dp(t){const n=function NA(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=Db(n);if(r)return r;const i=n.split("-")[0];if(r=Db(i),r)return r;if("en"===i)return kA;throw new Rn(701,!1)}function xb(t){return Dp(t)[_l.PluralCase]}function Db(t){return t in bl||(bl[t]=zr.ng&&zr.ng.common&&zr.ng.common.locales&&zr.ng.common.locales[t]),bl[t]}var _l=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_l||{});const wl="en-US";let Tb=wl;let Wb=(t,n,r)=>{};function Mp(t,n,r,i){const f=Cn(),x=gr(),F=Hr();return Ip(x,f,f[lr],F,t,n,i),Mp}function Ip(t,n,r,i,f,x,F){const Q=sc(i),xe=t.firstCreatePass&&nv(t),Le=n[Qr],Ye=tv(n);let Dt=!0;if(3&i.type||F){const dn=ii(i,n),Dn=F?F(dn):dn,jn=Ye.length,vn=F?dr=>F(jr(dr[i.index])):i.index;let or=null;if(!F&&Q&&(or=function E2(t,n,r,i){const f=t.cleanup;if(null!=f)for(let x=0;x<f.length-1;x+=2){const F=f[x];if(F===r&&f[x+1]===i){const Q=n[Ys],ue=f[x+2];return Q.length>ue?Q[ue]:null}"string"==typeof F&&(x+=2)}return null}(t,n,f,i.index)),null!==or)(or.__ngLastListenerFn__||or).__ngNextListenerFn__=x,or.__ngLastListenerFn__=x,Dt=!1;else{x=Yb(i,n,Le,x),Wb(dn,f,x);const dr=r.listen(Dn,f,x);Ye.push(x,dr),xe&&xe.push(f,vn,jn,jn+1)}}else x=Yb(i,n,Le,x);const Pt=i.outputs;let jt;if(Dt&&null!==Pt&&(jt=Pt[f])){const dn=jt.length;if(dn)for(let Dn=0;Dn<dn;Dn+=2){const Pr=n[jt[Dn]][jt[Dn+1]].subscribe(x),qo=Ye.length;Ye.push(x,Pr),xe&&xe.push(f,i.index,qo,-(qo+1))}}}function qb(t,n,r,i){const f=ie(null);try{return us(6,n,r),!1!==r(i)}catch(x){return Wc(t,x),!1}finally{us(7,n,r),ie(f)}}function Yb(t,n,r,i){return function f(x){if(x===Function)return i;iu(t.componentOffset>-1?xi(t.index,n):n,5);let Q=qb(n,r,i,x),ue=f.__ngNextListenerFn__;for(;ue;)Q=qb(n,r,ue,x)&&Q,ue=ue.__ngNextListenerFn__;return Q}}function Jb(t=1){return function eC(t){return(ur.lFrame.contextLView=function km(t,n){for(;t>0;)n=n[Pa],t--;return n}(t,ur.lFrame.contextLView))[Qr]}(t)}function S2(t,n){let r=null;const i=function dm(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let f=0;f<n.length;f++){const x=n[f];if("*"!==x){if(null===i?Qu(t,x,!0):pm(i,x))return f}else r=f}return r}function Qb(t){const n=Cn()[ao][Xo];if(!n.projection){const i=n.projection=function js(t,n){const r=[];for(let i=0;i<t;i++)r.push(n);return r}(t?t.length:1,null),f=i.slice();let x=n.child;for(;null!==x;){if(128!==x.type){const F=t?S2(x,t):0;null!==F&&(f[F]?f[F].projectionNext=x:i[F]=x,f[F]=x)}x=x.next}}}function Zb(t,n=0,r,i,f,x){const F=Cn(),Q=gr(),ue=i?t+1:null;null!==ue&&Cu(F,Q,ue,i,f,x,null,r);const xe=ua(Q,tr+t,16,null,r||null);null===xe.projection&&(xe.projection=n),mh();const Ye=!F[oi]||ea();null===F[ao][Xo].projection[xe.projection]&&null!==ue?function x2(t,n,r){const i=tr+r,f=n.data[i],x=t[i],F=ha(x,f.tView.ssrId);Qa(x,Ja(t,f,void 0,{dehydratedView:F}),0,ca(f,F))}(F,Q,ue):Ye&&32&~xe.flags&&function vS(t,n,r){Uy(n[lr],0,n,r,cf(t,r,n),Py(r.parent||n[Xo],r,n))}(Q,F,xe)}function Ed(t,n,r,i,f){const x=Cn(),F=cl(x,n,r,i);return F!==cr&&gi(gr(),Zr(),x,t,F,x[lr],f,!1),Ed}function u_(t,n,r,i){!function e0(t,n,r,i){const f=gr();if(f.firstCreatePass){const x=Hr();t0(f,new Yv(n,r,i),x.index),function jD(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(f,t),!(2&~r)&&(f.staticContentQueries=!0)}return Qv(f,Cn(),r)}(t,n,r,i)}function c_(t,n,r){!function Zv(t,n,r){const i=gr();return i.firstCreatePass&&(t0(i,new Yv(t,n,r),-1),!(2&~n)&&(i.staticViewQueries=!0)),Qv(i,Cn(),n)}(t,n,r)}function d_(t){const n=Cn(),r=gr(),i=vh();cc(i+1);const f=qf(r,i);if(t.dirty&&function Bw(t){return!(4&~t[rr])}(n)===!(2&~f.metadata.flags)){if(null===f.matches)t.reset([]);else{const x=n0(n,i);t.reset(x,Tg),t.notifyOnChanges()}return!0}return!1}function h_(){return function Kf(t,n){return t[as].queries[n].queryList}(Cn(),vh())}function f_(t){return function Zs(t,n){return t[n]}(function $m(){return ur.lFrame.contextLView}(),tr+t)}function E_(t,n=""){const r=Cn(),i=gr(),f=t+tr,x=i.firstCreatePass?ua(i,f,1,n,null):i.data[f],F=S_(i,r,x,n,t);r[f]=F,Ul()&&Vc(i,r,F,x),Yi(x,!1)}let S_=(t,n,r,i,f)=>(cs(!0),function sf(t,n){return t.createText(n)}(n[lr],i));function jp(t){return Sd("",t,""),jp}function Sd(t,n,r){const i=Cn(),f=cl(i,t,n,r);return f!==cr&&Ms(i,Ko(),f),Sd}function Pp(t,n,r,i,f){const x=Cn(),F=dl(x,t,n,r,i,f);return F!==cr&&Ms(x,Ko(),F),Pp}function Rp(t,n,r){a0(n)&&(n=n());const i=Cn();return vo(i,Ji(),n)&&gi(gr(),Zr(),i,t,n,i[lr],r,!1),Rp}function j_(t,n){const r=a0(t);return r&&t.set(n),r}function kp(t,n){const r=Cn(),i=gr(),f=Hr();return Ip(i,r,r[lr],f,t,n),kp}function Np(t,n,r,i,f){if(t=Wn(t),Array.isArray(t))for(let x=0;x<t.length;x++)Np(t[x],n,r,i,f);else{const x=gr(),F=Cn(),Q=Hr();let ue=qs(t)?t:Wn(t.provide);const xe=vm(t),Le=1048575&Q.providerIndexes,Ye=Q.directiveStart,Dt=Q.providerIndexes>>20;if(qs(t)||!t.multi){const Pt=new Bl(xe,f,Ya),jt=Fp(ue,n,f?Le:Le+Dt,Ye);-1===jt?(Th(mc(Q,F),x,ue),Lp(x,t,n.length),n.push(ue),Q.directiveStart++,Q.directiveEnd++,f&&(Q.providerIndexes+=1048576),r.push(Pt),F.push(Pt)):(r[jt]=Pt,F[jt]=Pt)}else{const Pt=Fp(ue,n,Le+Dt,Ye),jt=Fp(ue,n,Le,Le+Dt),Dn=jt>=0&&r[jt];if(f&&!Dn||!f&&!(Pt>=0&&r[Pt])){Th(mc(Q,F),x,ue);const jn=function z2(t,n,r,i,f){const x=new Bl(t,r,Ya);return x.multi=[],x.index=n,x.componentProviders=0,k_(x,f,i&&!r),x}(f?H2:G2,r.length,f,i,xe);!f&&Dn&&(r[jt].providerFactory=jn),Lp(x,t,n.length,0),n.push(ue),Q.directiveStart++,Q.directiveEnd++,f&&(Q.providerIndexes+=1048576),r.push(jn),F.push(jn)}else Lp(x,t,Pt>-1?Pt:jt,k_(r[f?jt:Pt],xe,!f&&i));!f&&i&&Dn&&r[jt].componentProviders++}}}function Lp(t,n,r,i){const f=qs(n),x=function mw(t){return!!t.useClass}(n);if(f||x){const ue=(x?Wn(n.useClass):n).prototype.ngOnDestroy;if(ue){const xe=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const Le=xe.indexOf(r);-1===Le?xe.push(r,[i,ue]):xe[Le+1].push(i,ue)}else xe.push(r,ue)}}}function k_(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function Fp(t,n,r,i){for(let f=r;f<i;f++)if(n[f]===t)return f;return-1}function G2(t,n,r,i){return Up(this.multi,[])}function H2(t,n,r,i){const f=this.multi;let x;if(this.providerFactory){const F=this.providerFactory.componentProviders,Q=ra(r,r[Nn],this.providerFactory.index,i);x=Q.slice(0,F),Up(f,x);for(let ue=F;ue<Q.length;ue++)x.push(Q[ue])}else x=[],Up(f,x);return x}function Up(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function N_(t,n=[]){return r=>{r.providersResolver=(i,f)=>function V2(t,n,r){const i=gr();if(i.firstCreatePass){const f=qi(t);Np(r,i.data,i.blueprint,f,!0),Np(n,i.data,i.blueprint,f,!1)}}(i,f?f(t):t,n)}}let W2=(()=>{var t;class n{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const f=Ks(0,i.type),x=f.length>0?ep([f],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,x)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Ln({token:t,providedIn:"environment",factory:()=>new t(Zn(Fi))}),n})();function L_(t){ai("NgStandalone"),t.getStandaloneInjector=n=>n.get(W2).getOrCreateStandaloneInjector(t)}function B_(t,n,r){const i=function si(){const t=ur.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,f=Cn();return f[i]===cr?function ms(t,n,r){return t[n]=r}(f,i,r?n.call(r):n()):function wu(t,n){return t[n]}(f,i)}class a1{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let l1=(()=>{var t;class n{log(i){console.log(i)}warn(i){console.warn(i)}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const h1=new Vn(""),f1=new Vn("");let Wp,iI=(()=>{var t;class n{constructor(i,f,x){this._ngZone=i,this.registry=f,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Wp||(function sI(t){Wp=t}(x),x.addToWindow(f)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ro.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(i)||(clearTimeout(f.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,f,x){let F=-1;f&&f>0&&(F=setTimeout(()=>{this._callbacks=this._callbacks.filter(Q=>Q.timeoutId!==F),i()},f)),this._callbacks.push({doneCb:i,timeoutId:F,updateCb:x})}whenStable(i,f,x){if(x&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,f,x),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,f,x){return[]}}return(t=n).\u0275fac=function(i){return new(i||t)(Zn(ro),Zn(p1),Zn(f1))},t.\u0275prov=Ln({token:t,factory:t.\u0275fac}),n})(),p1=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(i,f){this._applications.set(i,f)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,f=!0){var x,F;return null!==(x=null===(F=Wp)||void 0===F?void 0:F.findTestabilityInTree(this,i,f))&&void 0!==x?x:null}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function Xp(t){return!!t&&"function"==typeof t.then}function m1(t){return!!t&&"function"==typeof t.subscribe}const g1=new Vn("");let Kp=(()=>{var t;class n{constructor(){var i;this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,x)=>{this.resolve=f,this.reject=x}),this.appInits=null!==(i=kn(g1,{optional:!0}))&&void 0!==i?i:[]}runInitializers(){if(this.initialized)return;const i=[];for(const x of this.appInits){const F=x();if(Xp(F))i.push(F);else if(m1(F)){const Q=new Promise((ue,xe)=>{F.subscribe({complete:ue,error:xe})});i.push(Q)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{f()}).catch(x=>{this.reject(x)}),0===i.length&&f(),this.initialized=!0}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const Md=new Vn("");function b1(t,n){return Array.isArray(n)?n.reduce(b1,t):{...t,...n}}let ts=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kn(NC),this.afterRenderEffectManager=kn(ed),this.zonelessEnabled=kn(mu),this.externalTestViews=new Set,this.beforeRender=new st.B,this.afterTick=new st.B,this.componentTypes=[],this.components=[],this.isStable=kn(oa).hasPendingTasks.pipe((0,Be.T)(i=>!i)),this._injector=kn(Fi)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,f){const x=i instanceof Rv;if(!this._injector.get(Kp).done)throw!x&&hr(i),new Rn(405,!1);let Q;Q=x?i:this._injector.get(gu).resolveComponentFactory(i),this.componentTypes.push(Q.componentType);const ue=function aI(t){return t.isBoundToModule}(Q)?void 0:this._injector.get(fa),Le=Q.create(Bo.NULL,[],f||Q.selector,ue),Ye=Le.location.nativeElement,Dt=Le.injector.get(h1,null);return null==Dt||Dt.registerApplication(Ye),Le.onDestroy(()=>{this.detachView(Le.hostView),Id(this.components,Le),null==Dt||Dt.unregisterApplication(Ye)}),this._loadComponent(Le),Le}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new Rn(101,!1);const f=ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(x){this.internalErrorHandler(x)}finally{this._runningTick=!1,ie(f),this.afterTick.next()}}detectChangesInAttachedViews(i){let f=null;this._injector.destroyed||(f=this._injector.get(Lf,null,{optional:!0}));let x=0;const F=this.afterRenderEffectManager;for(;x<10;){const Pt=0===x;if(i||!Pt){this.beforeRender.next(Pt);for(let{_lView:jt,notifyErrorHandler:dn}of this._views)uI(jt,dn,Pt,this.zonelessEnabled)}else{var Q,ue,xe,Le,Ye,Dt;null===(Q=f)||void 0===Q||null===(ue=(xe=Q).begin)||void 0===ue||ue.call(xe),null===(Le=f)||void 0===Le||null===(Ye=(Dt=Le).end)||void 0===Ye||Ye.call(Dt)}if(x++,F.executeInternalCallbacks(),!this.allViews.some(({_lView:jt})=>Ll(jt))&&(F.execute(),!this.allViews.some(({_lView:jt})=>Ll(jt))))break}}attachView(i){const f=i;this._views.push(f),f.attachToAppRef(this)}detachView(i){const f=i;Id(this._views,f),f.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const f=this._injector.get(Md,[]);[...this._bootstrapListeners,...f].forEach(x=>x(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Id(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Rn(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Id(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function uI(t,n,r,i){(r||Ll(t))&&Xc(t,n,r&&!i?0:1)}class cI{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let dI=(()=>{var t;class n{compileModuleSync(i){return new Zf(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const f=this.compileModuleSync(i),F=Di(er(i).declarations).reduce((Q,ue)=>{const xe=Xt(ue);return xe&&Q.push(new bu(xe)),Q},[]);return new cI(f,F)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),pI=(()=>{var t;class n{constructor(){this.zone=kn(ro),this.changeDetectionScheduler=kn(el),this.applicationRef=kn(ts)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var i;null===(i=this._onMicrotaskEmptySubscription)||void 0===i||i.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function qp({ngZoneFactory:t,ignoreChangesOutsideZone:n}){var r;return null!==(r=t)&&void 0!==r||(t=()=>new ro(Yp())),[{provide:ro,useFactory:t},{provide:Ei,multi:!0,useFactory:()=>{const i=kn(pI,{optional:!0});return()=>i.initialize()}},{provide:Ei,multi:!0,useFactory:()=>{const i=kn(gI);return()=>{i.initialize()}}},!0===n?{provide:Pv,useValue:!0}:[]]}function Yp(t){var n,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(r=null==t?void 0:t.runCoalescing)&&void 0!==r&&r}}let gI=(()=>{var t;class n{constructor(){this.subscription=new lt.yU,this.initialized=!1,this.zone=kn(ro),this.pendingTasks=kn(oa)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ro.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var f;ro.assertInAngularZone(),null!==(f=i)&&void 0!==f||(i=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),Lu=(()=>{var t;class n{constructor(){var i;this.appRef=kn(ts),this.taskService=kn(oa),this.ngZone=kn(ro),this.zonelessEnabled=kn(mu),this.disableScheduling=null!==(i=kn(Pv,{optional:!0}))&&void 0!==i&&i,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new lt.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Ph||!this.zoneIsDefined))}notify(i){if(!this.zonelessEnabled&&5===i)return;switch(i){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const f=this.useMicrotaskScheduler?Cg:wg;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=f(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=f(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ro.isInAngularZone())}tick(i){if(this.runningTick||this.appRef.destroyed)return;const f=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(i)},void 0,this.schedulerTickApplyArgs)}catch(x){throw this.taskService.remove(f),x}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(f)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var i;if(this.shouldRefreshViews=!1,this.runningTick=!1,null===(i=this.cancelScheduledCallback)||void 0===i||i.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const f=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(f)}}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const Od=new Vn("",{providedIn:"root",factory:()=>kn(Od,mr.Optional|mr.SkipSelf)||function yI(){return typeof $localize<"u"&&$localize.locale||wl}()}),vI=new Vn("",{providedIn:"root",factory:()=>"USD"}),Qp=new Vn("");let S1=(()=>{var t;class n{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,f){const x=function kC(t="zone.js",n){return"noop"===t?new Ph:"zone.js"===t?new ro(n):t}(null==f?void 0:f.ngZone,Yp({eventCoalescing:null==f?void 0:f.ngZoneEventCoalescing,runCoalescing:null==f?void 0:f.ngZoneRunCoalescing}));return x.run(()=>{const Q=function ZD(t,n,r){return new Qf(t,n,r)}(i.moduleType,this.injector,[...qp({ngZoneFactory:()=>x,ignoreChangesOutsideZone:null==f?void 0:f.ignoreChangesOutsideZone}),{provide:el,useExisting:Lu}]),ue=Q.injector.get(fs,null);return x.runOutsideAngular(()=>{const xe=x.onError.subscribe({next:Le=>{ue.handleError(Le)}});Q.onDestroy(()=>{Id(this._modules,Q),xe.unsubscribe()})}),function v1(t,n,r){try{const i=r();return Xp(i)?i.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(ue,x,()=>{const xe=Q.injector.get(Kp);return xe.runInitializers(),xe.donePromise.then(()=>(function Ab(t){"string"==typeof t&&(Tb=t.toLowerCase().replace(/_/g,"-"))}(Q.injector.get(Od,wl)||wl),this._moduleDoBootstrap(Q),Q))})})}bootstrapModule(i,f=[]){const x=b1({},f);return function fI(t,n,r){const i=new Zf(r);return Promise.resolve(i)}(0,0,i).then(F=>this.bootstrapModuleFactory(F,x))}_moduleDoBootstrap(i){const f=i.injector.get(ts);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(x=>f.bootstrap(x));else{if(!i.instance.ngDoBootstrap)throw new Rn(-403,!1);i.instance.ngDoBootstrap(f)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Rn(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const i=this._injector.get(Qp,null);i&&(i.forEach(f=>f()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(i){return new(i||t)(Zn(Bo))},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Bs=null;const x1=new Vn("");function D1(t,n,r=[]){const i=`Platform: ${n}`,f=new Vn(i);return(x=[])=>{let F=Zp();if(!F||F.injector.get(x1,!1)){const Q=[...r,...x,{provide:f,useValue:!0}];t?t(Q):function _I(t){if(Bs&&!Bs.get(x1,!1))throw new Rn(400,!1);(function y1(){!function ee(t){ne=t}(()=>{throw new Rn(600,!1)})})(),Bs=t;const n=t.get(S1);(function A1(t){const n=t.get(Xg,null);null==n||n.forEach(r=>r())})(t)}(function T1(t=[],n){return Bo.create({name:n,providers:[{provide:Qd,useValue:"platform"},{provide:Qp,useValue:new Set([()=>Bs=null])},...t]})}(Q,i))}return function wI(t){const n=Zp();if(!n)throw new Rn(401,!1);return n}()}}function Zp(){var t,n;return null!==(t=null===(n=Bs)||void 0===n?void 0:n.get(S1))&&void 0!==t?t:null}function EI(){}let I1=(()=>{class n{}return n.__NG_ELEMENT_ID__=SI,n})();function SI(t){return function xI(t,n,r){if(Qs(t)&&!r){const i=xi(t.index,n);return new su(i,i)}return 175&t.type?new su(n[ao],n):null}(Hr(),Cn(),!(16&~t))}class R1{constructor(){}supports(n){return sd(n)}create(n){return new II(n)}}const MI=(t,n)=>n;class II{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MI}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,i=this._removalsHead,f=0,x=null;for(;r||i;){const F=!i||r&&r.currentIndex<N1(i,f,x)?r:i,Q=N1(F,f,x),ue=F.currentIndex;if(F===i)f--,i=i._nextRemoved;else if(r=r._next,null==F.previousIndex)f++;else{x||(x=[]);const xe=Q-f,Le=ue-f;if(xe!=Le){for(let Dt=0;Dt<xe;Dt++){const Pt=Dt<x.length?x[Dt]:x[Dt]=0,jt=Pt+Dt;Le<=jt&&jt<xe&&(x[Dt]=Pt+1)}x[F.previousIndex]=Le-xe}}Q!==ue&&n(F,Q,ue)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!sd(n))throw new Rn(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,x,F,r=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let Q=0;Q<this.length;Q++)x=n[Q],F=this._trackByFn(Q,x),null!==r&&Object.is(r.trackById,F)?(i&&(r=this._verifyReinsertion(r,x,F,Q)),Object.is(r.item,x)||this._addIdentityChange(r,x)):(r=this._mismatch(r,x,F,Q),i=!0),r=r._next}else f=0,function nT(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let i;for(;!(i=r.next()).done;)n(i.value)}}(n,Q=>{F=this._trackByFn(f,Q),null!==r&&Object.is(r.trackById,F)?(i&&(r=this._verifyReinsertion(r,Q,F,f)),Object.is(r.item,Q)||this._addIdentityChange(r,Q)):(r=this._mismatch(r,Q,F,f),i=!0),r=r._next,f++}),this.length=f;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,i,f){let x;return null===n?x=this._itTail:(x=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,x,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,f))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,x,f)):n=this._addAfter(new OI(r,i),x,f),n}_verifyReinsertion(n,r,i,f){let x=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==x?n=this._reinsertAfter(x,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,x=n._nextRemoved;return null===f?this._removalsHead=x:f._nextRemoved=x,null===x?this._removalsTail=f:x._prevRemoved=f,this._insertAfter(n,r,i),this._addToMoves(n,i),n}_moveAfter(n,r,i){return this._unlink(n),this._insertAfter(n,r,i),this._addToMoves(n,i),n}_addAfter(n,r,i){return this._insertAfter(n,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,i){const f=null===r?this._itHead:r._next;return n._next=f,n._prev=r,null===f?this._itTail=n:f._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new k1),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,i=n._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k1),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class OI{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const r=n._prevDup,i=n._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}class k1{constructor(){this.map=new Map}put(n){const r=n.trackById;let i=this.map.get(r);i||(i=new jI,this.map.set(r,i)),i.add(n)}get(n,r){const f=this.map.get(n);return f?f.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N1(t,n,r){const i=t.previousIndex;if(null===i)return i;let f=0;return r&&i<r.length&&(f=r[i]),i+n+f}class L1{constructor(){}supports(n){return n instanceof Map||tp(n)}create(){return new PI}}class PI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||tp(n)))throw new Rn(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,f)=>{if(r&&r.key===f)this._maybeAddToChanges(r,i),this._appendAfter=r,r=r._next;else{const x=this._getOrCreateRecordForKey(f,i);r=this._insertBeforeOrAppend(r,x)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let i=r;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const i=n._prev;return r._next=n,r._prev=i,n._prev=r,i&&(i._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,r);const x=f._prev,F=f._next;return x&&(x._next=F),F&&(F._prev=x),f._next=null,f._prev=null,f}const i=new RI(n);return this._records.set(n,i),i.currentValue=r,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(i=>r(n[i],i))}}class RI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F1(){return new om([new R1])}let om=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,f){if(null!=f){const x=f.factories.slice();i=i.concat(x)}return new n(i)}static extend(i){return{provide:n,useFactory:f=>n.create(i,f||F1()),deps:[[n,new xa,new co]]}}find(i){const f=this.factories.find(x=>x.supports(i));if(null!=f)return f;throw new Rn(901,!1)}}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:F1}),n})();function U1(){return new im([new L1])}let im=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,f){if(f){const x=f.factories.slice();i=i.concat(x)}return new n(i)}static extend(i){return{provide:n,useFactory:f=>n.create(i,f||U1()),deps:[[n,new xa,new co]]}}find(i){const f=this.factories.find(x=>x.supports(i));if(f)return f;throw new Rn(901,!1)}}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:U1}),n})();const LI=D1(null,"core",[]);let FI=(()=>{var t;class n{constructor(i){}}return(t=n).\u0275fac=function(i){return new(i||t)(Zn(ts))},t.\u0275mod=nt({type:t}),t.\u0275inj=Kn({}),n})();const nw=new Vn("");function bO(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wO(t,n){ai("NgSignals");const r=function A(t){const n=Object.create(k);n.computation=t;const r=()=>{if(_(n),y(n),n.value===N)throw n.error;return n.value};return r[o]=n,r}(t);return null!=n&&n.equal&&(r[o].equal=n.equal),r}function CO(t){const n=ie(null);try{return t()}finally{ie(n)}}function AO(t,n){const r=Xt(t),i=n.elementInjector||tc();return new bu(r).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function MO(t){const n=Xt(t);if(!n)return null;const r=new bu(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4341:(En,qt,me)=>{"use strict";me.d(qt,{me:()=>m,YN:()=>wt,zX:()=>Go,VZ:()=>So,cz:()=>E,kq:()=>a,vO:()=>yt,BC:()=>un,vS:()=>Yo});var O=me(3953),I=me(177),pe=me(6648),mt=me(1985),o=me(3073),ie=me(8750),$=me(9326),v=me(4360),b=me(6450),g=me(8496),C=me(1413),_=me(6354);let s=(()=>{var _e;class ae{constructor(ye,$e){this._renderer=ye,this._elementRef=$e,this.onChange=Lt=>{},this.onTouched=()=>{}}setProperty(ye,$e){this._renderer.setProperty(this._elementRef.nativeElement,ye,$e)}registerOnTouched(ye){this.onTouched=ye}registerOnChange(ye){this.onChange=ye}setDisabledState(ye){this.setProperty("disabled",ye)}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)(O.rXU(O.sFG),O.rXU(O.aKT))},_e.\u0275dir=O.FsC({type:_e}),ae})(),l=(()=>{var _e;class ae extends s{}return(_e=ae).\u0275fac=(()=>{let we;return function($e){return(we||(we=O.xGo(_e)))($e||_e)}})(),_e.\u0275dir=O.FsC({type:_e,features:[O.Vt3]}),ae})();const a=new O.nKC(""),u={provide:a,useExisting:(0,O.Rfq)(()=>m),multi:!0},p=new O.nKC("");let m=(()=>{var _e;class ae extends s{constructor(ye,$e,Lt){super(ye,$e),this._compositionMode=Lt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function h(){const _e=(0,I.QT)()?(0,I.QT)().getUserAgent():"";return/android (\d+)/.test(_e.toLowerCase())}())}writeValue(ye){this.setProperty("value",null==ye?"":ye)}_handleInput(ye){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ye)}_compositionStart(){this._composing=!0}_compositionEnd(ye){this._composing=!1,this._compositionMode&&this.onChange(ye)}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)(O.rXU(O.sFG),O.rXU(O.aKT),O.rXU(p,8))},_e.\u0275dir=O.FsC({type:_e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ye,$e){1&ye&&O.bIt("input",function(Ht){return $e._handleInput(Ht.target.value)})("blur",function(){return $e.onTouched()})("compositionstart",function(){return $e._compositionStart()})("compositionend",function(Ht){return $e._compositionEnd(Ht.target.value)})},features:[O.Jv_([u]),O.Vt3]}),ae})();function w(_e){return null==_e||("string"==typeof _e||Array.isArray(_e))&&0===_e.length}const E=new O.nKC(""),M=new O.nKC("");function G(_e){return null}function K(_e){return null!=_e}function le(_e){return(0,O.jNT)(_e)?(0,pe.H)(_e):_e}function Oe(_e){let ae={};return _e.forEach(we=>{ae=null!=we?{...ae,...we}:ae}),0===Object.keys(ae).length?null:ae}function Y(_e,ae){return ae.map(we=>we(_e))}function re(_e){return _e.map(ae=>function P(_e){return!_e.validate}(ae)?ae:we=>ae.validate(we))}function Te(_e){return null!=_e?function ge(_e){if(!_e)return null;const ae=_e.filter(K);return 0==ae.length?null:function(we){return Oe(Y(we,ae))}}(re(_e)):null}function qe(_e){return null!=_e?function Ge(_e){if(!_e)return null;const ae=_e.filter(K);return 0==ae.length?null:function(we){return function y(..._e){const ae=(0,$.ms)(_e),{args:we,keys:ye}=(0,o.D)(_e),$e=new mt.c(Lt=>{const{length:Ht}=we;if(!Ht)return void Lt.complete();const nn=new Array(Ht);let $n=Ht,Ln=Ht;for(let Xn=0;Xn<Ht;Xn++){let Kn=!1;(0,ie.Tg)(we[Xn]).subscribe((0,v._)(Lt,nr=>{Kn||(Kn=!0,Ln--),nn[Xn]=nr},()=>$n--,void 0,()=>{(!$n||!Kn)&&(Ln||Lt.next(ye?(0,g.e)(ye,nn):nn),Lt.complete())}))}});return ae?$e.pipe((0,b.I)(ae)):$e}(Y(we,ae).map(le)).pipe((0,_.T)(Oe))}}(re(_e)):null}function ht(_e,ae){return null===_e?[ae]:Array.isArray(_e)?[..._e,ae]:[_e,ae]}function lt(_e){return _e?Array.isArray(_e)?_e:[_e]:[]}function Be(_e,ae){return Array.isArray(_e)?_e.includes(ae):_e===ae}function Qe(_e,ae){const we=lt(ae);return lt(_e).forEach($e=>{Be(we,$e)||we.push($e)}),we}function Je(_e,ae){return lt(ae).filter(we=>!Be(_e,we))}class ot{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ae){this._rawValidators=ae||[],this._composedValidatorFn=Te(this._rawValidators)}_setAsyncValidators(ae){this._rawAsyncValidators=ae||[],this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ae){this._onDestroyCallbacks.push(ae)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ae=>ae()),this._onDestroyCallbacks=[]}reset(ae=void 0){this.control&&this.control.reset(ae)}hasError(ae,we){return!!this.control&&this.control.hasError(ae,we)}getError(ae,we){return this.control?this.control.getError(ae,we):null}}class Ze extends ot{get formDirective(){return null}get path(){return null}}class yt extends ot{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ct{constructor(ae){this._cd=ae}get isTouched(){var ae,we,ye;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(we=ae._touched)||void 0===we||we.call(ae),!(null===(ye=this._cd)||void 0===ye||null===(ye=ye.control)||void 0===ye||!ye.touched)}get isUntouched(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.untouched)}get isPristine(){var ae,we,ye;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(we=ae._pristine)||void 0===we||we.call(ae),!(null===(ye=this._cd)||void 0===ye||null===(ye=ye.control)||void 0===ye||!ye.pristine)}get isDirty(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.dirty)}get isValid(){var ae,we,ye;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(we=ae._status)||void 0===we||we.call(ae),!(null===(ye=this._cd)||void 0===ye||null===(ye=ye.control)||void 0===ye||!ye.valid)}get isInvalid(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.invalid)}get isPending(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.pending)}get isSubmitted(){var ae,we,ye;return null===(ae=this._cd)||void 0===ae||null===(we=ae._submitted)||void 0===we||we.call(ae),!(null===(ye=this._cd)||void 0===ye||!ye.submitted)}}let un=(()=>{var _e;class ae extends Ct{constructor(ye){super(ye)}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)(O.rXU(yt,2))},_e.\u0275dir=O.FsC({type:_e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ye,$e){2&ye&&O.AVh("ng-untouched",$e.isUntouched)("ng-touched",$e.isTouched)("ng-pristine",$e.isPristine)("ng-dirty",$e.isDirty)("ng-valid",$e.isValid)("ng-invalid",$e.isInvalid)("ng-pending",$e.isPending)},features:[O.Vt3]}),ae})();const tt="VALID",At="INVALID",gt="PENDING",Rt="DISABLED";class cn{}class ft extends cn{constructor(ae,we){super(),this.value=ae,this.source=we}}class xt extends cn{constructor(ae,we){super(),this.pristine=ae,this.source=we}}class Jt extends cn{constructor(ae,we){super(),this.touched=ae,this.source=we}}class Nt extends cn{constructor(ae,we){super(),this.status=ae,this.source=we}}function Gn(_e){return null!=_e&&!Array.isArray(_e)&&"object"==typeof _e}class je{constructor(ae,we){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,O.EWP)(()=>this.statusReactive()),this.statusReactive=(0,O.vPA)(void 0),this._pristine=(0,O.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,O.vPA)(!0),this._touched=(0,O.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,O.vPA)(!1),this._events=new C.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(ae),this._assignAsyncValidators(we)}get validator(){return this._composedValidatorFn}set validator(ae){this._rawValidators=this._composedValidatorFn=ae}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ae){this._rawAsyncValidators=this._composedAsyncValidatorFn=ae}get parent(){return this._parent}get status(){return(0,O.O8t)(this.statusReactive)}set status(ae){(0,O.O8t)(()=>this.statusReactive.set(ae))}get valid(){return this.status===tt}get invalid(){return this.status===At}get pending(){return this.status==gt}get disabled(){return this.status===Rt}get enabled(){return this.status!==Rt}get pristine(){return(0,O.O8t)(this.pristineReactive)}set pristine(ae){(0,O.O8t)(()=>this.pristineReactive.set(ae))}get dirty(){return!this.pristine}get touched(){return(0,O.O8t)(this.touchedReactive)}set touched(ae){(0,O.O8t)(()=>this.touchedReactive.set(ae))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ae){this._assignValidators(ae)}setAsyncValidators(ae){this._assignAsyncValidators(ae)}addValidators(ae){this.setValidators(Qe(ae,this._rawValidators))}addAsyncValidators(ae){this.setAsyncValidators(Qe(ae,this._rawAsyncValidators))}removeValidators(ae){this.setValidators(Je(ae,this._rawValidators))}removeAsyncValidators(ae){this.setAsyncValidators(Je(ae,this._rawAsyncValidators))}hasValidator(ae){return Be(this._rawValidators,ae)}hasAsyncValidator(ae){return Be(this._rawAsyncValidators,ae)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ae={}){var we;const ye=!1===this.touched;this.touched=!0;const $e=null!==(we=ae.sourceControl)&&void 0!==we?we:this;this._parent&&!ae.onlySelf&&this._parent.markAsTouched({...ae,sourceControl:$e}),ye&&!1!==ae.emitEvent&&this._events.next(new Jt(!0,$e))}markAllAsTouched(ae={}){this.markAsTouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:this}),this._forEachChild(we=>we.markAllAsTouched(ae))}markAsUntouched(ae={}){var we;const ye=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const $e=null!==(we=ae.sourceControl)&&void 0!==we?we:this;this._forEachChild(Lt=>{Lt.markAsUntouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:$e})}),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,$e),ye&&!1!==ae.emitEvent&&this._events.next(new Jt(!1,$e))}markAsDirty(ae={}){var we;const ye=!0===this.pristine;this.pristine=!1;const $e=null!==(we=ae.sourceControl)&&void 0!==we?we:this;this._parent&&!ae.onlySelf&&this._parent.markAsDirty({...ae,sourceControl:$e}),ye&&!1!==ae.emitEvent&&this._events.next(new xt(!1,$e))}markAsPristine(ae={}){var we;const ye=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const $e=null!==(we=ae.sourceControl)&&void 0!==we?we:this;this._forEachChild(Lt=>{Lt.markAsPristine({onlySelf:!0,emitEvent:ae.emitEvent})}),this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,$e),ye&&!1!==ae.emitEvent&&this._events.next(new xt(!0,$e))}markAsPending(ae={}){var we;this.status=gt;const ye=null!==(we=ae.sourceControl)&&void 0!==we?we:this;!1!==ae.emitEvent&&(this._events.next(new Nt(this.status,ye)),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.markAsPending({...ae,sourceControl:ye})}disable(ae={}){var we;const ye=this._parentMarkedDirty(ae.onlySelf);this.status=Rt,this.errors=null,this._forEachChild(Lt=>{Lt.disable({...ae,onlySelf:!0})}),this._updateValue();const $e=null!==(we=ae.sourceControl)&&void 0!==we?we:this;!1!==ae.emitEvent&&(this._events.next(new ft(this.value,$e)),this._events.next(new Nt(this.status,$e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ae,skipPristineCheck:ye},this),this._onDisabledChange.forEach(Lt=>Lt(!0))}enable(ae={}){const we=this._parentMarkedDirty(ae.onlySelf);this.status=tt,this._forEachChild(ye=>{ye.enable({...ae,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent}),this._updateAncestors({...ae,skipPristineCheck:we},this),this._onDisabledChange.forEach(ye=>ye(!1))}_updateAncestors(ae,we){this._parent&&!ae.onlySelf&&(this._parent.updateValueAndValidity(ae),ae.skipPristineCheck||this._parent._updatePristine({},we),this._parent._updateTouched({},we))}setParent(ae){this._parent=ae}getRawValue(){return this.value}updateValueAndValidity(ae={}){var we;if(this._setInitialStatus(),this._updateValue(),this.enabled){const $e=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tt||this.status===gt)&&this._runAsyncValidator($e,ae.emitEvent)}const ye=null!==(we=ae.sourceControl)&&void 0!==we?we:this;!1!==ae.emitEvent&&(this._events.next(new ft(this.value,ye)),this._events.next(new Nt(this.status,ye)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.updateValueAndValidity({...ae,sourceControl:ye})}_updateTreeValidity(ae={emitEvent:!0}){this._forEachChild(we=>we._updateTreeValidity(ae)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rt:tt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ae,we){if(this.asyncValidator){this.status=gt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==we};const ye=le(this.asyncValidator(this));this._asyncValidationSubscription=ye.subscribe($e=>{this._hasOwnPendingAsyncValidator=null,this.setErrors($e,{emitEvent:we,shouldHaveEmitted:ae})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var ae,we;this._asyncValidationSubscription.unsubscribe();const ye=null!==(ae=null===(we=this._hasOwnPendingAsyncValidator)||void 0===we?void 0:we.emitEvent)&&void 0!==ae&&ae;return this._hasOwnPendingAsyncValidator=null,ye}return!1}setErrors(ae,we={}){this.errors=ae,this._updateControlsErrors(!1!==we.emitEvent,this,we.shouldHaveEmitted)}get(ae){let we=ae;return null==we||(Array.isArray(we)||(we=we.split(".")),0===we.length)?null:we.reduce((ye,$e)=>ye&&ye._find($e),this)}getError(ae,we){const ye=we?this.get(we):this;return ye&&ye.errors?ye.errors[ae]:null}hasError(ae,we){return!!this.getError(ae,we)}get root(){let ae=this;for(;ae._parent;)ae=ae._parent;return ae}_updateControlsErrors(ae,we,ye){this.status=this._calculateStatus(),ae&&this.statusChanges.emit(this.status),(ae||ye)&&this._events.next(new Nt(this.status,we)),this._parent&&this._parent._updateControlsErrors(ae,we,ye)}_initObservables(){this.valueChanges=new O.bkB,this.statusChanges=new O.bkB}_calculateStatus(){return this._allControlsDisabled()?Rt:this.errors?At:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gt)?gt:this._anyControlsHaveStatus(At)?At:tt}_anyControlsHaveStatus(ae){return this._anyControls(we=>we.status===ae)}_anyControlsDirty(){return this._anyControls(ae=>ae.dirty)}_anyControlsTouched(){return this._anyControls(ae=>ae.touched)}_updatePristine(ae,we){const ye=!this._anyControlsDirty(),$e=this.pristine!==ye;this.pristine=ye,this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,we),$e&&this._events.next(new xt(this.pristine,we))}_updateTouched(ae={},we){this.touched=this._anyControlsTouched(),this._events.next(new Jt(this.touched,we)),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,we)}_registerOnCollectionChange(ae){this._onCollectionChange=ae}_setUpdateStrategy(ae){Gn(ae)&&null!=ae.updateOn&&(this._updateOn=ae.updateOn)}_parentMarkedDirty(ae){return!ae&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ae){return null}_assignValidators(ae){this._rawValidators=Array.isArray(ae)?ae.slice():ae,this._composedValidatorFn=function Mn(_e){return Array.isArray(_e)?Te(_e):_e||null}(this._rawValidators)}_assignAsyncValidators(ae){this._rawAsyncValidators=Array.isArray(ae)?ae.slice():ae,this._composedAsyncValidatorFn=function Tn(_e){return Array.isArray(_e)?qe(_e):_e||null}(this._rawAsyncValidators)}}const se=new O.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Pe}),Pe="always";function ut(_e,ae,we=Pe){var ye,$e;(function He(_e,ae){const we=function ze(_e){return _e._rawValidators}(_e);null!==ae.validator?_e.setValidators(ht(we,ae.validator)):"function"==typeof we&&_e.setValidators([we]);const ye=function st(_e){return _e._rawAsyncValidators}(_e);null!==ae.asyncValidator?_e.setAsyncValidators(ht(ye,ae.asyncValidator)):"function"==typeof ye&&_e.setAsyncValidators([ye]);const $e=()=>_e.updateValueAndValidity();Ue(ae._rawValidators,$e),Ue(ae._rawAsyncValidators,$e)})(_e,ae),ae.valueAccessor.writeValue(_e.value),(_e.disabled||"always"===we)&&(null===(ye=($e=ae.valueAccessor).setDisabledState)||void 0===ye||ye.call($e,_e.disabled)),function Ut(_e,ae){ae.valueAccessor.registerOnChange(we=>{_e._pendingValue=we,_e._pendingChange=!0,_e._pendingDirty=!0,"change"===_e.updateOn&&hn(_e,ae)})}(_e,ae),function An(_e,ae){const we=(ye,$e)=>{ae.valueAccessor.writeValue(ye),$e&&ae.viewToModelUpdate(ye)};_e.registerOnChange(we),ae._registerOnDestroy(()=>{_e._unregisterOnChange(we)})}(_e,ae),function an(_e,ae){ae.valueAccessor.registerOnTouched(()=>{_e._pendingTouched=!0,"blur"===_e.updateOn&&_e._pendingChange&&hn(_e,ae),"submit"!==_e.updateOn&&_e.markAsTouched()})}(_e,ae),function at(_e,ae){if(ae.valueAccessor.setDisabledState){const we=ye=>{ae.valueAccessor.setDisabledState(ye)};_e.registerOnDisabledChange(we),ae._registerOnDestroy(()=>{_e._unregisterOnDisabledChange(we)})}}(_e,ae)}function Ue(_e,ae){_e.forEach(we=>{we.registerOnValidatorChange&&we.registerOnValidatorChange(ae)})}function hn(_e,ae){_e._pendingDirty&&_e.markAsDirty(),_e.setValue(_e._pendingValue,{emitModelToViewChange:!1}),ae.viewToModelUpdate(_e._pendingValue),_e._pendingChange=!1}function Vo(_e,ae){const we=_e.indexOf(ae);we>-1&&_e.splice(we,1)}function oo(_e){return"object"==typeof _e&&null!==_e&&2===Object.keys(_e).length&&"value"in _e&&"disabled"in _e}Promise.resolve();const ci=class extends je{constructor(ae=null,we,ye){super(function bn(_e){return(Gn(_e)?_e.validators:_e)||null}(we),function In(_e,ae){return(Gn(ae)?ae.asyncValidators:_e)||null}(ye,we)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ae),this._setUpdateStrategy(we),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gn(we)&&(we.nonNullable||we.initialValueIsDefault)&&(this.defaultValue=oo(ae)?ae.value:ae)}setValue(ae,we={}){this.value=this._pendingValue=ae,this._onChange.length&&!1!==we.emitModelToViewChange&&this._onChange.forEach(ye=>ye(this.value,!1!==we.emitViewToModelChange)),this.updateValueAndValidity(we)}patchValue(ae,we={}){this.setValue(ae,we)}reset(ae=this.defaultValue,we={}){this._applyFormState(ae),this.markAsPristine(we),this.markAsUntouched(we),this.setValue(this.value,we),this._pendingChange=!1}_updateValue(){}_anyControls(ae){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ae){this._onChange.push(ae)}_unregisterOnChange(ae){Vo(this._onChange,ae)}registerOnDisabledChange(ae){this._onDisabledChange.push(ae)}_unregisterOnDisabledChange(ae){Vo(this._onDisabledChange,ae)}_forEachChild(ae){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ae){oo(ae)?(this.value=this._pendingValue=ae.value,ae.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ae}},mo={provide:yt,useExisting:(0,O.Rfq)(()=>Yo)},ti=Promise.resolve();let Yo=(()=>{var _e;class ae extends yt{constructor(ye,$e,Lt,Ht,nn,$n){super(),this._changeDetectorRef=nn,this.callSetDisabledState=$n,this.control=new ci,this._registered=!1,this.name="",this.update=new O.bkB,this._parent=ye,this._setValidators($e),this._setAsyncValidators(Lt),this.valueAccessor=function eo(_e,ae){if(!ae)return null;let we,ye,$e;return Array.isArray(ae),ae.forEach(Lt=>{Lt.constructor===m?we=Lt:function Lr(_e){return Object.getPrototypeOf(_e.constructor)===l}(Lt)?ye=Lt:$e=Lt}),$e||ye||we||null}(0,Ht)}ngOnChanges(ye){if(this._checkForErrors(),!this._registered||"name"in ye){if(this._registered&&(this._checkName(),this.formDirective)){const $e=ye.name.previousValue;this.formDirective.removeControl({name:$e,path:this._getPath($e)})}this._setUpControl()}"isDisabled"in ye&&this._updateDisabled(ye),function Er(_e,ae){if(!_e.hasOwnProperty("model"))return!1;const we=_e.model;return!!we.isFirstChange()||!Object.is(ae,we.currentValue)}(ye,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ye){this.viewModel=ye,this.update.emit(ye)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ut(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ye){ti.then(()=>{var $e;this.control.setValue(ye,{emitViewToModelChange:!1}),null===($e=this._changeDetectorRef)||void 0===$e||$e.markForCheck()})}_updateDisabled(ye){const $e=ye.isDisabled.currentValue,Lt=0!==$e&&(0,O.L39)($e);ti.then(()=>{var Ht;Lt&&!this.control.disabled?this.control.disable():!Lt&&this.control.disabled&&this.control.enable(),null===(Ht=this._changeDetectorRef)||void 0===Ht||Ht.markForCheck()})}_getPath(ye){return this._parent?function Ne(_e,ae){return[...ae.path,_e]}(ye,this._parent):[ye]}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)(O.rXU(Ze,9),O.rXU(E,10),O.rXU(M,10),O.rXU(a,10),O.rXU(O.gRc,8),O.rXU(se,8))},_e.\u0275dir=O.FsC({type:_e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[O.Jv_([mo]),O.Vt3,O.OA$]}),ae})();function ho(_e){return"number"==typeof _e?_e:parseFloat(_e)}let Ur=(()=>{var _e;class ae{constructor(){this._validator=G}ngOnChanges(ye){if(this.inputName in ye){const $e=this.normalizeInput(ye[this.inputName].currentValue);this._enabled=this.enabled($e),this._validator=this._enabled?this.createValidator($e):G,this._onChange&&this._onChange()}}validate(ye){return this._validator(ye)}registerOnValidatorChange(ye){this._onChange=ye}enabled(ye){return null!=ye}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)},_e.\u0275dir=O.FsC({type:_e,features:[O.OA$]}),ae})();const Hn={provide:E,useExisting:(0,O.Rfq)(()=>Go),multi:!0};let Go=(()=>{var _e;class ae extends Ur{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=ye=>ho(ye),this.createValidator=ye=>function N(_e){return ae=>{if(w(ae.value)||w(_e))return null;const we=parseFloat(ae.value);return!isNaN(we)&&we>_e?{max:{max:_e,actual:ae.value}}:null}}(ye)}}return(_e=ae).\u0275fac=(()=>{let we;return function($e){return(we||(we=O.xGo(_e)))($e||_e)}})(),_e.\u0275dir=O.FsC({type:_e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ye,$e){2&ye&&O.BMQ("max",$e._enabled?$e.max:null)},inputs:{max:"max"},features:[O.Jv_([Hn]),O.Vt3]}),ae})();const Jo={provide:E,useExisting:(0,O.Rfq)(()=>So),multi:!0};let So=(()=>{var _e;class ae extends Ur{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ye=>ho(ye),this.createValidator=ye=>function j(_e){return ae=>{if(w(ae.value)||w(_e))return null;const we=parseFloat(ae.value);return!isNaN(we)&&we<_e?{min:{min:_e,actual:ae.value}}:null}}(ye)}}return(_e=ae).\u0275fac=(()=>{let we;return function($e){return(we||(we=O.xGo(_e)))($e||_e)}})(),_e.\u0275dir=O.FsC({type:_e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ye,$e){2&ye&&O.BMQ("min",$e._enabled?$e.min:null)},inputs:{min:"min"},features:[O.Jv_([Jo]),O.Vt3]}),ae})(),S=(()=>{var _e;class ae{}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)},_e.\u0275mod=O.$C({type:_e}),_e.\u0275inj=O.G2t({}),ae})(),wt=(()=>{var _e;class ae{static withConfig(ye){var $e;return{ngModule:ae,providers:[{provide:se,useValue:null!==($e=ye.callSetDisabledState)&&void 0!==$e?$e:Pe}]}}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)},_e.\u0275mod=O.$C({type:_e}),_e.\u0275inj=O.G2t({imports:[S]}),ae})()},345:(En,qt,me)=>{"use strict";me.d(qt,{Bb:()=>lt,hE:()=>Je,sG:()=>qe,up:()=>Ve});var O=me(177),I=me(3953);class pe extends O.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class mt extends pe{static makeCurrent(){(0,O.ZD)(new mt)}onAndCancel(tt,At,gt){return tt.addEventListener(At,gt),()=>{tt.removeEventListener(At,gt)}}dispatchEvent(tt,At){tt.dispatchEvent(At)}remove(tt){tt.parentNode&&tt.parentNode.removeChild(tt)}createElement(tt,At){return(At=At||this.getDefaultDocument()).createElement(tt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(tt){return tt.nodeType===Node.ELEMENT_NODE}isShadowRoot(tt){return tt instanceof DocumentFragment}getGlobalEventTarget(tt,At){return"window"===At?window:"document"===At?tt:"body"===At?tt.body:null}getBaseHref(tt){const At=function ie(){return o=o||document.querySelector("base"),o?o.getAttribute("href"):null}();return null==At?null:function $(pt){return new URL(pt,document.baseURI).pathname}(At)}resetBaseElement(){o=null}getUserAgent(){return window.navigator.userAgent}getCookie(tt){return(0,O._b)(document.cookie,tt)}}let o=null,b=(()=>{var pt;class tt{build(){return new XMLHttpRequest}}return(pt=tt).\u0275fac=function(gt){return new(gt||pt)},pt.\u0275prov=I.jDH({token:pt,factory:pt.\u0275fac}),tt})();const g=new I.nKC("");let y=(()=>{var pt;class tt{constructor(gt,Rt){this._zone=Rt,this._eventNameToPlugin=new Map,gt.forEach(cn=>{cn.manager=this}),this._plugins=gt.slice().reverse()}addEventListener(gt,Rt,cn){return this._findPluginFor(Rt).addEventListener(gt,Rt,cn)}getZone(){return this._zone}_findPluginFor(gt){let Rt=this._eventNameToPlugin.get(gt);if(Rt)return Rt;if(Rt=this._plugins.find(ft=>ft.supports(gt)),!Rt)throw new I.wOt(5101,!1);return this._eventNameToPlugin.set(gt,Rt),Rt}}return(pt=tt).\u0275fac=function(gt){return new(gt||pt)(I.KVO(g),I.KVO(I.SKi))},pt.\u0275prov=I.jDH({token:pt,factory:pt.\u0275fac}),tt})();class C{constructor(tt){this._doc=tt}}const _="ng-app-id";let s=(()=>{var pt;class tt{constructor(gt,Rt,cn,ft={}){this.doc=gt,this.appId=Rt,this.nonce=cn,this.platformId=ft,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,O.Vy)(ft),this.resetHostNodes()}addStyles(gt){for(const Rt of gt)1===this.changeUsageCount(Rt,1)&&this.onStyleAdded(Rt)}removeStyles(gt){for(const Rt of gt)this.changeUsageCount(Rt,-1)<=0&&this.onStyleRemoved(Rt)}ngOnDestroy(){const gt=this.styleNodesInDOM;gt&&(gt.forEach(Rt=>Rt.remove()),gt.clear());for(const Rt of this.getAllStyles())this.onStyleRemoved(Rt);this.resetHostNodes()}addHost(gt){this.hostNodes.add(gt);for(const Rt of this.getAllStyles())this.addStyleToHost(gt,Rt)}removeHost(gt){this.hostNodes.delete(gt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(gt){for(const Rt of this.hostNodes)this.addStyleToHost(Rt,gt)}onStyleRemoved(gt){var Rt;const cn=this.styleRef;null===(Rt=cn.get(gt))||void 0===Rt||null===(Rt=Rt.elements)||void 0===Rt||Rt.forEach(ft=>ft.remove()),cn.delete(gt)}collectServerRenderedStyles(){var gt;const Rt=null===(gt=this.doc.head)||void 0===gt?void 0:gt.querySelectorAll(`style[${_}="${this.appId}"]`);if(null!=Rt&&Rt.length){const cn=new Map;return Rt.forEach(ft=>{null!=ft.textContent&&cn.set(ft.textContent,ft)}),cn}return null}changeUsageCount(gt,Rt){const cn=this.styleRef;if(cn.has(gt)){const ft=cn.get(gt);return ft.usage+=Rt,ft.usage}return cn.set(gt,{usage:Rt,elements:[]}),Rt}getStyleElement(gt,Rt){const cn=this.styleNodesInDOM,ft=null==cn?void 0:cn.get(Rt);if((null==ft?void 0:ft.parentNode)===gt)return cn.delete(Rt),ft.removeAttribute(_),ft;{const xt=this.doc.createElement("style");return this.nonce&&xt.setAttribute("nonce",this.nonce),xt.textContent=Rt,this.platformIsServer&&xt.setAttribute(_,this.appId),gt.appendChild(xt),xt}}addStyleToHost(gt,Rt){var cn;const ft=this.getStyleElement(gt,Rt),xt=this.styleRef,Jt=null===(cn=xt.get(Rt))||void 0===cn?void 0:cn.elements;Jt?Jt.push(ft):xt.set(Rt,{elements:[ft],usage:1})}resetHostNodes(){const gt=this.hostNodes;gt.clear(),gt.add(this.doc.head)}}return(pt=tt).\u0275fac=function(gt){return new(gt||pt)(I.KVO(O.qQ),I.KVO(I.sZ2),I.KVO(I.BIS,8),I.KVO(I.Agw))},pt.\u0275prov=I.jDH({token:pt,factory:pt.\u0275fac}),tt})();const l={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},a=/%COMP%/g,d="%COMP%",c=`_nghost-${d}`,u=`_ngcontent-${d}`,p=new I.nKC("",{providedIn:"root",factory:()=>!0});function R(pt,tt){return tt.map(At=>At.replace(a,pt))}let E=(()=>{var pt;class tt{constructor(gt,Rt,cn,ft,xt,Jt,Nt,rn=null){this.eventManager=gt,this.sharedStylesHost=Rt,this.appId=cn,this.removeStylesOnCompDestroy=ft,this.doc=xt,this.platformId=Jt,this.ngZone=Nt,this.nonce=rn,this.rendererByCompId=new Map,this.platformIsServer=(0,O.Vy)(Jt),this.defaultRenderer=new M(gt,xt,Nt,this.platformIsServer)}createRenderer(gt,Rt){if(!gt||!Rt)return this.defaultRenderer;this.platformIsServer&&Rt.encapsulation===I.gXe.ShadowDom&&(Rt={...Rt,encapsulation:I.gXe.Emulated});const cn=this.getOrCreateRenderer(gt,Rt);return cn instanceof J?cn.applyToHost(gt):cn instanceof k&&cn.applyStyles(),cn}getOrCreateRenderer(gt,Rt){const cn=this.rendererByCompId;let ft=cn.get(Rt.id);if(!ft){const xt=this.doc,Jt=this.ngZone,Nt=this.eventManager,rn=this.sharedStylesHost,pn=this.removeStylesOnCompDestroy,bn=this.platformIsServer;switch(Rt.encapsulation){case I.gXe.Emulated:ft=new J(Nt,rn,Rt,this.appId,pn,xt,Jt,bn);break;case I.gXe.ShadowDom:return new N(Nt,rn,gt,Rt,xt,Jt,this.nonce,bn);default:ft=new k(Nt,rn,Rt,pn,xt,Jt,bn)}cn.set(Rt.id,ft)}return ft}ngOnDestroy(){this.rendererByCompId.clear()}}return(pt=tt).\u0275fac=function(gt){return new(gt||pt)(I.KVO(y),I.KVO(s),I.KVO(I.sZ2),I.KVO(p),I.KVO(O.qQ),I.KVO(I.Agw),I.KVO(I.SKi),I.KVO(I.BIS))},pt.\u0275prov=I.jDH({token:pt,factory:pt.\u0275fac}),tt})();class M{constructor(tt,At,gt,Rt){this.eventManager=tt,this.doc=At,this.ngZone=gt,this.platformIsServer=Rt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(tt,At){return At?this.doc.createElementNS(l[At]||At,tt):this.doc.createElement(tt)}createComment(tt){return this.doc.createComment(tt)}createText(tt){return this.doc.createTextNode(tt)}appendChild(tt,At){(j(tt)?tt.content:tt).appendChild(At)}insertBefore(tt,At,gt){tt&&(j(tt)?tt.content:tt).insertBefore(At,gt)}removeChild(tt,At){tt&&tt.removeChild(At)}selectRootElement(tt,At){let gt="string"==typeof tt?this.doc.querySelector(tt):tt;if(!gt)throw new I.wOt(-5104,!1);return At||(gt.textContent=""),gt}parentNode(tt){return tt.parentNode}nextSibling(tt){return tt.nextSibling}setAttribute(tt,At,gt,Rt){if(Rt){At=Rt+":"+At;const cn=l[Rt];cn?tt.setAttributeNS(cn,At,gt):tt.setAttribute(At,gt)}else tt.setAttribute(At,gt)}removeAttribute(tt,At,gt){if(gt){const Rt=l[gt];Rt?tt.removeAttributeNS(Rt,At):tt.removeAttribute(`${gt}:${At}`)}else tt.removeAttribute(At)}addClass(tt,At){tt.classList.add(At)}removeClass(tt,At){tt.classList.remove(At)}setStyle(tt,At,gt,Rt){Rt&(I.czy.DashCase|I.czy.Important)?tt.style.setProperty(At,gt,Rt&I.czy.Important?"important":""):tt.style[At]=gt}removeStyle(tt,At,gt){gt&I.czy.DashCase?tt.style.removeProperty(At):tt.style[At]=""}setProperty(tt,At,gt){null!=tt&&(tt[At]=gt)}setValue(tt,At){tt.nodeValue=At}listen(tt,At,gt){if("string"==typeof tt&&!(tt=(0,O.QT)().getGlobalEventTarget(this.doc,tt)))throw new Error(`Unsupported event target ${tt} for event ${At}`);return this.eventManager.addEventListener(tt,At,this.decoratePreventDefault(gt))}decoratePreventDefault(tt){return At=>{if("__ngUnwrap__"===At)return tt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>tt(At)):tt(At))&&At.preventDefault()}}}function j(pt){return"TEMPLATE"===pt.tagName&&void 0!==pt.content}class N extends M{constructor(tt,At,gt,Rt,cn,ft,xt,Jt){super(tt,cn,ft,Jt),this.sharedStylesHost=At,this.hostEl=gt,this.shadowRoot=gt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nt=R(Rt.id,Rt.styles);for(const rn of Nt){const pn=document.createElement("style");xt&&pn.setAttribute("nonce",xt),pn.textContent=rn,this.shadowRoot.appendChild(pn)}}nodeOrShadowRoot(tt){return tt===this.hostEl?this.shadowRoot:tt}appendChild(tt,At){return super.appendChild(this.nodeOrShadowRoot(tt),At)}insertBefore(tt,At,gt){return super.insertBefore(this.nodeOrShadowRoot(tt),At,gt)}removeChild(tt,At){return super.removeChild(this.nodeOrShadowRoot(tt),At)}parentNode(tt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(tt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class k extends M{constructor(tt,At,gt,Rt,cn,ft,xt,Jt){super(tt,cn,ft,xt),this.sharedStylesHost=At,this.removeStylesOnCompDestroy=Rt,this.styles=Jt?R(Jt,gt.styles):gt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class J extends k{constructor(tt,At,gt,Rt,cn,ft,xt,Jt){const Nt=Rt+"-"+gt.id;super(tt,At,gt,cn,ft,xt,Jt,Nt),this.contentAttr=function m(pt){return u.replace(a,pt)}(Nt),this.hostAttr=function w(pt){return c.replace(a,pt)}(Nt)}applyToHost(tt){this.applyStyles(),this.setAttribute(tt,this.hostAttr,"")}createElement(tt,At){const gt=super.createElement(tt,At);return super.setAttribute(gt,this.contentAttr,""),gt}}let ne=(()=>{var pt;class tt extends C{constructor(gt){super(gt)}supports(gt){return!0}addEventListener(gt,Rt,cn){return gt.addEventListener(Rt,cn,!1),()=>this.removeEventListener(gt,Rt,cn)}removeEventListener(gt,Rt,cn){return gt.removeEventListener(Rt,cn)}}return(pt=tt).\u0275fac=function(gt){return new(gt||pt)(I.KVO(O.qQ))},pt.\u0275prov=I.jDH({token:pt,factory:pt.\u0275fac}),tt})(),z=(()=>{var pt;class tt extends C{constructor(gt){super(gt),this.delegate=(0,I.WQX)(I.zAP,{optional:!0})}supports(gt){return!!this.delegate&&this.delegate.supports(gt)}addEventListener(gt,Rt,cn){return this.delegate.addEventListener(gt,Rt,cn)}removeEventListener(gt,Rt,cn){return this.delegate.removeEventListener(gt,Rt,cn)}}return(pt=tt).\u0275fac=function(gt){return new(gt||pt)(I.KVO(O.qQ))},pt.\u0275prov=I.jDH({token:pt,factory:pt.\u0275fac}),tt})();const ee=["alt","control","meta","shift"],H={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G={alt:pt=>pt.altKey,control:pt=>pt.ctrlKey,meta:pt=>pt.metaKey,shift:pt=>pt.shiftKey};let K=(()=>{var pt;class tt extends C{constructor(gt){super(gt)}supports(gt){return null!=tt.parseEventName(gt)}addEventListener(gt,Rt,cn){const ft=tt.parseEventName(Rt),xt=tt.eventCallback(ft.fullKey,cn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,O.QT)().onAndCancel(gt,ft.domEventName,xt))}static parseEventName(gt){const Rt=gt.toLowerCase().split("."),cn=Rt.shift();if(0===Rt.length||"keydown"!==cn&&"keyup"!==cn)return null;const ft=tt._normalizeKey(Rt.pop());let xt="",Jt=Rt.indexOf("code");if(Jt>-1&&(Rt.splice(Jt,1),xt="code."),ee.forEach(rn=>{const pn=Rt.indexOf(rn);pn>-1&&(Rt.splice(pn,1),xt+=rn+".")}),xt+=ft,0!=Rt.length||0===ft.length)return null;const Nt={};return Nt.domEventName=cn,Nt.fullKey=xt,Nt}static matchEventFullKeyCode(gt,Rt){let cn=H[gt.key]||gt.key,ft="";return Rt.indexOf("code.")>-1&&(cn=gt.code,ft="code."),!(null==cn||!cn)&&(cn=cn.toLowerCase()," "===cn?cn="space":"."===cn&&(cn="dot"),ee.forEach(xt=>{xt!==cn&&(0,G[xt])(gt)&&(ft+=xt+".")}),ft+=cn,ft===Rt)}static eventCallback(gt,Rt,cn){return ft=>{tt.matchEventFullKeyCode(ft,gt)&&cn.runGuarded(()=>Rt(ft))}}static _normalizeKey(gt){return"esc"===gt?"escape":gt}}return(pt=tt).\u0275fac=function(gt){return new(gt||pt)(I.KVO(O.qQ))},pt.\u0275prov=I.jDH({token:pt,factory:pt.\u0275fac}),tt})();const qe=(0,I.oH4)(I.fpN,"browser",[{provide:I.Agw,useValue:O.AJ},{provide:I.PLl,useValue:function re(){mt.makeCurrent()},multi:!0},{provide:O.qQ,useFactory:function Te(){return(0,I.TL$)(document),document},deps:[]}]),ht=new I.nKC(""),ze=[{provide:I.e01,useClass:class v{addToWindow(tt){I.JZv.getAngularTestability=(gt,Rt=!0)=>{const cn=tt.findTestabilityInTree(gt,Rt);if(null==cn)throw new I.wOt(5103,!1);return cn},I.JZv.getAllAngularTestabilities=()=>tt.getAllTestabilities(),I.JZv.getAllAngularRootElements=()=>tt.getAllRootElements(),I.JZv.frameworkStabilizers||(I.JZv.frameworkStabilizers=[]),I.JZv.frameworkStabilizers.push(gt=>{const Rt=I.JZv.getAllAngularTestabilities();let cn=Rt.length;const ft=function(){cn--,0==cn&&gt()};Rt.forEach(xt=>{xt.whenStable(ft)})})}findTestabilityInTree(tt,At,gt){if(null==At)return null;const Rt=tt.getTestability(At);return null!=Rt?Rt:gt?(0,O.QT)().isShadowRoot(At)?this.findTestabilityInTree(tt,At.host,!0):this.findTestabilityInTree(tt,At.parentElement,!0):null}},deps:[]},{provide:I.WHO,useClass:I.NYb,deps:[I.SKi,I.giA,I.e01]},{provide:I.NYb,useClass:I.NYb,deps:[I.SKi,I.giA,I.e01]}],st=[{provide:I.H8p,useValue:"root"},{provide:I.zcH,useFactory:function ge(){return new I.zcH},deps:[]},{provide:g,useClass:ne,multi:!0,deps:[O.qQ,I.SKi,I.Agw]},{provide:g,useClass:K,multi:!0,deps:[O.qQ]},{provide:g,useClass:z,multi:!0},E,s,y,{provide:I._9s,useExisting:E},{provide:O.N0,useClass:b,deps:[]},[]];let lt=(()=>{var pt;class tt{constructor(gt){}static withServerTransition(gt){return{ngModule:tt,providers:[{provide:I.sZ2,useValue:gt.appId}]}}}return(pt=tt).\u0275fac=function(gt){return new(gt||pt)(I.KVO(ht,12))},pt.\u0275mod=I.$C({type:pt}),pt.\u0275inj=I.G2t({providers:[...st,...ze],imports:[O.MD,I.Hbi]}),tt})(),Je=(()=>{var pt;class tt{constructor(gt){this._doc=gt}getTitle(){return this._doc.title}setTitle(gt){this._doc.title=gt||""}}return(pt=tt).\u0275fac=function(gt){return new(gt||pt)(I.KVO(O.qQ))},pt.\u0275prov=I.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"}),tt})(),Ve=(()=>{var pt;class tt{}return(pt=tt).\u0275fac=function(gt){return new(gt||pt)},pt.\u0275prov=I.jDH({token:pt,factory:function(gt){let Rt=null;return Rt=gt?new(gt||pt):I.KVO(Xe),Rt},providedIn:"root"}),tt})(),Xe=(()=>{var pt;class tt extends Ve{constructor(gt){super(),this._doc=gt}sanitize(gt,Rt){if(null==Rt)return null;switch(gt){case I.WPN.NONE:return Rt;case I.WPN.HTML:return(0,I.ZF7)(Rt,"HTML")?(0,I.rcV)(Rt):(0,I.h9k)(this._doc,String(Rt)).toString();case I.WPN.STYLE:return(0,I.ZF7)(Rt,"Style")?(0,I.rcV)(Rt):Rt;case I.WPN.SCRIPT:if((0,I.ZF7)(Rt,"Script"))return(0,I.rcV)(Rt);throw new I.wOt(5200,!1);case I.WPN.URL:return(0,I.ZF7)(Rt,"URL")?(0,I.rcV)(Rt):(0,I.$MX)(String(Rt));case I.WPN.RESOURCE_URL:if((0,I.ZF7)(Rt,"ResourceURL"))return(0,I.rcV)(Rt);throw new I.wOt(5201,!1);default:throw new I.wOt(5202,!1)}}bypassSecurityTrustHtml(gt){return(0,I.Kcf)(gt)}bypassSecurityTrustStyle(gt){return(0,I.cWb)(gt)}bypassSecurityTrustScript(gt){return(0,I.UyX)(gt)}bypassSecurityTrustUrl(gt){return(0,I.osQ)(gt)}bypassSecurityTrustResourceUrl(gt){return(0,I.e5t)(gt)}}return(pt=tt).\u0275fac=function(gt){return new(gt||pt)(I.KVO(O.qQ))},pt.\u0275prov=I.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"}),tt})()},9858:(En,qt,me)=>{"use strict";me.d(qt,{nX:()=>Fn,Zp:()=>Mt,Z:()=>Vr,Xk:()=>ze,Kp:()=>Os,b:()=>Zn,Ix:()=>co,Wk:()=>Da,iI:()=>Yu,Sd:()=>Wt});var O=me(3953),I=me(1985),pe=me(8071),o=me(6648),ie=me(7673),$=me(4412),v=me(4572);const g=(0,me(1853).L)(oe=>function(){oe(this),this.name="EmptyError",this.message="no elements in sequence"});var y=me(8793),C=me(9030),_=me(1203),s=me(8810),l=me(983),a=me(17),d=me(1413),c=me(8359),u=me(177),h=me(6354),p=me(5558),m=me(6697),w=me(9326),R=me(9974),M=me(5964),A=me(1397),B=me(4360);function j(oe){return(0,R.N)((he,Ce)=>{let de=!1;he.subscribe((0,B._)(Ce,De=>{de=!0,Ce.next(De)},()=>{de||Ce.next(oe),Ce.complete()}))})}function N(oe=k){return(0,R.N)((he,Ce)=>{let de=!1;he.subscribe((0,B._)(Ce,De=>{de=!0,Ce.next(De)},()=>de?Ce.complete():Ce.error(oe())))})}function k(){return new g}var J=me(3669);function ne(oe,he){const Ce=arguments.length>=2;return de=>de.pipe(oe?(0,M.p)((De,nt)=>oe(De,nt,de)):J.D,(0,m.s)(1),Ce?j(he):N(()=>new g))}function z(oe,he){return(0,pe.T)(he)?(0,A.Z)(oe,he,1):(0,A.Z)(oe,1)}var ee=me(8141),H=me(8750);function G(oe){return(0,R.N)((he,Ce)=>{let nt,de=null,De=!1;de=he.subscribe((0,B._)(Ce,void 0,void 0,ct=>{nt=(0,H.Tg)(oe(ct,G(oe)(he))),de?(de.unsubscribe(),de=null,nt.subscribe(Ce)):De=!0})),De&&(de.unsubscribe(),de=null,nt.subscribe(Ce))})}function Oe(oe){return oe<=0?()=>l.w:(0,R.N)((he,Ce)=>{let de=[];he.subscribe((0,B._)(Ce,De=>{de.push(De),oe<de.length&&de.shift()},()=>{for(const De of de)Ce.next(De);Ce.complete()},void 0,()=>{de=null}))})}var P=me(3703);function re(oe){return(0,R.N)((he,Ce)=>{try{he.subscribe(Ce)}finally{Ce.add(oe)}})}var ge=me(9898),Te=me(5343),qe=me(6365),ht=me(345);const ze="primary",st=Symbol("RouteTitle");class lt{constructor(he){this.params=he||{}}has(he){return Object.prototype.hasOwnProperty.call(this.params,he)}get(he){if(this.has(he)){const Ce=this.params[he];return Array.isArray(Ce)?Ce[0]:Ce}return null}getAll(he){if(this.has(he)){const Ce=this.params[he];return Array.isArray(Ce)?Ce:[Ce]}return[]}get keys(){return Object.keys(this.params)}}function Be(oe){return new lt(oe)}function Qe(oe,he,Ce){const de=Ce.path.split("/");if(de.length>oe.length||"full"===Ce.pathMatch&&(he.hasChildren()||de.length<oe.length))return null;const De={};for(let nt=0;nt<de.length;nt++){const ct=de[nt],on=oe[nt];if(":"===ct[0])De[ct.substring(1)]=on;else if(ct!==on.path)return null}return{consumed:oe.slice(0,de.length),posParams:De}}function ot(oe,he){const Ce=oe?Ze(oe):void 0,de=he?Ze(he):void 0;if(!Ce||!de||Ce.length!=de.length)return!1;let De;for(let nt=0;nt<Ce.length;nt++)if(De=Ce[nt],!yt(oe[De],he[De]))return!1;return!0}function Ze(oe){return[...Object.keys(oe),...Object.getOwnPropertySymbols(oe)]}function yt(oe,he){if(Array.isArray(oe)&&Array.isArray(he)){if(oe.length!==he.length)return!1;const Ce=[...oe].sort(),de=[...he].sort();return Ce.every((De,nt)=>de[nt]===De)}return oe===he}function Ct(oe){return oe.length>0?oe[oe.length-1]:null}function sn(oe){return function mt(oe){return!!oe&&(oe instanceof I.c||(0,pe.T)(oe.lift)&&(0,pe.T)(oe.subscribe))}(oe)?oe:(0,O.jNT)(oe)?(0,o.H)(Promise.resolve(oe)):(0,ie.of)(oe)}const $t={exact:function Yt(oe,he,Ce){if(!_t(oe.segments,he.segments)||!Vt(oe.segments,he.segments,Ce)||oe.numberOfChildren!==he.numberOfChildren)return!1;for(const de in he.children)if(!oe.children[de]||!Yt(oe.children[de],he.children[de],Ce))return!1;return!0},subset:Ot},un={exact:function mn(oe,he){return ot(oe,he)},subset:function fn(oe,he){return Object.keys(he).length<=Object.keys(oe).length&&Object.keys(he).every(Ce=>yt(oe[Ce],he[Ce]))},ignored:()=>!0};function Bt(oe,he,Ce){return $t[Ce.paths](oe.root,he.root,Ce.matrixParams)&&un[Ce.queryParams](oe.queryParams,he.queryParams)&&!("exact"===Ce.fragment&&oe.fragment!==he.fragment)}function Ot(oe,he,Ce){return ln(oe,he,he.segments,Ce)}function ln(oe,he,Ce,de){if(oe.segments.length>Ce.length){const De=oe.segments.slice(0,Ce.length);return!(!_t(De,Ce)||he.hasChildren()||!Vt(De,Ce,de))}if(oe.segments.length===Ce.length){if(!_t(oe.segments,Ce)||!Vt(oe.segments,Ce,de))return!1;for(const De in he.children)if(!oe.children[De]||!Ot(oe.children[De],he.children[De],de))return!1;return!0}{const De=Ce.slice(0,oe.segments.length),nt=Ce.slice(oe.segments.length);return!!(_t(oe.segments,De)&&Vt(oe.segments,De,de)&&oe.children[ze])&&ln(oe.children[ze],he,nt,de)}}function Vt(oe,he,Ce){return he.every((de,De)=>un[Ce](oe[De].parameters,de.parameters))}class Ve{constructor(he=new Xe([],{}),Ce={},de=null){this.root=he,this.queryParams=Ce,this.fragment=de}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return Gt.serialize(this)}}class Xe{constructor(he,Ce){this.segments=he,this.children=Ce,this.parent=null,Object.values(Ce).forEach(de=>de.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return en(this)}}class Ae{constructor(he,Ce){this.path=he,this.parameters=Ce}get parameterMap(){var he;return null!==(he=this._parameterMap)&&void 0!==he||(this._parameterMap=Be(this.parameters)),this._parameterMap}toString(){return ft(this)}}function _t(oe,he){return oe.length===he.length&&oe.every((Ce,de)=>Ce.path===he[de].path)}let Wt=(()=>{var oe;class he{}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=O.jDH({token:oe,factory:()=>new Tt,providedIn:"root"}),he})();class Tt{parse(he){const Ce=new W(he);return new Ve(Ce.parseRootSegment(),Ce.parseQueryParams(),Ce.parseFragment())}serialize(he){const Ce=`/${tn(he.root,!0)}`,de=function Jt(oe){const he=Object.entries(oe).map(([Ce,de])=>Array.isArray(de)?de.map(De=>`${tt(Ce)}=${tt(De)}`).join("&"):`${tt(Ce)}=${tt(de)}`).filter(Ce=>Ce);return he.length?`?${he.join("&")}`:""}(he.queryParams);return`${Ce}${de}${"string"==typeof he.fragment?`#${function At(oe){return encodeURI(oe)}(he.fragment)}`:""}`}}const Gt=new Tt;function en(oe){return oe.segments.map(he=>ft(he)).join("/")}function tn(oe,he){if(!oe.hasChildren())return en(oe);if(he){const Ce=oe.children[ze]?tn(oe.children[ze],!1):"",de=[];return Object.entries(oe.children).forEach(([De,nt])=>{De!==ze&&de.push(`${De}:${tn(nt,!1)}`)}),de.length>0?`${Ce}(${de.join("//")})`:Ce}{const Ce=function Ft(oe,he){let Ce=[];return Object.entries(oe.children).forEach(([de,De])=>{de===ze&&(Ce=Ce.concat(he(De,de)))}),Object.entries(oe.children).forEach(([de,De])=>{de!==ze&&(Ce=Ce.concat(he(De,de)))}),Ce}(oe,(de,De)=>De===ze?[tn(oe.children[ze],!1)]:[`${De}:${tn(de,!1)}`]);return 1===Object.keys(oe.children).length&&null!=oe.children[ze]?`${en(oe)}/${Ce[0]}`:`${en(oe)}/(${Ce.join("//")})`}}function pt(oe){return encodeURIComponent(oe).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tt(oe){return pt(oe).replace(/%3B/gi,";")}function gt(oe){return pt(oe).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rt(oe){return decodeURIComponent(oe)}function cn(oe){return Rt(oe.replace(/\+/g,"%20"))}function ft(oe){return`${gt(oe.path)}${function xt(oe){return Object.entries(oe).map(([he,Ce])=>`;${gt(he)}=${gt(Ce)}`).join("")}(oe.parameters)}`}const Nt=/^[^\/()?;#]+/;function rn(oe){const he=oe.match(Nt);return he?he[0]:""}const pn=/^[^\/()?;=#]+/,Mn=/^[^=?&#]+/,Tn=/^[^&#]+/;class W{constructor(he){this.url=he,this.remaining=he}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const he={};if(this.consumeOptional("?"))do{this.parseQueryParam(he)}while(this.consumeOptional("&"));return he}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const he=[];for(this.peekStartsWith("(")||he.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),he.push(this.parseSegment());let Ce={};this.peekStartsWith("/(")&&(this.capture("/"),Ce=this.parseParens(!0));let de={};return this.peekStartsWith("(")&&(de=this.parseParens(!1)),(he.length>0||Object.keys(Ce).length>0)&&(de[ze]=new Xe(he,Ce)),de}parseSegment(){const he=rn(this.remaining);if(""===he&&this.peekStartsWith(";"))throw new O.wOt(4009,!1);return this.capture(he),new Ae(Rt(he),this.parseMatrixParams())}parseMatrixParams(){const he={};for(;this.consumeOptional(";");)this.parseParam(he);return he}parseParam(he){const Ce=function bn(oe){const he=oe.match(pn);return he?he[0]:""}(this.remaining);if(!Ce)return;this.capture(Ce);let de="";if(this.consumeOptional("=")){const De=rn(this.remaining);De&&(de=De,this.capture(de))}he[Rt(Ce)]=Rt(de)}parseQueryParam(he){const Ce=function In(oe){const he=oe.match(Mn);return he?he[0]:""}(this.remaining);if(!Ce)return;this.capture(Ce);let de="";if(this.consumeOptional("=")){const ct=function Gn(oe){const he=oe.match(Tn);return he?he[0]:""}(this.remaining);ct&&(de=ct,this.capture(de))}const De=cn(Ce),nt=cn(de);if(he.hasOwnProperty(De)){let ct=he[De];Array.isArray(ct)||(ct=[ct],he[De]=ct),ct.push(nt)}else he[De]=nt}parseParens(he){const Ce={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const de=rn(this.remaining),De=this.remaining[de.length];if("/"!==De&&")"!==De&&";"!==De)throw new O.wOt(4010,!1);let nt;de.indexOf(":")>-1?(nt=de.slice(0,de.indexOf(":")),this.capture(nt),this.capture(":")):he&&(nt=ze);const ct=this.parseChildren();Ce[nt]=1===Object.keys(ct).length?ct[ze]:new Xe([],ct),this.consumeOptional("//")}return Ce}peekStartsWith(he){return this.remaining.startsWith(he)}consumeOptional(he){return!!this.peekStartsWith(he)&&(this.remaining=this.remaining.substring(he.length),!0)}capture(he){if(!this.consumeOptional(he))throw new O.wOt(4011,!1)}}function ve(oe){return oe.segments.length>0?new Xe([],{[ze]:oe}):oe}function je(oe){const he={};for(const[de,De]of Object.entries(oe.children)){const nt=je(De);if(de===ze&&0===nt.segments.length&&nt.hasChildren())for(const[ct,on]of Object.entries(nt.children))he[ct]=on;else(nt.segments.length>0||nt.hasChildren())&&(he[de]=nt)}return function D(oe){if(1===oe.numberOfChildren&&oe.children[ze]){const he=oe.children[ze];return new Xe(oe.segments.concat(he.segments),he.children)}return oe}(new Xe(oe.segments,he))}function T(oe){return oe instanceof Ve}function V(oe){var he;let Ce;const nt=ve(function de(ct){const on={};for(const Xt of ct.children){const Pn=de(Xt);on[Xt.outlet]=Pn}const _n=new Xe(ct.url,on);return ct===oe&&(Ce=_n),_n}(oe.root));return null!==(he=Ce)&&void 0!==he?he:nt}function Z(oe,he,Ce,de){let De=oe;for(;De.parent;)De=De.parent;if(0===he.length)return Pe(De,De,De,Ce,de);const nt=function Ee(oe){if("string"==typeof oe[0]&&1===oe.length&&"/"===oe[0])return new ut(!0,0,oe);let he=0,Ce=!1;const de=oe.reduce((De,nt,ct)=>{if("object"==typeof nt&&null!=nt){if(nt.outlets){const on={};return Object.entries(nt.outlets).forEach(([_n,Xt])=>{on[_n]="string"==typeof Xt?Xt.split("/"):Xt}),[...De,{outlets:on}]}if(nt.segmentPath)return[...De,nt.segmentPath]}return"string"!=typeof nt?[...De,nt]:0===ct?(nt.split("/").forEach((on,_n)=>{0==_n&&"."===on||(0==_n&&""===on?Ce=!0:".."===on?he++:""!=on&&De.push(on))}),De):[...De,nt]},[]);return new ut(Ce,he,de)}(he);if(nt.toRoot())return Pe(De,De,new Xe([],{}),Ce,de);const ct=function at(oe,he,Ce){if(oe.isAbsolute)return new Ue(he,!0,0);if(!Ce)return new Ue(he,!1,NaN);if(null===Ce.parent)return new Ue(Ce,!0,0);const de=X(oe.commands[0])?0:1;return function He(oe,he,Ce){let de=oe,De=he,nt=Ce;for(;nt>De;){if(nt-=De,de=de.parent,!de)throw new O.wOt(4005,!1);De=de.segments.length}return new Ue(de,!1,De-nt)}(Ce,Ce.segments.length-1+de,oe.numberOfDoubleDots)}(nt,De,oe),on=ct.processChildren?an(ct.segmentGroup,ct.index,nt.commands):Ut(ct.segmentGroup,ct.index,nt.commands);return Pe(De,ct.segmentGroup,on,Ce,de)}function X(oe){return"object"==typeof oe&&null!=oe&&!oe.outlets&&!oe.segmentPath}function se(oe){return"object"==typeof oe&&null!=oe&&oe.outlets}function Pe(oe,he,Ce,de,De){let ct,nt={};de&&Object.entries(de).forEach(([_n,Xt])=>{nt[_n]=Array.isArray(Xt)?Xt.map(Pn=>`${Pn}`):`${Xt}`}),ct=oe===he?Ce:Ne(oe,he,Ce);const on=ve(je(ct));return new Ve(on,nt,De)}function Ne(oe,he,Ce){const de={};return Object.entries(oe.children).forEach(([De,nt])=>{de[De]=nt===he?Ce:Ne(nt,he,Ce)}),new Xe(oe.segments,de)}class ut{constructor(he,Ce,de){if(this.isAbsolute=he,this.numberOfDoubleDots=Ce,this.commands=de,he&&de.length>0&&X(de[0]))throw new O.wOt(4003,!1);const De=de.find(se);if(De&&De!==Ct(de))throw new O.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ue{constructor(he,Ce,de){this.segmentGroup=he,this.processChildren=Ce,this.index=de}}function Ut(oe,he,Ce){var de;if(null!==(de=oe)&&void 0!==de||(oe=new Xe([],{})),0===oe.segments.length&&oe.hasChildren())return an(oe,he,Ce);const De=function hn(oe,he,Ce){let de=0,De=he;const nt={match:!1,pathIndex:0,commandIndex:0};for(;De<oe.segments.length;){if(de>=Ce.length)return nt;const ct=oe.segments[De],on=Ce[de];if(se(on))break;const _n=`${on}`,Xt=de<Ce.length-1?Ce[de+1]:null;if(De>0&&void 0===_n)break;if(_n&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!Ar(_n,Xt,ct))return nt;de+=2}else{if(!Ar(_n,{},ct))return nt;de++}De++}return{match:!0,pathIndex:De,commandIndex:de}}(oe,he,Ce),nt=Ce.slice(De.commandIndex);if(De.match&&De.pathIndex<oe.segments.length){const ct=new Xe(oe.segments.slice(0,De.pathIndex),{});return ct.children[ze]=new Xe(oe.segments.slice(De.pathIndex),oe.children),an(ct,0,nt)}return De.match&&0===nt.length?new Xe(oe.segments,{}):De.match&&!oe.hasChildren()?An(oe,he,Ce):De.match?an(oe,0,nt):An(oe,he,Ce)}function an(oe,he,Ce){if(0===Ce.length)return new Xe(oe.segments,{});{const de=function bt(oe){return se(oe[0])?oe[0].outlets:{[ze]:oe}}(Ce),De={};if(Object.keys(de).some(nt=>nt!==ze)&&oe.children[ze]&&1===oe.numberOfChildren&&0===oe.children[ze].segments.length){const nt=an(oe.children[ze],he,Ce);return new Xe(oe.segments,nt.children)}return Object.entries(de).forEach(([nt,ct])=>{"string"==typeof ct&&(ct=[ct]),null!==ct&&(De[nt]=Ut(oe.children[nt],he,ct))}),Object.entries(oe.children).forEach(([nt,ct])=>{void 0===de[nt]&&(De[nt]=ct)}),new Xe(oe.segments,De)}}function An(oe,he,Ce){const de=oe.segments.slice(0,he);let De=0;for(;De<Ce.length;){const nt=Ce[De];if(se(nt)){const _n=Bn(nt.outlets);return new Xe(de,_n)}if(0===De&&X(Ce[0])){de.push(new Ae(oe.segments[he].path,Qn(Ce[0]))),De++;continue}const ct=se(nt)?nt.outlets[ze]:`${nt}`,on=De<Ce.length-1?Ce[De+1]:null;ct&&on&&X(on)?(de.push(new Ae(ct,Qn(on))),De+=2):(de.push(new Ae(ct,{})),De++)}return new Xe(de,{})}function Bn(oe){const he={};return Object.entries(oe).forEach(([Ce,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(he[Ce]=An(new Xe([],{}),0,de))}),he}function Qn(oe){const he={};return Object.entries(oe).forEach(([Ce,de])=>he[Ce]=`${de}`),he}function Ar(oe,he,Ce){return oe==Ce.path&&ot(he,Ce.parameters)}const Dr="imperative";var Jn=function(oe){return oe[oe.NavigationStart=0]="NavigationStart",oe[oe.NavigationEnd=1]="NavigationEnd",oe[oe.NavigationCancel=2]="NavigationCancel",oe[oe.NavigationError=3]="NavigationError",oe[oe.RoutesRecognized=4]="RoutesRecognized",oe[oe.ResolveStart=5]="ResolveStart",oe[oe.ResolveEnd=6]="ResolveEnd",oe[oe.GuardsCheckStart=7]="GuardsCheckStart",oe[oe.GuardsCheckEnd=8]="GuardsCheckEnd",oe[oe.RouteConfigLoadStart=9]="RouteConfigLoadStart",oe[oe.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",oe[oe.ChildActivationStart=11]="ChildActivationStart",oe[oe.ChildActivationEnd=12]="ChildActivationEnd",oe[oe.ActivationStart=13]="ActivationStart",oe[oe.ActivationEnd=14]="ActivationEnd",oe[oe.Scroll=15]="Scroll",oe[oe.NavigationSkipped=16]="NavigationSkipped",oe}(Jn||{});class yr{constructor(he,Ce){this.id=he,this.url=Ce}}class Vr extends yr{constructor(he,Ce,de="imperative",De=null){super(he,Ce),this.type=Jn.NavigationStart,this.navigationTrigger=de,this.restoredState=De}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Er extends yr{constructor(he,Ce,de){super(he,Ce),this.urlAfterRedirects=de,this.type=Jn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Lr=function(oe){return oe[oe.Redirect=0]="Redirect",oe[oe.SupersededByNewNavigation=1]="SupersededByNewNavigation",oe[oe.NoDataFromResolver=2]="NoDataFromResolver",oe[oe.GuardRejected=3]="GuardRejected",oe}(Lr||{}),To=function(oe){return oe[oe.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",oe[oe.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",oe}(To||{});class eo extends yr{constructor(he,Ce,de,De){super(he,Ce),this.reason=de,this.code=De,this.type=Jn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wo extends yr{constructor(he,Ce,de,De){super(he,Ce),this.reason=de,this.code=De,this.type=Jn.NavigationSkipped}}class ko extends yr{constructor(he,Ce,de,De){super(he,Ce),this.error=de,this.target=De,this.type=Jn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class No extends yr{constructor(he,Ce,de,De){super(he,Ce),this.urlAfterRedirects=de,this.state=De,this.type=Jn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o extends yr{constructor(he,Ce,de,De){super(he,Ce),this.urlAfterRedirects=de,this.state=De,this.type=Jn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr extends yr{constructor(he,Ce,de,De,nt){super(he,Ce),this.urlAfterRedirects=de,this.state=De,this.shouldActivate=nt,this.type=Jn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vo extends yr{constructor(he,Ce,de,De){super(he,Ce),this.urlAfterRedirects=de,this.state=De,this.type=Jn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends yr{constructor(he,Ce,de,De){super(he,Ce),this.urlAfterRedirects=de,this.state=De,this.type=Jn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci{constructor(he){this.route=he,this.type=Jn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vi{constructor(he){this.route=he,this.type=Jn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class be{constructor(he){this.snapshot=he,this.type=Jn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class We{constructor(he){this.snapshot=he,this.type=Jn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(he){this.snapshot=he,this.type=Jn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Se{constructor(he){this.snapshot=he,this.type=Jn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vt{constructor(he,Ce,de){this.routerEvent=he,this.position=Ce,this.anchor=de,this.type=Jn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qt{}class fr{constructor(he,Ce){this.url=he,this.navigationBehaviorOptions=Ce}}function Yr(oe){return oe.outlet||ze}function Fe(oe){var he;if(!oe)return null;if(null!==(he=oe.routeConfig)&&void 0!==he&&he._injector)return oe.routeConfig._injector;for(let Ce=oe.parent;Ce;Ce=Ce.parent){const de=Ce.routeConfig;if(null!=de&&de._loadedInjector)return de._loadedInjector;if(null!=de&&de._injector)return de._injector}return null}class rt{get injector(){var he,Ce;return null!==(he=Fe(null===(Ce=this.route)||void 0===Ce?void 0:Ce.snapshot))&&void 0!==he?he:this.rootInjector}set injector(he){}constructor(he){this.rootInjector=he,this.outlet=null,this.route=null,this.children=new Mt(this.rootInjector),this.attachRef=null}}let Mt=(()=>{var oe;class he{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,De){const nt=this.getOrCreateContext(de);nt.outlet=De,this.contexts.set(de,nt)}onChildOutletDestroyed(de){const De=this.getContext(de);De&&(De.outlet=null,De.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let De=this.getContext(de);return De||(De=new rt(this.rootInjector),this.contexts.set(de,De)),De}getContext(de){return this.contexts.get(de)||null}}return(oe=he).\u0275fac=function(de){return new(de||oe)(O.KVO(O.uvJ))},oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();class kt{constructor(he){this._root=he}get root(){return this._root.value}parent(he){const Ce=this.pathFromRoot(he);return Ce.length>1?Ce[Ce.length-2]:null}children(he){const Ce=Zt(he,this._root);return Ce?Ce.children.map(de=>de.value):[]}firstChild(he){const Ce=Zt(he,this._root);return Ce&&Ce.children.length>0?Ce.children[0].value:null}siblings(he){const Ce=Kt(he,this._root);return Ce.length<2?[]:Ce[Ce.length-2].children.map(De=>De.value).filter(De=>De!==he)}pathFromRoot(he){return Kt(he,this._root).map(Ce=>Ce.value)}}function Zt(oe,he){if(oe===he.value)return he;for(const Ce of he.children){const de=Zt(oe,Ce);if(de)return de}return null}function Kt(oe,he){if(oe===he.value)return[he];for(const Ce of he.children){const de=Kt(oe,Ce);if(de.length)return de.unshift(he),de}return[]}class yn{constructor(he,Ce){this.value=he,this.children=Ce}toString(){return`TreeNode(${this.value})`}}function wn(oe){const he={};return oe&&oe.children.forEach(Ce=>he[Ce.value.outlet]=Ce),he}class Sn extends kt{constructor(he,Ce){super(he),this.snapshot=Ce,br(this,he)}toString(){return this.snapshot.toString()}}function xn(oe){const he=function Un(oe){const nt=new Yn([],{},{},"",{},ze,oe,null,{});return new pr("",new yn(nt,[]))}(oe),Ce=new $.t([new Ae("",{})]),de=new $.t({}),De=new $.t({}),nt=new $.t({}),ct=new $.t(""),on=new Fn(Ce,de,nt,ct,De,ze,oe,he.root);return on.snapshot=he.root,new Sn(new yn(on,[]),he)}class Fn{constructor(he,Ce,de,De,nt,ct,on,_n){var Xt,Pn;this.urlSubject=he,this.paramsSubject=Ce,this.queryParamsSubject=de,this.fragmentSubject=De,this.dataSubject=nt,this.outlet=ct,this.component=on,this._futureSnapshot=_n,this.title=null!==(Xt=null===(Pn=this.dataSubject)||void 0===Pn?void 0:Pn.pipe((0,h.T)(qn=>qn[st])))&&void 0!==Xt?Xt:(0,ie.of)(void 0),this.url=he,this.params=Ce,this.queryParams=de,this.fragment=De,this.data=nt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=this.params.pipe((0,h.T)(Ce=>Be(Ce)))),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=this.queryParams.pipe((0,h.T)(Ce=>Be(Ce)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zn(oe,he,Ce="emptyOnly"){var de;let De;const{routeConfig:nt}=oe;var ct;return De=null===he||"always"!==Ce&&""!==(null==nt?void 0:nt.path)&&(he.component||null!==(de=he.routeConfig)&&void 0!==de&&de.loadComponent)?{params:{...oe.params},data:{...oe.data},resolve:{...oe.data,...null!==(ct=oe._resolvedData)&&void 0!==ct?ct:{}}}:{params:{...he.params,...oe.params},data:{...he.data,...oe.data},resolve:{...oe.data,...he.data,...null==nt?void 0:nt.data,...oe._resolvedData}},nt&&Rn(nt)&&(De.resolve[st]=nt.title),De}class Yn{get title(){var he;return null===(he=this.data)||void 0===he?void 0:he[st]}constructor(he,Ce,de,De,nt,ct,on,_n,Xt){this.url=he,this.params=Ce,this.queryParams=de,this.fragment=De,this.data=nt,this.outlet=ct,this.component=on,this.routeConfig=_n,this._resolve=Xt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=Be(this.params)),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(de=>de.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pr extends kt{constructor(he,Ce){super(Ce),this.url=he,br(this,Ce)}toString(){return _r(this._root)}}function br(oe,he){he.value._routerState=oe,he.children.forEach(Ce=>br(oe,Ce))}function _r(oe){const he=oe.children.length>0?` { ${oe.children.map(_r).join(", ")} } `:"";return`${oe.value}${he}`}function Fr(oe){if(oe.snapshot){const he=oe.snapshot,Ce=oe._futureSnapshot;oe.snapshot=Ce,ot(he.queryParams,Ce.queryParams)||oe.queryParamsSubject.next(Ce.queryParams),he.fragment!==Ce.fragment&&oe.fragmentSubject.next(Ce.fragment),ot(he.params,Ce.params)||oe.paramsSubject.next(Ce.params),function Je(oe,he){if(oe.length!==he.length)return!1;for(let Ce=0;Ce<oe.length;++Ce)if(!ot(oe[Ce],he[Ce]))return!1;return!0}(he.url,Ce.url)||oe.urlSubject.next(Ce.url),ot(he.data,Ce.data)||oe.dataSubject.next(Ce.data)}else oe.snapshot=oe._futureSnapshot,oe.dataSubject.next(oe._futureSnapshot.data)}function Nr(oe,he){const Ce=ot(oe.params,he.params)&&function Ke(oe,he){return _t(oe,he)&&oe.every((Ce,de)=>ot(Ce.parameters,he[de].parameters))}(oe.url,he.url);return Ce&&!(!oe.parent!=!he.parent)&&(!oe.parent||Nr(oe.parent,he.parent))}function Rn(oe){return"string"==typeof oe.title||null===oe.title}let go=(()=>{var oe;class he{constructor(){this.activated=null,this._activatedRoute=null,this.name=ze,this.activateEvents=new O.bkB,this.deactivateEvents=new O.bkB,this.attachEvents=new O.bkB,this.detachEvents=new O.bkB,this.parentContexts=(0,O.WQX)(Mt),this.location=(0,O.WQX)(O.c1b),this.changeDetector=(0,O.WQX)(O.gRc),this.inputBinder=(0,O.WQX)(Rr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:De,previousValue:nt}=de.name;if(De)return;this.isTrackedInParentContexts(nt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(nt)),this.initializeOutletWithName()}}ngOnDestroy(){var de;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(de=this.inputBinder)||void 0===de||de.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){var De;return(null===(De=this.parentContexts.getContext(de))||void 0===De?void 0:De.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);null!=de&&de.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,De){var nt;this.activated=de,this._activatedRoute=De,this.location.insert(de.hostView),null===(nt=this.inputBinder)||void 0===nt||nt.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,De){var nt;if(this.isActivated)throw new O.wOt(4013,!1);this._activatedRoute=de;const ct=this.location,_n=de.snapshot.component,Xt=this.parentContexts.getOrCreateContext(this.name).children,Pn=new Lo(de,Xt,ct.injector);this.activated=ct.createComponent(_n,{index:ct.length,injector:Pn,environmentInjector:De}),this.changeDetector.markForCheck(),null===(nt=this.inputBinder)||void 0===nt||nt.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275dir=O.FsC({type:oe,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[O.OA$]}),he})();class Lo{__ngOutletInjector(he){return new Lo(this.route,this.childContexts,he)}constructor(he,Ce,de){this.route=he,this.childContexts=Ce,this.parent=de}get(he,Ce){return he===Fn?this.route:he===Mt?this.childContexts:this.parent.get(he,Ce)}}const Rr=new O.nKC("");let Oi=(()=>{var oe;class he{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){var De;null===(De=this.outletDataSubscriptions.get(de))||void 0===De||De.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:De}=de,nt=(0,v.z)([De.queryParams,De.params,De.data]).pipe((0,p.n)(([ct,on,_n],Xt)=>(_n={...ct,...on,..._n},0===Xt?(0,ie.of)(_n):Promise.resolve(_n)))).subscribe(ct=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==De||null===De.component)return void this.unsubscribeFromRouteData(de);const on=(0,O.HJs)(De.component);if(on)for(const{templateName:_n}of on.inputs)de.activatedComponentRef.setInput(_n,ct[_n]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,nt)}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac}),he})();function ho(oe,he,Ce){if(Ce&&oe.shouldReuseRoute(he.value,Ce.value.snapshot)){const de=Ce.value;de._futureSnapshot=he.value;const De=function Ur(oe,he,Ce){return he.children.map(de=>{for(const De of Ce.children)if(oe.shouldReuseRoute(de.value,De.value.snapshot))return ho(oe,de,De);return ho(oe,de)})}(oe,he,Ce);return new yn(de,De)}{if(oe.shouldAttach(he.value)){const nt=oe.retrieve(he.value);if(null!==nt){const ct=nt.route;return ct.value._futureSnapshot=he.value,ct.children=he.children.map(on=>ho(oe,on)),ct}}const de=function Hn(oe){return new Fn(new $.t(oe.url),new $.t(oe.params),new $.t(oe.queryParams),new $.t(oe.fragment),new $.t(oe.data),oe.outlet,oe.component,oe)}(he.value),De=he.children.map(nt=>ho(oe,nt));return new yn(de,De)}}class Go{constructor(he,Ce){this.redirectTo=he,this.navigationBehaviorOptions=Ce}}const Jo="ngNavigationCancelingError";function So(oe,he){const{redirectTo:Ce,navigationBehaviorOptions:de}=T(he)?{redirectTo:he,navigationBehaviorOptions:void 0}:he,De=ji(!1,Lr.Redirect);return De.url=Ce,De.navigationBehaviorOptions=de,De}function ji(oe,he){const Ce=new Error(`NavigationCancelingError: ${oe||""}`);return Ce[Jo]=!0,Ce.cancellationCode=he,Ce}function Sr(oe){return!!oe&&oe[Jo]}class Mo{constructor(he,Ce,de,De,nt){this.routeReuseStrategy=he,this.futureState=Ce,this.currState=de,this.forwardEvent=De,this.inputBindingEnabled=nt}activate(he){const Ce=this.futureState._root,de=this.currState?this.currState._root:null;this.deactivateChildRoutes(Ce,de,he),Fr(this.futureState.root),this.activateChildRoutes(Ce,de,he)}deactivateChildRoutes(he,Ce,de){const De=wn(Ce);he.children.forEach(nt=>{const ct=nt.value.outlet;this.deactivateRoutes(nt,De[ct],de),delete De[ct]}),Object.values(De).forEach(nt=>{this.deactivateRouteAndItsChildren(nt,de)})}deactivateRoutes(he,Ce,de){const De=he.value,nt=Ce?Ce.value:null;if(De===nt)if(De.component){const ct=de.getContext(De.outlet);ct&&this.deactivateChildRoutes(he,Ce,ct.children)}else this.deactivateChildRoutes(he,Ce,de);else nt&&this.deactivateRouteAndItsChildren(Ce,de)}deactivateRouteAndItsChildren(he,Ce){he.value.component&&this.routeReuseStrategy.shouldDetach(he.value.snapshot)?this.detachAndStoreRouteSubtree(he,Ce):this.deactivateRouteAndOutlet(he,Ce)}detachAndStoreRouteSubtree(he,Ce){const de=Ce.getContext(he.value.outlet),De=de&&he.value.component?de.children:Ce,nt=wn(he);for(const ct of Object.values(nt))this.deactivateRouteAndItsChildren(ct,De);if(de&&de.outlet){const ct=de.outlet.detach(),on=de.children.onOutletDeactivated();this.routeReuseStrategy.store(he.value.snapshot,{componentRef:ct,route:he,contexts:on})}}deactivateRouteAndOutlet(he,Ce){const de=Ce.getContext(he.value.outlet),De=de&&he.value.component?de.children:Ce,nt=wn(he);for(const ct of Object.values(nt))this.deactivateRouteAndItsChildren(ct,De);de&&(de.outlet&&(de.outlet.deactivate(),de.children.onOutletDeactivated()),de.attachRef=null,de.route=null)}activateChildRoutes(he,Ce,de){const De=wn(Ce);he.children.forEach(nt=>{this.activateRoutes(nt,De[nt.value.outlet],de),this.forwardEvent(new Se(nt.value.snapshot))}),he.children.length&&this.forwardEvent(new We(he.value.snapshot))}activateRoutes(he,Ce,de){const De=he.value,nt=Ce?Ce.value:null;if(Fr(De),De===nt)if(De.component){const ct=de.getOrCreateContext(De.outlet);this.activateChildRoutes(he,Ce,ct.children)}else this.activateChildRoutes(he,Ce,de);else if(De.component){const ct=de.getOrCreateContext(De.outlet);if(this.routeReuseStrategy.shouldAttach(De.snapshot)){const on=this.routeReuseStrategy.retrieve(De.snapshot);this.routeReuseStrategy.store(De.snapshot,null),ct.children.onOutletReAttached(on.contexts),ct.attachRef=on.componentRef,ct.route=on.route.value,ct.outlet&&ct.outlet.attach(on.componentRef,on.route.value),Fr(on.route.value),this.activateChildRoutes(he,null,ct.children)}else ct.attachRef=null,ct.route=De,ct.outlet&&ct.outlet.activateWith(De,ct.injector),this.activateChildRoutes(he,null,ct.children)}else this.activateChildRoutes(he,null,de)}}class wr{constructor(he){this.path=he,this.route=this.path[this.path.length-1]}}class Pi{constructor(he,Ce){this.component=he,this.route=Ce}}function Xr(oe,he,Ce){const de=oe._root;return wi(de,he?he._root:null,Ce,[de.value])}function _i(oe,he){const Ce=Symbol(),de=he.get(oe,Ce);return de===Ce?"function"!=typeof oe||(0,O.LfX)(oe)?he.get(oe):oe:de}function wi(oe,he,Ce,de,De={canDeactivateChecks:[],canActivateChecks:[]}){const nt=wn(he);return oe.children.forEach(ct=>{(function Gi(oe,he,Ce,de,De={canDeactivateChecks:[],canActivateChecks:[]}){const nt=oe.value,ct=he?he.value:null,on=Ce?Ce.getContext(oe.value.outlet):null;if(ct&&nt.routeConfig===ct.routeConfig){const _n=function Wn(oe,he,Ce){if("function"==typeof Ce)return Ce(oe,he);switch(Ce){case"pathParamsChange":return!_t(oe.url,he.url);case"pathParamsOrQueryParamsChange":return!_t(oe.url,he.url)||!ot(oe.queryParams,he.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nr(oe,he)||!ot(oe.queryParams,he.queryParams);default:return!Nr(oe,he)}}(ct,nt,nt.routeConfig.runGuardsAndResolvers);_n?De.canActivateChecks.push(new wr(de)):(nt.data=ct.data,nt._resolvedData=ct._resolvedData),wi(oe,he,nt.component?on?on.children:null:Ce,de,De),_n&&on&&on.outlet&&on.outlet.isActivated&&De.canDeactivateChecks.push(new Pi(on.outlet.component,ct))}else ct&&Ho(he,on,De),De.canActivateChecks.push(new wr(de)),wi(oe,null,nt.component?on?on.children:null:Ce,de,De)})(ct,nt[ct.value.outlet],Ce,de.concat([ct.value]),De),delete nt[ct.value.outlet]}),Object.entries(nt).forEach(([ct,on])=>Ho(on,Ce.getContext(ct),De)),De}function Ho(oe,he,Ce){const de=wn(oe),De=oe.value;Object.entries(de).forEach(([nt,ct])=>{Ho(ct,De.component?he?he.children.getContext(nt):null:he,Ce)}),Ce.canDeactivateChecks.push(new Pi(De.component&&he&&he.outlet&&he.outlet.isActivated?he.outlet.component:null,De))}function S(oe){return"function"==typeof oe}function et(oe){return oe instanceof g||"EmptyError"===(null==oe?void 0:oe.name)}const Et=Symbol("INITIAL_VALUE");function wt(){return(0,p.n)(oe=>(0,v.z)(oe.map(he=>he.pipe((0,m.s)(1),function E(...oe){const he=(0,w.lI)(oe);return(0,R.N)((Ce,de)=>{(he?(0,y.x)(oe,Ce,he):(0,y.x)(oe,Ce)).subscribe(de)})}(Et)))).pipe((0,h.T)(he=>{for(const Ce of he)if(!0!==Ce){if(Ce===Et)return Et;if(!1===Ce||zt(Ce))return Ce}return!0}),(0,M.p)(he=>he!==Et),(0,m.s)(1)))}function zt(oe){return T(oe)||oe instanceof Go}function Ln(oe){return(0,_.F)((0,ee.M)(he=>{if("boolean"!=typeof he)throw So(0,he)}),(0,h.T)(he=>!0===he))}class Kn{constructor(he){this.segmentGroup=he||null}}class nr extends Error{constructor(he){super(),this.urlTree=he}}function vr(oe){return(0,s.$)(new Kn(oe))}class qr{constructor(he,Ce){this.urlSerializer=he,this.urlTree=Ce}lineralizeSegments(he,Ce){let de=[],De=Ce.root;for(;;){if(de=de.concat(De.segments),0===De.numberOfChildren)return(0,ie.of)(de);if(De.numberOfChildren>1||!De.children[ze])return(0,s.$)(new O.wOt(4e3,!1));De=De.children[ze]}}applyRedirectCommands(he,Ce,de,De,nt){if("string"!=typeof Ce){const on=Ce,{queryParams:_n,fragment:Xt,routeConfig:Pn,url:qn,outlet:hr,params:er,data:no,title:Wo}=De,Fo=(0,O.N4e)(nt,()=>on({params:er,data:no,queryParams:_n,fragment:Xt,routeConfig:Pn,url:qn,outlet:hr,title:Wo}));if(Fo instanceof Ve)throw new nr(Fo);Ce=Fo}const ct=this.applyRedirectCreateUrlTree(Ce,this.urlSerializer.parse(Ce),he,de);if("/"===Ce[0])throw new nr(ct);return ct}applyRedirectCreateUrlTree(he,Ce,de,De){const nt=this.createSegmentGroup(he,Ce.root,de,De);return new Ve(nt,this.createQueryParams(Ce.queryParams,this.urlTree.queryParams),Ce.fragment)}createQueryParams(he,Ce){const de={};return Object.entries(he).forEach(([De,nt])=>{if("string"==typeof nt&&":"===nt[0]){const on=nt.substring(1);de[De]=Ce[on]}else de[De]=nt}),de}createSegmentGroup(he,Ce,de,De){const nt=this.createSegments(he,Ce.segments,de,De);let ct={};return Object.entries(Ce.children).forEach(([on,_n])=>{ct[on]=this.createSegmentGroup(he,_n,de,De)}),new Xe(nt,ct)}createSegments(he,Ce,de,De){return Ce.map(nt=>":"===nt.path[0]?this.findPosParam(he,nt,De):this.findOrReturn(nt,de))}findPosParam(he,Ce,de){const De=de[Ce.path.substring(1)];if(!De)throw new O.wOt(4001,!1);return De}findOrReturn(he,Ce){let de=0;for(const De of Ce){if(De.path===he.path)return Ce.splice(de),De;de++}return he}}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tr(oe,he,Ce,de,De){const nt=Ir(oe,he,Ce);return nt.matched?(de=function mo(oe,he){var Ce;return oe.providers&&!oe._injector&&(oe._injector=(0,O.Ol2)(oe.providers,he,`Route: ${oe.path}`)),null!==(Ce=oe._injector)&&void 0!==Ce?Ce:he}(he,de),function Xn(oe,he,Ce,de){const De=he.canMatch;if(!De||0===De.length)return(0,ie.of)(!0);const nt=De.map(ct=>{const on=_i(ct,oe);return sn(function ke(oe){return oe&&S(oe.canMatch)}(on)?on.canMatch(he,Ce):(0,O.N4e)(oe,()=>on(he,Ce)))});return(0,ie.of)(nt).pipe(wt(),Ln())}(de,he,Ce).pipe((0,h.T)(ct=>!0===ct?nt:{...fo}))):(0,ie.of)(nt)}function Ir(oe,he,Ce){var de,De;if("**"===he.path)return function Vn(oe){return{matched:!0,parameters:oe.length>0?Ct(oe).parameters:{},consumedSegments:oe,remainingSegments:[],positionalParamSegments:{}}}(Ce);if(""===he.path)return"full"===he.pathMatch&&(oe.hasChildren()||Ce.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:Ce,parameters:{},positionalParamSegments:{}};const ct=(he.matcher||Qe)(Ce,oe,he);if(!ct)return{...fo};const on={};Object.entries(null!==(de=ct.posParams)&&void 0!==de?de:{}).forEach(([Xt,Pn])=>{on[Xt]=Pn.path});const _n=ct.consumed.length>0?{...on,...ct.consumed[ct.consumed.length-1].parameters}:on;return{matched:!0,consumedSegments:ct.consumed,remainingSegments:Ce.slice(ct.consumed.length),parameters:_n,positionalParamSegments:null!==(De=ct.posParams)&&void 0!==De?De:{}}}function Br(oe,he,Ce,de){return Ce.length>0&&function kr(oe,he,Ce){return Ce.some(de=>ni(oe,he,de)&&Yr(de)!==ze)}(oe,Ce,de)?{segmentGroup:new Xe(he,lo(de,new Xe(Ce,oe.children))),slicedSegments:[]}:0===Ce.length&&function uo(oe,he,Ce){return Ce.some(de=>ni(oe,he,de))}(oe,Ce,de)?{segmentGroup:new Xe(oe.segments,$r(oe,Ce,de,oe.children)),slicedSegments:Ce}:{segmentGroup:new Xe(oe.segments,oe.children),slicedSegments:Ce}}function $r(oe,he,Ce,de){const De={};for(const nt of Ce)if(ni(oe,he,nt)&&!de[Yr(nt)]){const ct=new Xe([],{});De[Yr(nt)]=ct}return{...de,...De}}function lo(oe,he){const Ce={};Ce[ze]=he;for(const de of oe)if(""===de.path&&Yr(de)!==ze){const De=new Xe([],{});Ce[Yr(de)]=De}return Ce}function ni(oe,he,Ce){return(!(oe.hasChildren()||he.length>0)||"full"!==Ce.pathMatch)&&""===Ce.path}class Bd{}class vs{constructor(he,Ce,de,De,nt,ct,on){this.injector=he,this.configLoader=Ce,this.rootComponentType=de,this.config=De,this.urlTree=nt,this.paramsInheritanceStrategy=ct,this.urlSerializer=on,this.applyRedirects=new qr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(he){return new O.wOt(4002,`'${he.segmentGroup}'`)}recognize(){const he=Br(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(he).pipe((0,h.T)(({children:Ce,rootSnapshot:de})=>{const De=new yn(de,Ce),nt=new pr("",De),ct=function L(oe,he,Ce=null,de=null){return Z(V(oe),he,Ce,de)}(de,[],this.urlTree.queryParams,this.urlTree.fragment);return ct.queryParams=this.urlTree.queryParams,nt.url=this.urlSerializer.serialize(ct),{state:nt,tree:ct}}))}match(he){const Ce=new Yn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ze,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,he,ze,Ce).pipe((0,h.T)(de=>({children:de,rootSnapshot:Ce})),G(de=>{if(de instanceof nr)return this.urlTree=de.urlTree,this.match(de.urlTree.root);throw de instanceof Kn?this.noMatchError(de):de}))}processSegmentGroup(he,Ce,de,De,nt){return 0===de.segments.length&&de.hasChildren()?this.processChildren(he,Ce,de,nt):this.processSegment(he,Ce,de,de.segments,De,!0,nt).pipe((0,h.T)(ct=>ct instanceof yn?[ct]:[]))}processChildren(he,Ce,de,De){const nt=[];for(const ct of Object.keys(de.children))"primary"===ct?nt.unshift(ct):nt.push(ct);return(0,o.H)(nt).pipe(z(ct=>{const on=de.children[ct],_n=function Eo(oe,he){const Ce=oe.filter(de=>Yr(de)===he);return Ce.push(...oe.filter(de=>Yr(de)!==he)),Ce}(Ce,ct);return this.processSegmentGroup(he,_n,on,ct,De)}),function le(oe,he){return(0,R.N)(function K(oe,he,Ce,de,De){return(nt,ct)=>{let on=Ce,_n=he,Xt=0;nt.subscribe((0,B._)(ct,Pn=>{const qn=Xt++;_n=on?oe(_n,Pn,qn):(on=!0,Pn),de&&ct.next(_n)},De&&(()=>{on&&ct.next(_n),ct.complete()})))}}(oe,he,arguments.length>=2,!0))}((ct,on)=>(ct.push(...on),ct)),j(null),function Y(oe,he){const Ce=arguments.length>=2;return de=>de.pipe(oe?(0,M.p)((De,nt)=>oe(De,nt,de)):J.D,Oe(1),Ce?j(he):N(()=>new g))}(),(0,A.Z)(ct=>{if(null===ct)return vr(de);const on=Ca(ct);return function wa(oe){oe.sort((he,Ce)=>he.value.outlet===ze?-1:Ce.value.outlet===ze?1:he.value.outlet.localeCompare(Ce.value.outlet))}(on),(0,ie.of)(on)}))}processSegment(he,Ce,de,De,nt,ct,on){return(0,o.H)(Ce).pipe(z(_n=>{var Xt;return this.processSegmentAgainstRoute(null!==(Xt=_n._injector)&&void 0!==Xt?Xt:he,Ce,_n,de,De,nt,ct,on).pipe(G(Pn=>{if(Pn instanceof Kn)return(0,ie.of)(null);throw Pn}))}),ne(_n=>!!_n),G(_n=>{if(et(_n))return function _a(oe,he,Ce){return 0===he.length&&!oe.children[Ce]}(de,De,nt)?(0,ie.of)(new Bd):vr(de);throw _n}))}processSegmentAgainstRoute(he,Ce,de,De,nt,ct,on,_n){return function rs(oe,he,Ce,de){return!!(Yr(oe)===de||de!==ze&&ni(he,Ce,oe))&&Ir(he,oe,Ce).matched}(de,De,nt,ct)?void 0===de.redirectTo?this.matchSegmentAgainstRoute(he,De,de,nt,ct,_n):this.allowRedirects&&on?this.expandSegmentAgainstRouteUsingRedirect(he,De,Ce,de,nt,ct,_n):vr(De):vr(De)}expandSegmentAgainstRouteUsingRedirect(he,Ce,de,De,nt,ct,on){var _n,Xt;const{matched:Pn,parameters:qn,consumedSegments:hr,positionalParamSegments:er,remainingSegments:no}=Ir(Ce,De,nt);if(!Pn)return vr(Ce);"string"==typeof De.redirectTo&&"/"===De.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Wo=new Yn(nt,qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,os(De),Yr(De),null!==(_n=null!==(Xt=De.component)&&void 0!==Xt?Xt:De._loadedComponent)&&void 0!==_n?_n:null,De,Ea(De)),Fo=zn(Wo,on,this.paramsInheritanceStrategy);Wo.params=Object.freeze(Fo.params),Wo.data=Object.freeze(Fo.data);const Xs=this.applyRedirects.applyRedirectCommands(hr,De.redirectTo,er,Wo,he);return this.applyRedirects.lineralizeSegments(De,Xs).pipe((0,A.Z)(fi=>this.processSegment(he,de,Ce,fi.concat(no),ct,!1,on)))}matchSegmentAgainstRoute(he,Ce,de,De,nt,ct){const on=Tr(Ce,de,De,he);return"**"===de.path&&(Ce.children={}),on.pipe((0,p.n)(_n=>{var Xt;return _n.matched?(he=null!==(Xt=de._injector)&&void 0!==Xt?Xt:he,this.getChildConfig(he,de,De).pipe((0,p.n)(({routes:Pn})=>{var qn,hr,er;const no=null!==(qn=de._loadedInjector)&&void 0!==qn?qn:he,{parameters:Wo,consumedSegments:Fo,remainingSegments:Xs}=_n,fi=new Yn(Fo,Wo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,os(de),Yr(de),null!==(hr=null!==(er=de.component)&&void 0!==er?er:de._loadedComponent)&&void 0!==hr?hr:null,de,Ea(de)),is=zn(fi,ct,this.paramsInheritanceStrategy);fi.params=Object.freeze(is.params),fi.data=Object.freeze(is.data);const{segmentGroup:Ml,slicedSegments:Ks}=Br(Ce,Fo,Xs,Pn);if(0===Ks.length&&Ml.hasChildren())return this.processChildren(no,Pn,Ml,fi).pipe((0,h.T)(Es=>new yn(fi,Es)));if(0===Pn.length&&0===Ks.length)return(0,ie.of)(new yn(fi,[]));const Zu=Yr(de)===nt;return this.processSegment(no,Pn,Ml,Ks,Zu?ze:nt,!0,fi).pipe((0,h.T)(Es=>new yn(fi,Es instanceof yn?[Es]:[])))}))):vr(Ce)}))}getChildConfig(he,Ce,de){return Ce.children?(0,ie.of)({routes:Ce.children,injector:he}):Ce.loadChildren?void 0!==Ce._loadedRoutes?(0,ie.of)({routes:Ce._loadedRoutes,injector:Ce._loadedInjector}):function $n(oe,he,Ce,de){const De=he.canLoad;if(void 0===De||0===De.length)return(0,ie.of)(!0);const nt=De.map(ct=>{const on=_i(ct,oe);return sn(function q(oe){return oe&&S(oe.canLoad)}(on)?on.canLoad(he,Ce):(0,O.N4e)(oe,()=>on(he,Ce)))});return(0,ie.of)(nt).pipe(wt(),Ln())}(he,Ce,de).pipe((0,A.Z)(De=>De?this.configLoader.loadChildren(he,Ce).pipe((0,ee.M)(nt=>{Ce._loadedRoutes=nt.routes,Ce._loadedInjector=nt.injector})):function io(oe){return(0,s.$)(ji(!1,Lr.GuardRejected))}())):(0,ie.of)({routes:[],injector:he})}}function Vs(oe){const he=oe.value.routeConfig;return he&&""===he.path}function Ca(oe){const he=[],Ce=new Set;for(const de of oe){if(!Vs(de)){he.push(de);continue}const De=he.find(nt=>de.value.routeConfig===nt.value.routeConfig);void 0!==De?(De.children.push(...de.children),Ce.add(De)):he.push(de)}for(const de of Ce){const De=Ca(de.children);he.push(new yn(de.value,De))}return he.filter(de=>!Ce.has(de))}function os(oe){return oe.data||{}}function Ea(oe){return oe.resolve||{}}function Vu(oe){const he=oe.children.map(Ce=>Vu(Ce)).flat();return[oe,...he]}function Sa(oe){return(0,p.n)(he=>{const Ce=oe(he);return Ce?(0,o.H)(Ce).pipe((0,h.T)(()=>he)):(0,ie.of)(he)})}let Gs=(()=>{var oe;class he{buildTitle(de){let De,nt=de.root;for(;void 0!==nt;){var ct;De=null!==(ct=this.getResolvedTitleForRoute(nt))&&void 0!==ct?ct:De,nt=nt.children.find(on=>on.outlet===ze)}return De}getResolvedTitleForRoute(de){return de.data[st]}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=O.jDH({token:oe,factory:()=>(0,O.WQX)(mr),providedIn:"root"}),he})(),mr=(()=>{var oe;class he extends Gs{constructor(de){super(),this.title=de}updateTitle(de){const De=this.buildTitle(de);void 0!==De&&this.title.setTitle(De)}}return(oe=he).\u0275fac=function(de){return new(de||oe)(O.KVO(ht.hE))},oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();const Hi=new O.nKC("",{providedIn:"root",factory:()=>({})});let bs=(()=>{var oe;class he{}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275cmp=O.VBU({type:oe,selectors:[["ng-component"]],standalone:!0,features:[O.aNF],decls:1,vars:0,template:function(de,De){1&de&&O.nrm(0,"router-outlet")},dependencies:[go],encapsulation:2}),he})();function Io(oe){const he=oe.children&&oe.children.map(Io),Ce=he?{...oe,children:he}:{...oe};return!Ce.component&&!Ce.loadComponent&&(he||Ce.loadChildren)&&Ce.outlet&&Ce.outlet!==ze&&(Ce.component=bs),Ce}const di=new O.nKC("");let Sl=(()=>{var oe;class he{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,O.WQX)(O.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,ie.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const De=sn(de.loadComponent()).pipe((0,h.T)(Re),(0,ee.M)(ct=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=ct}),re(()=>{this.componentLoaders.delete(de)})),nt=new a.G(De,()=>new d.B).pipe((0,ge.B)());return this.componentLoaders.set(de,nt),nt}loadChildren(de,De){if(this.childrenLoaders.get(De))return this.childrenLoaders.get(De);if(De._loadedRoutes)return(0,ie.of)({routes:De._loadedRoutes,injector:De._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(De);const ct=function Vd(oe,he,Ce,de){return sn(oe.loadChildren()).pipe((0,h.T)(Re),(0,A.Z)(De=>De instanceof O.Co$||Array.isArray(De)?(0,ie.of)(De):(0,o.H)(he.compileModuleAsync(De))),(0,h.T)(De=>{de&&de(oe);let nt,ct,on=!1;return Array.isArray(De)?(ct=De,!0):(nt=De.create(Ce).injector,ct=nt.get(di,[],{optional:!0,self:!0}).flat()),{routes:ct.map(Io),injector:nt}}))}(De,this.compiler,de,this.onLoadEndListener).pipe(re(()=>{this.childrenLoaders.delete(De)})),on=new a.G(ct,()=>new d.B).pipe((0,ge.B)());return this.childrenLoaders.set(De,on),on}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();function Re(oe){return function ce(oe){return oe&&"object"==typeof oe&&"default"in oe}(oe)?oe.default:oe}let St=(()=>{var oe;class he{}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=O.jDH({token:oe,factory:()=>(0,O.WQX)(Ie),providedIn:"root"}),he})(),Ie=(()=>{var oe;class he{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,De){return de}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();const it=new O.nKC(""),It=new O.nKC("");function gn(oe,he,Ce){const de=oe.get(It),De=oe.get(u.qQ);return oe.get(O.SKi).runOutsideAngular(()=>{if(!De.startViewTransition||de.skipNextTransition)return de.skipNextTransition=!1,new Promise(Xt=>setTimeout(Xt));let nt;const ct=new Promise(Xt=>{nt=Xt}),on=De.startViewTransition(()=>(nt(),function On(oe){return new Promise(he=>{(0,O.mal)({read:()=>setTimeout(he)},{injector:oe})})}(oe))),{onViewTransitionCreated:_n}=de;return _n&&(0,O.N4e)(oe,()=>_n({transition:on,from:he,to:Ce})),ct})}const sr=new O.nKC("");let ir=(()=>{var oe;class he{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new d.B,this.transitionAbortSubject=new d.B,this.configLoader=(0,O.WQX)(Sl),this.environmentInjector=(0,O.WQX)(O.uvJ),this.urlSerializer=(0,O.WQX)(Wt),this.rootContexts=(0,O.WQX)(Mt),this.location=(0,O.WQX)(u.aZ),this.inputBindingEnabled=null!==(0,O.WQX)(Rr,{optional:!0}),this.titleStrategy=(0,O.WQX)(Gs),this.options=(0,O.WQX)(Hi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,O.WQX)(St),this.createViewTransition=(0,O.WQX)(it,{optional:!0}),this.navigationErrorHandler=(0,O.WQX)(sr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=nt=>this.events.next(new vi(nt)),this.configLoader.onLoadStartListener=nt=>this.events.next(new ci(nt))}complete(){var de;null===(de=this.transitions)||void 0===de||de.complete()}handleNavigationRequest(de){var De;const nt=++this.navigationId;null===(De=this.transitions)||void 0===De||De.next({...this.transitions.value,...de,id:nt})}setupNavigations(de,De,nt){return this.transitions=new $.t({id:0,currentUrlTree:De,currentRawUrl:De,extractedUrl:this.urlHandlingStrategy.extract(De),urlAfterRedirects:this.urlHandlingStrategy.extract(De),rawUrl:De,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Dr,restoredState:null,currentSnapshot:nt.snapshot,targetSnapshot:null,currentRouterState:nt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,M.p)(ct=>0!==ct.id),(0,h.T)(ct=>({...ct,extractedUrl:this.urlHandlingStrategy.extract(ct.rawUrl)})),(0,p.n)(ct=>{let on=!1,_n=!1;return(0,ie.of)(ct).pipe((0,p.n)(Xt=>{var Pn;if(this.navigationId>ct.id)return this.cancelNavigationTransition(ct,"",Lr.SupersededByNewNavigation),l.w;this.currentTransition=ct,this.currentNavigation={id:Xt.id,initialUrl:Xt.rawUrl,extractedUrl:Xt.extractedUrl,targetBrowserUrl:"string"==typeof Xt.extras.browserUrl?this.urlSerializer.parse(Xt.extras.browserUrl):Xt.extras.browserUrl,trigger:Xt.source,extras:Xt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const qn=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),hr=null!==(Pn=Xt.extras.onSameUrlNavigation)&&void 0!==Pn?Pn:de.onSameUrlNavigation;if(!qn&&"reload"!==hr){const er="";return this.events.next(new wo(Xt.id,this.urlSerializer.serialize(Xt.rawUrl),er,To.IgnoredSameUrlNavigation)),Xt.resolve(!1),l.w}if(this.urlHandlingStrategy.shouldProcessUrl(Xt.rawUrl))return(0,ie.of)(Xt).pipe((0,p.n)(er=>{var no,Wo;const Fo=null===(no=this.transitions)||void 0===no?void 0:no.getValue();return this.events.next(new Vr(er.id,this.urlSerializer.serialize(er.extractedUrl),er.source,er.restoredState)),Fo!==(null===(Wo=this.transitions)||void 0===Wo?void 0:Wo.getValue())?l.w:Promise.resolve(er)}),function ar(oe,he,Ce,de,De,nt){return(0,A.Z)(ct=>function $u(oe,he,Ce,de,De,nt,ct="emptyOnly"){return new vs(oe,he,Ce,de,De,ct,nt).recognize()}(oe,he,Ce,de,ct.extractedUrl,De,nt).pipe((0,h.T)(({state:on,tree:_n})=>({...ct,targetSnapshot:on,urlAfterRedirects:_n}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ee.M)(er=>{ct.targetSnapshot=er.targetSnapshot,ct.urlAfterRedirects=er.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:er.urlAfterRedirects};const no=new No(er.id,this.urlSerializer.serialize(er.extractedUrl),this.urlSerializer.serialize(er.urlAfterRedirects),er.targetSnapshot);this.events.next(no)}));if(qn&&this.urlHandlingStrategy.shouldProcessUrl(Xt.currentRawUrl)){const{id:er,extractedUrl:no,source:Wo,restoredState:Fo,extras:Xs}=Xt,fi=new Vr(er,this.urlSerializer.serialize(no),Wo,Fo);this.events.next(fi);const is=xn(this.rootComponentType).snapshot;return this.currentTransition=ct={...Xt,targetSnapshot:is,urlAfterRedirects:no,extras:{...Xs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=no,(0,ie.of)(ct)}{const er="";return this.events.next(new wo(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),er,To.IgnoredByUrlHandlingStrategy)),Xt.resolve(!1),l.w}}),(0,ee.M)(Xt=>{const Pn=new $o(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects),Xt.targetSnapshot);this.events.next(Pn)}),(0,h.T)(Xt=>(this.currentTransition=ct={...Xt,guards:Xr(Xt.targetSnapshot,Xt.currentSnapshot,this.rootContexts)},ct)),function _e(oe,he){return(0,A.Z)(Ce=>{const{targetSnapshot:de,currentSnapshot:De,guards:{canActivateChecks:nt,canDeactivateChecks:ct}}=Ce;return 0===ct.length&&0===nt.length?(0,ie.of)({...Ce,guardsResult:!0}):function ae(oe,he,Ce,de){return(0,o.H)(oe).pipe((0,A.Z)(De=>function nn(oe,he,Ce,de,De){const nt=he&&he.routeConfig?he.routeConfig.canDeactivate:null;if(!nt||0===nt.length)return(0,ie.of)(!0);const ct=nt.map(on=>{var _n;const Xt=null!==(_n=Fe(he))&&void 0!==_n?_n:De,Pn=_i(on,Xt);return sn(function Me(oe){return oe&&S(oe.canDeactivate)}(Pn)?Pn.canDeactivate(oe,he,Ce,de):(0,O.N4e)(Xt,()=>Pn(oe,he,Ce,de))).pipe(ne())});return(0,ie.of)(ct).pipe(wt())}(De.component,De.route,Ce,he,de)),ne(De=>!0!==De,!0))}(ct,de,De,oe).pipe((0,A.Z)(on=>on&&function U(oe){return"boolean"==typeof oe}(on)?function we(oe,he,Ce,de){return(0,o.H)(he).pipe(z(De=>(0,y.x)(function $e(oe,he){return null!==oe&&he&&he(new be(oe)),(0,ie.of)(!0)}(De.route.parent,de),function ye(oe,he){return null!==oe&&he&&he(new dt(oe)),(0,ie.of)(!0)}(De.route,de),function Ht(oe,he,Ce){const de=he[he.length-1],nt=he.slice(0,he.length-1).reverse().map(ct=>function Ri(oe){const he=oe.routeConfig?oe.routeConfig.canActivateChild:null;return he&&0!==he.length?{node:oe,guards:he}:null}(ct)).filter(ct=>null!==ct).map(ct=>(0,C.v)(()=>{const on=ct.guards.map(_n=>{var Xt;const Pn=null!==(Xt=Fe(ct.node))&&void 0!==Xt?Xt:Ce,qn=_i(_n,Pn);return sn(function fe(oe){return oe&&S(oe.canActivateChild)}(qn)?qn.canActivateChild(de,oe):(0,O.N4e)(Pn,()=>qn(de,oe))).pipe(ne())});return(0,ie.of)(on).pipe(wt())}));return(0,ie.of)(nt).pipe(wt())}(oe,De.path,Ce),function Lt(oe,he,Ce){const de=he.routeConfig?he.routeConfig.canActivate:null;if(!de||0===de.length)return(0,ie.of)(!0);const De=de.map(nt=>(0,C.v)(()=>{var ct;const on=null!==(ct=Fe(he))&&void 0!==ct?ct:Ce,_n=_i(nt,on);return sn(function te(oe){return oe&&S(oe.canActivate)}(_n)?_n.canActivate(he,oe):(0,O.N4e)(on,()=>_n(he,oe))).pipe(ne())}));return(0,ie.of)(De).pipe(wt())}(oe,De.route,Ce))),ne(De=>!0!==De,!0))}(de,nt,oe,he):(0,ie.of)(on)),(0,h.T)(on=>({...Ce,guardsResult:on})))})}(this.environmentInjector,Xt=>this.events.next(Xt)),(0,ee.M)(Xt=>{if(ct.guardsResult=Xt.guardsResult,Xt.guardsResult&&"boolean"!=typeof Xt.guardsResult)throw So(0,Xt.guardsResult);const Pn=new Wr(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects),Xt.targetSnapshot,!!Xt.guardsResult);this.events.next(Pn)}),(0,M.p)(Xt=>!!Xt.guardsResult||(this.cancelNavigationTransition(Xt,"",Lr.GuardRejected),!1)),Sa(Xt=>{if(Xt.guards.canActivateChecks.length)return(0,ie.of)(Xt).pipe((0,ee.M)(Pn=>{const qn=new Vo(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(qn)}),(0,p.n)(Pn=>{let qn=!1;return(0,ie.of)(Pn).pipe(function Mr(oe,he){return(0,A.Z)(Ce=>{const{targetSnapshot:de,guards:{canActivateChecks:De}}=Ce;if(!De.length)return(0,ie.of)(Ce);const nt=new Set(De.map(_n=>_n.route)),ct=new Set;for(const _n of nt)if(!ct.has(_n))for(const Xt of Vu(_n))ct.add(Xt);let on=0;return(0,o.H)(ct).pipe(z(_n=>nt.has(_n)?function Gu(oe,he,Ce,de){const De=oe.routeConfig,nt=oe._resolve;return void 0!==(null==De?void 0:De.title)&&!Rn(De)&&(nt[st]=De.title),function Hu(oe,he,Ce,de){const De=Ze(oe);if(0===De.length)return(0,ie.of)({});const nt={};return(0,o.H)(De).pipe((0,A.Z)(ct=>function $d(oe,he,Ce,de){var De;const nt=null!==(De=Fe(he))&&void 0!==De?De:de,ct=_i(oe,nt);return sn(ct.resolve?ct.resolve(he,Ce):(0,O.N4e)(nt,()=>ct(he,Ce)))}(oe[ct],he,Ce,de).pipe(ne(),(0,ee.M)(on=>{if(on instanceof Go)throw So(new Tt,on);nt[ct]=on}))),Oe(1),(0,P.u)(nt),G(ct=>et(ct)?l.w:(0,s.$)(ct)))}(nt,oe,he,de).pipe((0,h.T)(ct=>(oe._resolvedData=ct,oe.data=zn(oe,oe.parent,Ce).resolve,null)))}(_n,de,oe,he):(_n.data=zn(_n,_n.parent,oe).resolve,(0,ie.of)(void 0))),(0,ee.M)(()=>on++),Oe(1),(0,A.Z)(_n=>on===ct.size?(0,ie.of)(Ce):l.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ee.M)({next:()=>qn=!0,complete:()=>{qn||this.cancelNavigationTransition(Pn,"",Lr.NoDataFromResolver)}}))}),(0,ee.M)(Pn=>{const qn=new oo(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(qn)}))}),Sa(Xt=>{const Pn=qn=>{var hr;const er=[];null!==(hr=qn.routeConfig)&&void 0!==hr&&hr.loadComponent&&!qn.routeConfig._loadedComponent&&er.push(this.configLoader.loadComponent(qn.routeConfig).pipe((0,ee.M)(no=>{qn.component=no}),(0,h.T)(()=>{})));for(const no of qn.children)er.push(...Pn(no));return er};return(0,v.z)(Pn(Xt.targetSnapshot.root)).pipe(j(null),(0,m.s)(1))}),Sa(()=>this.afterPreactivation()),(0,p.n)(()=>{var Xt;const{currentSnapshot:Pn,targetSnapshot:qn}=ct,hr=null===(Xt=this.createViewTransition)||void 0===Xt?void 0:Xt.call(this,this.environmentInjector,Pn.root,qn.root);return hr?(0,o.H)(hr).pipe((0,h.T)(()=>ct)):(0,ie.of)(ct)}),(0,h.T)(Xt=>{const Pn=function ys(oe,he,Ce){const de=ho(oe,he._root,Ce?Ce._root:void 0);return new Sn(de,he)}(de.routeReuseStrategy,Xt.targetSnapshot,Xt.currentRouterState);return this.currentTransition=ct={...Xt,targetRouterState:Pn},this.currentNavigation.targetRouterState=Pn,ct}),(0,ee.M)(()=>{this.events.next(new Qt)}),((oe,he,Ce,de)=>(0,h.T)(De=>(new Mo(he,De.targetRouterState,De.currentRouterState,Ce,de).activate(oe),De)))(this.rootContexts,de.routeReuseStrategy,Xt=>this.events.next(Xt),this.inputBindingEnabled),(0,m.s)(1),(0,ee.M)({next:Xt=>{var Pn;on=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Er(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects))),null===(Pn=this.titleStrategy)||void 0===Pn||Pn.updateTitle(Xt.targetRouterState.snapshot),Xt.resolve(!0)},complete:()=>{on=!0}}),function Ge(oe){return(0,R.N)((he,Ce)=>{(0,H.Tg)(oe).subscribe((0,B._)(Ce,()=>Ce.complete(),Te.l)),!Ce.closed&&he.subscribe(Ce)})}(this.transitionAbortSubject.pipe((0,ee.M)(Xt=>{throw Xt}))),re(()=>{var Xt;!on&&!_n&&this.cancelNavigationTransition(ct,"",Lr.SupersededByNewNavigation),(null===(Xt=this.currentTransition)||void 0===Xt?void 0:Xt.id)===ct.id&&(this.currentNavigation=null,this.currentTransition=null)}),G(Xt=>{if(_n=!0,Sr(Xt))this.events.next(new eo(ct.id,this.urlSerializer.serialize(ct.extractedUrl),Xt.message,Xt.cancellationCode)),function bi(oe){return Sr(oe)&&T(oe.url)}(Xt)?this.events.next(new fr(Xt.url,Xt.navigationBehaviorOptions)):ct.resolve(!1);else{var Pn;const qn=new ko(ct.id,this.urlSerializer.serialize(ct.extractedUrl),Xt,null!==(Pn=ct.targetSnapshot)&&void 0!==Pn?Pn:void 0);try{const hr=(0,O.N4e)(this.environmentInjector,()=>{var er;return null===(er=this.navigationErrorHandler)||void 0===er?void 0:er.call(this,qn)});if(hr instanceof Go){const{message:er,cancellationCode:no}=So(0,hr);this.events.next(new eo(ct.id,this.urlSerializer.serialize(ct.extractedUrl),er,no)),this.events.next(new fr(hr.redirectTo,hr.navigationBehaviorOptions))}else{this.events.next(qn);const er=de.errorHandler(Xt);ct.resolve(!!er)}}catch(hr){this.options.resolveNavigationPromiseOnError?ct.resolve(!1):ct.reject(hr)}}return l.w}))}))}cancelNavigationTransition(de,De,nt){const ct=new eo(de.id,this.urlSerializer.serialize(de.extractedUrl),De,nt);this.events.next(ct),de.resolve(!1)}isUpdatingInternalState(){var de,De;return(null===(de=this.currentTransition)||void 0===de?void 0:de.extractedUrl.toString())!==(null===(De=this.currentTransition)||void 0===De?void 0:De.currentUrlTree.toString())}isUpdatedBrowserUrl(){var de,De,nt,ct;const on=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),_n=null!==(de=null===(De=this.currentNavigation)||void 0===De?void 0:De.targetBrowserUrl)&&void 0!==de?de:null===(nt=this.currentNavigation)||void 0===nt?void 0:nt.extractedUrl;return on.toString()!==(null==_n?void 0:_n.toString())&&!(null!==(ct=this.currentNavigation)&&void 0!==ct&&ct.extras.skipLocationChange)}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();function xr(oe){return oe!==Dr}let Zn=(()=>{var oe;class he{}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=O.jDH({token:oe,factory:()=>(0,O.WQX)(kn),providedIn:"root"}),he})();class Or{shouldDetach(he){return!1}store(he,Ce){}shouldAttach(he){return!1}retrieve(he){return null}shouldReuseRoute(he,Ce){return he.routeConfig===Ce.routeConfig}}let kn=(()=>{var oe;class he extends Or{}return(oe=he).\u0275fac=(()=>{let Ce;return function(De){return(Ce||(Ce=O.xGo(oe)))(De||oe)}})(),oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})(),Jr=(()=>{var oe;class he{}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=O.jDH({token:oe,factory:()=>(0,O.WQX)(hi),providedIn:"root"}),he})(),hi=(()=>{var oe;class he extends Jr{constructor(){super(...arguments),this.location=(0,O.WQX)(u.aZ),this.urlSerializer=(0,O.WQX)(Wt),this.options=(0,O.WQX)(Hi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,O.WQX)(St),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ve,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xn(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var de,De;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(de=null===(De=this.restoredState())||void 0===De?void 0:De.\u0275routerPageId)&&void 0!==de?de:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(De=>{"popstate"===De.type&&de(De.url,De.state)})}handleRouterEvent(de,De){if(de instanceof Vr)this.stateMemento=this.createStateMemento();else if(de instanceof wo)this.rawUrlTree=De.initialUrl;else if(de instanceof No){if("eager"===this.urlUpdateStrategy&&!De.extras.skipLocationChange){var nt;const on=this.urlHandlingStrategy.merge(De.finalUrl,De.initialUrl);this.setBrowserUrl(null!==(nt=De.targetBrowserUrl)&&void 0!==nt?nt:on,De)}}else if(de instanceof Qt){var ct;this.currentUrlTree=De.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(De.finalUrl,De.initialUrl),this.routerState=De.targetRouterState,"deferred"!==this.urlUpdateStrategy||De.extras.skipLocationChange||this.setBrowserUrl(null!==(ct=De.targetBrowserUrl)&&void 0!==ct?ct:this.rawUrlTree,De)}else de instanceof eo&&(de.code===Lr.GuardRejected||de.code===Lr.NoDataFromResolver)?this.restoreHistory(De):de instanceof ko?this.restoreHistory(De,!0):de instanceof Er&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,De){const nt=de instanceof Ve?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(nt)||De.extras.replaceUrl){const on={...De.extras.state,...this.generateNgRouterState(De.id,this.browserPageId)};this.location.replaceState(nt,"",on)}else{const ct={...De.extras.state,...this.generateNgRouterState(De.id,this.browserPageId+1)};this.location.go(nt,"",ct)}}restoreHistory(de,De=!1){if("computed"===this.canceledNavigationResolution){const ct=this.currentPageId-this.browserPageId;0!==ct?this.location.historyGo(ct):this.currentUrlTree===de.finalUrl&&0===ct&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(De&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){var De;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(De=de.finalUrl)&&void 0!==De?De:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,De){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:De}:{navigationId:de}}}return(oe=he).\u0275fac=(()=>{let Ce;return function(De){return(Ce||(Ce=O.xGo(oe)))(De||oe)}})(),oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();var po=function(oe){return oe[oe.COMPLETE=0]="COMPLETE",oe[oe.FAILED=1]="FAILED",oe[oe.REDIRECTING=2]="REDIRECTING",oe}(po||{});function zi(oe,he){oe.events.pipe((0,M.p)(Ce=>Ce instanceof Er||Ce instanceof eo||Ce instanceof ko||Ce instanceof wo),(0,h.T)(Ce=>Ce instanceof Er||Ce instanceof wo?po.COMPLETE:Ce instanceof eo&&(Ce.code===Lr.Redirect||Ce.code===Lr.SupersededByNewNavigation)?po.REDIRECTING:po.FAILED),(0,M.p)(Ce=>Ce!==po.REDIRECTING),(0,m.s)(1)).subscribe(()=>{he()})}function Ni(oe){throw oe}const Wi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Li={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let co=(()=>{var oe;class he{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var de,De;this.disposed=!1,this.console=(0,O.WQX)(O.H3F),this.stateManager=(0,O.WQX)(Jr),this.options=(0,O.WQX)(Hi,{optional:!0})||{},this.pendingTasks=(0,O.WQX)(O.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,O.WQX)(ir),this.urlSerializer=(0,O.WQX)(Wt),this.location=(0,O.WQX)(u.aZ),this.urlHandlingStrategy=(0,O.WQX)(St),this._events=new d.B,this.errorHandler=this.options.errorHandler||Ni,this.navigated=!1,this.routeReuseStrategy=(0,O.WQX)(Zn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(de=null===(De=(0,O.WQX)(di,{optional:!0}))||void 0===De?void 0:De.flat())&&void 0!==de?de:[],this.componentInputBindingEnabled=!!(0,O.WQX)(Rr,{optional:!0}),this.eventsSubscription=new c.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:nt=>{this.console.warn(nt)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(De=>{try{const nt=this.navigationTransitions.currentTransition,ct=this.navigationTransitions.currentNavigation;if(null!==nt&&null!==ct)if(this.stateManager.handleRouterEvent(De,ct),De instanceof eo&&De.code!==Lr.Redirect&&De.code!==Lr.SupersededByNewNavigation)this.navigated=!0;else if(De instanceof Er)this.navigated=!0;else if(De instanceof fr){const on=De.navigationBehaviorOptions,_n=this.urlHandlingStrategy.merge(De.url,nt.currentRawUrl),Xt={browserUrl:nt.extras.browserUrl,info:nt.extras.info,skipLocationChange:nt.extras.skipLocationChange,replaceUrl:nt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||xr(nt.source),...on};this.scheduleNavigation(_n,Dr,null,Xt,{resolve:nt.resolve,reject:nt.reject,promise:nt.promise})}(function xa(oe){return!(oe instanceof Qt||oe instanceof fr)})(De)&&this._events.next(De)}catch(nt){this.navigationTransitions.transitionAbortSubject.next(nt)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dr,this.stateManager.restoredState())}setUpLocationChangeListener(){var de;null!==(de=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==de||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((De,nt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(De,"popstate",nt)},0)}))}navigateToSyncWithBrowser(de,De,nt){const ct={replaceUrl:!0},on=null!=nt&&nt.navigationId?nt:null;if(nt){const Xt={...nt};delete Xt.navigationId,delete Xt.\u0275routerPageId,0!==Object.keys(Xt).length&&(ct.state=Xt)}const _n=this.parseUrl(de);this.scheduleNavigation(_n,De,on,ct)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(Io),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,De={}){const{relativeTo:nt,queryParams:ct,fragment:on,queryParamsHandling:_n,preserveFragment:Xt}=De,Pn=Xt?this.currentUrlTree.fragment:on;let hr,qn=null;switch(_n){case"merge":qn={...this.currentUrlTree.queryParams,...ct};break;case"preserve":qn=this.currentUrlTree.queryParams;break;default:qn=ct||null}null!==qn&&(qn=this.removeEmptyProps(qn));try{hr=V(nt?nt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),hr=this.currentUrlTree.root}return Z(hr,de,qn,null!=Pn?Pn:null)}navigateByUrl(de,De={skipLocationChange:!1}){const nt=T(de)?de:this.parseUrl(de),ct=this.urlHandlingStrategy.merge(nt,this.rawUrlTree);return this.scheduleNavigation(ct,Dr,null,De)}navigate(de,De={skipLocationChange:!1}){return function Hs(oe){for(let he=0;he<oe.length;he++)if(null==oe[he])throw new O.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,De),De)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,De){let nt;if(nt=!0===De?{...Wi}:!1===De?{...Li}:De,T(de))return Bt(this.currentUrlTree,de,nt);const ct=this.parseUrl(de);return Bt(this.currentUrlTree,ct,nt)}removeEmptyProps(de){return Object.entries(de).reduce((De,[nt,ct])=>(null!=ct&&(De[nt]=ct),De),{})}scheduleNavigation(de,De,nt,ct,on){if(this.disposed)return Promise.resolve(!1);let _n,Xt,Pn;on?(_n=on.resolve,Xt=on.reject,Pn=on.promise):Pn=new Promise((hr,er)=>{_n=hr,Xt=er});const qn=this.pendingTasks.add();return zi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(qn))}),this.navigationTransitions.handleNavigationRequest({source:De,restoredState:nt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:ct,resolve:_n,reject:Xt,promise:Pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pn.catch(hr=>Promise.reject(hr))}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})(),Da=(()=>{var oe;class he{constructor(de,De,nt,ct,on,_n){var Xt;this.router=de,this.route=De,this.tabIndexAttribute=nt,this.renderer=ct,this.el=on,this.locationStrategy=_n,this.href=null,this.onChanges=new d.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Pn=null===(Xt=on.nativeElement.tagName)||void 0===Xt?void 0:Xt.toLowerCase();this.isAnchorElement="a"===Pn||"area"===Pn,this.isAnchorElement?this.subscription=de.events.subscribe(qn=>{qn instanceof Er&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=T(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,De,nt,ct,on){const _n=this.urlTree;return!!(null===_n||this.isAnchorElement&&(0!==de||De||nt||ct||on||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(_n,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var de;null===(de=this.subscription)||void 0===de||de.unsubscribe()}updateHref(){var de;const De=this.urlTree;this.href=null!==De&&this.locationStrategy?null===(de=this.locationStrategy)||void 0===de?void 0:de.prepareExternalUrl(this.router.serializeUrl(De)):null;const nt=null===this.href?null:(0,O.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",nt)}applyAttributeValue(de,De){const nt=this.renderer,ct=this.el.nativeElement;null!==De?nt.setAttribute(ct,de,De):nt.removeAttribute(ct,de)}get urlTree(){return null===this.routerLinkInput?null:T(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(oe=he).\u0275fac=function(de){return new(de||oe)(O.rXU(co),O.rXU(Fn),O.kS0("tabindex"),O.rXU(O.sFG),O.rXU(O.aKT),O.rXU(u.hb))},oe.\u0275dir=O.FsC({type:oe,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(de,De){1&de&&O.bIt("click",function(ct){return De.onClick(ct.button,ct.ctrlKey,ct.shiftKey,ct.altKey,ct.metaKey)}),2&de&&O.BMQ("target",De.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",O.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",O.L39],replaceUrl:[2,"replaceUrl","replaceUrl",O.L39],routerLink:"routerLink"},standalone:!0,features:[O.GFd,O.OA$]}),he})();class zo{}let Os=(()=>{var oe;class he{preload(de,De){return De().pipe(G(()=>(0,ie.of)(null)))}}return(oe=he).\u0275fac=function(de){return new(de||oe)},oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})(),Ta=(()=>{var oe;class he{constructor(de,De,nt,ct,on){this.router=de,this.injector=nt,this.preloadingStrategy=ct,this.loader=on}setUpPreloading(){this.subscription=this.router.events.pipe((0,M.p)(de=>de instanceof Er),z(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,De){const nt=[];for(const Xt of De){var ct,on;Xt.providers&&!Xt._injector&&(Xt._injector=(0,O.Ol2)(Xt.providers,de,`Route: ${Xt.path}`));const Pn=null!==(ct=Xt._injector)&&void 0!==ct?ct:de,qn=null!==(on=Xt._loadedInjector)&&void 0!==on?on:Pn;var _n;(Xt.loadChildren&&!Xt._loadedRoutes&&void 0===Xt.canLoad||Xt.loadComponent&&!Xt._loadedComponent)&&nt.push(this.preloadConfig(Pn,Xt)),(Xt.children||Xt._loadedRoutes)&&nt.push(this.processRoutes(qn,null!==(_n=Xt.children)&&void 0!==_n?_n:Xt._loadedRoutes))}return(0,o.H)(nt).pipe((0,qe.U)())}preloadConfig(de,De){return this.preloadingStrategy.preload(De,()=>{let nt;nt=De.loadChildren&&void 0===De.canLoad?this.loader.loadChildren(de,De):(0,ie.of)(null);const ct=nt.pipe((0,A.Z)(on=>{var _n;return null===on?(0,ie.of)(void 0):(De._loadedRoutes=on.routes,De._loadedInjector=on.injector,this.processRoutes(null!==(_n=on.injector)&&void 0!==_n?_n:de,on.routes))}));if(De.loadComponent&&!De._loadedComponent){const on=this.loader.loadComponent(De);return(0,o.H)([ct,on]).pipe((0,qe.U)())}return ct})}}return(oe=he).\u0275fac=function(de){return new(de||oe)(O.KVO(co),O.KVO(O.Ql9),O.KVO(O.uvJ),O.KVO(zo),O.KVO(Sl))},oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),he})();const js=new O.nKC("");let Aa=(()=>{var oe;class he{constructor(de,De,nt,ct,on={}){this.urlSerializer=de,this.transitions=De,this.viewportScroller=nt,this.zone=ct,this.options=on,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},on.scrollPositionRestoration||(on.scrollPositionRestoration="disabled"),on.anchorScrolling||(on.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof Er?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof wo&&de.code===To.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof vt&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,De){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vt(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,De))})},0)})}ngOnDestroy(){var de,De;null===(de=this.routerEventsSubscription)||void 0===de||de.unsubscribe(),null===(De=this.scrollEventsSubscription)||void 0===De||De.unsubscribe()}}return(oe=he).\u0275fac=function(de){O.QTQ()},oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac}),he})();function Xi(oe,he){return{\u0275kind:oe,\u0275providers:he}}function Dl(){const oe=(0,O.WQX)(O.zZn);return he=>{var Ce,de;const De=oe.get(O.o8S);if(he!==De.components[0])return;const nt=oe.get(co),ct=oe.get(Ci);1===oe.get(Cr)&&nt.initialNavigation(),null===(Ce=oe.get(Ws,null,O.$GK.Optional))||void 0===Ce||Ce.setUpPreloading(),null===(de=oe.get(js,null,O.$GK.Optional))||void 0===de||de.init(),nt.resetRootComponentType(De.componentTypes[0]),ct.closed||(ct.next(),ct.complete(),ct.unsubscribe())}}const Ci=new O.nKC("",{factory:()=>new d.B}),Cr=new O.nKC("",{providedIn:"root",factory:()=>1}),Ws=new O.nKC("");function Ma(oe){return Xi(0,[{provide:Ws,useExisting:Ta},{provide:zo,useExisting:oe}])}function Ku(oe){return Xi(9,[{provide:it,useValue:gn},{provide:It,useValue:{skipNextTransition:!(null==oe||!oe.skipInitialTransition),...oe}}])}const Ps=new O.nKC("ROUTER_FORROOT_GUARD"),qu=[u.aZ,{provide:Wt,useClass:Tt},co,Mt,{provide:Fn,useFactory:function xl(oe){return oe.routerState.root},deps:[co]},Sl,[]];let Yu=(()=>{var oe;class he{constructor(de){}static forRoot(de,De){return{ngModule:he,providers:[qu,[],{provide:di,multi:!0,useValue:de},{provide:Ps,useFactory:Kd,deps:[[co,new O.Xx1,new O.kdw]]},{provide:Hi,useValue:De||{}},null!=De&&De.useHash?{provide:u.hb,useClass:u.fw}:{provide:u.hb,useClass:u.Sm},{provide:js,useFactory:()=>{const oe=(0,O.WQX)(u.Xr),he=(0,O.WQX)(O.SKi),Ce=(0,O.WQX)(Hi),de=(0,O.WQX)(ir),De=(0,O.WQX)(Wt);return Ce.scrollOffset&&oe.setOffset(Ce.scrollOffset),new Aa(De,de,oe,he,Ce)}},null!=De&&De.preloadingStrategy?Ma(De.preloadingStrategy).\u0275providers:[],null!=De&&De.initialNavigation?Si(De):[],null!=De&&De.bindToComponentInputs?Xi(8,[Oi,{provide:Rr,useExisting:Oi}]).\u0275providers:[],null!=De&&De.enableViewTransitions?Ku().\u0275providers:[],[{provide:Ju,useFactory:Dl},{provide:O.iLQ,multi:!0,useExisting:Ju}]]}}static forChild(de){return{ngModule:he,providers:[{provide:di,multi:!0,useValue:de}]}}}return(oe=he).\u0275fac=function(de){return new(de||oe)(O.KVO(Ps,8))},oe.\u0275mod=O.$C({type:oe}),oe.\u0275inj=O.G2t({}),he})();function Kd(oe){return"guarded"}function Si(oe){return["disabled"===oe.initialNavigation?Xi(3,[{provide:O.hnV,multi:!0,useFactory:()=>{const he=(0,O.WQX)(co);return()=>{he.setUpLocationChangeListener()}}},{provide:Cr,useValue:2}]).\u0275providers:[],"enabledBlocking"===oe.initialNavigation?Xi(2,[{provide:Cr,useValue:0},{provide:O.hnV,multi:!0,deps:[O.zZn],useFactory:he=>{const Ce=he.get(u.hj,Promise.resolve());return()=>Ce.then(()=>new Promise(de=>{const De=he.get(co),nt=he.get(Ci);zi(De,()=>{de(!0)}),he.get(ir).afterPreactivation=()=>(de(!0),nt.closed?(0,ie.of)(void 0):nt),De.initialNavigation()}))}}]).\u0275providers:[]]}const Ju=new O.nKC("")},3656:(En,qt,me)=>{"use strict";me.d(qt,{Yq:()=>Ct,TS:()=>Je,sR:()=>ot,el:()=>Tn,Sb:()=>Wt,QE:()=>D,CF:()=>Ke,Rg:()=>Jt,p4:()=>T,jM:()=>Ne,q9:()=>st,y8:()=>yt,Kb:()=>ut,OD:()=>qe,CE:()=>Gn,pF:()=>W,fL:()=>V,YV:()=>bn,er:()=>L,z3:()=>Z});var O=me(467),I=me(9842),pe=me(3953),mt=me(9858),o=me(177),ie=me(5531),$=me(4442);var j=me(1413),N=me(3726),k=me(4412),J=me(4572),ne=me(7673),z=me(1635),ee=me(5964),H=me(5558),G=me(3669),K=me(9974),le=me(4360);function Y(Ee,Ue){return Ee===Ue}var P=me(4341);const re=["tabsInner"];let qe=(()=>{var Ee;class Ue{constructor(He,bt){(0,I.A)(this,"doc",void 0),(0,I.A)(this,"_readyPromise",void 0),(0,I.A)(this,"win",void 0),(0,I.A)(this,"backButton",new j.B),(0,I.A)(this,"keyboardDidShow",new j.B),(0,I.A)(this,"keyboardDidHide",new j.B),(0,I.A)(this,"pause",new j.B),(0,I.A)(this,"resume",new j.B),(0,I.A)(this,"resize",new j.B),this.doc=He,bt.run(()=>{var Ut;let an;this.win=He.defaultView,this.backButton.subscribeWithPriority=function(hn,An){return this.subscribe(Bn=>Bn.register(hn,Qn=>bt.run(()=>An(Qn))))},ze(this.pause,He,"pause",bt),ze(this.resume,He,"resume",bt),ze(this.backButton,He,"ionBackButton",bt),ze(this.resize,this.win,"resize",bt),ze(this.keyboardDidShow,this.win,"ionKeyboardDidShow",bt),ze(this.keyboardDidHide,this.win,"ionKeyboardDidHide",bt),this._readyPromise=new Promise(hn=>{an=hn}),null!==(Ut=this.win)&&void 0!==Ut&&Ut.cordova?He.addEventListener("deviceready",()=>{an("cordova")},{once:!0}):an("dom")})}is(He){return(0,ie.a)(this.win,He)}platforms(){return(0,ie.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(He){return ht(this.win.location.href,He)}isLandscape(){return!this.isPortrait()}isPortrait(){var He,bt;return null===(He=(bt=this.win).matchMedia)||void 0===He?void 0:He.call(bt,"(orientation: portrait)").matches}testUserAgent(He){const bt=this.win.navigator;return!!(null!=bt&&bt.userAgent&&bt.userAgent.indexOf(He)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return Ee=Ue,(0,I.A)(Ue,"\u0275fac",function(He){return new(He||Ee)(pe.KVO(o.qQ),pe.KVO(pe.SKi))}),(0,I.A)(Ue,"\u0275prov",pe.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})),Ue})();const ht=(Ee,Ue)=>{Ue=Ue.replace(/[[\]\\]/g,"\\$&");const He=new RegExp("[\\?&]"+Ue+"=([^&#]*)").exec(Ee);return He?decodeURIComponent(He[1].replace(/\+/g," ")):null},ze=(Ee,Ue,at,He)=>{Ue&&Ue.addEventListener(at,bt=>{He.run(()=>{Ee.next(null!=bt?bt.detail:void 0)})})};let st=(()=>{var Ee;class Ue{constructor(He,bt,Ut,an){(0,I.A)(this,"location",void 0),(0,I.A)(this,"serializer",void 0),(0,I.A)(this,"router",void 0),(0,I.A)(this,"topOutlet",void 0),(0,I.A)(this,"direction",Be),(0,I.A)(this,"animated",Qe),(0,I.A)(this,"animationBuilder",void 0),(0,I.A)(this,"guessDirection","forward"),(0,I.A)(this,"guessAnimation",void 0),(0,I.A)(this,"lastNavId",-1),this.location=bt,this.serializer=Ut,this.router=an,an&&an.events.subscribe(hn=>{if(hn instanceof mt.Z){const An=hn.restoredState?hn.restoredState.navigationId:hn.id;this.guessDirection=this.guessAnimation=An<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?hn.id:An}}),He.backButton.subscribeWithPriority(0,hn=>{this.pop(),hn()})}navigateForward(He,bt={}){return this.setDirection("forward",bt.animated,bt.animationDirection,bt.animation),this.navigate(He,bt)}navigateBack(He,bt={}){return this.setDirection("back",bt.animated,bt.animationDirection,bt.animation),this.navigate(He,bt)}navigateRoot(He,bt={}){return this.setDirection("root",bt.animated,bt.animationDirection,bt.animation),this.navigate(He,bt)}back(He={animated:!0,animationDirection:"back"}){return this.setDirection("back",He.animated,He.animationDirection,He.animation),this.location.back()}pop(){var He=this;return(0,O.A)(function*(){let bt=He.topOutlet;for(;bt;){if(yield bt.pop())return!0;bt=bt.parentOutlet}return!1})()}setDirection(He,bt,Ut,an){this.direction=He,this.animated=lt(He,bt,Ut),this.animationBuilder=an}setTopOutlet(He){this.topOutlet=He}consumeTransition(){let bt,He="root";const Ut=this.animationBuilder;return"auto"===this.direction?(He=this.guessDirection,bt=this.guessAnimation):(bt=this.animated,He=this.direction),this.direction=Be,this.animated=Qe,this.animationBuilder=void 0,{direction:He,animation:bt,animationBuilder:Ut}}navigate(He,bt){if(Array.isArray(He))return this.router.navigate(He,bt);{const Ut=this.serializer.parse(He.toString());return void 0!==bt.queryParams&&(Ut.queryParams={...bt.queryParams}),void 0!==bt.fragment&&(Ut.fragment=bt.fragment),this.router.navigateByUrl(Ut,bt)}}}return Ee=Ue,(0,I.A)(Ue,"\u0275fac",function(He){return new(He||Ee)(pe.KVO(qe),pe.KVO(o.aZ),pe.KVO(mt.Sd),pe.KVO(mt.Ix,8))}),(0,I.A)(Ue,"\u0275prov",pe.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})),Ue})();const lt=(Ee,Ue,at)=>{if(!1!==Ue){if(void 0!==at)return at;if("forward"===Ee||"back"===Ee)return Ee;if("root"===Ee&&!0===Ue)return"forward"}},Be="auto",Qe=void 0;let Je=(()=>{var Ee;class Ue{get(He,bt){const Ut=Ze();return Ut?Ut.get(He,bt):null}getBoolean(He,bt){const Ut=Ze();return!!Ut&&Ut.getBoolean(He,bt)}getNumber(He,bt){const Ut=Ze();return Ut?Ut.getNumber(He,bt):0}}return Ee=Ue,(0,I.A)(Ue,"\u0275fac",function(He){return new(He||Ee)}),(0,I.A)(Ue,"\u0275prov",pe.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})),Ue})();const ot=new pe.nKC("USERCONFIG"),Ze=()=>{if(typeof window<"u"){const Ee=window.Ionic;if(null!=Ee&&Ee.config)return Ee.config}return null};class yt{constructor(Ue={}){(0,I.A)(this,"data",void 0),this.data=Ue,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(Ue){return this.data[Ue]}}let Ct=(()=>{var Ee;class Ue{constructor(){(0,I.A)(this,"zone",(0,pe.WQX)(pe.SKi)),(0,I.A)(this,"applicationRef",(0,pe.WQX)(pe.o8S)),(0,I.A)(this,"config",(0,pe.WQX)(ot))}create(He,bt,Ut){var an;return new sn(He,bt,this.applicationRef,this.zone,Ut,null!==(an=this.config.useSetInputAPI)&&void 0!==an&&an)}}return Ee=Ue,(0,I.A)(Ue,"\u0275fac",function(He){return new(He||Ee)}),(0,I.A)(Ue,"\u0275prov",pe.jDH({token:Ee,factory:Ee.\u0275fac})),Ue})();class sn{constructor(Ue,at,He,bt,Ut,an){(0,I.A)(this,"environmentInjector",void 0),(0,I.A)(this,"injector",void 0),(0,I.A)(this,"applicationRef",void 0),(0,I.A)(this,"zone",void 0),(0,I.A)(this,"elementReferenceKey",void 0),(0,I.A)(this,"enableSignalsSupport",void 0),(0,I.A)(this,"elRefMap",new WeakMap),(0,I.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=Ue,this.injector=at,this.applicationRef=He,this.zone=bt,this.elementReferenceKey=Ut,this.enableSignalsSupport=an}attachViewToDom(Ue,at,He,bt){return this.zone.run(()=>new Promise(Ut=>{const an={...He};void 0!==this.elementReferenceKey&&(an[this.elementReferenceKey]=Ue),Ut($t(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Ue,at,an,bt,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(Ue,at){return this.zone.run(()=>new Promise(He=>{const bt=this.elRefMap.get(at);if(bt){bt.destroy(),this.elRefMap.delete(at);const Ut=this.elEventsMap.get(at);Ut&&(Ut(),this.elEventsMap.delete(at))}He()}))}}const $t=(Ee,Ue,at,He,bt,Ut,an,hn,An,Bn,Qn,Ar)=>{const Dr=pe.zZn.create({providers:Yt(An),parent:at}),Jn=(0,pe.a0P)(hn,{environmentInjector:Ue,elementInjector:Dr}),yr=Jn.instance,Vr=Jn.location.nativeElement;if(An)if(Qn&&void 0!==yr[Qn]&&console.error(`[Ionic Error]: ${Qn} is a reserved property when using ${an.tagName.toLowerCase()}. Rename or remove the "${Qn}" property from ${hn.name}.`),!0===Ar&&void 0!==Jn.setInput){const{modal:Lr,popover:To,...eo}=An;for(const wo in eo)Jn.setInput(wo,eo[wo]);void 0!==Lr&&Object.assign(yr,{modal:Lr}),void 0!==To&&Object.assign(yr,{popover:To})}else Object.assign(yr,An);if(Bn)for(const Lr of Bn)Vr.classList.add(Lr);const Er=Bt(Ee,yr,Vr);return an.appendChild(Vr),He.attachView(Jn.hostView),bt.set(Vr,Jn),Ut.set(Vr,Er),Vr},un=[$.L,$.a,$.b,$.c,$.d],Bt=(Ee,Ue,at)=>Ee.run(()=>{const He=un.filter(bt=>"function"==typeof Ue[bt]).map(bt=>{const Ut=an=>Ue[bt](an.detail);return at.addEventListener(bt,Ut),()=>at.removeEventListener(bt,Ut)});return()=>He.forEach(bt=>bt())}),mn=new pe.nKC("NavParamsToken"),Yt=Ee=>[{provide:mn,useValue:Ee},{provide:yt,useFactory:fn,deps:[mn]}],fn=Ee=>new yt(Ee),Ot=(Ee,Ue)=>{const at=Ee.prototype;Ue.forEach(He=>{Object.defineProperty(at,He,{get(){return this.el[He]},set(bt){this.z.runOutsideAngular(()=>this.el[He]=bt)}})})},ln=(Ee,Ue)=>{const at=Ee.prototype;Ue.forEach(He=>{at[He]=function(){const bt=arguments;return this.z.runOutsideAngular(()=>this.el[He].apply(this.el,bt))}})},Vt=(Ee,Ue,at)=>{at.forEach(He=>Ee[He]=(0,N.R)(Ue,He))};function Ve(Ee){return function(at){const{defineCustomElementFn:He,inputs:bt,methods:Ut}=Ee;return void 0!==He&&He(),bt&&Ot(at,bt),Ut&&ln(at,Ut),at}}const Xe=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Ae=["present","dismiss","onDidDismiss","onWillDismiss"];let Ke=(()=>{var Ee;let Ue=((0,I.A)(Ee=class{constructor(He,bt,Ut){(0,I.A)(this,"z",void 0),(0,I.A)(this,"template",void 0),(0,I.A)(this,"isCmpOpen",!1),(0,I.A)(this,"el",void 0),this.z=Ut,this.el=bt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,He.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,He.detectChanges()}),Vt(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(He){return new(He||Ee)(pe.rXU(pe.gRc),pe.rXU(pe.aKT),pe.rXU(pe.SKi))}),(0,I.A)(Ee,"\u0275dir",pe.FsC({type:Ee,selectors:[["ion-popover"]],contentQueries:function(He,bt,Ut){if(1&He&&pe.wni(Ut,pe.C4Q,5),2&He){let an;pe.mGM(an=pe.lsd())&&(bt.template=an.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),Ee);return Ue=(0,z.Cg)([Ve({inputs:Xe,methods:Ae})],Ue),Ue})();const _t=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Ft=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Wt=(()=>{var Ee;let Ue=((0,I.A)(Ee=class{constructor(He,bt,Ut){(0,I.A)(this,"z",void 0),(0,I.A)(this,"template",void 0),(0,I.A)(this,"isCmpOpen",!1),(0,I.A)(this,"el",void 0),this.z=Ut,this.el=bt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,He.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,He.detectChanges()}),Vt(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(He){return new(He||Ee)(pe.rXU(pe.gRc),pe.rXU(pe.aKT),pe.rXU(pe.SKi))}),(0,I.A)(Ee,"\u0275dir",pe.FsC({type:Ee,selectors:[["ion-modal"]],contentQueries:function(He,bt,Ut){if(1&He&&pe.wni(Ut,pe.C4Q,5),2&He){let an;pe.mGM(an=pe.lsd())&&(bt.template=an.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),Ee);return Ue=(0,z.Cg)([Ve({inputs:_t,methods:Ft})],Ue),Ue})();const Gt=(Ee,Ue)=>((Ee=Ee.filter(at=>at.stackId!==Ue.stackId)).push(Ue),Ee),pt=(Ee,Ue)=>{const at=Ee.createUrlTree(["."],{relativeTo:Ue});return Ee.serializeUrl(at)},tt=(Ee,Ue)=>!Ue||Ee.stackId!==Ue.stackId,At=(Ee,Ue)=>{if(!Ee)return;const at=gt(Ue);for(let He=0;He<at.length;He++){if(He>=Ee.length)return at[He];if(at[He]!==Ee[He])return}},gt=Ee=>Ee.split("/").map(Ue=>Ue.trim()).filter(Ue=>""!==Ue),Rt=Ee=>{Ee&&(Ee.ref.destroy(),Ee.unlistenEvents())};class cn{constructor(Ue,at,He,bt,Ut,an){(0,I.A)(this,"containerEl",void 0),(0,I.A)(this,"router",void 0),(0,I.A)(this,"navCtrl",void 0),(0,I.A)(this,"zone",void 0),(0,I.A)(this,"location",void 0),(0,I.A)(this,"views",[]),(0,I.A)(this,"runningTask",void 0),(0,I.A)(this,"skipTransition",!1),(0,I.A)(this,"tabsPrefix",void 0),(0,I.A)(this,"activeView",void 0),(0,I.A)(this,"nextId",0),this.containerEl=at,this.router=He,this.navCtrl=bt,this.zone=Ut,this.location=an,this.tabsPrefix=void 0!==Ue?gt(Ue):void 0}createView(Ue,at){var He;const bt=pt(this.router,at),Ut=null==Ue||null===(He=Ue.location)||void 0===He?void 0:He.nativeElement,an=Bt(this.zone,Ue.instance,Ut);return{id:this.nextId++,stackId:At(this.tabsPrefix,bt),unlistenEvents:an,element:Ut,ref:Ue,url:bt}}getExistingView(Ue){const at=pt(this.router,Ue),He=this.views.find(bt=>bt.url===at);return He&&He.ref.changeDetectorRef.reattach(),He}setActive(Ue){var at,He;const bt=this.navCtrl.consumeTransition();let{direction:Ut,animation:an,animationBuilder:hn}=bt;const An=this.activeView,Bn=tt(Ue,An);Bn&&(Ut="back",an=void 0);const Qn=this.views.slice();let Ar;const Dr=this.router;Dr.getCurrentNavigation?Ar=Dr.getCurrentNavigation():null!==(at=Dr.navigations)&&void 0!==at&&at.value&&(Ar=Dr.navigations.value),null!==(He=Ar)&&void 0!==He&&null!==(He=He.extras)&&void 0!==He&&He.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Jn=this.views.includes(Ue),yr=this.insertView(Ue,Ut);Jn||Ue.ref.changeDetectorRef.detectChanges();const Vr=Ue.animationBuilder;return void 0===hn&&"back"===Ut&&!Bn&&void 0!==Vr&&(hn=Vr),An&&(An.animationBuilder=hn),this.zone.runOutsideAngular(()=>this.wait(()=>(An&&An.ref.changeDetectorRef.detach(),Ue.ref.changeDetectorRef.reattach(),this.transition(Ue,An,an,this.canGoBack(1),!1,hn).then(()=>ft(Ue,yr,Qn,this.location,this.zone)).then(()=>({enteringView:Ue,direction:Ut,animation:an,tabSwitch:Bn})))))}canGoBack(Ue,at=this.getActiveStackId()){return this.getStack(at).length>Ue}pop(Ue,at=this.getActiveStackId()){return this.zone.run(()=>{const He=this.getStack(at);if(He.length<=Ue)return Promise.resolve(!1);const bt=He[He.length-Ue-1];let Ut=bt.url;const an=bt.savedData;if(an){var hn;const Bn=an.get("primary");null!=Bn&&null!==(hn=Bn.route)&&void 0!==hn&&null!==(hn=hn._routerState)&&void 0!==hn&&hn.snapshot.url&&(Ut=Bn.route._routerState.snapshot.url)}const{animationBuilder:An}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ut,{...bt.savedExtras,animation:An}).then(()=>!0)})}startBackTransition(){const Ue=this.activeView;if(Ue){const at=this.getStack(Ue.stackId),He=at[at.length-2],bt=He.animationBuilder;return this.wait(()=>this.transition(He,Ue,"back",this.canGoBack(2),!0,bt))}return Promise.resolve()}endBackTransition(Ue){Ue?(this.skipTransition=!0,this.pop(1)):this.activeView&&xt(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Ue){const at=this.getStack(Ue);return at.length>0?at[at.length-1]:void 0}getRootUrl(Ue){const at=this.getStack(Ue);return at.length>0?at[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Rt),this.activeView=void 0,this.views=[]}getStack(Ue){return this.views.filter(at=>at.stackId===Ue)}insertView(Ue,at){return this.activeView=Ue,this.views=((Ee,Ue,at)=>"root"===at?Gt(Ee,Ue):"forward"===at?((Ee,Ue)=>(Ee.indexOf(Ue)>=0?Ee=Ee.filter(He=>He.stackId!==Ue.stackId||He.id<=Ue.id):Ee.push(Ue),Ee))(Ee,Ue):((Ee,Ue)=>Ee.indexOf(Ue)>=0?Ee.filter(He=>He.stackId!==Ue.stackId||He.id<=Ue.id):Gt(Ee,Ue))(Ee,Ue))(this.views,Ue,at),this.views.slice()}transition(Ue,at,He,bt,Ut,an){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(at===Ue)return Promise.resolve(!1);const hn=Ue?Ue.element:void 0,An=at?at.element:void 0,Bn=this.containerEl;return hn&&hn!==An&&(hn.classList.add("ion-page"),hn.classList.add("ion-page-invisible"),Bn.commit)?Bn.commit(hn,An,{duration:void 0===He?0:void 0,direction:He,showGoBack:bt,progressAnimation:Ut,animationBuilder:an}):Promise.resolve(!1)}wait(Ue){var at=this;return(0,O.A)(function*(){void 0!==at.runningTask&&(yield at.runningTask,at.runningTask=void 0);const He=at.runningTask=Ue();return He.finally(()=>at.runningTask=void 0),He})()}}const ft=(Ee,Ue,at,He,bt)=>"function"==typeof requestAnimationFrame?new Promise(Ut=>{requestAnimationFrame(()=>{xt(Ee,Ue,at,He,bt),Ut()})}):Promise.resolve(),xt=(Ee,Ue,at,He,bt)=>{bt.run(()=>at.filter(Ut=>!Ue.includes(Ut)).forEach(Rt)),Ue.forEach(Ut=>{const hn=He.path().split("?")[0].split("#")[0];if(Ut!==Ee&&Ut.url!==hn){const An=Ut.element;An.setAttribute("aria-hidden","true"),An.classList.add("ion-page-hidden"),Ut.ref.changeDetectorRef.detach()}})};let Jt=(()=>{var Ee;class Ue{get activatedComponentRef(){return this.activated}set animation(He){this.nativeEl.animation=He}set animated(He){this.nativeEl.animated=He}set swipeGesture(He){this._swipeGesture=He,this.nativeEl.swipeHandler=He?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:bt=>this.stackCtrl.endBackTransition(bt)}:void 0}constructor(He,bt,Ut,an,hn,An,Bn,Qn){(0,I.A)(this,"parentOutlet",void 0),(0,I.A)(this,"nativeEl",void 0),(0,I.A)(this,"activatedView",null),(0,I.A)(this,"tabsPrefix",void 0),(0,I.A)(this,"_swipeGesture",void 0),(0,I.A)(this,"stackCtrl",void 0),(0,I.A)(this,"proxyMap",new WeakMap),(0,I.A)(this,"currentActivatedRoute$",new k.t(null)),(0,I.A)(this,"activated",null),(0,I.A)(this,"_activatedRoute",null),(0,I.A)(this,"name",mt.Xk),(0,I.A)(this,"stackWillChange",new pe.bkB),(0,I.A)(this,"stackDidChange",new pe.bkB),(0,I.A)(this,"activateEvents",new pe.bkB),(0,I.A)(this,"deactivateEvents",new pe.bkB),(0,I.A)(this,"parentContexts",(0,pe.WQX)(mt.Zp)),(0,I.A)(this,"location",(0,pe.WQX)(pe.c1b)),(0,I.A)(this,"environmentInjector",(0,pe.WQX)(pe.uvJ)),(0,I.A)(this,"inputBinder",(0,pe.WQX)(rn,{optional:!0})),(0,I.A)(this,"supportsBindingToComponentInputs",!0),(0,I.A)(this,"config",(0,pe.WQX)(Je)),(0,I.A)(this,"navCtrl",(0,pe.WQX)(st)),this.parentOutlet=Qn,this.nativeEl=an.nativeElement,this.name=He||mt.Xk,this.tabsPrefix="true"===bt?pt(hn,Bn):void 0,this.stackCtrl=new cn(this.tabsPrefix,this.nativeEl,hn,this.navCtrl,An,Ut),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var He;this.stackCtrl.destroy(),null===(He=this.inputBinder)||void 0===He||He.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const He=this.getContext();null!=He&&He.route&&this.activateWith(He.route,He.injector)}new Promise(He=>((Ee,Ue)=>{Ee.componentOnReady?Ee.componentOnReady().then(at=>Ue(at)):(Ee=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ee):setTimeout(Ee)})(()=>Ue(Ee))})(this.nativeEl,He)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(He,bt){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const bt=this.getContext();this.activatedView.savedData=new Map(bt.children.contexts);const Ut=this.activatedView.savedData.get("primary");if(Ut&&bt.route&&(Ut.route={...bt.route}),this.activatedView.savedExtras={},bt.route){const an=bt.route.snapshot;this.activatedView.savedExtras.queryParams=an.queryParams,this.activatedView.savedExtras.fragment=an.fragment}}const He=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(He)}}activateWith(He,bt){var Ut;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=He;let an,hn=this.stackCtrl.getExistingView(He);if(hn){an=this.activated=hn.ref;const Qn=hn.savedData;Qn&&(this.getContext().children.contexts=Qn),this.updateActivatedRouteProxy(an.instance,He)}else{var An;const Qn=He._futureSnapshot,Ar=this.parentContexts.getOrCreateContext(this.name).children,Dr=new k.t(null),Jn=this.createActivatedRouteProxy(Dr,He),yr=new Nt(Jn,Ar,this.location.injector),Vr=null!==(An=Qn.routeConfig.component)&&void 0!==An?An:Qn.component;an=this.activated=this.outletContent.createComponent(Vr,{index:this.outletContent.length,injector:yr,environmentInjector:null!=bt?bt:this.environmentInjector}),Dr.next(an.instance),hn=this.stackCtrl.createView(this.activated,He),this.proxyMap.set(an.instance,Jn),this.currentActivatedRoute$.next({component:an.instance,activatedRoute:He})}null===(Ut=this.inputBinder)||void 0===Ut||Ut.bindActivatedRouteToOutletComponent(this),this.activatedView=hn,this.navCtrl.setTopOutlet(this);const Bn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:hn,tabSwitch:tt(hn,Bn)}),this.stackCtrl.setActive(hn).then(Qn=>{this.activateEvents.emit(an.instance),this.stackDidChange.emit(Qn)})}canGoBack(He=1,bt){return this.stackCtrl.canGoBack(He,bt)}pop(He=1,bt){return this.stackCtrl.pop(He,bt)}getLastUrl(He){const bt=this.stackCtrl.getLastUrl(He);return bt?bt.url:void 0}getLastRouteView(He){return this.stackCtrl.getLastUrl(He)}getRootView(He){return this.stackCtrl.getRootUrl(He)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(He,bt){const Ut=new mt.nX;return Ut._futureSnapshot=bt._futureSnapshot,Ut._routerState=bt._routerState,Ut.snapshot=bt.snapshot,Ut.outlet=bt.outlet,Ut.component=bt.component,Ut._paramMap=this.proxyObservable(He,"paramMap"),Ut._queryParamMap=this.proxyObservable(He,"queryParamMap"),Ut.url=this.proxyObservable(He,"url"),Ut.params=this.proxyObservable(He,"params"),Ut.queryParams=this.proxyObservable(He,"queryParams"),Ut.fragment=this.proxyObservable(He,"fragment"),Ut.data=this.proxyObservable(He,"data"),Ut}proxyObservable(He,bt){return He.pipe((0,ee.p)(Ut=>!!Ut),(0,H.n)(Ut=>this.currentActivatedRoute$.pipe((0,ee.p)(an=>null!==an&&an.component===Ut),(0,H.n)(an=>an&&an.activatedRoute[bt]),function Oe(Ee,Ue=G.D){return Ee=null!=Ee?Ee:Y,(0,K.N)((at,He)=>{let bt,Ut=!0;at.subscribe((0,le._)(He,an=>{const hn=Ue(an);(Ut||!Ee(bt,hn))&&(Ut=!1,bt=hn,He.next(an))}))})}())))}updateActivatedRouteProxy(He,bt){const Ut=this.proxyMap.get(He);if(!Ut)throw new Error("Could not find activated route proxy for view");Ut._futureSnapshot=bt._futureSnapshot,Ut._routerState=bt._routerState,Ut.snapshot=bt.snapshot,Ut.outlet=bt.outlet,Ut.component=bt.component,this.currentActivatedRoute$.next({component:He,activatedRoute:bt})}}return Ee=Ue,(0,I.A)(Ue,"\u0275fac",function(He){return new(He||Ee)(pe.kS0("name"),pe.kS0("tabs"),pe.rXU(o.aZ),pe.rXU(pe.aKT),pe.rXU(mt.Ix),pe.rXU(pe.SKi),pe.rXU(mt.nX),pe.rXU(Ee,12))}),(0,I.A)(Ue,"\u0275dir",pe.FsC({type:Ee,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),Ue})();class Nt{constructor(Ue,at,He){(0,I.A)(this,"route",void 0),(0,I.A)(this,"childContexts",void 0),(0,I.A)(this,"parent",void 0),this.route=Ue,this.childContexts=at,this.parent=He}get(Ue,at){return Ue===mt.nX?this.route:Ue===mt.Zp?this.childContexts:this.parent.get(Ue,at)}}const rn=new pe.nKC("");let pn=(()=>{var Ee;class Ue{constructor(){(0,I.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(He){this.unsubscribeFromRouteData(He),this.subscribeToRouteData(He)}unsubscribeFromRouteData(He){var bt;null===(bt=this.outletDataSubscriptions.get(He))||void 0===bt||bt.unsubscribe(),this.outletDataSubscriptions.delete(He)}subscribeToRouteData(He){const{activatedRoute:bt}=He,Ut=(0,J.z)([bt.queryParams,bt.params,bt.data]).pipe((0,H.n)(([an,hn,An],Bn)=>(An={...an,...hn,...An},0===Bn?(0,ne.of)(An):Promise.resolve(An)))).subscribe(an=>{if(!He.isActivated||!He.activatedComponentRef||He.activatedRoute!==bt||null===bt.component)return void this.unsubscribeFromRouteData(He);const hn=(0,pe.HJs)(bt.component);if(hn)for(const{templateName:An}of hn.inputs)He.activatedComponentRef.setInput(An,an[An]);else this.unsubscribeFromRouteData(He)});this.outletDataSubscriptions.set(He,Ut)}}return Ee=Ue,(0,I.A)(Ue,"\u0275fac",function(He){return new(He||Ee)}),(0,I.A)(Ue,"\u0275prov",pe.jDH({token:Ee,factory:Ee.\u0275fac})),Ue})();const bn=()=>({provide:rn,useFactory:Mn,deps:[mt.Ix]});function Mn(Ee){return null!=Ee&&Ee.componentInputBindingEnabled?new pn:null}const In=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Tn=(()=>{var Ee;let Ue=((0,I.A)(Ee=class{constructor(He,bt,Ut,an,hn,An){(0,I.A)(this,"routerOutlet",void 0),(0,I.A)(this,"navCtrl",void 0),(0,I.A)(this,"config",void 0),(0,I.A)(this,"r",void 0),(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.routerOutlet=He,this.navCtrl=bt,this.config=Ut,this.r=an,this.z=hn,An.detach(),this.el=this.r.nativeElement}onClick(He){var bt;const Ut=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(bt=this.routerOutlet)&&void 0!==bt&&bt.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),He.preventDefault()):null!=Ut&&(this.navCtrl.navigateBack(Ut,{animation:this.routerAnimation}),He.preventDefault())}},"\u0275fac",function(He){return new(He||Ee)(pe.rXU(Jt,8),pe.rXU(st),pe.rXU(Je),pe.rXU(pe.aKT),pe.rXU(pe.SKi),pe.rXU(pe.gRc))}),(0,I.A)(Ee,"\u0275dir",pe.FsC({type:Ee,hostBindings:function(He,bt){1&He&&pe.bIt("click",function(an){return bt.onClick(an)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),Ee);return Ue=(0,z.Cg)([Ve({inputs:In})],Ue),Ue})(),Gn=(()=>{var Ee;class Ue{constructor(He,bt,Ut,an,hn){(0,I.A)(this,"locationStrategy",void 0),(0,I.A)(this,"navCtrl",void 0),(0,I.A)(this,"elementRef",void 0),(0,I.A)(this,"router",void 0),(0,I.A)(this,"routerLink",void 0),(0,I.A)(this,"routerDirection","forward"),(0,I.A)(this,"routerAnimation",void 0),this.locationStrategy=He,this.navCtrl=bt,this.elementRef=Ut,this.router=an,this.routerLink=hn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var He;if(null!==(He=this.routerLink)&&void 0!==He&&He.urlTree){const bt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=bt}}onClick(He){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),He.preventDefault()}}return Ee=Ue,(0,I.A)(Ue,"\u0275fac",function(He){return new(He||Ee)(pe.rXU(o.hb),pe.rXU(st),pe.rXU(pe.aKT),pe.rXU(mt.Ix),pe.rXU(mt.Wk,8))}),(0,I.A)(Ue,"\u0275dir",pe.FsC({type:Ee,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(He,bt){1&He&&pe.bIt("click",function(an){return bt.onClick(an)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[pe.OA$]})),Ue})(),W=(()=>{var Ee;class Ue{constructor(He,bt,Ut,an,hn){(0,I.A)(this,"locationStrategy",void 0),(0,I.A)(this,"navCtrl",void 0),(0,I.A)(this,"elementRef",void 0),(0,I.A)(this,"router",void 0),(0,I.A)(this,"routerLink",void 0),(0,I.A)(this,"routerDirection","forward"),(0,I.A)(this,"routerAnimation",void 0),this.locationStrategy=He,this.navCtrl=bt,this.elementRef=Ut,this.router=an,this.routerLink=hn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var He;if(null!==(He=this.routerLink)&&void 0!==He&&He.urlTree){const bt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=bt}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return Ee=Ue,(0,I.A)(Ue,"\u0275fac",function(He){return new(He||Ee)(pe.rXU(o.hb),pe.rXU(st),pe.rXU(pe.aKT),pe.rXU(mt.Ix),pe.rXU(mt.Wk,8))}),(0,I.A)(Ue,"\u0275dir",pe.FsC({type:Ee,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(He,bt){1&He&&pe.bIt("click",function(){return bt.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[pe.OA$]})),Ue})();const ve=["animated","animation","root","rootParams","swipeGesture"],je=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let D=(()=>{var Ee;let Ue=((0,I.A)(Ee=class{constructor(He,bt,Ut,an,hn,An){(0,I.A)(this,"z",void 0),(0,I.A)(this,"el",void 0),this.z=hn,An.detach(),this.el=He.nativeElement,He.nativeElement.delegate=an.create(bt,Ut),Vt(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(He){return new(He||Ee)(pe.rXU(pe.aKT),pe.rXU(pe.uvJ),pe.rXU(pe.zZn),pe.rXU(Ct),pe.rXU(pe.SKi),pe.rXU(pe.gRc))}),(0,I.A)(Ee,"\u0275dir",pe.FsC({type:Ee,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),Ee);return Ue=(0,z.Cg)([Ve({inputs:ve,methods:je})],Ue),Ue})(),T=(()=>{var Ee;class Ue{constructor(He){(0,I.A)(this,"navCtrl",void 0),(0,I.A)(this,"tabsInner",void 0),(0,I.A)(this,"ionTabsWillChange",new pe.bkB),(0,I.A)(this,"ionTabsDidChange",new pe.bkB),(0,I.A)(this,"tabBarSlot","bottom"),this.navCtrl=He}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:He,tabSwitch:bt}){const Ut=He.stackId;bt&&void 0!==Ut&&this.ionTabsWillChange.emit({tab:Ut})}onStackDidChange({enteringView:He,tabSwitch:bt}){const Ut=He.stackId;bt&&void 0!==Ut&&(this.tabBar&&(this.tabBar.selectedTab=Ut),this.ionTabsDidChange.emit({tab:Ut}))}select(He){const bt="string"==typeof He,Ut=bt?He:He.detail.tab,an=this.outlet.getActiveStackId()===Ut,hn=`${this.outlet.tabsPrefix}/${Ut}`;if(bt||He.stopPropagation(),an){const An=this.outlet.getActiveStackId(),Bn=this.outlet.getLastRouteView(An);if((null==Bn?void 0:Bn.url)===hn)return;const Qn=this.outlet.getRootView(Ut);return this.navCtrl.navigateRoot(hn,{...Qn&&hn===Qn.url&&Qn.savedExtras,animated:!0,animationDirection:"back"})}{const An=this.outlet.getLastRouteView(Ut);return this.navCtrl.navigateRoot((null==An?void 0:An.url)||hn,{...null==An?void 0:An.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(He=>{const bt=He.el.getAttribute("slot");bt!==this.tabBarSlot&&(this.tabBarSlot=bt,this.relocateTabBar())})}relocateTabBar(){const He=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(He):this.tabsInner.nativeElement.after(He)}}return Ee=Ue,(0,I.A)(Ue,"\u0275fac",function(He){return new(He||Ee)(pe.rXU(st))}),(0,I.A)(Ue,"\u0275dir",pe.FsC({type:Ee,selectors:[["ion-tabs"]],viewQuery:function(He,bt){if(1&He&&pe.GBs(re,7,pe.aKT),2&He){let Ut;pe.mGM(Ut=pe.lsd())&&(bt.tabsInner=Ut.first)}},hostBindings:function(He,bt){1&He&&pe.bIt("ionTabButtonClick",function(an){return bt.select(an)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),Ue})();const L=Ee=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ee):setTimeout(Ee);let V=(()=>{var Ee;class Ue{constructor(He,bt){(0,I.A)(this,"injector",void 0),(0,I.A)(this,"elementRef",void 0),(0,I.A)(this,"onChange",()=>{}),(0,I.A)(this,"onTouched",()=>{}),(0,I.A)(this,"lastValue",void 0),(0,I.A)(this,"statusChanges",void 0),this.injector=He,this.elementRef=bt}writeValue(He){this.elementRef.nativeElement.value=this.lastValue=He,Z(this.elementRef)}handleValueChange(He,bt){He===this.elementRef.nativeElement&&(bt!==this.lastValue&&(this.lastValue=bt,this.onChange(bt)),Z(this.elementRef))}_handleBlurEvent(He){He===this.elementRef.nativeElement&&(this.onTouched(),Z(this.elementRef))}registerOnChange(He){this.onChange=He}registerOnTouched(He){this.onTouched=He}setDisabledState(He){this.elementRef.nativeElement.disabled=He}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let He;try{He=this.injector.get(P.vO)}catch{}if(!He)return;He.statusChanges&&(this.statusChanges=He.statusChanges.subscribe(()=>Z(this.elementRef)));const bt=He.control;bt&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(an=>{if(typeof bt[an]<"u"){const hn=bt[an].bind(bt);bt[an]=(...An)=>{hn(...An),Z(this.elementRef)}}})}}return Ee=Ue,(0,I.A)(Ue,"\u0275fac",function(He){return new(He||Ee)(pe.rXU(pe.zZn),pe.rXU(pe.aKT))}),(0,I.A)(Ue,"\u0275dir",pe.FsC({type:Ee,hostBindings:function(He,bt){1&He&&pe.bIt("ionBlur",function(an){return bt._handleBlurEvent(an.target)})}})),Ue})();const Z=Ee=>{L(()=>{const Ue=Ee.nativeElement,at=null!=Ue.value&&Ue.value.toString().length>0,He=X(Ue);se(Ue,He);const bt=Ue.closest("ion-item");bt&&se(bt,at?[...He,"item-has-value"]:He)})},X=Ee=>{const Ue=Ee.classList,at=[];for(let He=0;He<Ue.length;He++){const bt=Ue.item(He);null!==bt&&Pe(bt,"ng-")&&at.push(`ion-${bt.substring(3)}`)}return at},se=(Ee,Ue)=>{const at=Ee.classList;at.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),at.add(...Ue)},Pe=(Ee,Ue)=>Ee.substring(0,Ue.length)===Ue;class Ne{shouldDetach(Ue){return!1}shouldAttach(Ue){return!1}store(Ue,at){}retrieve(Ue){return null}shouldReuseRoute(Ue,at){if(Ue.routeConfig!==at.routeConfig)return!1;const He=Ue.params,bt=at.params,Ut=Object.keys(He),an=Object.keys(bt);if(Ut.length!==an.length)return!1;for(const hn of Ut)if(bt[hn]!==He[hn])return!1;return!0}}class ut{constructor(Ue){(0,I.A)(this,"ctrl",void 0),this.ctrl=Ue}create(Ue){return this.ctrl.create(Ue||{})}dismiss(Ue,at,He){return this.ctrl.dismiss(Ue,at,He)}getTop(){return this.ctrl.getTop()}}},5374:(En,qt,me)=>{"use strict";me.d(qt,{hG:()=>Vr,hB:()=>w,xk:()=>J,YH:()=>ne,U1:()=>H,mC:()=>G,el:()=>Ut,In:()=>le,Jm:()=>P,QW:()=>re,b_:()=>ge,I9:()=>Te,ME:()=>Ge,HW:()=>qe,tN:()=>ht,eY:()=>ze,ZB:()=>st,hU:()=>lt,W9:()=>Be,A9:()=>Qe,M0:()=>Ct,lO:()=>sn,eU:()=>$t,iq:()=>un,$w:()=>fn,uz:()=>ln,Dg:()=>Vt,he:()=>_t,nf:()=>Ft,AF:()=>Wt,T6:()=>yr,Sb:()=>Bn,CF:()=>Qn,KO:()=>xt,f0:()=>Jt,Rg:()=>He,ln:()=>Tn,Nm:()=>je,Ip:()=>D,Jq:()=>Z,qW:()=>X,p4:()=>bt,BC:()=>ut,BY:()=>Ue,ai:()=>at,bv:()=>vi,Xi:()=>eo,W3:()=>ko,su:()=>R,Je:()=>E,Gw:()=>M});var O=me(9842),I=me(3953),pe=me(4341),mt=me(3656),o=me(1635),ie=me(3726),$=me(177),v=me(9858),b=me(617),y=me(467),C=me(8393);const s=me(4921).i,l=function(){var be=(0,y.A)(function*(We,dt){if(!(typeof window>"u"))return yield s(),(0,C.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),dt)});return function(dt,Se){return be.apply(this,arguments)}}(),a=["*"],d=["outletContent"],c=["outlet"],u=[[["","slot","top"]],"*"],h=["[slot=top]","*"];function p(be,We){if(1&be&&(I.j41(0,"div",1),I.eu8(1,2),I.k0s()),2&be){const dt=I.XpG();I.R7$(),I.Y8G("ngTemplateOutlet",dt.template)}}function m(be,We){if(1&be&&I.eu8(0,1),2&be){const dt=I.XpG();I.Y8G("ngTemplateOutlet",dt.template)}}let w=(()=>{var be;class We extends mt.fL{constructor(Se,vt){super(Se,vt)}writeValue(Se){this.elementRef.nativeElement.checked=this.lastValue=Se,(0,mt.z3)(this.elementRef)}_handleIonChange(Se){this.handleValueChange(Se,Se.checked)}}return be=We,(0,O.A)(We,"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.zZn),I.rXU(I.aKT))}),(0,O.A)(We,"\u0275dir",I.FsC({type:be,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(Se,vt){1&Se&&I.bIt("ionChange",function(fr){return vt._handleIonChange(fr.target)})},features:[I.Jv_([{provide:pe.kq,useExisting:be,multi:!0}]),I.Vt3]})),We})(),R=(()=>{var be;class We extends mt.fL{constructor(Se,vt){super(Se,vt),(0,O.A)(this,"el",void 0),this.el=vt}handleInputEvent(Se){this.handleValueChange(Se,Se.value)}registerOnChange(Se){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?vt=>{Se(""===vt?null:parseFloat(vt))}:Se)}}return be=We,(0,O.A)(We,"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.zZn),I.rXU(I.aKT))}),(0,O.A)(We,"\u0275dir",I.FsC({type:be,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(Se,vt){1&Se&&I.bIt("ionInput",function(fr){return vt.handleInputEvent(fr.target)})},features:[I.Jv_([{provide:pe.kq,useExisting:be,multi:!0}]),I.Vt3]})),We})(),E=(()=>{var be;class We extends mt.fL{constructor(Se,vt){super(Se,vt)}_handleChangeEvent(Se){this.handleValueChange(Se,Se.value)}}return be=We,(0,O.A)(We,"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.zZn),I.rXU(I.aKT))}),(0,O.A)(We,"\u0275dir",I.FsC({type:be,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(Se,vt){1&Se&&I.bIt("ionChange",function(fr){return vt._handleChangeEvent(fr.target)})},features:[I.Jv_([{provide:pe.kq,useExisting:be,multi:!0}]),I.Vt3]})),We})(),M=(()=>{var be;class We extends mt.fL{constructor(Se,vt){super(Se,vt)}_handleInputEvent(Se){this.handleValueChange(Se,Se.value)}}return be=We,(0,O.A)(We,"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.zZn),I.rXU(I.aKT))}),(0,O.A)(We,"\u0275dir",I.FsC({type:be,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(Se,vt){1&Se&&I.bIt("ionInput",function(fr){return vt._handleInputEvent(fr.target)})},features:[I.Jv_([{provide:pe.kq,useExisting:be,multi:!0}]),I.Vt3]})),We})();const A=(be,We)=>{const dt=be.prototype;We.forEach(Se=>{Object.defineProperty(dt,Se,{get(){return this.el[Se]},set(vt){this.z.runOutsideAngular(()=>this.el[Se]=vt)},configurable:!0})})},B=(be,We)=>{const dt=be.prototype;We.forEach(Se=>{dt[Se]=function(){const vt=arguments;return this.z.runOutsideAngular(()=>this.el[Se].apply(this.el,vt))}})},j=(be,We,dt)=>{dt.forEach(Se=>be[Se]=(0,ie.R)(We,Se))};function k(be){return function(dt){const{defineCustomElementFn:Se,inputs:vt,methods:Qt}=be;return void 0!==Se&&Se(),vt&&A(dt,vt),Qt&&B(dt,Qt),dt}}let J=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],We),We})(),ne=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement,j(this,this.el,["ionChange"])}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],We),We})(),H=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-app"]],ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({})],We),We})(),G=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-avatar"]],ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({})],We),We})(),le=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","mode"]})],We),We})(),P=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement,j(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],We),We})(),re=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["collapse"]})],We),We})(),ge=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],We),We})(),Te=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["mode"]})],We),We})(),Ge=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","mode","translucent"]})],We),We})(),qe=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","mode"]})],We),We})(),ht=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","mode"]})],We),We})(),ze=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement,j(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","mode","name","value"]})],We),We})(),st=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","disabled","mode","outline"]})],We),We})(),lt=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],We),We})(),Be=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement,j(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],We),We})(),Qe=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement,j(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],We),We})(),Ct=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["collapse","mode","translucent"]})],We),We})(),sn=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["fixed"]})],We),We})(),$t=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["collapse","mode","translucent"]})],We),We})(),un=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],We),We})(),fn=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement,j(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],We),We})(),ln=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],We),We})(),Vt=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","mode","sticky"]})],We),We})(),_t=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","mode","position"]})],We),We})(),Ft=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],We),We})(),Wt=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","lines","mode"]})],We),We})(),xt=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement,j(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],We),We})(),Jt=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement,j(this,this.el,["ionChange"])}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["allowEmptySelection","compareWith","name","value"]})],We),We})(),Tn=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-row"]],ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({})],We),We})(),je=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement,j(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],We),We})(),D=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["disabled","value"]})],We),We})(),Z=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","mode","selectedTab","translucent"]})],We),We})(),X=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],We),We})(),ut=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","size"]})],We),We})(),Ue=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement,j(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","mode","name","value"]})],We),We})(),at=(()=>{var be;let We=((0,O.A)(be=class{constructor(Se,vt,Qt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=Qt,Se.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Se){return new(Se||be)(I.rXU(I.gRc),I.rXU(I.aKT),I.rXU(I.SKi))}),(0,O.A)(be,"\u0275cmp",I.VBU({type:be,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),be);return We=(0,o.Cg)([k({inputs:["color","mode"]})],We),We})(),He=(()=>{var be;class We extends mt.Rg{constructor(Se,vt,Qt,fr,Gr,mo,ti,Yo){super(Se,vt,Qt,fr,Gr,mo,ti,Yo),(0,O.A)(this,"parentOutlet",void 0),(0,O.A)(this,"outletContent",void 0),this.parentOutlet=Yo}}return be=We,(0,O.A)(We,"\u0275fac",function(Se){return new(Se||be)(I.kS0("name"),I.kS0("tabs"),I.rXU($.aZ),I.rXU(I.aKT),I.rXU(v.Ix),I.rXU(I.SKi),I.rXU(v.nX),I.rXU(be,12))}),(0,O.A)(We,"\u0275cmp",I.VBU({type:be,selectors:[["ion-router-outlet"]],viewQuery:function(Se,vt){if(1&Se&&I.GBs(d,7,I.c1b),2&Se){let Qt;I.mGM(Qt=I.lsd())&&(vt.outletContent=Qt.first)}},features:[I.Vt3],ngContentSelectors:a,decls:3,vars:0,consts:[["outletContent",""]],template:function(Se,vt){1&Se&&(I.NAR(),I.qex(0,null,0),I.SdG(2),I.bVm())},encapsulation:2})),We})(),bt=(()=>{var be;class We extends mt.p4{constructor(...Se){super(...Se),(0,O.A)(this,"outlet",void 0),(0,O.A)(this,"tabBar",void 0),(0,O.A)(this,"tabBars",void 0)}}return be=We,(0,O.A)(We,"\u0275fac",(()=>{let dt;return function(vt){return(dt||(dt=I.xGo(be)))(vt||be)}})()),(0,O.A)(We,"\u0275cmp",I.VBU({type:be,selectors:[["ion-tabs"]],contentQueries:function(Se,vt,Qt){if(1&Se&&(I.wni(Qt,Z,5),I.wni(Qt,Z,4)),2&Se){let fr;I.mGM(fr=I.lsd())&&(vt.tabBar=fr.first),I.mGM(fr=I.lsd())&&(vt.tabBars=fr)}},viewQuery:function(Se,vt){if(1&Se&&I.GBs(c,5,He),2&Se){let Qt;I.mGM(Qt=I.lsd())&&(vt.outlet=Qt.first)}},features:[I.Vt3],ngContentSelectors:h,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(Se,vt){if(1&Se){const Qt=I.RV6();I.NAR(u),I.SdG(0),I.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),I.bIt("stackWillChange",function(Gr){return I.eBV(Qt),I.Njj(vt.onStackWillChange(Gr))})("stackDidChange",function(Gr){return I.eBV(Qt),I.Njj(vt.onStackDidChange(Gr))}),I.k0s()(),I.SdG(5,1)}},dependencies:[He],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),We})(),Ut=(()=>{var be;class We extends mt.el{constructor(Se,vt,Qt,fr,Gr,mo){super(Se,vt,Qt,fr,Gr,mo)}}return be=We,(0,O.A)(We,"\u0275fac",function(Se){return new(Se||be)(I.rXU(He,8),I.rXU(mt.q9),I.rXU(mt.TS),I.rXU(I.aKT),I.rXU(I.SKi),I.rXU(I.gRc))}),(0,O.A)(We,"\u0275cmp",I.VBU({type:be,selectors:[["ion-back-button"]],features:[I.Vt3],ngContentSelectors:a,decls:1,vars:0,template:function(Se,vt){1&Se&&(I.NAR(),I.SdG(0))},encapsulation:2,changeDetection:0})),We})(),Bn=(()=>{var be;class We extends mt.Sb{}return be=We,(0,O.A)(We,"\u0275fac",(()=>{let dt;return function(vt){return(dt||(dt=I.xGo(be)))(vt||be)}})()),(0,O.A)(We,"\u0275cmp",I.VBU({type:be,selectors:[["ion-modal"]],features:[I.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(Se,vt){1&Se&&I.DNE(0,p,2,1,"div",0),2&Se&&I.Y8G("ngIf",vt.isCmpOpen||vt.keepContentsMounted)},dependencies:[$.bT,$.T3],encapsulation:2,changeDetection:0})),We})(),Qn=(()=>{var be;class We extends mt.CF{}return be=We,(0,O.A)(We,"\u0275fac",(()=>{let dt;return function(vt){return(dt||(dt=I.xGo(be)))(vt||be)}})()),(0,O.A)(We,"\u0275cmp",I.VBU({type:be,selectors:[["ion-popover"]],features:[I.Vt3],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(Se,vt){1&Se&&I.DNE(0,m,1,1,"ng-container",0),2&Se&&I.Y8G("ngIf",vt.isCmpOpen||vt.keepContentsMounted)},dependencies:[$.bT,$.T3],encapsulation:2,changeDetection:0})),We})();const Ar={provide:pe.cz,useExisting:(0,I.Rfq)(()=>Dr),multi:!0};let Dr=(()=>{var be;class We extends pe.zX{}return be=We,(0,O.A)(We,"\u0275fac",(()=>{let dt;return function(vt){return(dt||(dt=I.xGo(be)))(vt||be)}})()),(0,O.A)(We,"\u0275dir",I.FsC({type:be,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Se,vt){2&Se&&I.BMQ("max",vt._enabled?vt.max:null)},features:[I.Jv_([Ar]),I.Vt3]})),We})();const Jn={provide:pe.cz,useExisting:(0,I.Rfq)(()=>yr),multi:!0};let yr=(()=>{var be;class We extends pe.VZ{}return be=We,(0,O.A)(We,"\u0275fac",(()=>{let dt;return function(vt){return(dt||(dt=I.xGo(be)))(vt||be)}})()),(0,O.A)(We,"\u0275dir",I.FsC({type:be,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Se,vt){2&Se&&I.BMQ("min",vt._enabled?vt.min:null)},features:[I.Jv_([Jn]),I.Vt3]})),We})(),Vr=(()=>{var be;class We extends mt.Kb{constructor(){super(b.TN)}}return be=We,(0,O.A)(We,"\u0275fac",function(Se){return new(Se||be)}),(0,O.A)(We,"\u0275prov",I.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})),We})(),eo=(()=>{var be;class We extends mt.Kb{constructor(){super(b.FJ)}}return be=We,(0,O.A)(We,"\u0275fac",function(Se){return new(Se||be)}),(0,O.A)(We,"\u0275prov",I.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})),We})(),ko=(()=>{var be;class We extends mt.Kb{constructor(){super(b.OZ),(0,O.A)(this,"angularDelegate",(0,I.WQX)(mt.Yq)),(0,O.A)(this,"injector",(0,I.WQX)(I.zZn)),(0,O.A)(this,"environmentInjector",(0,I.WQX)(I.uvJ))}create(Se){return super.create({...Se,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return be=We,(0,O.A)(We,"\u0275fac",function(Se){return new(Se||be)}),(0,O.A)(We,"\u0275prov",I.jDH({token:be,factory:be.\u0275fac})),We})();class $o extends mt.Kb{constructor(){super(b.mF),(0,O.A)(this,"angularDelegate",(0,I.WQX)(mt.Yq)),(0,O.A)(this,"injector",(0,I.WQX)(I.zZn)),(0,O.A)(this,"environmentInjector",(0,I.WQX)(I.uvJ))}create(We){return super.create({...We,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Vo=(be,We,dt)=>()=>{const Se=We.defaultView;if(Se&&typeof window<"u"){(0,b.QX)({...be,_zoneGate:Qt=>dt.run(Qt)});const vt="__zone_symbol__addEventListener"in We.body?"__zone_symbol__addEventListener":"addEventListener";return function g(){var be=[];if(typeof window<"u"){var We=window;(!We.customElements||We.Element&&(!We.Element.prototype.closest||!We.Element.prototype.matches||!We.Element.prototype.remove||!We.Element.prototype.getRootNode))&&be.push(me.e(7278).then(me.t.bind(me,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||We.NodeList&&!We.NodeList.prototype.forEach||!We.fetch||!function(){try{var Se=new URL("b","http://a");return Se.pathname="c%20d","http://a/c%20d"===Se.href&&Se.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&be.push(me.e(9329).then(me.t.bind(me,7783,23)))}return Promise.all(be)}().then(()=>l(Se,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:mt.er,jmp:Qt=>dt.runOutsideAngular(Qt),ael(Qt,fr,Gr,mo){Qt[vt](fr,Gr,mo)},rel(Qt,fr,Gr,mo){Qt.removeEventListener(fr,Gr,mo)}}))}};let vi=(()=>{var be;class We{static forRoot(Se={}){return{ngModule:We,providers:[{provide:mt.sR,useValue:Se},{provide:I.hnV,useFactory:Vo,multi:!0,deps:[mt.sR,$.qQ,I.SKi]},mt.Yq,(0,mt.YV)()]}}}return be=We,(0,O.A)(We,"\u0275fac",function(Se){return new(Se||be)}),(0,O.A)(We,"\u0275mod",I.$C({type:be})),(0,O.A)(We,"\u0275inj",I.G2t({providers:[ko,$o],imports:[$.MD]})),We})()},467:(En,qt,me)=>{"use strict";function O(pe,mt,o,ie,$,v,b){try{var g=pe[v](b),y=g.value}catch(C){return void o(C)}g.done?mt(y):Promise.resolve(y).then(ie,$)}function I(pe){return function(){var mt=this,o=arguments;return new Promise(function(ie,$){var v=pe.apply(mt,o);function b(y){O(v,ie,$,b,g,"next",y)}function g(y){O(v,ie,$,b,g,"throw",y)}b(void 0)})}}me.d(qt,{A:()=>I})},9842:(En,qt,me)=>{"use strict";function O(o){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ie){return typeof ie}:function(ie){return ie&&"function"==typeof Symbol&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie})(o)}function mt(o,ie,$){return(ie=function pe(o){var ie=function I(o,ie){if("object"!=O(o)||!o)return o;var $=o[Symbol.toPrimitive];if(void 0!==$){var v=$.call(o,ie||"default");if("object"!=O(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ie?String:Number)(o)}(o,"string");return"symbol"==O(ie)?ie:ie+""}(ie))in o?Object.defineProperty(o,ie,{value:$,enumerable:!0,configurable:!0,writable:!0}):o[ie]=$,o}me.d(qt,{A:()=>mt})},1635:(En,qt,me)=>{"use strict";function o(H,G,K,le){var P,Oe=arguments.length,Y=Oe<3?G:null===le?le=Object.getOwnPropertyDescriptor(G,K):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(H,G,K,le);else for(var re=H.length-1;re>=0;re--)(P=H[re])&&(Y=(Oe<3?P(Y):Oe>3?P(G,K,Y):P(G,K))||Y);return Oe>3&&Y&&Object.defineProperty(G,K,Y),Y}function C(H,G,K,le){return new(K||(K=Promise))(function(Y,P){function re(Ge){try{Te(le.next(Ge))}catch(qe){P(qe)}}function ge(Ge){try{Te(le.throw(Ge))}catch(qe){P(qe)}}function Te(Ge){Ge.done?Y(Ge.value):function Oe(Y){return Y instanceof K?Y:new K(function(P){P(Y)})}(Ge.value).then(re,ge)}Te((le=le.apply(H,G||[])).next())})}function p(H){return this instanceof p?(this.v=H,this):new p(H)}function m(H,G,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,le=K.apply(H,G||[]),Y=[];return Oe={},re("next"),re("throw"),re("return",function P(ze){return function(st){return Promise.resolve(st).then(ze,qe)}}),Oe[Symbol.asyncIterator]=function(){return this},Oe;function re(ze,st){le[ze]&&(Oe[ze]=function(lt){return new Promise(function(Be,Qe){Y.push([ze,lt,Be,Qe])>1||ge(ze,lt)})},st&&(Oe[ze]=st(Oe[ze])))}function ge(ze,st){try{!function Te(ze){ze.value instanceof p?Promise.resolve(ze.value.v).then(Ge,qe):ht(Y[0][2],ze)}(le[ze](st))}catch(lt){ht(Y[0][3],lt)}}function Ge(ze){ge("next",ze)}function qe(ze){ge("throw",ze)}function ht(ze,st){ze(st),Y.shift(),Y.length&&ge(Y[0][0],Y[0][1])}}function R(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,G=H[Symbol.asyncIterator];return G?G.call(H):(H=function a(H){var G="function"==typeof Symbol&&Symbol.iterator,K=G&&H[G],le=0;if(K)return K.call(H);if(H&&"number"==typeof H.length)return{next:function(){return H&&le>=H.length&&(H=void 0),{value:H&&H[le++],done:!H}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(H),K={},le("next"),le("throw"),le("return"),K[Symbol.asyncIterator]=function(){return this},K);function le(Y){K[Y]=H[Y]&&function(P){return new Promise(function(re,ge){!function Oe(Y,P,re,ge){Promise.resolve(ge).then(function(Te){Y({value:Te,done:re})},P)}(re,ge,(P=H[Y](P)).done,P.value)})}}}me.d(qt,{AQ:()=>m,Cg:()=>o,N3:()=>p,sH:()=>C,xN:()=>R}),"function"==typeof SuppressedError&&SuppressedError}},En=>{En(En.s=3419)}]);